
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ZYPLJ/p/18897174" title="å‘å¸ƒäº 2025-05-26 17:29">
    <span role="heading" aria-level="2">ç®€å•è¯´è¯´C#ä¸­å§”æ‰˜çš„ä½¿ç”¨-01</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç®€å•è¯´è¯´cä¸­å§”æ‰˜çš„ä½¿ç”¨-01">ç®€å•è¯´è¯´C#ä¸­å§”æ‰˜çš„ä½¿ç”¨-01</h1>
<h2 id="å‰è¨€">ğŸ“‘å‰è¨€</h2>
<p>è·ç¦»ä¸Šæ¬¡æ›´æ–°æ–‡ç« ï¼Œå·²ç»è¿‡å»...æœˆäº†ã€‚</p>
<p>æ²¡æ›´æ–°æ–‡ç« çš„ä¸»è¦åŸå› ï¼Œä¸»è¦æ˜¯å› ä¸ºå‚åŠ å·¥ä½œåï¼Œæ„Ÿè§‰æ€ç»´æ²¡æœ‰ä¸Šå­¦é‚£ä¼šæ´»è·ƒï¼Œå†™æ–‡ç« æ²¡æœ‰æ€ç»ªã€‚å†å°±æ˜¯ä¸Šç­çš„æ—¶å€™æŠŠç²¾åŠ›ç”¨å…‰äº†ï¼Œä¸‹ç­ååªé¡¾ç€æ‰“æ¸¸æˆğŸ®ï¼Œæ²¡æœ‰æ¢å¤ç²¾åŠ›å’Œå­¦ä¹ ğŸ“šã€‚</p>
<p>åœ¨å…¬å¸ç½‘ä¸Šå†²æµªğŸ„çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†ä¸€ç¯‡è®²è§£<code>C#</code>å§”æ‰˜çš„æ–‡ç« ï¼Œæ–‡ç« ä¸­æè¿°å§”æ‰˜çš„ä½¿ç”¨ï¼Œé€‰æ‹©çš„ä¾‹å­å¾ˆä¸é”™(é“¾æ¥åœ¨æ–‡æœ«)ã€‚åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘å†™çš„æœ€å¤šçš„å°±æ˜¯CRUDäº†ï¼Œä»–è¿™ç¯‡æ–‡ç« ä½¿ç”¨çš„æ˜¯å¯¼å‡ºexcelçš„ä¾‹å­ã€‚</p>
<p>å¹³æ—¶å¼€å‘ä¸­ï¼Œæˆ‘ä¹Ÿå†™è¿‡excelå¯¼å‡ºçš„åŠŸèƒ½ï¼Œä½†æ˜¯å¥½åƒå¹¶æ²¡æœ‰ç”¨åˆ°å§”æ‰˜ã€‚ç»è¿‡æˆ‘çš„è¯¦ç»†åå¤é˜…è¯»ä¹‹åï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« æˆ‘å°±ç”¨å¦å¤–ä¸€ä¸ªä¾‹å­æè¿°ä¸‹å¦‚ä½•åœ¨<code>C#</code>ä¸­ä½¿ç”¨å§”æ‰˜ã€‚</p>
<h2 id="å§”æ‰˜ç®€è¿°">ğŸ“–å§”æ‰˜ç®€è¿°</h2>
<p>åœ¨C#ä¸­ï¼Œå§”æ‰˜ï¼ˆDelegateï¼‰æ˜¯ä¸€ç§ç±»å‹ï¼Œå®ƒå®šä¹‰äº†æ–¹æ³•çš„ç±»å‹ï¼Œä½¿å¾—å¯ä»¥å°†æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ é€’æˆ–ä½œä¸ºè¿”å›å€¼ã€‚</p>
<h2 id="å§”æ‰˜ä½¿ç”¨">âœ¨å§”æ‰˜ä½¿ç”¨</h2>
<h3 id="ä¾‹å­">ä¾‹å­</h3>
<blockquote>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè®¢å•ç³»ç»Ÿï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„ä¿ƒé”€ç­–ç•¥è®¡ç®—è®¢å•çš„æœ€ç»ˆä»·æ ¼ã€‚ä¸åŒçš„ä¿ƒé”€ç­–ç•¥å¯èƒ½æ˜¯ï¼š</p>
<ol>
<li>å›ºå®šæŠ˜æ‰£ï¼ˆå‡ 10 å…ƒï¼‰ã€‚</li>
<li>ç™¾åˆ†æ¯”æŠ˜æ‰£ï¼ˆæ‰“ 8 æŠ˜ï¼‰ã€‚</li>
<li>æ»¡å‡ä¼˜æƒ ï¼ˆæ»¡ 100 å‡ 20ï¼‰ã€‚</li>
</ol>
<p>æˆ‘ä»¬å¸Œæœ›é€šè¿‡å§”æ‰˜åŠ¨æ€ä¼ é€’è¿™äº›ç­–ç•¥ï¼Œè€Œä¸æ˜¯å†™æ­»é€»è¾‘ã€‚</p>
</blockquote>
<h3 id="åšä¸»å†™æ³•">åšä¸»å†™æ³•</h3>
<pre><code class="language-c#">public static void Main()
{
    // å‡è®¾è®¢å•çš„åŸä»·ä¸º 100 å…ƒ
    decimal price = 100;

    // å‡è®¾ä¿ƒé”€ç±»å‹ä¸º "Fixed"
    string type = "Fixed";

    // è®¡ç®—è®¢å•çš„æœ€ç»ˆä»·æ ¼
    decimal finalPrice = ProcessOrder(price, type);

    // è¾“å‡ºæœ€ç»ˆä»·æ ¼
    Console.WriteLine("Final price: " + finalPrice);
}

private static decimal ProcessOrder(decimal price, string type)
{
    if (type == "Fixed")
        return price - 10;
    else if (type == "Percentage")
        return price * 0.8m;
    else
        return price;
}
</code></pre>
<p><font size="1">å¤ªä¼˜é›…äº†~</font></p>
<h3 id="å§”æ‰˜å†™æ³•">å§”æ‰˜å†™æ³•</h3>
<h4 id="ç¬¬ä¸€æ­¥å®šä¹‰å§”æ‰˜ç±»å‹">ç¬¬ä¸€æ­¥ï¼šå®šä¹‰å§”æ‰˜ç±»å‹</h4>
<pre><code class="language-C#">// å§”æ‰˜ç±»å‹ï¼šè¾“å…¥è®¢å•é‡‘é¢ï¼ˆdecimalï¼‰ï¼Œè¿”å›æŠ˜æ‰£åçš„é‡‘é¢ï¼ˆdecimalï¼‰
public delegate decimal DiscountStrategy(decimal originalPrice);
</code></pre>
<h4 id="ç¬¬äºŒæ­¥å®ç°å…·ä½“æŠ˜æ‰£æ–¹æ³•">ç¬¬äºŒæ­¥ï¼šå®ç°å…·ä½“æŠ˜æ‰£æ–¹æ³•</h4>
<p>ä¸ºæ¯ç§ä¿ƒé”€ç­–ç•¥å†™ä¸€ä¸ªåŒ¹é…å§”æ‰˜ç­¾åçš„æ–¹æ³•ï¼š</p>
<pre><code class="language-c#">// å›ºå®šæŠ˜æ‰£ï¼ˆå‡ 10 å…ƒï¼‰
public static decimal FixedDiscount(decimal originalPrice)
{
	return originalPrice - 10;
}
// ç™¾åˆ†æ¯”æŠ˜æ‰£ï¼ˆæ‰“ 8 æŠ˜ï¼‰
public static decimal PercentageDiscount(decimal originalPrice)
{
	return originalPrice * 0.8m;
}
// æ»¡å‡ä¼˜æƒ ï¼ˆæ»¡ 100 å‡ 20ï¼‰
public static decimal ThresholdDiscount(decimal originalPrice)
{
	if (originalPrice &gt;= 100)
	{
		return originalPrice - 20;
	}
	return originalPrice;
}
</code></pre>
<h4 id="ç¬¬ä¸‰æ­¥ä½¿ç”¨å§”æ‰˜ä¼ é€’æ–¹æ³•">ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨å§”æ‰˜ä¼ é€’æ–¹æ³•</h4>
<p>æ–°å»ºè®¢å•ç±»ï¼Œæ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„æŠ˜æ‰£ç­–ç•¥ï¼š</p>
<pre><code class="language-c#">public class OrderProcessor
{
    // æ–¹æ³•ï¼šè®¡ç®—è®¢å•æœ€ç»ˆä»·æ ¼ï¼Œæ¥æ”¶ä¸€ä¸ªå§”æ‰˜å‚æ•°
    public decimal ProcessOrder(decimal originalPrice, DiscountStrategy discountStrategy)
    {
        // è°ƒç”¨å§”æ‰˜ï¼Œè‡ªåŠ¨æ‰§è¡Œä¼ å…¥çš„ç­–ç•¥æ–¹æ³•
        return discountStrategy(originalPrice);
    }
}
</code></pre>
<h4 id="ç¬¬å››æ­¥è°ƒç”¨">ç¬¬å››æ­¥ï¼šè°ƒç”¨</h4>
<pre><code class="language-c#">public static void Main()
{
	var processor = new OrderProcessor();
	// é€‰æ‹©ç­–ç•¥
	DiscountStrategy currentStrategy = PercentageDiscount;

	// è®¡ç®—ä»·æ ¼
	decimal finalPrice = processor.ProcessOrder(100, currentStrategy);
	Console.WriteLine($"ç™¾åˆ†æ¯”æŠ˜æ‰£åä»·æ ¼ï¼š{finalPrice}");
}
</code></pre>
<h4 id="è¾“å‡ºç»“æœ">è¾“å‡ºç»“æœ</h4>
<p><img src="https://img2024.cnblogs.com/blog/3091176/202505/3091176-20250526172250017-1499353730.png" alt="image" loading="lazy"></p>
<h3 id="è¿›é˜¶å§”æ‰˜å†™æ³•">è¿›é˜¶å§”æ‰˜å†™æ³•</h3>
<p>ä½¿ç”¨ <code>Func/Action</code> å®ç°å§”æ‰˜</p>
<h4 id="ç¬¬ä¸€æ­¥ä½¿ç”¨-funcdecimal-decimal-å®šä¹‰æ›¿ä»£delegateå§”æ‰˜">ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨ <code>Func&lt;decimal, decimal&gt;</code> å®šä¹‰æ›¿ä»£<code>delegate</code>å§”æ‰˜</h4>
<pre><code class="language-c#">// ä¸éœ€è¦å®šä¹‰ delegateï¼Œç›´æ¥ç”¨ Func&lt;è¾“å…¥å‚æ•°ç±»å‹, è¿”å›å€¼ç±»å‹&gt;
public class OrderProcessor
{
    // æ¥æ”¶ Func&lt;decimal, decimal&gt; ä½œä¸ºæŠ˜æ‰£ç­–ç•¥
    public decimal ProcessOrder(decimal originalPrice, Func&lt;decimal, decimal&gt; discountStrategy)
    {
        return discountStrategy(originalPrice);
    }
}
</code></pre>
<h4 id="ç¬¬äºŒæ­¥æ— éœ€ä¿®æ”¹">ç¬¬äºŒæ­¥ï¼šæ— éœ€ä¿®æ”¹</h4>
<h4 id="ç¬¬ä¸‰æ­¥è°ƒç”¨">ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨</h4>
<pre><code class="language-C#">public static void Main()
{
	var processor = new OrderProcessor();

	// æ–¹å¼ 1ï¼šç›´æ¥ä¼ å…¥å…·åæ–¹æ³•
	decimal price1 = processor.ProcessOrder(50, FixedDiscount);

	// æ–¹å¼ 2ï¼šç”¨ Lambda è¡¨è¾¾å¼
	decimal price2 = processor.ProcessOrder(100, price =&gt; price * 0.5m); 

	Console.WriteLine($"ä»·æ ¼ 1ï¼š{price1}");
	Console.WriteLine($"ä»·æ ¼ 2ï¼š{price2}");
}
</code></pre>
<h4 id="è¾“å‡ºç»“æœ-1">è¾“å‡ºç»“æœ</h4>
<p><img src="https://img2024.cnblogs.com/blog/3091176/202505/3091176-20250526172304352-213167465.png" alt="image" loading="lazy"></p>
<h2 id="æ€»ç»“">ğŸ“•æ€»ç»“</h2>
<p>å§”æ‰˜é€‚ç”¨äºä»»ä½•éœ€è¦ä¼ é€’æ–¹æ³•çš„åœ°æ–¹ï¼ˆå¦‚å›è°ƒã€ç­–ç•¥æ¨¡å¼ã€äº‹ä»¶å¤„ç†ï¼‰ã€‚</p>
<p>ç”¨<strong><code>delegate</code></strong>å…³é”®å­—å£°æ˜å§”æ‰˜ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<strong><code>Func</code>/<code>Action</code> + Lambda</strong>æ–¹å¼ã€‚</p>
<p><em>æœ¬æ–‡æœ‰è¯¯åœ°æ–¹æ¬¢è¿æŒ‡æ­£~</em></p>
<p>ğŸ”—å‚è€ƒé“¾æ¥</p>
<ul>
<li>C# å§”æ‰˜ <a href="https://www.cnblogs.com/ysmc/p/18800819" target="_blank">https://www.cnblogs.com/ysmc/p/18800819</a></li>
<li><code>deepseek</code> <a href="https://chat.deepseek.com/" target="_blank" rel="noopener nofollow">https://chat.deepseek.com/</a></li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="11.370116658172453" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-26 17:30">2025-05-26 17:29</span>&nbsp;
<a href="https://www.cnblogs.com/ZYPLJ">å¦™å¦™å±‹ï¼ˆzyï¼‰</a>&nbsp;
é˜…è¯»(<span id="post_view_count">406</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18897174);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18897174', targetLink: 'https://www.cnblogs.com/ZYPLJ/p/18897174', title: 'ç®€å•è¯´è¯´C#ä¸­å§”æ‰˜çš„ä½¿ç”¨-01' })">ä¸¾æŠ¥</a>
</div>
        