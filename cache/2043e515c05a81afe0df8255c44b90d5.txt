
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhaoziye/p/19057674" title="发布于 2025-08-25 20:27">
    <span role="heading" aria-level="2">2133D-Chicken Jockey</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="简化题意">简化题意</h1>
<p>从下到上有一排小鸡叠起来，他们的生命值依次为<span class="math inline">\(h_1,h_2,...,h_n\)</span>，现在史蒂夫要将他们消灭，史蒂夫每次可以选择任意一只小鸡进行挥刀，使它生命值<span class="math inline">\(-1\)</span>,如果这只小鸡的生命值为<span class="math inline">\(0\)</span>，它会消失，并且它上方的一叠小鸡会落在旁边（依然按照原先的顺序叠起来），此时最下方的小鸡会受到坠落高度的伤害，如果这只小鸡的生命值为<span class="math inline">\(0\)</span>，它会消失，并且它上方的一叠小鸡...<br>直到所有小鸡消失。</p>
<h1 id="思路">思路</h1>
<p>1.每只小鸡最多受到跌落伤害一次。当它跌落后，它会位于底层。看了官方的题解后，我想到可以自顶向下的考虑，先考虑史蒂夫是否要把次顶端的小鸡砍死，使最顶端的小鸡受到最大跌落伤害，同时保留了它下面的小鸡的位置不变，这样可以使他们的跌落伤害最大化，在考虑次顶，...<br>
2.考虑<span class="math inline">\(dp\)</span>,<span class="math inline">\(dp_i\)</span>表示史蒂夫砍死<span class="math inline">\(1~i\)</span>只小鸡所需要最小的挥刀数，每只小鸡有两种方式，要么受到最大跌落伤害，要么前面全部死亡后受到<span class="math inline">\(1\)</span>点伤害，$$dp_0 = 0, dp_1 = h_1, dp_i = min(dp_{i-1} + h_i - 1, dp_{i-2} + h_{i-1} + max(0, h_i - (i - 1))$$</p>
<h1 id="code">code</h1>
<pre><code>#include &lt;bits/stdc++.h&gt;
using namespace std;

long long t, n, dp[200005], h[200005];

void solve(){
	cin &gt;&gt; n;
	for(int i = 1;i &lt;= n;i++) cin &gt;&gt; h[i];
	for(int i = 1;i &lt;= n;i++) dp[i] = 1e18;
	dp[0] = 0;
	dp[1] = h[1];
	for(long long i = 2;i &lt;= n;i++){
		dp[i] = min(dp[i - 1] + h[i] - 1, dp[i - 2] + h[i - 1] + max(0ll, h[i] - i + 1ll));
	}
	cout&lt;&lt;dp[n]&lt;&lt;'\n';
}

int main()
{
	cin &gt;&gt; t;
	while(t--){
		solve();
	}
	return 0;
 }

</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-08-25 20:27">2025-08-25 20:27</span>&nbsp;
<a href="https://www.cnblogs.com/zhaoziye">赵梓烨</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19057674);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19057674', targetLink: 'https://www.cnblogs.com/zhaoziye/p/19057674', title: '2133D-Chicken Jockey' })">举报</a>
</div>
        