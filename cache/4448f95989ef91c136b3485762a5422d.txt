
        <h2>
            <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiketangedu/p/18661978" title="发布于 2025-01-09 13:29">
    <span role="heading" aria-level="2">上位机能不能替代PLC呢？</span>
    

</a>

        </h2>
        <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h3 data-first-child="">一、前言</h3>
<p data-pid="CvIYpn9Z">大家好！我是付工。</p>
<p data-pid="xYSohAS0">之前有个学员问了这样的一个问题：</p>
<p data-pid="KVJ4G2sD">学会了上位机，是不是就可以不用PLC了呢？</p>
<p data-pid="8A7ByE3_">今天跟大家分享一下上位机能不能代替PLC？</p>
<h3>二、网络架构</h3>
<img src="https://pic4.zhimg.com/80/v2-5cf903e2e2a66cc30d6e5fa924aa900b_720w.webp" width="877" height="645" class="origin_image zh-lightbox-thumb lazy" data-caption="" data-size="normal" data-rawwidth="877" data-rawheight="645" data-original-token="v2-e2512feed2e2f2ffb93f9b6be41109ae" data-original="https://pic4.zhimg.com/v2-5cf903e2e2a66cc30d6e5fa924aa900b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-5cf903e2e2a66cc30d6e5fa924aa900b_1440w.jpg" data-lazy-status="ok">
<p data-pid="nytzN2Gb">首先我们看下这张网络架构图。</p>
<p data-pid="36KI-lqU">从图中可以看到：</p>
<p data-pid="a1V8ixv4">上位机属于过程监控层，PLC属于现场控制层。</p>
<p data-pid="UhcM3CbR">PLC作为下位机，上位机与下位机进行通信，实现整个控制系统的运作。</p>
<p data-pid="dvE_AUZe">因此正常情况下，上位机不是用来替代PLC的。</p>
<p data-pid="y2SzGAua">但是，有些情况下，尤其是在一些运动控制机器视觉的项目场景中，整个项目中并没有使用PLC，那么这个时候，我们能不能通过上位机来实现一些逻辑控制呢</p>
<h3>三、实现原理</h3>
<p data-pid="ehMvL7t6">PLC全称可编程逻辑控制器，主要由输入输出（IO）+ 逻辑控制（程序）+ 外部接口（通信）三部分组成。</p>
<p data-pid="Rve8Iz2e">上位机本身可以实现一定的逻辑控制和外部通信功能，输入输出我们需采用IO采集卡，大部分运动控制卡也自带IO，然后在上位机编写相应的代码来实现逻辑控制即可。</p>
<p data-pid="UyHQ1nou">PLC的实现原理，是通过不断地从上而下，从左而右来扫描PLC程序，同时对接一些IO输入输出。</p>
<p data-pid="-HNyqiS3">通过上位机来实现的话，实现原理与之类似，我们可以通过单独的一个线程来实现扫描，而PLC里的每个指令，我们上位机都可以通过构造对应的类或方法来实现。</p>
<p data-pid="os0S8Bgw">原理其实是相通的，之所以PLC实现逻辑控制比较容易，是因为厂家已经帮我们封装好了很多开箱即用的指令，我们直接调用即可。</p>
<p data-pid="Rk90wpQH">所以，如果我们使用C#上位机做这种逻辑控制比较多，也可以封装一些沿信号检测、延时定时器等一些指令，比如起保停主要就是上升沿检测。</p>
<h3>四、IO采集卡</h3>
<p data-pid="KKnxYqaM">目前市面上有很多IO采集卡，大部分IO采集卡都是通过串口ModbusRTU或者以太网ModbusTCP来实现通信，这种通信效率相对较低。</p>
<p data-pid="2BdIk6OZ">我这里采用的是正运动的IO采集卡，正运动的采集卡也支持ModbusTCP通信，而且通信效率较高，后续可以测试对比一下。</p>
<img src="https://pic1.zhimg.com/80/v2-751d77db161f52bac9b928493d8473fa_720w.webp" width="423" height="291" class="origin_image zh-lightbox-thumb lazy" data-caption="" data-size="normal" data-rawwidth="423" data-rawheight="291" data-original-token="v2-76287f3a3e9e89a89332abe916fd7217" data-original="https://pic1.zhimg.com/v2-751d77db161f52bac9b928493d8473fa_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-751d77db161f52bac9b928493d8473fa_1440w.jpg" data-lazy-status="ok">
<p data-pid="ZtOCE-3f">另外一点就是，如果我们使用过正运动的库，我们也可以通过官方提供的运动控制卡的库来直接对接，这样就不用自己写通信库或者使用第三方通信库了。</p>
<p data-pid="Fyxqcz4v">IO采集卡型号是ECI0032，ECI0032 是正运动技术开发的一款网络 IO 控制卡，采用优化的网络通讯协议可以实现实时的 IO 控制。<br data-filtered="filtered">ECI0032 网络 IO 控制卡支持以太网口，RS232 通讯接口和电脑相连，通过 CAN 总线可以连接各个扩展模块，从而扩展输入输出点数。</p>
<p data-pid="6y2FVscZ">相关参数如下所示：</p>

<img src="https://pic2.zhimg.com/80/v2-73327cf1aa3c7001539ae66f8eb73bd3_720w.webp" width="753" height="120" class="origin_image zh-lightbox-thumb lazy" data-caption="" data-size="normal" data-rawwidth="753" data-rawheight="120" data-original-token="v2-73327cf1aa3c7001539ae66f8eb73bd3" data-original="https://pic2.zhimg.com/v2-73327cf1aa3c7001539ae66f8eb73bd3_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-73327cf1aa3c7001539ae66f8eb73bd3_1440w.jpg" data-lazy-status="ok"><img src="https://pica.zhimg.com/80/v2-db2b9738e5ac12b57541485cb0949ada_720w.webp" width="752" height="257" class="origin_image zh-lightbox-thumb lazy" data-caption="" data-size="normal" data-rawwidth="752" data-rawheight="257" data-original-token="v2-cd0d1819281b018f1cd5c5006b168381" data-original="https://pica.zhimg.com/v2-db2b9738e5ac12b57541485cb0949ada_r.jpg" data-actualsrc="https://pica.zhimg.com/v2-db2b9738e5ac12b57541485cb0949ada_1440w.jpg" data-lazy-status="ok">
<p data-pid="b7LUddcN">ECI0032 板上自带 16 个通用输入口，16 个通用输出口（带过流保护）。</p>
<p data-pid="CO4kYn7W">ECI0032 带 1 个 RS232 串口，1 个以太网接口。</p>
<p data-pid="xW_ya9lN">ECI0032 带一个 CAN 总线接口，通过IO点数不够，可以通过 ZCAN 协议来连接扩展模块和控制器。</p>
<h3>五、实现过程</h3>
<p data-pid="0kfpflzX">基本的接线和配置，我这里就不详细阐述了，这里我将板卡的IP地址改为192.168.2.33。</p>
<p data-pid="_g5fEu0N">通过一个按钮盒接了两个按钮和一个指示灯，分别表示启动、停止和状态显示。</p>

<img src="https://pic4.zhimg.com/80/v2-32e78a8aef8646bf3a6de465d60c0825_720w.webp" width="1080" height="376" class="origin_image zh-lightbox-thumb lazy" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="376" data-original-token="v2-0e6ec2643c9e9635c54f740b64a24a8b" data-original="https://pic4.zhimg.com/v2-32e78a8aef8646bf3a6de465d60c0825_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-32e78a8aef8646bf3a6de465d60c0825_1440w.jpg" data-lazy-status="ok">
<p data-pid="UVAOnwQJ">采用Winform设计一个简单的界面，界面效果如下所示：</p>

<img src="https://pic2.zhimg.com/80/v2-2aca7d39b7bc98023829907fc54ca9ab_720w.webp" width="638" height="219" class="origin_image zh-lightbox-thumb lazy" data-caption="" data-size="normal" data-rawwidth="638" data-rawheight="219" data-original-token="v2-937622ed1031eeb4b78f2deb90286d37" data-original="https://pic2.zhimg.com/v2-2aca7d39b7bc98023829907fc54ca9ab_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-2aca7d39b7bc98023829907fc54ca9ab_1440w.jpg" data-lazy-status="ok">
<p data-pid="b4kHZXv_">当连接上IO卡之后，开启一个多线程循环扫描，读取输入按钮的状态，当检测到启动按钮从False变为True的时候，给输出信号置位，当检测停止按钮从False变成True的时候，给输出信号复位。</p>
<p data-pid="lOcDxHYO">核心代码如下所示：</p>

<img src="https://pic3.zhimg.com/80/v2-dd4fccc40a7699eb759a38495d57f604_720w.webp" width="455" height="336" class="origin_image zh-lightbox-thumb lazy" data-caption="" data-size="normal" data-rawwidth="455" data-rawheight="336" data-original-token="v2-6c8cf64d48fe55f2170be34e8733e2b3" data-original="https://pic3.zhimg.com/v2-dd4fccc40a7699eb759a38495d57f604_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-dd4fccc40a7699eb759a38495d57f604_1440w.jpg" data-lazy-status="ok">
<p data-pid="BvPDyF7w">这个写法有点类似于SCL的逻辑，整体实现效果如下：</p>
<div class="GifPlayer css-1isopsn" data-size="normal" data-za-detail-view-path-module="GifItem"><img src="https://pic3.zhimg.com/v2-d3eaae4c0e0f3d24ca26fb24d595371a_b.jpg" alt="动图封面" width="765" class="ztext-gif GifPlayer-gif2mp4Image" data-thumbnail="https://pic3.zhimg.com/v2-d3eaae4c0e0f3d24ca26fb24d595371a_b.jpg" data-size="normal">
<div class="GifPlayer-icon css-d39tw7">&nbsp;</div>

</div>
<p data-pid="fCqnwXtl">最后总结一下：虽然某些场合，我们可以不使用PLC，通过上位机结合IO采集卡实现一定的逻辑控制，但是并不代表上位机就可以替代PLC。PLC作为目前工业领域使用最广泛的控制器，很多功能是上位机无法替代的。</p>
</div>
<div class="clear"></div>

        <p class="postfoot">
            posted on 
<span id="post-date" data-last-update-days="0.22123240966319443" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-09 13:30">2025-01-09 13:29</span>&nbsp;
<a href="https://www.cnblogs.com/xbdedu">付工上位机</a>&nbsp;
阅读(<span id="post_view_count">231</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18661978" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18661978);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18661978', targetLink: 'https://www.cnblogs.com/xbdedu/p/18661978', title: '上位机能不能替代PLC呢？' })">举报</a>

        </p>
    