
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/adingfirstlove/p/18659325" title="发布于 2025-01-08 11:10">
    <span role="heading" aria-level="2">WPF页面中将一个控件的宽度绑定到其父级用户控件的实际宽度</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			    <div id="cnblogs_post_description" style="display: none">
        
        通常情况下，使用相对宽度（如 * 星号单位）和适当的 HorizontalAlignment 是最简单有效的方法，可以确保子控件随着父控件的大小变化而自动调整。如果需要更精确的控制，可以考虑使用 RelativeSource 绑定或其他高级技术。确保父容器也支持子控件的动态尺寸调整非常重要。
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<div>该实际场景比较常见于，当存在多个用户控件页面拼成一个窗体，因为实际控件对应窗体的宽度并不能确定，也不是那种能指定的宽度或者高度，比如窗体分导航区域和内容区域，左侧导航区域可以直接指定宽度，而右侧内容区域则是使用Auto或者*的宽度。</div>
<div>在WPF中，尝试将一个控件的宽度绑定到其父级用户控件的实际宽度（ActualWidth）时，会遇到一些挑战。因为 ActualWidth和ActualHeight 是只读属性，并且它们是在布局过程之后计算出来的，这可能导致绑定延迟或不更新的问题。为了确保子控件能够正确地响应父控件大小的变化，根据实际情况使用如下方式。</div>
<div>
<div>&nbsp;</div>
<div><span style="font-family: &quot;Microsoft YaHei&quot;; font-size: 18px"><strong>方法1：使用相对宽度和星号单位</strong></span></div>
<div>
<div>最简单的方法是让子控件自动填充可用空间，而不是显式地绑定到父控件的 ActualWidth。可以通过设置子控件的 HorizontalAlignment 属性为 Stretch 或使用在布局Grid的宽度用 * 星号单位来实现这一点。</div>
<div>如下：</div>
<div>
<div class="cnblogs_code">
<pre>&lt;rubyer:Card x:Name=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">cardNotice</span><span style="color: rgba(128, 0, 0, 1)">"</span> Grid.Row=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">1</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
             Height</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">120</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
             Padding</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">5</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
             HorizontalAlignment</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Stretch</span><span style="color: rgba(128, 0, 0, 1)">"</span>  &lt;!-- 设置为 Stretch --&gt;<span style="color: rgba(0, 0, 0, 1)">
             HorizontalContentAlignment</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Center</span><span style="color: rgba(128, 0, 0, 1)">"</span>&gt;
    &lt;!-- Card 内容 --&gt;
&lt;/rubyer:Card&gt;</pre>
</div>
<div>Card内容里部分，可用StackPanel容器包装，StackPanel容器自动适应内部空间的宽度和高度，在结合HorizontalAlignment="Stretch"就可以实现，将rubyer:Card这个控件自动适配宽度和用户控件的宽度一样，当然也需要该rubyer:Card占据用户控件全部的Column。</div>
<div>或：</div>
<div>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Grid </span><span style="color: rgba(255, 0, 0, 1)">x:Name</span><span style="color: rgba(0, 0, 255, 1)">="homeGrid"</span><span style="color: rgba(255, 0, 0, 1)">
      Margin</span><span style="color: rgba(0, 0, 255, 1)">="10"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Grid.ColumnDefinitions</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">ColumnDefinition </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="350"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">ColumnDefinition </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="*"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">Grid.ColumnDefinitions</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Grid.RowDefinitions</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">RowDefinition </span><span style="color: rgba(255, 0, 0, 1)">Height</span><span style="color: rgba(0, 0, 255, 1)">="*"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">RowDefinition </span><span style="color: rgba(255, 0, 0, 1)">Height</span><span style="color: rgba(0, 0, 255, 1)">="5"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">Grid.RowDefinitions</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
 <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">Grid</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<div>&nbsp;</div>
<div><strong><span style="font-size: 18px">方法2：使用 RelativeSource 绑定</span></strong></div>
<div>如果确实需要基于父控件的实际宽度进行绑定，可以尝试使用 RelativeSource 绑定来引用父控件的 ActualWidth。</div>
<div>如下:</div>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">UserControl </span><span style="color: rgba(255, 0, 0, 1)">x:Class</span><span style="color: rgba(0, 0, 255, 1)">="YourNamespace.PlanMoudelView"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns</span><span style="color: rgba(0, 0, 255, 1)">="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:x</span><span style="color: rgba(0, 0, 255, 1)">="http://schemas.microsoft.com/winfx/2006/xaml"</span><span style="color: rgba(255, 0, 0, 1)">
             SizeChanged</span><span style="color: rgba(0, 0, 255, 1)">="PlanMoudelView_SizeChanged"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Grid</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">rubyer:Card </span><span style="color: rgba(255, 0, 0, 1)">x:Name</span><span style="color: rgba(0, 0, 255, 1)">="cardNotice"</span><span style="color: rgba(255, 0, 0, 1)"> Grid.Row</span><span style="color: rgba(0, 0, 255, 1)">="1"</span><span style="color: rgba(255, 0, 0, 1)">
                     Height</span><span style="color: rgba(0, 0, 255, 1)">="120"</span><span style="color: rgba(255, 0, 0, 1)">
                     Width</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=ActualWidth, Mode=OneWay}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                     Padding</span><span style="color: rgba(0, 0, 255, 1)">="5"</span><span style="color: rgba(255, 0, 0, 1)">
                     HorizontalAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Stretch"</span><span style="color: rgba(255, 0, 0, 1)">
                     HorizontalContentAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Center"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 128, 0, 1)">&lt;!--</span><span style="color: rgba(0, 128, 0, 1)"> Card 内容 </span><span style="color: rgba(0, 128, 0, 1)">--&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">rubyer:Card</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">Grid</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">UserControl</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<div>主要为：Width="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=ActualWidth, Mode=OneWay}"</div>
<p>&nbsp;</p>
<div><span style="font-size: 18px"><strong>方法3：使用 SizeChanged 事件处理程序</strong></span></div>
<div>另一种方法是在父控件的 SizeChanged 事件中手动调整子控件的宽度。这种方法适用于更复杂的情况，但通常不是首选，因为 WPF 布局系统应该能够处理大多数场景。</div>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">private</span> <span style="color: rgba(0, 0, 255, 1)">void</span> PlanMoudelView_SizeChanged(<span style="color: rgba(0, 0, 255, 1)">object</span><span style="color: rgba(0, 0, 0, 1)"> sender, SizeChangedEventArgs e)
{
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (cardNotice != <span style="color: rgba(0, 0, 255, 1)">null</span><span style="color: rgba(0, 0, 0, 1)">)
    {
        cardNotice.Width </span>= <span style="color: rgba(0, 0, 255, 1)">this</span>.ActualWidth; <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 'this' 指向 PlanMoudelView</span>
<span style="color: rgba(0, 0, 0, 1)">    }
}</span></pre>
</div>
<div>&nbsp;</div>
<div><span style="font-size: 18px"><strong>方法4：使用 MultiBinding 和转换器</strong></span></div>
<div>如果需要更复杂的逻辑，比如保留一定的边距或比例，可以使用 MultiBinding 结合 IMultiValueConverter 来计算子控件的宽度。</div>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">rubyer:Card </span><span style="color: rgba(255, 0, 0, 1)">x:Name</span><span style="color: rgba(0, 0, 255, 1)">="cardNotice"</span><span style="color: rgba(255, 0, 0, 1)"> Grid.Row</span><span style="color: rgba(0, 0, 255, 1)">="1"</span><span style="color: rgba(255, 0, 0, 1)">
             Height</span><span style="color: rgba(0, 0, 255, 1)">="120"</span><span style="color: rgba(255, 0, 0, 1)">
             Padding</span><span style="color: rgba(0, 0, 255, 1)">="5"</span><span style="color: rgba(255, 0, 0, 1)">
             HorizontalAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Stretch"</span><span style="color: rgba(255, 0, 0, 1)">
             HorizontalContentAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Center"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">rubyer:Card.Width</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">MultiBinding </span><span style="color: rgba(255, 0, 0, 1)">Converter</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource WidthConverter}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Binding </span><span style="color: rgba(255, 0, 0, 1)">RelativeSource</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{RelativeSource AncestorType=UserControl}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)"> Path</span><span style="color: rgba(0, 0, 255, 1)">="ActualWidth"</span><span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Binding </span><span style="color: rgba(255, 0, 0, 1)">Source</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{x:Static sys:Double.NaN}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(0, 0, 255, 1)">/&gt;</span> <span style="color: rgba(0, 128, 0, 1)">&lt;!--</span><span style="color: rgba(0, 128, 0, 1)"> 如果需要额外参数 </span><span style="color: rgba(0, 128, 0, 1)">--&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">MultiBinding</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">rubyer:Card.Width</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 128, 0, 1)">&lt;!--</span><span style="color: rgba(0, 128, 0, 1)"> Card 内容 </span><span style="color: rgba(0, 128, 0, 1)">--&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">rubyer:Card</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<div><strong>注意：</strong>确保父容器允许子控件扩展</div>
<div>确保包含 Card 控件的父容器（例如 Grid）没有限制子控件的尺寸。检查是否有固定的高度或宽度、MaxWidth 或 MaxHeight 等可能影响布局的属性。</div>
<div>&nbsp;</div>
<div><span style="font-size: 18px"><strong>总结</strong></span></div>
<div>通常情况下，使用相对宽度（如 * 星号单位）和适当的 HorizontalAlignment 是最简单有效的方法，可以确保子控件随着父控件的大小变化而自动调整。如果需要更精确的控制，可以考虑使用 RelativeSource 绑定或其他高级技术。确保父容器也支持子控件的动态尺寸调整非常重要。</div>
<div>&nbsp;</div>
<div>最后附上，绑定后宽度减数的转换器，因为通常不能直接用子控件跟父控件完全等宽或等高，肯定需要有偏差：</div>
<div>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_a5c4c9ba-7b76-46fb-a47f-306862f29b42" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_a5c4c9ba-7b76-46fb-a47f-306862f29b42" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_a5c4c9ba-7b76-46fb-a47f-306862f29b42" class="cnblogs_code_hide">
<pre><span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;summary&gt;</span>
<span style="color: rgba(128, 128, 128, 1)">///</span><span style="color: rgba(0, 128, 0, 1)"> 控件宽度减法转换器
</span><span style="color: rgba(128, 128, 128, 1)">///</span><span style="color: rgba(0, 128, 0, 1)"> 可用于子控件绑定父控件宽度做减法
</span><span style="color: rgba(128, 128, 128, 1)">///</span> <span style="color: rgba(128, 128, 128, 1)">&lt;/summary&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> SubtractValueConverter : IValueConverter
{
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">object</span> Convert(<span style="color: rgba(0, 0, 255, 1)">object</span> value, Type targetType, <span style="color: rgba(0, 0, 255, 1)">object</span><span style="color: rgba(0, 0, 0, 1)"> parameter, System.Globalization.CultureInfo culture)
    {
        </span><span style="color: rgba(0, 0, 255, 1)">double</span> parentWidth = (<span style="color: rgba(0, 0, 255, 1)">double</span><span style="color: rgba(0, 0, 0, 1)">)value;
        </span><span style="color: rgba(0, 0, 255, 1)">double</span> subtractValue = <span style="color: rgba(0, 0, 255, 1)">double</span><span style="color: rgba(0, 0, 0, 1)">.Parse(parameter.ToString());
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> parentWidth -<span style="color: rgba(0, 0, 0, 1)"> subtractValue;
    }

    </span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">object</span> ConvertBack(<span style="color: rgba(0, 0, 255, 1)">object</span> value, Type targetType, <span style="color: rgba(0, 0, 255, 1)">object</span><span style="color: rgba(0, 0, 0, 1)"> parameter, System.Globalization.CultureInfo culture)
    {
        </span><span style="color: rgba(0, 0, 255, 1)">throw</span> <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> NotImplementedException();
    }
}

在用户控件页面增加绑定资源：
</span>&lt;UserControl.Resources&gt;
    &lt;converter:SubtractValueConverter x:Key=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">subtractValueConverter</span><span style="color: rgba(128, 0, 0, 1)">"</span> /&gt;
&lt;/UserControl.Resources&gt;<span style="color: rgba(0, 0, 0, 1)">
然后，在绑定时增加转换器的使用：
Width</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=ActualWidth, Mode=OneWay, Converter={StaticResource subtractValueConverter}, ConverterParameter=20}</span><span style="color: rgba(128, 0, 0, 1)">"</span></pre>
</div>
<span class="cnblogs_code_collapse">转换器代码</span></div>
<div>实际下图中右下角的列表Card使用实例：</div>
<div>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_d016bdea-47ef-490b-9079-0344c120d62d" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_d016bdea-47ef-490b-9079-0344c120d62d" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_d016bdea-47ef-490b-9079-0344c120d62d" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">UserControl </span><span style="color: rgba(255, 0, 0, 1)">x:Name</span><span style="color: rgba(0, 0, 255, 1)">="VehicleQueueView"</span><span style="color: rgba(255, 0, 0, 1)">
             x:Class</span><span style="color: rgba(0, 0, 255, 1)">="WpfAppMom.Views.Plan.VehicleQueue"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns</span><span style="color: rgba(0, 0, 255, 1)">="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:x</span><span style="color: rgba(0, 0, 255, 1)">="http://schemas.microsoft.com/winfx/2006/xaml"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:controls</span><span style="color: rgba(0, 0, 255, 1)">="clr-namespace:WpfAppMom.Controls"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:converter</span><span style="color: rgba(0, 0, 255, 1)">="clr-namespace:WpfAppMom.Converter"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:d</span><span style="color: rgba(0, 0, 255, 1)">="http://schemas.microsoft.com/expression/blend/2008"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:i</span><span style="color: rgba(0, 0, 255, 1)">="http://schemas.microsoft.com/xaml/behaviors"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:local</span><span style="color: rgba(0, 0, 255, 1)">="clr-namespace:WpfAppMom.Views.Plan"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:mc</span><span style="color: rgba(0, 0, 255, 1)">="http://schemas.openxmlformats.org/markup-compatibility/2006"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:rubyer</span><span style="color: rgba(0, 0, 255, 1)">="http://rubyer.io/winfx/xaml/toolkit"</span><span style="color: rgba(255, 0, 0, 1)">
             xmlns:viewModels</span><span style="color: rgba(0, 0, 255, 1)">="clr-namespace:WpfAppMom.ViewModels.Plan"</span><span style="color: rgba(255, 0, 0, 1)">
             d:DataContext</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{d:DesignInstance Type=viewModels:VehicleQueueViewModel}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
             d:DesignHeight</span><span style="color: rgba(0, 0, 255, 1)">="450"</span><span style="color: rgba(255, 0, 0, 1)">
             d:DesignWidth</span><span style="color: rgba(0, 0, 255, 1)">="800"</span><span style="color: rgba(255, 0, 0, 1)">
             mc:Ignorable</span><span style="color: rgba(0, 0, 255, 1)">="d"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">UserControl.Resources</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">converter:SubtractValueConverter </span><span style="color: rgba(255, 0, 0, 1)">x:Key</span><span style="color: rgba(0, 0, 255, 1)">="subtractValueConverter"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">UserControl.Resources</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">i:Interaction.Triggers</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">i:EventTrigger </span><span style="color: rgba(255, 0, 0, 1)">EventName</span><span style="color: rgba(0, 0, 255, 1)">="Loaded"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">i:InvokeCommandAction </span><span style="color: rgba(255, 0, 0, 1)">Command</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding LoadedCommand}</span><span style="color: rgba(0, 0, 255, 1)">"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">i:EventTrigger</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">i:EventTrigger </span><span style="color: rgba(255, 0, 0, 1)">EventName</span><span style="color: rgba(0, 0, 255, 1)">="Closed"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">i:InvokeCommandAction </span><span style="color: rgba(255, 0, 0, 1)">Command</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding CancelCommand}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)"> CommandParameter</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding ElementName=VehicleQueueView}</span><span style="color: rgba(0, 0, 255, 1)">"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">i:EventTrigger</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">i:Interaction.Triggers</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">controls:ControlDisplay </span><span style="color: rgba(255, 0, 0, 1)">x:Name</span><span style="color: rgba(0, 0, 255, 1)">="QueueControl"</span><span style="color: rgba(255, 0, 0, 1)">
                             Title</span><span style="color: rgba(0, 0, 255, 1)">="车辆队列"</span><span style="color: rgba(255, 0, 0, 1)">
                             HorizontalAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Stretch"</span><span style="color: rgba(255, 0, 0, 1)">
                             rubyer:PanelHelper.Spacing</span><span style="color: rgba(0, 0, 255, 1)">="10"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Grid </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=ActualWidth, Mode=OneWay, Converter={StaticResource subtractValueConverter}, ConverterParameter=20}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
              Height</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=ActualHeight, Mode=OneWay, Converter={StaticResource subtractValueConverter}, ConverterParameter=55}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
              HorizontalAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Left"</span><span style="color: rgba(255, 0, 0, 1)">
              rubyer:GridHelper.RowDefinitions</span><span style="color: rgba(0, 0, 255, 1)">="45, *, 50"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Grid.ColumnDefinitions</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">ColumnDefinition </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="*"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">ColumnDefinition </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="2"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">Grid.ColumnDefinitions</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">StackPanel </span><span style="color: rgba(255, 0, 0, 1)">Grid.Row</span><span style="color: rgba(0, 0, 255, 1)">="0"</span><span style="color: rgba(255, 0, 0, 1)">
                        Margin</span><span style="color: rgba(0, 0, 255, 1)">="5"</span><span style="color: rgba(255, 0, 0, 1)">
                        HorizontalAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Left"</span><span style="color: rgba(255, 0, 0, 1)">
                        rubyer:PanelHelper.Spacing</span><span style="color: rgba(0, 0, 255, 1)">="5"</span><span style="color: rgba(255, 0, 0, 1)">
                        Orientation</span><span style="color: rgba(0, 0, 255, 1)">="Horizontal"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Button </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="110"</span><span style="color: rgba(255, 0, 0, 1)">
                        rubyer:ButtonHelper.IconType</span><span style="color: rgba(0, 0, 255, 1)">="PhoneLine"</span><span style="color: rgba(255, 0, 0, 1)">
                        Content</span><span style="color: rgba(0, 0, 255, 1)">="呼叫AGV"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Button </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="110"</span><span style="color: rgba(255, 0, 0, 1)">
                        rubyer:ButtonHelper.IconType</span><span style="color: rgba(0, 0, 255, 1)">="FileShredLine"</span><span style="color: rgba(255, 0, 0, 1)">
                        BorderBrush</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource ButtonBorderForegroundBrush}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                        Content</span><span style="color: rgba(0, 0, 255, 1)">="打印表单"</span><span style="color: rgba(255, 0, 0, 1)">
                        FontStyle</span><span style="color: rgba(0, 0, 255, 1)">="Normal"</span><span style="color: rgba(255, 0, 0, 1)">
                        Foreground</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource ButtonFontForegroundBrush}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                        Style</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource OutlineButton}</span><span style="color: rgba(0, 0, 255, 1)">"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Button </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="110"</span><span style="color: rgba(255, 0, 0, 1)">
                        rubyer:ButtonHelper.IconType</span><span style="color: rgba(0, 0, 255, 1)">="GitRepositoryCommitsLine"</span><span style="color: rgba(255, 0, 0, 1)">
                        BorderBrush</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource ButtonBorderForegroundBrush}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                        Content</span><span style="color: rgba(0, 0, 255, 1)">="报工"</span><span style="color: rgba(255, 0, 0, 1)">
                        Foreground</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource ButtonFontForegroundBrush}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                        Style</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource OutlineButton}</span><span style="color: rgba(0, 0, 255, 1)">"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">StackPanel</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">DataGrid </span><span style="color: rgba(255, 0, 0, 1)">x:Name</span><span style="color: rgba(0, 0, 255, 1)">="DataGrid"</span><span style="color: rgba(255, 0, 0, 1)"> Grid.Row</span><span style="color: rgba(0, 0, 255, 1)">="1"</span><span style="color: rgba(255, 0, 0, 1)">
                      HorizontalContentAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Center"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:ControlHelper.CornerRadius</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{DynamicResource AllContainerCornerRadius}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:ControlHelper.FocusedBrush</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{DynamicResource Primary}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:ControlHelper.FocusedForegroundBrush</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{DynamicResource WhiteForeground}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:ControlHelper.MaskOpacity</span><span style="color: rgba(0, 0, 255, 1)">="1"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:DataGridHelper.ClickToEdit</span><span style="color: rgba(0, 0, 255, 1)">="False"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:DataGridHelper.Loading</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding IsLoading}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:HeaderHelper.Background</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource DataGridTitleBrackgroudBrush}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:HeaderHelper.FontFamily</span><span style="color: rgba(0, 0, 255, 1)">="宋体"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:HeaderHelper.FontSize</span><span style="color: rgba(0, 0, 255, 1)">="15"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:HeaderHelper.FontWeight</span><span style="color: rgba(0, 0, 255, 1)">="DemiBold"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:HeaderHelper.Foreground</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource DataGridTitleFontBrush}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                      rubyer:HeaderHelper.HorizontalAlignment</span><span style="color: rgba(0, 0, 255, 1)">="Center"</span><span style="color: rgba(255, 0, 0, 1)">
                      AutoGenerateColumns</span><span style="color: rgba(0, 0, 255, 1)">="True"</span><span style="color: rgba(255, 0, 0, 1)">
                      CanUserAddRows</span><span style="color: rgba(0, 0, 255, 1)">="False"</span><span style="color: rgba(255, 0, 0, 1)">
                      GridLinesVisibility</span><span style="color: rgba(0, 0, 255, 1)">="Horizontal"</span><span style="color: rgba(255, 0, 0, 1)">
                      IsReadOnly</span><span style="color: rgba(0, 0, 255, 1)">="False"</span><span style="color: rgba(255, 0, 0, 1)">
                      ItemsSource</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding Datas}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                      RowHeight</span><span style="color: rgba(0, 0, 255, 1)">="40"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">DataGrid.Columns</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">rubyer:DataGridSelectCheckBoxColumn </span><span style="color: rgba(255, 0, 0, 1)">Width</span><span style="color: rgba(0, 0, 255, 1)">="85"</span><span style="color: rgba(255, 0, 0, 1)">
                                                         Binding</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{Binding IsSelected}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                                                         Header</span><span style="color: rgba(0, 0, 255, 1)">="全选"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">DataGrid.Columns</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">DataGrid</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">rubyer:PageBar </span><span style="color: rgba(255, 0, 0, 1)">Grid.Row</span><span style="color: rgba(0, 0, 255, 1)">="2"</span><span style="color: rgba(255, 0, 0, 1)">
                            Margin</span><span style="color: rgba(0, 0, 255, 1)">="0 10 20 0"</span><span style="color: rgba(255, 0, 0, 1)">
                            IsShowPageSize</span><span style="color: rgba(0, 0, 255, 1)">="True"</span><span style="color: rgba(255, 0, 0, 1)">
                            IsShowTotal</span><span style="color: rgba(0, 0, 255, 1)">="True"</span><span style="color: rgba(255, 0, 0, 1)">
                            ItemsDock</span><span style="color: rgba(0, 0, 255, 1)">="Left"</span><span style="color: rgba(255, 0, 0, 1)">
                            PageIndexChanged</span><span style="color: rgba(0, 0, 255, 1)">="PageBar_PageIndexChanged"</span><span style="color: rgba(255, 0, 0, 1)">
                            PageSizeChanged</span><span style="color: rgba(0, 0, 255, 1)">="PageBar_PageSizeChanged"</span><span style="color: rgba(255, 0, 0, 1)">
                            PageSizeCollection</span><span style="color: rgba(0, 0, 255, 1)">="10, 20, 30, 50"</span><span style="color: rgba(255, 0, 0, 1)">
                            Style</span><span style="color: rgba(0, 0, 255, 1)">="</span><span style="color: rgba(128, 128, 0, 1)">{StaticResource TextPageBar}</span><span style="color: rgba(0, 0, 255, 1)">"</span><span style="color: rgba(255, 0, 0, 1)">
                            Total</span><span style="color: rgba(0, 0, 255, 1)">="1000"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">Grid</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>

    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">controls:ControlDisplay</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">UserControl</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">用户控件代码</span></div>
<p><img src="https://img2024.cnblogs.com/blog/1038506/202501/1038506-20250108110816591-1094705455.png" alt="" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/1038506/202501/1038506-20250108111408653-1359610847.png" alt="" loading="lazy"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
</div>
</div>
</div>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.04413911935648148" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-08 11:15">2025-01-08 11:10</span>&nbsp;
<a href="https://www.cnblogs.com/adingfirstlove">流浪阿丁</a>&nbsp;
阅读(<span id="post_view_count">21</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18659325" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18659325);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18659325', targetLink: 'https://www.cnblogs.com/adingfirstlove/p/18659325', title: 'WPF页面中将一个控件的宽度绑定到其父级用户控件的实际宽度' })">举报</a>
</div>
	