
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wpfdeveloper/p/18780640" title="å‘å¸ƒäº 2025-03-19 11:09">
    <span role="heading" aria-level="2">ActiViz åœ¨ .NET ç¯å¢ƒä¸‹çš„ CT å›¾åƒæ¸²æŸ“</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h4 id="1-ä»€ä¹ˆæ˜¯-activiz"><strong>1. ä»€ä¹ˆæ˜¯ ActiVizï¼Ÿ</strong></h4>
<p><strong>ActiViz</strong> æ˜¯ <strong>VTKï¼ˆVisualization Toolkitï¼‰</strong> çš„ .NET å°è£…ï¼Œæä¾›äº†å¼ºå¤§çš„ 3D è®¡ç®—æœºå›¾å½¢æ¸²æŸ“åŠŸèƒ½ï¼Œå¹¿æ³›åº”ç”¨äº <strong>åŒ»å­¦å½±åƒï¼ˆCTã€MRIï¼‰ã€ç§‘å­¦è®¡ç®—ã€å·¥ç¨‹ä»¿çœŸ</strong> ç­‰é¢†åŸŸã€‚åœ¨ .NET ç”Ÿæ€ä¸‹ï¼ŒActiViz å…è®¸å¼€å‘è€…ä½¿ç”¨ C# æˆ– VB.NET è¿›è¡Œ 3D å¯è§†åŒ–å¼€å‘ï¼Œè€Œæ— éœ€ç›´æ¥ç¼–å†™ C++ ä»£ç ã€‚</p>
<hr>
<h4 id="2-ct-å›¾åƒæ¸²æŸ“çš„åŸºæœ¬åŸç†"><strong>2. CT å›¾åƒæ¸²æŸ“çš„åŸºæœ¬åŸç†</strong></h4>
<p>CTï¼ˆComputed Tomographyï¼Œè®¡ç®—æœºæ–­å±‚æ‰«æï¼‰å›¾åƒé€šå¸¸ä»¥ <strong>DICOMï¼ˆDigital Imaging and Communications in Medicineï¼‰</strong> æ ¼å¼å­˜å‚¨ï¼Œæ¯ä¸ª CT æ‰«æç»“æœæ˜¯ä¸€ç»„ <strong>ç°åº¦åˆ‡ç‰‡</strong>ï¼Œå½¢æˆ 3D ä½“æ•°æ®ã€‚CT æ¸²æŸ“ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>
<p><strong>ä½“ç»˜åˆ¶ï¼ˆVolume Renderingï¼‰</strong></p>
<ul>
<li>é€šè¿‡ä½“ç§¯å…‰çº¿æŠ•å°„ç®—æ³•ï¼ˆRay Castingï¼‰æ¸²æŸ“æ•´ä¸ª 3D ä½“æ•°æ®ã€‚</li>
<li>å¯ç”¨äº <strong>åŒ»å­¦å¯è§†åŒ–</strong>ï¼Œå¦‚ç»„ç»‡ã€éª¨éª¼ã€è¡€ç®¡ç­‰ç²¾ç»†ç»“æ„ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¡¨é¢ç»˜åˆ¶ï¼ˆSurface Renderingï¼‰</strong></p>
<ul>
<li>é€šè¿‡ <strong>Marching Cubes</strong> ç­‰ç®—æ³•å°†ç°åº¦æ•°æ®è½¬æ¢ä¸º 3D ç½‘æ ¼ã€‚</li>
<li>é€‚ç”¨äºæå– <strong>éª¨éª¼ã€è‚¿ç˜¤ç­‰ç‰¹å®šåŒºåŸŸ</strong>ï¼Œç”Ÿæˆ STL æ–‡ä»¶ç”¨äº 3D æ‰“å°ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h4 id="3-net-ç¯å¢ƒä¸‹å¦‚ä½•ä½¿ç”¨-activiz-æ¸²æŸ“-ct-å›¾åƒ"><strong>3. .NET ç¯å¢ƒä¸‹å¦‚ä½•ä½¿ç”¨ ActiViz æ¸²æŸ“ CT å›¾åƒï¼Ÿ</strong></h4>
<h5 id="1å®‰è£…-activiznet"><strong>ï¼ˆ1ï¼‰å®‰è£… ActiViz.NET</strong></h5>
<p>é¦–å…ˆï¼Œå®‰è£… ActiViz ä»¥æ”¯æŒ .NET Framework æˆ– .NET Coreï¼š</p>
<ul>
<li>ä¸‹è½½ ActiViz.dll å¹¶æ·»åŠ åˆ° C# é¡¹ç›®å¼•ç”¨ä¸­</li>
<li>æˆ–è€…ä½¿ç”¨ <strong>VTK å®˜æ–¹ NuGet åŒ…</strong>ï¼ˆéœ€æ‰‹åŠ¨ç¼–è¯‘ï¼‰</li>
</ul>
<h5 id="2åŠ è½½-dicom-å›¾åƒå¹¶æ„å»º-3d-ä½“æ•°æ®"><strong>ï¼ˆ2ï¼‰åŠ è½½ DICOM å›¾åƒå¹¶æ„å»º 3D ä½“æ•°æ®</strong></h5>
<pre><code class="language-csharp">using Kitware.VTK;

public class CTVolumeRenderer
{
    public void RenderCTVolume(string dicomFolderPath)
    {
        // è¯»å– DICOM æ•°æ®
        vtkDICOMImageReader reader = vtkDICOMImageReader.New();
        reader.SetDirectoryName(dicomFolderPath);
        reader.Update();

        // ä½“ç»˜åˆ¶é¢œè‰²è¡¨
        vtkColorTransferFunction colorFunc = vtkColorTransferFunction.New();
        colorFunc.AddRGBPoint(-1000, 0.0, 0.0, 0.0);  // ç©ºæ°”
        colorFunc.AddRGBPoint(0, 1.0, 1.0, 1.0);      // è½¯ç»„ç»‡
        colorFunc.AddRGBPoint(1000, 1.0, 0.5, 0.5);   // éª¨éª¼

        // ä½“ç§¯å±æ€§
        vtkVolumeProperty volumeProperty = vtkVolumeProperty.New();
        volumeProperty.SetColor(colorFunc);
        volumeProperty.SetScalarOpacity(vtkPiecewiseFunction.New());

        // ä½“ç§¯æ˜ å°„
        vtkVolumeRayCastMapper mapper = vtkVolumeRayCastMapper.New();
        mapper.SetInputConnection(reader.GetOutputPort());

        // æ¸²æŸ“
        vtkVolume volume = vtkVolume.New();
        volume.SetMapper(mapper);
        volume.SetProperty(volumeProperty);

        vtkRenderer renderer = vtkRenderer.New();
        renderer.AddVolume(volume);

        vtkRenderWindow renderWindow = vtkRenderWindow.New();
        renderWindow.AddRenderer(renderer);
        renderWindow.Render();
    }
}
</code></pre>
<hr>
<h4 id="4-activiz-åœ¨-ct-æ¸²æŸ“ä¸­çš„ä¼˜åŠ¿"><strong>4. ActiViz åœ¨ CT æ¸²æŸ“ä¸­çš„ä¼˜åŠ¿</strong></h4>
<p>âœ… <strong>é«˜æ€§èƒ½</strong>ï¼šåŸºäº C++ VTK åº•å±‚ä¼˜åŒ–ï¼Œæ”¯æŒ GPU åŠ é€Ÿ<br>
âœ… <strong>è·¨å¹³å°æ”¯æŒ</strong>ï¼šå¯ç”¨äº Windowsã€Linuxï¼ˆéœ€ Mono æ”¯æŒï¼‰<br>
âœ… <strong>å¯æ‰©å±•æ€§</strong>ï¼šæ”¯æŒ DICOMã€STLã€OBJ ç­‰å¤šç§æ ¼å¼<br>
âœ… <strong>åŒ»å­¦å¯è§†åŒ–å¼ºå¤§</strong>ï¼šé€‚ç”¨äº PACS ç³»ç»Ÿã€åŒ»å­¦å½±åƒåˆ†æ</p>
<hr>
<h4 id="5-æ€»ç»“"><strong>5. æ€»ç»“</strong></h4>
<p>ActiViz ä½œä¸º VTK çš„ .NET å°è£…ï¼Œä¸º <strong>CTã€MRIã€å·¥ä¸š 3D æ‰«æ</strong> æä¾›äº†é«˜æ•ˆçš„ 3D æ¸²æŸ“è§£å†³æ–¹æ¡ˆã€‚åœ¨ .NET ç¯å¢ƒä¸‹ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ <strong>C# ç»“åˆ ActiViz</strong> å¿«é€Ÿæ­å»º <strong>åŒ»å­¦å¯è§†åŒ–ã€ç§‘å­¦è®¡ç®—ã€å·¥ç¨‹æ¨¡æ‹Ÿ</strong> åº”ç”¨ï¼Œå®ç°é«˜è´¨é‡ 3D æ¸²æŸ“ã€‚</p>
<p>å¦‚æœä½ å¯¹ <strong>CT å½±åƒå¤„ç†ã€DICOM å¯è§†åŒ–ã€3D æ‰“å°å»ºæ¨¡</strong> æ„Ÿå…´è¶£ï¼ŒActiViz æ˜¯ä¸€ä¸ªå€¼å¾—æ¢ç´¢çš„å·¥å…·ï¼ğŸš€</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.002020985842592593" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-19 11:10">2025-03-19 11:09</span>&nbsp;
<a href="https://www.cnblogs.com/wpfdeveloper">æ™ºç ”å®šåˆ¶åŠ©æ‰‹</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18780640" rel="nofollow">ç¼–è¾‘</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18780640);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18780640', targetLink: 'https://www.cnblogs.com/wpfdeveloper/p/18780640', title: 'ActiViz åœ¨ .NET ç¯å¢ƒä¸‹çš„ CT å›¾åƒæ¸²æŸ“' })">ä¸¾æŠ¥</a>
</div>
        