
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yayujs/p/18839087" title="发布于 2025-04-21 18:00">
    <span role="heading" aria-level="2">SvelteKit 最新中文文档教程（22）—— 最佳实践之无障碍与 SEO</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="前言">前言</h2>
<p><a href="https://svelte.yayujs.com" target="_blank" rel="noopener nofollow">Svelte</a>，一个语法简洁、入门容易，面向未来的前端框架。</p>
<p>从 Svelte 诞生之初，就备受开发者的喜爱，根据统计，<strong>从 2019 年到 2024 年，连续 6 年一直是开发者最感兴趣的前端框架 No.1</strong>：</p>
<p><img src="https://yayujs-blog.oss-cn-beijing.aliyuncs.com/405488775-48df16b1-939c-489b-8d52-6071869893f0.png" alt="image.png" loading="lazy"></p>
<p>Svelte 以其独特的编译时优化机制著称，具有<strong>轻量级</strong>、<strong>高性能</strong>、<strong>易上手</strong>等特性，<strong>非常适合构建轻量级 Web 项目</strong>。</p>
<p>为了帮助大家学习 Svelte，我同时搭建了 Svelte 最新的<a href="https://svelte.yayujs.com" target="_blank" rel="noopener nofollow">中文文档</a>站点。</p>
<p>如果需要进阶学习，也可以入手我的小册<a href="https://s.juejin.cn/ds/iycmvygA/" target="_blank" rel="noopener nofollow">《Svelte 开发指南》</a>，语法篇、实战篇、原理篇三大篇章带你系统掌握 Svelte！</p>
<p>欢迎围观我的<a href="https://yayujs.com" target="_blank" rel="noopener nofollow">“网页版朋友圈”</a>、加入<a href="https://www.yuque.com/yayu/nice-people/xou8qr" target="_blank" rel="noopener nofollow">“冴羽·成长陪伴社群”</a>，踏上<a href="https://t.zsxq.com/DfGhx" target="_blank" rel="noopener nofollow">“前端大佬成长之路”</a>。</p>
<h2 id="无障碍">无障碍</h2>
<p>SvelteKit 默认努力为您的应用程序提供一个无障碍的平台。Svelte 的<a href="https://svelte.yayujs.com/docs/svelte/compiler-warnings" target="_blank" rel="noopener nofollow">编译时无障碍检查</a>也将适用于您构建的任何 SvelteKit 应用程序。</p>
<p>以下是 SvelteKit 内置无障碍功能的工作原理，以及您需要做什么来帮助这些功能尽可能好地工作。请记住，虽然 SvelteKit 提供了无障碍的基础，但您仍然要负责确保您的应用程序代码是无障碍的。如果您是无障碍新手，请参阅本指南的<a href="https://svelte.yayujs.com/docs/kit/accessibility#Further-reading" target="_blank" rel="noopener nofollow">"进一步阅读"</a>部分获取更多资源。</p>
<p>我们认识到实现无障碍可能很困难。如果您想就 SvelteKit 处理无障碍的方式提出改进建议，请<a href="https://github.com/sveltejs/kit/issues" target="_blank" rel="noopener nofollow">提交 GitHub issue</a>。</p>
<h3 id="路由公告">路由公告</h3>
<p>在传统的服务端渲染应用程序中，每次导航（例如点击 <code>&lt;a&gt;</code> 标签）都会触发完整的页面重载。当这种情况发生时，屏幕阅读器和其他辅助技术会读出新页面的标题，让用户理解页面已经改变。</p>
<p>由于 SvelteKit 中页面之间的导航无需重新加载页面（称为<a href="https://svelte.yayujs.com/docs/kit/glossary#Routing" target="_blank" rel="noopener nofollow">客户端路由</a>），SvelteKit 在页面上注入了一个<a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions" target="_blank" rel="noopener nofollow">实时区域</a>，在每次导航后读出新页面名称。它通过检查 <code>&lt;title&gt;</code> 元素来确定要宣布的页面名称。</p>
<p>因此，您应用程序中的每个页面都应该有一个独特的、描述性的标题。在 SvelteKit 中，您可以通过在每个页面上放置 <code>&lt;svelte:head&gt;</code> 元素来实现：</p>
<pre><code class="language-svelte">&lt;!--- file: src/routes/+page.svelte ---&gt;
&lt;svelte:head&gt;
	&lt;title&gt;待办事项列表&lt;/title&gt;
&lt;/svelte:head&gt;
</code></pre>
<p>这将使屏幕阅读器和其他辅助技术能够在导航发生后识别新页面。提供描述性标题对于 <a href="https://svelte.yayujs.com/docs/kit/seo#Manual-setup-title-and-meta" target="_blank" rel="noopener nofollow">SEO</a> 也很重要。</p>
<h3 id="焦点管理">焦点管理</h3>
<p>在传统的服务端渲染应用程序中，每次导航都会将焦点重置到页面顶部。这确保了使用键盘或屏幕阅读器浏览网页的人可以从页面开始处开始交互。</p>
<p>为了在客户端路由期间模拟这种行为，SvelteKit 在每次导航和<a href="https://svelte.yayujs.com/docs/kit/form-actions#Progressive-enhancement" target="_blank" rel="noopener nofollow">增强型表单提交</a>后会将焦点设置在 <code>&lt;body&gt;</code> 元素上。有一个例外 - 如果存在带有 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus" target="_blank" rel="noopener nofollow"><code>autofocus</code></a> 属性的元素，SvelteKit 将转而聚焦该元素。使用该属性时，请确保<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus#accessibility_considerations" target="_blank" rel="noopener nofollow">考虑对辅助技术的影响</a>。</p>
<p>如果您想自定义 SvelteKit 的焦点管理，可以使用 <code>afterNavigate</code> 钩子：</p>
<pre><code class="language-js">/// &lt;reference types="@sveltejs/kit" /&gt;
// ---cut---
import { afterNavigate } from '$app/navigation';

afterNavigate(() =&gt; {
	/** @type {HTMLElement | null} */
	const to_focus = document.querySelector('.focus-me');
	to_focus?.focus();
});
</code></pre>
<p>您也可以使用 <a href="https://svelte.yayujs.com/docs/kit/$app-navigation#goto" target="_blank" rel="noopener nofollow"><code>goto</code></a> 函数以编程方式导航到不同的页面。默认情况下，这将具有与点击链接相同的客户端路由行为。但是，<code>goto</code> 也接受一个 <code>keepFocus</code> 选项，该选项将保留当前聚焦的元素，而不是重置焦点。如果启用此选项，请确保当前聚焦的元素在导航后仍然存在于页面上。如果该元素不再存在，用户的焦点将丢失，这会让辅助技术用户感到困惑。</p>
<h3 id="lang-属性">"lang" 属性</h3>
<p>默认情况下，SvelteKit 的页面模板将文档的默认语言设置为英语。如果您的内容不是英语，您应该更新 <code>src/app.html</code> 中的 <code>&lt;html&gt;</code> 元素，使其具有正确的 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang#accessibility" target="_blank" rel="noopener nofollow"><code>lang</code></a> 属性。这将确保任何阅读文档的辅助技术使用正确的发音。例如，如果您的内容是德语，您应该将 <code>app.html</code> 更新为：</p>
<pre><code class="language-html">/// file: src/app.html
&lt;html lang="de"&gt;&lt;/html&gt;
</code></pre>
<p>如果您的内容提供多种语言，您应该根据当前页面的语言设置 <code>lang</code> 属性。您可以使用 SvelteKit 的 <a href="https://svelte.yayujs.com/docs/kit/hooks#Server-hooks-handle" target="_blank" rel="noopener nofollow">handle hook</a>来实现：</p>
<pre><code class="language-html">/// file: src/app.html
&lt;html lang="%lang%"&gt;&lt;/html&gt;
</code></pre>
<pre><code class="language-js">/// file: src/hooks.server.js
/**
 * @param {import('@sveltejs/kit').RequestEvent} event
 */
function get_lang(event) {
	return 'en';
}
// ---cut---
/** @type {import('@sveltejs/kit').Handle} */
export function handle({ event, resolve }) {
	return resolve(event, {
		transformPageChunk: ({ html }) =&gt; html.replace('%lang%', get_lang(event))
	});
}
</code></pre>
<h3 id="进一步阅读">进一步阅读</h3>
<p>在大多数情况下，构建无障碍 SvelteKit 应用程序与构建无障碍 Web 应用程序是一样的。您应该能够将以下通用无障碍资源中的信息应用到您构建的任何 Web 体验中：</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/Accessibility" target="_blank" rel="noopener nofollow">MDN Web 文档：无障碍</a></li>
<li><a href="https://www.a11yproject.com/" target="_blank" rel="noopener nofollow">A11y 项目</a></li>
<li><a href="https://www.w3.org/WAI/WCAG21/quickref/" target="_blank" rel="noopener nofollow">如何满足 WCAG（快速参考）</a></li>
</ul>
<h2 id="seo">SEO</h2>
<p>SEO 最重要的方面是创建高质量的内容，使其能在网络上被广泛链接。但是，构建能够良好排名的网站，还需要考虑一些技术因素。</p>
<h3 id="开箱即用的功能">开箱即用的功能</h3>
<h4 id="ssr服务端渲染">SSR（服务端渲染）</h4>
<p>虽然近年来搜索引擎在索引客户端 JavaScript 渲染的内容方面有所改善，但服务端渲染的内容仍然能够更频繁和可靠地被索引。SvelteKit 默认采用 SSR，虽然您可以在<a href="https://svelte.yayujs.com/docs/kit/hooks#Server-hooks-handle" target="_blank" rel="noopener nofollow"><code>handle</code></a>中禁用它，但除非有充分的理由，否则应该保持启用。</p>
<blockquote>
<p>[!NOTE] SvelteKit 的渲染是高度可配置的，您可以根据需要实现<a href="https://developers.google.com/search/docs/advanced/javascript/dynamic-rendering" target="_blank" rel="noopener nofollow">动态渲染</a>。但这通常不推荐，因为 SSR 除了 SEO 之外还有其他好处。</p>
</blockquote>
<h4 id="性能">性能</h4>
<p><a href="https://web.dev/vitals/#core-web-vitals" target="_blank" rel="noopener nofollow">核心网页指标</a>等信号会影响搜索引擎排名。由于 Svelte 和 SvelteKit 引入的开销最小，因此更容易构建高性能网站。您可以使用 Google 的 <a href="https://pagespeed.web.dev/" target="_blank" rel="noopener nofollow">PageSpeed Insights</a> 或 <a href="https://developers.google.com/web/tools/lighthouse" target="_blank" rel="noopener nofollow">Lighthouse</a> 测试您的网站性能。详情请阅读<a href="performance" target="_blank" rel="noopener nofollow">性能页面</a>。</p>
<h4 id="url-标准化">URL 标准化</h4>
<p>SvelteKit 会将带有尾部斜杠的路径重定向到不带斜杠的路径（或根据您的<a href="https://svelte.yayujs.com/docs/kit/page-options#trailingSlash" target="_blank" rel="noopener nofollow">配置</a>反向操作），因为重复的 URL 对 SEO 不利。</p>
<h3 id="手动设置">手动设置</h3>
<h4 id="title-和-meta"><code>&lt;title&gt;</code> 和 <code>&lt;meta&gt;</code></h4>
<p>每个页面都应该在 <a href="https://svelte.yayujs.com/docs/svelte/svelte-head" target="_blank" rel="noopener nofollow"><code>&lt;svelte:head&gt;</code></a> 中包含精心编写的独特的 <code>&lt;title&gt;</code> 和 <code>&lt;meta name="description"&gt;</code> 元素。关于如何编写描述性标题和描述，以及其他使内容便于搜索引擎理解的建议，可以在Google的 <a href="https://web.dev/lighthouse-seo/" target="_blank" rel="noopener nofollow">Lighthouse SEO 审核</a> 文档中找到。</p>
<blockquote>
<p>[!NOTE] 一个常见的模式是从页面的 <a href="https://svelte.yayujs.com/docs/kit/load" target="_blank" rel="noopener nofollow"><code>load</code></a> 函数返回与 SEO 相关的 <code>data</code>，然后在根<a href="https://svelte.yayujs.com/docs/kit/routing#layout" target="_blank" rel="noopener nofollow">布局</a>的 <code>&lt;svelte:head&gt;</code> 中使用它（作为<a href="https://svelte.yayujs.com/docs/kit/$app-state" target="_blank" rel="noopener nofollow"><code>page.data</code></a>）。</p>
</blockquote>
<h4 id="站点地图">站点地图</h4>
<p><a href="https://developers.google.com/search/docs/advanced/sitemaps/build-sitemap" target="_blank" rel="noopener nofollow">站点地图</a>可帮助搜索引擎对网站内的页面进行优先级排序，特别是当您有大量内容时。您可以使用端点动态创建站点地图：</p>
<pre><code class="language-js">/// file: src/routes/sitemap.xml/+server.js
export async function GET() {
	return new Response(
		`
		&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
		&lt;urlset
			xmlns="https://www.sitemaps.org/schemas/sitemap/0.9"
			xmlns:xhtml="https://www.w3.org/1999/xhtml"
			xmlns:mobile="https://www.google.com/schemas/sitemap-mobile/1.0"
			xmlns:news="https://www.google.com/schemas/sitemap-news/0.9"
			xmlns:image="https://www.google.com/schemas/sitemap-image/1.1"
			xmlns:video="https://www.google.com/schemas/sitemap-video/1.1"
		&gt;
			&lt;!-- &lt;url&gt;元素放在这里 --&gt;
		&lt;/urlset&gt;`.trim(),
		{
			headers: {
				'Content-Type': 'application/xml'
			}
		}
	);
}
</code></pre>
<h4 id="amp">AMP</h4>
<p>现代网络开发的一个不幸现实是有时需要创建网站的<a href="https://amp.dev/" target="_blank" rel="noopener nofollow">加速移动页面（AMP）</a>版本。在 SvelteKit 中，这可以通过设置 <a href="https://svelte.yayujs.com/docs/kit/configuration#inlineStyleThreshold" target="_blank" rel="noopener nofollow"><code>inlineStyleThreshold</code></a> 选项来实现...</p>
<pre><code class="language-js">/// file: svelte.config.js
/** @type {import('@sveltejs/kit').Config} */
const config = {
	kit: {
		// 由于不允许使用&lt;link rel="stylesheet"&gt;，
		// 内联所有样式
		inlineStyleThreshold: Infinity
	}
};

export default config;
</code></pre>
<p>...在根 <code>+layout.js</code>/<code>+layout.server.js</code> 中禁用 <code>csr</code>...</p>
<pre><code class="language-js">/// file: src/routes/+layout.server.js
export const csr = false;
</code></pre>
<p>...在<code>app.html</code>中添加<code>amp</code>...</p>
<pre><code class="language-html">&lt;html amp&gt;
	...
&lt;/html&gt;
</code></pre>
<p>...并使用从 <code>@sveltejs/amp</code> 导入的 <code>transform</code> 和 <code>transformPageChunk</code> 转换 HTML：</p>
<pre><code class="language-js">/// file: src/hooks.server.js
import * as amp from '@sveltejs/amp';

/** @type {import('@sveltejs/kit').Handle} */
export async function handle({ event, resolve }) {
	let buffer = '';
	return await resolve(event, {
		transformPageChunk: ({ html, done }) =&gt; {
			buffer += html;
			if (done) return amp.transform(buffer);
		}
	});
}
</code></pre>
<p>为了防止在将页面转换为 amp 时发送任何未使用的 CSS，我们可以使用<a href="https://www.npmjs.com/package/dropcss" target="_blank" rel="noopener nofollow"><code>dropcss</code></a>：</p>
<pre><code class="language-js">// @filename: ambient.d.ts
declare module 'dropcss';

// @filename: index.js
// ---cut---
/// file: src/hooks.server.js
// @errors: 2307
import * as amp from '@sveltejs/amp';
import dropcss from 'dropcss';

/** @type {import('@sveltejs/kit').Handle} */
export async function handle({ event, resolve }) {
	let buffer = '';

	return await resolve(event, {
		transformPageChunk: ({ html, done }) =&gt; {
			buffer += html;

			if (done) {
				let css = '';
				const markup = amp
					.transform(buffer)
					.replace('⚡', 'amp') // dropcss无法处理此字符
					.replace(/&lt;style amp-custom([^&gt;]*?)&gt;([^]+?)&lt;\/style&gt;/, (match, attributes, contents) =&gt; {
						css = contents;
						return `&lt;style amp-custom${attributes}&gt;&lt;/style&gt;`;
					});

				css = dropcss({ css, html: markup }).css;
				return markup.replace('&lt;/style&gt;', `${css}&lt;/style&gt;`);
			}
		}
	});
}
</code></pre>
<blockquote>
<p>[!NOTE] 使用 <code>handle</code> hook 通过 <code>amphtml-validator</code> 验证转换后的 HTML 是个好主意，但由于速度很慢，仅建议在预渲染页面时使用。</p>
</blockquote>
<h2 id="svelte-中文文档">Svelte 中文文档</h2>
<p>点击查看中文文档：</p>
<ol>
<li><a href="https://svelte.yayujs.com/docs/kit/accessibility" target="_blank" rel="noopener nofollow">SvelteKit 无障碍</a></li>
<li><a href="https://svelte.yayujs.com/docs/kit/seo" target="_blank" rel="noopener nofollow">SvelteKit SEO</a></li>
</ol>
<p>系统学习 Svelte，欢迎入手小册<a href="https://s.juejin.cn/ds/iycmvygA/" target="_blank" rel="noopener nofollow">《Svelte 开发指南》</a>。语法篇、实战篇、原理篇三大篇章带你系统掌握 Svelte！</p>
<p>此外我还写过 <a href="https://juejin.cn/column/7035531575974592520" target="_blank" rel="noopener nofollow">JavaScript 系列</a>、<a href="https://juejin.cn/column/7029490086710345742" target="_blank" rel="noopener nofollow">TypeScript 系列</a>、<a href="https://juejin.cn/column/7142674773930147853" target="_blank" rel="noopener nofollow">React 系列</a>、<a href="https://juejin.cn/column/7343569488744611849" target="_blank" rel="noopener nofollow">Next.js 系列</a>、<a href="https://juejin.cn/column/7039526067891077151" target="_blank" rel="noopener nofollow">冴羽答读者问</a>等 14 个系列文章， 全系列文章目录：<a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener nofollow">https://github.com/mqyqingfeng/Blog</a></p>
<p>欢迎围观我的<a href="https://yayujs.com" target="_blank" rel="noopener nofollow">“网页版朋友圈”</a>、加入<a href="https://www.yuque.com/yayu/nice-people/xou8qr" target="_blank" rel="noopener nofollow">“冴羽·成长陪伴社群”</a>，踏上<a href="https://t.zsxq.com/DfGhx" target="_blank" rel="noopener nofollow">“前端大佬成长之路”</a>。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="31.105058948465278" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-21 18:01">2025-04-21 18:00</span>&nbsp;
<a href="https://www.cnblogs.com/yayujs">冴羽</a>&nbsp;
阅读(<span id="post_view_count">68</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18839087);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18839087', targetLink: 'https://www.cnblogs.com/yayujs/p/18839087', title: 'SvelteKit 最新中文文档教程（22）—— 最佳实践之无障碍与 SEO' })">举报</a>
</div>
        