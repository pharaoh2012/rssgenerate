
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/vipstone/p/18924076" title="发布于 2025-06-11 15:45">
    <span role="heading" aria-level="2">超实用！手把手教你Dify版本升级</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>很多情况下，我们需要升级 Dify 版本以获得新的功能和性能的提升，同时还能确保系统的安全性、稳定性和兼容性，从而更好地满足用户的需求。</p>
<p>那问题来了，怎么升级 Dify 版本呢？</p>
<p>接下来，我们以 Docker 方式安装 Dify 的升级为例，给大家演示一下升级的流程和注意事项，当然源码安装的升级方式也是类似的，升级思路都相同的，只是具体的操作可能略有不同。</p>
<h2 id="1-升级前准备工作">1. 升级前准备工作</h2>
<ol>
<li>
<p><strong>数据备份</strong>：进入原安装包 docker 目录，备份“volumes”文件夹，此文件夹包含了 Dify 数据库数据：</p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202506/172074-20250611154454990-557744672.png" alt="" loading="lazy"></p>
</li>
<li>
<p><strong>备份配置文件（.env 和 docker-compose.yml）</strong>：</p>
<pre><code class="language-plain">cp .env .env.bak &amp;&amp; cp docker-compose.yml docker-compose.yml.bak
</code></pre>
</li>
<li>
<p><strong>停止服务</strong></p>
<pre><code class="language-plain">docker-compose down
</code></pre>
</li>
</ol>
<h2 id="2-执行升级">2. 执行升级</h2>
<p>以下是基于 Docker 安装的 Dify 版本升级步骤：</p>
<ol>
<li>
<p><strong>下载最新版本代码</strong>（如从 <a href="https://github.com/langgenius/dify" target="_blank" rel="noopener nofollow">GitHub</a>）并解压。</p>
</li>
<li>
<p><strong>替换旧版文件</strong>：将原来的数据“volumes”文件夹和配置文件 .env 复制到新安装包中。复制过程中出现有些文件不能访问，选择“跳过”就行。</p>
</li>
<li>
<p><strong>重启服务</strong>：</p>
<ul>
<li>
<p><strong>进入Docker目录</strong>：cd dify/docker</p>
</li>
<li>
<p><strong>启动安装</strong>：docker-compose up -d</p>
</li>
</ul>
</li>
</ol>
<p>执行结果如下就说明升级已经成功了：</p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202506/172074-20250611154504235-234197776.png" alt="" loading="lazy"></p>
<h2 id="3-升级后验证">3. 升级后验证</h2>
<ol>
<li>
<p><strong>检查容器状态</strong>​：</p>
<pre><code class="language-plain">docker-compose ps
</code></pre>
</li>
<li>
<p><strong>查看日志</strong>​：</p>
<pre><code class="language-plain">docker-compose logs -f
</code></pre>
</li>
<li>
<p><strong>访问 Web 界面</strong>确认版本号及功能正常。</p>
</li>
</ol>
<blockquote>
<p>本文已收录到我的技术小站 <a href="https://www.javacn.site" target="_blank" rel="noopener nofollow">www.javacn.site</a>，其中包含的内容有：Spring AI、LangChain4j、Dify、AI Agent、MCP、Function Call、RAG、向量数据库、Prompt、多模态、向量数据库、嵌入模型等内容。</p>
</blockquote>

</div>
<div id="MySignature" role="contentinfo">
    <div style="text-align: center; color: red">
关注下面二维码，订阅更多精彩内容。
<br>
<img style="margin-left: 0px" src="https://images.cnblogs.com/cnblogs_com/vipstone/848916/o_211225130402_gognzhonghao.jpg">
</div>

<div style="display: none">
    <img src="http://icdn.apigo.cn/gitchat/rabbitmq.png?imageView2/0/w/500/h/400">
</div>
<div style="margin-bottom: 50px; display: none">

<img title="微信打赏" src="http://icdn.apigo.cn/myinfo/wchat-pay.png" alt="微信打赏">
<br>

<div style="display: none">
<span style="display: block; position: absolute; height: 40px; top: 50%; margin-top: -20px">关注公众号（加好友）：</span>

<img style="margin-left: 144px" src="http://icdn.apigo.cn/gongzhonghao2.png?imageView2/0/w/120/h/120">
</div>
<p></p>

<div id="AllanboltSignature">
    <p style="border-top: #e0e0e0 1px dashed; border-right: #e0e0e0 1px dashed; border-bottom: #e0e0e0 1px dashed; border-left: #e0e0e0 1px dashed; padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 60px; background: url(&quot;https://images.cnblogs.com/cnblogs_com/lloydsheng/239039/o_copyright.gif&quot;) #e5f1f4 no-repeat 1% 50%; font-family: 微软雅黑; font-size: 11px" id="PSignature">
        <br> 作者：
        <a href="http://vipstone.cnblogs.com/" target="_blank">王磊的博客</a>
        <br> 出处：
        <a href="http://vipstone.cnblogs.com/" target="_blank">http://vipstone.cnblogs.com/</a>
        <br>
    </p>
</div></div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-11 15:45">2025-06-11 15:45</span>&nbsp;
<a href="https://www.cnblogs.com/vipstone">磊哥|www.javacn.site</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18924076);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18924076', targetLink: 'https://www.cnblogs.com/vipstone/p/18924076', title: '超实用！手把手教你Dify版本升级' })">举报</a>
</div>
        