
		<h2>
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/kuaishou/p/18723132" title="发布于 2025-02-18 23:22">
    <span role="heading" aria-level="2">实战AI大模型辅助编程：新安江水文模型和SCE-UA优化算法的移植与实现</span>
    

</a>

		</h2>
		    <div id="cnblogs_post_description" style="display: none">
        
        实战AI大模型辅助编程：新安江水文模型和SCE-UA优化算法的移植与实现
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>新安江水文模型与 SCE-UA 优化算法是水文学和水资源管理领域的重要工具，二者结合使用可以有效模拟流域的水文过程并优化模型参数。</p>
<div>新安江水文模型是一种概念性水文模型，主要用于模拟流域的降雨-径流关系。</div>
<div>在网站有更多介绍：<a href="http://www.watergis.cn/xinan.htm" target="_blank" rel="noopener nofollow">http://www.watergis.cn/xinan.htm</a>&nbsp;和&nbsp;<a href="https://www.cnblogs.com/kuaishou/p/13733902.html" target="_blank">https://www.cnblogs.com/kuaishou/p/13733902.html</a></div>
<div>SCE-UA（Shuffled Complex Evolution - University of Arizona）是一种全局优化算法，广泛应用于水文模型参数率定。</div>
<p>本文主要记录使用DeepSeek和通义千问大模型， 把新安江水文模型和SCE-UA优化算法的C++程序移植到C#程序的过程。</p>
<p>C++版本是河海大学水文水资源系卢家波博士生开发的，<a href="https://github.com/lujiabo98/XAJ-SCEUA" rel="noopener nofollow" target="_blank"><em>https://github.com/lujiabo98/XAJ-SCEUA</em></a></p>
<p>这个程序写得很好，一直想移植到C#版本，方便学习使用。</p>
<p><a href="https://blog.csdn.net/weixin_43012724/article/details/127096422" rel="noopener nofollow" target="_blank"><em>【水文模型】10 新安江模型C++实现 https://blog.csdn.net/weixin_43012724/article/details/127096422</em></a></p>
<p><a href="https://blog.csdn.net/weixin_43012724/article/details/103968567" rel="noopener nofollow" target="_blank"><em>【PEST++】02 新安江模型参数自动率定&nbsp;https://blog.csdn.net/weixin_43012724/article/details/103968567</em></a></p>
<p><a href="https://blog.csdn.net/weixin_43012724/article/details/123183366" rel="noopener nofollow" target="_blank"><em>【水文模型】09 新安江模型SCE-UA算法自动率定 https://blog.csdn.net/weixin_43012724/article/details/123183366</em></a></p>
<p>其实chatGPT和OpenAI已经出现有一段时间，但是国内访问这些AI网站并不方便，无法进行愉快的体验。</p>
<p>Deepseek 的出现，点燃了2025年国内AI大模型的第一团火，可以说今年是中国AI应用元年，</p>
<p>0）软件环境：Windows 10, Visual Studio 2022</p>
<p>1）从github.com下载C++程序，编译运行一次通过</p>
<p>2）访问 deepseek.com ，把 sceua.h, sceua.cpp 复制过去，注明转换成C#程序</p>
<p>&nbsp; &nbsp; &nbsp;可以看到整个转换过程基本可以，并给出了转换的思路，和人工思考过程基本类似，</p>
<p>&nbsp; &nbsp; &nbsp;当中几个比较长的函数如cce函数，没有给出转换</p>
<p>&nbsp; &nbsp; &nbsp;尝试多次之后，因为deepseek一直提示服务器繁忙，转而使用通义千问大模型，据说内置连接了deepseek大模型</p>
<p>3）通义千问大模型（https://tongyi.aliyun.com/）可以容忍的输入文本似乎没有那么长，但是可以分段输入，转换内容基本正确</p>
<p>&nbsp; &nbsp; &nbsp; C#程序和C++程序类成员变量有些不一样，比如C++加了前缀 m_nXXX, 为了保持一致方便观察，</p>
<p>&nbsp; &nbsp; &nbsp;我加了二个转换限制：<span style="text-decoration: underline"><span style="background-color: rgba(0, 255, 255, 1)">变量名不变</span> <span style="background-color: rgba(0, 255, 0, 1)">逐行转换</span></span></p>
<p>4）这次我专门转换比较长的程序 cce() 等，基本转换出来了，还不知道是否有问题，目测可以用</p>
<p>5）经过拆分篇幅，几次分段转换，终于把 sceua.h, sceua.cpp转换成功，当中有几个小错误，修改一下即可</p>
<p>6)&nbsp; 要检验sce-ua算法是否可以运行，还需要移植新安江程序，SCEUA程序内部已经包含了新安江模型程序，</p>
<p>&nbsp; &nbsp; &nbsp;接下来就是把新安江模型程序里面的几个类一个个转换过来即可。</p>
<p>7）经过重复的复制C++程序并依靠通义千问转换过程，终于完成所有的转换。</p>
<p>8）工程文件里面已经提供了测试数据，且这个程序是命令行方式运行，所以很方便运行起来。</p>
<p>&nbsp; &nbsp; &nbsp;经过运行对比，结果基本正确，参数有改变。转换后的C#程序，运行时间居然比C++快一倍。</p>
<p><img src="https://img2024.cnblogs.com/blog/60247/202502/60247-20250218231722635-252521637.png" alt="" width="768" height="370"></p>
<p>以上就是我借助AI来转换程序的过程，大概一个晚上完成，如果要手工转换，可能需要一天时间才能做完。</p>
<p>我想如果转换成python程序，应该也是可以的，期待有人去尝试一下。</p>
<p>要了解更多，请访问 <a href="http://www.WaterGIS.cn" target="_blank" rel="noopener nofollow">www.WaterGIS.cn</a> 和 QQ群&nbsp;722489551</p>
<p>　　</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

		<p class="postfoot">
			posted on 
<span id="post-date" data-last-update-days="0.041923825354166666" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-18 23:23">2025-02-18 23:22</span>&nbsp;
<a href="https://www.cnblogs.com/kuaishou">时空地图-TimeGIS-com</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18723132" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18723132);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18723132', targetLink: 'https://www.cnblogs.com/kuaishou/p/18723132', title: '实战AI大模型辅助编程：新安江水文模型和SCE-UA优化算法的移植与实现' })">举报</a>

		</p>
	