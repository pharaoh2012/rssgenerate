
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/mingupupu/p/18779563" title="发布于 2025-03-18 18:57">
    <span role="heading" aria-level="2">使用Avalonia/C#构建一个简易的跨平台MCP客户端</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 class="md-end-block md-heading md-focus"><span class="md-plain md-expand">前言</span></h2>
<p class="md-end-block md-p"><span class="md-plain">前几天介绍了在C#中构建一个MCP客户端。</span></p>
<p class="md-end-block md-p"><span class="md-plain">最近正在学习Avalonia，所以就想用Avalonia实现一个简易的跨平台MCP客户端。接入别人写的或者自己写的MCP服务器就可以利用AI做很多有意思的事情。</span></p>
<p class="md-end-block md-p"><span class="md-plain">接下来我有时间也会和大家继续分享一些好玩的MCP服务器。</span></p>
<h2 class="md-end-block md-heading"><span class="md-plain">效果</span></h2>
<p class="md-end-block md-p"><span class="md-plain">展示连接的MCP服务器的工具：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612654-1145511409.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612654-1145511409.png" alt="image-20250318174336737"></span></p>
<p class="md-end-block md-p"><span class="md-plain">使用这些MCP服务器：</span></p>
<p class="md-end-block md-p"><span class="md-plain">duckduckgo_mcp</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612649-1778408582.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612649-1778408582.png" alt="image-20250318174522899"></span></p>
<p class="md-end-block md-p"><span class="md-plain">fetch-mcp</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612657-1130034461.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612657-1130034461.png" alt="image-20250318175233774"></span></p>
<p class="md-end-block md-p"><span class="md-plain">sqlite-mcp</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612685-1184500659.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612685-1184500659.png" alt="image-20250318175711695"></span></p>
<p class="md-end-block md-p"><span class="md-plain">由于模型的原因有时候可能没法一次就成功。</span></p>
<p class="md-end-block md-p"><span class="md-plain">问AI这个问题：“获取products表中所有保质期大于30天的商品信息”。</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612665-1456974726.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612665-1456974726.png" alt="image-20250318180038096"></span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612588-429716189.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612588-429716189.png" alt="image-20250318180054915"></span></p>
<p class="md-end-block md-p"><span class="md-plain">中文显示还有问题，但是数据确实是从数据库中读取出来的了。</span></p>
<h2 class="md-end-block md-heading"><span class="md-plain">实践</span></h2>
<pre class="md-fences md-end-block ty-contain-cm modeLoaded"><span><span class="cm-identifier">git <span class="cm-identifier">clone <span class="cm-identifier">https<span class="cm-operator">://<span class="cm-identifier">github<span class="cm-punctuation">.<span class="cm-identifier">com<span class="cm-operator">/<span class="cm-identifier">Ming-jiayou<span class="cm-operator">/<span class="cm-identifier">mcp_demo<span class="cm-punctuation">.<span class="cm-identifier">git</span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p class="md-end-block md-p"><span class="md-plain">进入mcp_demo\MCP-Studio文件夹，将ChatModelSettings.json.example修改为ChatModelSettings.json，填入大模型信息，以硅基流动为例：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612624-1537510540.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612624-1537510540.png" alt="image-20250318181015554"></span></p>
<p class="md-end-block md-p"><span class="md-plain">打开mcp_settings.json设置你的MCP服务器，我的示例如下所示：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612608-1654397337.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612608-1654397337.png" alt="image-20250318181133621"></span></p>
<p class="md-end-block md-p"><span class="md-plain">运行程序。</span></p>
<p class="md-end-block md-p"><span class="md-plain">在MCPSettings页如果能显示MCP服务器的工具，说明服务器连接成功。</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612628-1375382080.png"><img src="https://img2024.cnblogs.com/blog/3288240/202503/3288240-20250318185612628-1375382080.png" alt="image-20250318181230749"></span></p>
<p class="md-end-block md-p"><span class="md-plain">现在就可以玩耍这些MCP服务器咯，不过要注意得用一个有工具调用能力的模型哦！！</span></p>
<p class="md-end-block md-p"><span class="md-plain">全部代码已经放到GitHub，地址：<span class="md-link md-pair-s"><a href="https://github.com/Ming-jiayou/mcp_demo" rel="noopener nofollow">https://github.com/Ming-jiayou/mcp_demo</a><span class="md-plain">。</span></span></span></p>
<p class="md-end-block md-p"><span class="md-pair-s "><strong>推荐阅读</strong></span></p>
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://mp.weixin.qq.com/s/Jd6irZiwKuRn3IselQAhNQ" rel="noopener nofollow"><span class="md-plain">使用C#创建一个MCP客户端</span></a></span></p>
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://mp.weixin.qq.com/s/dASBZQfC3aWsw_85V2tn-g" rel="noopener nofollow"><span class="md-plain">一起来玩mcp_server_sqlite，让AI帮你做增删改查！！</span></a></span></p>
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://mp.weixin.qq.com/s/iG2cFhYf0tAqQTxfKtlsQw" rel="noopener nofollow"><span class="md-plain">通过fetch_mcp，让Cline能够获取网页内容。</span></a></span></p>
<p class="md-end-block md-p"><span class="md-meta-i-c  md-link"><a href="https://mp.weixin.qq.com/s/nkJ3pqvsBX7HQEkTVI0Fvw" rel="noopener nofollow"><span class="md-plain">创建一个MCP服务器，并在Cline中使用，增强自定义功能。</span></a></span></p>
<div>&nbsp;</div>
<p class="md-end-block md-p">&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.2269921359502315" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-18 18:57">2025-03-18 18:57</span>&nbsp;
<a href="https://www.cnblogs.com/mingupupu">mingupupup</a>&nbsp;
阅读(<span id="post_view_count">40</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18779563" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18779563);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18779563', targetLink: 'https://www.cnblogs.com/mingupupu/p/18779563', title: '使用Avalonia/C#构建一个简易的跨平台MCP客户端' })">举报</a>
</div>
        