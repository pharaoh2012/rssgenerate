
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/tangshiye/p/18863752" title="发布于 2025-05-07 10:25">
    <span role="heading" aria-level="2">deepseek+coze实战：一键抓取百条抖音爆款视频，自动存入飞书表格</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>大家好，我是汤师爷~</p>
<p>批量获取抖音视频文案这件事，一直有技术门槛。</p>
<p>很多朋友因为不懂技术，只能花钱买工具来完成这项任务。</p>
<p>今天我要分享一个Coze智能体的解决方案</p>
<p>只需输入关键词就能自动批量获取视频文案，轻松实现100条文案的采集工作。效果如下：</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102546229-1339145888.jpg" alt="image.png" loading="lazy"></p>
<h2 id="1整体工作流">1.整体工作流</h2>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102546846-617010736.jpg" alt="image.png" loading="lazy"></p>
<p>1.批量搜索视频，获取视频信息</p>
<p>2.将视频信息进行整理</p>
<p>3.创建多维表格，并写入视频信息</p>
<h2 id="2详细工作流节点">2.详细工作流节点</h2>
<h3 id="21获取相关关键词">2.1获取相关关键词</h3>
<p>根据用户提供的关键词，生成50个相关的关键词。</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102547385-120954144.jpg" alt="image.png" loading="lazy"></p>
<h3 id="22批量搜索视频">2.2批量搜索视频</h3>
<p>利用抖音视频搜索插件功能，我们能够快速而高效地进行批量视频搜索。</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102548028-461125783.jpg" alt="image.png" loading="lazy"></p>
<p>通过设定特定的搜索参数，我们可以精准定位所需的视频内容。</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102548816-1497719498.jpg" alt="image.png" loading="lazy"></p>
<h3 id="23对信息进行格式化">2.3对信息进行格式化</h3>
<p>将信息整理为飞书表格可以使用的数据。</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102549427-103423.jpg" alt="image.png" loading="lazy"></p>
<p>处理信息的Python代码如下：</p>
<pre><code class="language-python">import asyncio
import datetime
import json
from typing import Any, Dict, List

def get_date_time_stamp(now: datetime.datetime) -&gt; str:
    """
    获取格式化后的时间戳，格式为 "YYYY-MM-DD HH:MM:SS"
    """
    return now.strftime("%Y-%m-%d %H:%M:%S")

async def main(args: Args) -&gt; Output:
    params = args.params
    video_list = params.get("list", [])
    
    records: List[Dict[str, Any]] = []
    for video in video_list:
        # 构造 fields 字段对应的字典
        fields_dict = {
            "标题": video.get("title"),
            "视频链接": {"link": video.get("link")},
            "封面": video.get("cover"),
            "点赞数": video.get("digg_count"),
            "账号名称": video.get("nickname"),
            "头像": video.get("avatar")
        }
        # 将字典转换为 JSON 字符串
        record = {"fields": json.dumps(fields_dict, ensure_ascii=False)}
        records.append(record)
    
    # 构造 fields 列表，每个字段包含 field_name 和 type
    fields: List[Dict[str, Any]] = []
    fields.append({"field_name": "账号名称", "type": 1})
    fields.append({"field_name": "标题", "type": 1})
    fields.append({"field_name": "点赞数", "type": 2})
    fields.append({"field_name": "视频链接", "type": 15})
    fields.append({"field_name": "封面", "type": 1})
    fields.append({"field_name": "头像", "type": 1})
    
    # 构造文件名称，前缀为 "视频" 加上当前时间戳
    file_name = "视频" + get_date_time_stamp(datetime.datetime.now())
    
    ret = {
        "records": records,
        "fields": fields,
        "file_name": file_name,
    }
    return ret
</code></pre>
<h3 id="24创建多维表格">2.4创建多维表格</h3>
<p>创建多维表格。</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102550118-174407484.jpg" alt="image.png" loading="lazy"></p>
<p>接下来我们需要创建多维表格的基础结构，包括设置表格的目录层级以及定义表头字段。</p>
<p>这些表头字段将包含我们需要存储的视频信息，如标题、视频链接、封面、点赞数、账号名称、头像。</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102550894-1647027025.jpg" alt="image.png" loading="lazy"></p>
<p>将收集到的视频信息按照预设的格式导入到飞书表格中。</p>
<p>在这一步骤中，系统会自动将每条视频的详细信息，写入到对应的表格单元格中。</p>
<p><img src="https://img2024.cnblogs.com/other/2625446/202505/2625446-20250507102552080-287863637.jpg" alt="image.png" loading="lazy"></p>
<h2 id="3总结">3.总结</h2>
<p>我们今天分享了如何用Coze智能体来批量获取抖音视频文案，整个过程其实很简单。</p>
<p>先用关键词搜视频，然后把找到的信息整理一下，最后存到飞书表格里。</p>
<p>这套流程只要会用Coze就行，再也不用花钱买采集工具，希望这个小技巧能帮大家提高工作效率。</p>
<p>如果你觉得有用的话，欢迎分享给需要的朋友哦~</p>
<blockquote>
<p>本文已收录于，我的技术博客：<a href="https://tangshiye.cn" target="_blank" rel="noopener nofollow">tangshiye.cn</a>  里面有，DeepSeek 资料，AI 智能体教程，算法 Leetcode 详解，BAT 面试真题，架构设计，等干货分享。</p>
</blockquote>

</div>
<div id="MySignature" role="contentinfo">
    <p>本文来自博客园，作者：<a href="https://www.cnblogs.com/tangshiye/" target="_blank">架构师汤师爷</a>，转载请注明原文链接：<a href="https://www.cnblogs.com/tangshiye/p/18863752" target="_blank">https://www.cnblogs.com/tangshiye/p/18863752</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.03045788764236111" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-07 10:26">2025-05-07 10:25</span>&nbsp;
<a href="https://www.cnblogs.com/tangshiye">架构师汤师爷</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18863752);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18863752', targetLink: 'https://www.cnblogs.com/tangshiye/p/18863752', title: 'deepseek+coze实战：一键抓取百条抖音爆款视频，自动存入飞书表格' })">举报</a>
</div>
        