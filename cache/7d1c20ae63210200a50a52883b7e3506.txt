
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lucky_hu/p/19055641" title="发布于 2025-08-24 17:44">
    <span role="heading" aria-level="2">硅基聊天室——如何用supervisor优雅的管理服务进程</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h3 id="导航">导航</h3>
<ul>
<li>Supervisor是什么</li>
<li>centos安装Supervisor
<ul>
<li>使用yum安装Supervisor</li>
<li>查看supervisor是否安装成功</li>
<li>启动</li>
<li>设置supervisor 开机启动</li>
<li>查看服务状态</li>
<li>配置supervisor,web管理页面</li>
</ul>
</li>
<li>结语</li>
<li>参考</li>
</ul>
<blockquote>
<p>本文首发<a href="https://www.52interview.com/solutions/75" target="_blank" rel="noopener nofollow">《如何用supervisor优雅的管理服务进程》</a>。阅读时长3min。</p>
</blockquote>
<h3 id="视频讲解">视频讲解</h3>
<p><iframe src="https://player.bilibili.com/player.html?isOutside=true&amp;bvid=BV1uEeJzrEpo&amp;p=1&amp;autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" width="668" height="376"></iframe></p>
<h3 id="supervisor是什么">Supervisor是什么</h3>
<p>Supervisor是一个Python写的进程管理工具，可以方便用于启动、重启、关闭进程。特别适合需要常驻内存的进程。</p>
<p>Supervisor相关命令:</p>
<pre><code class="language-cmd"># 启动supervisord
supervisord -c /etc/supervisord.conf
supervisorctl -c /etc/supervisord.conf

# 停止supervisord
supervisorctl shutdown

# 重新载入配置
supervisorctl reload

# 查看程序状态
supervisorctl status 

# 查看服务器进程
ps -ef | grep supervisord
</code></pre>
<h3 id="centos-安装supervisor">centos 安装Supervisor</h3>
<p>(1) 使用yum安装Supervisor</p>
<pre><code class="language-cmd">yum install -y supervisor
</code></pre>
<br>
<section>
    <a href="https://img.zhikestreet.com/20230211205407.png?imageView2/0/q/75|watermark/2/text/NTJJbnRlcnZpZXc=/font/5a6L5L2T/fontsize/240/fill/IzBFMDkwNQ==/dissolve/100/gravity/SouthEast/dx/10/dy/10" data-lightbox="example-set" rel="noopener nofollow"><img style="display: block; margin-left: auto; margin-right: auto" src="https://img.zhikestreet.com/20230211205407.png?imageView2/0/q/75|watermark/2/text/NTJJbnRlcnZpZXc=/font/5a6L5L2T/fontsize/240/fill/IzBFMDkwNQ==/dissolve/100/gravity/SouthEast/dx/10/dy/10" alt=""></a>
</section> 
<br>
<p>安装好后在/etc/会生成一个supervisord.conf文件及一个supervisord.d文件目录</p>
<p>(2) 查看supervisor是否安装成功</p>
<pre><code class="language-cmd">[root@hecs-275297 /]# supervisord --version
4.2.2
</code></pre>
<p>(3) 启动</p>
<pre><code class="language-cmd">[root@hecs-275297 ~]# supervisord -c /etc/supervisord.conf
</code></pre>
<p>查看supervisor是否启动成功</p>
<pre><code class="language-cmd">[root@hecs-275297 ~]# ps -ef|grep supervisord
root     4031860       1  0 21:05 ?        00:00:00 /usr/bin/python3.6 /usr/bin/supervisord -c /etc/supervisord.conf
root     4033110 4030772  0 21:08 pts/0    00:00:00 grep --color=auto supervisord
[root@hecs-275297 ~]#
</code></pre>
<p>(4) 设置supervisor 开机启动</p>
<pre><code class="language-cmd">[root@hecs-275297 ~]# systemctl enable supervisord
Created symlink /etc/systemd/system/multi-user.target.wants/supervisord.service → /usr/lib/systemd/system/supervisord.service.
[root@hecs-275297 ~]#
</code></pre>
<p>检查是否是开机启动</p>
<pre><code class="language-cmd">[root@hecs-275297 ~]# systemctl is-enabled supervisord
enabled
</code></pre>
<p>(5) 查看服务状态</p>
<pre><code class="language-cmd">[root@hecs-275297 ~]# systemctl status supervisord.service
● supervisord.service - Process Monitoring and Control Daemon
   Loaded: loaded (/usr/lib/systemd/system/supervisord.service; enabled; vendor preset: disabled)
   Active: active (running) since Sat 2023-02-11 21:28:42 CST; 48s ago
  Process: 4040629 ExecStart=/usr/bin/supervisord -c /etc/supervisord.conf (code=exited, status=0/SUCCESS)
 Main PID: 4040632 (supervisord)
    Tasks: 1 (limit: 23712)
   Memory: 16.3M
   CGroup: /system.slice/supervisord.service
           └─4040632 /usr/bin/python3.6 /usr/bin/supervisord -c /etc/supervisord.conf

Feb 11 21:28:42 hecs-275297 systemd[1]: Starting Process Monitoring and Control Daemon...
Feb 11 21:28:42 hecs-275297 systemd[1]: Started Process Monitoring and Control Daemon.
[root@hecs-275297 ~]#

</code></pre>
<p>(6) 配置supervisor,web管理页面<br>
修改配置信息，supervisor 默认配置文件，放在 /etc/supervisord.conf 路径中：</p>
<pre><code class="language-cmd">[inet_http_server]         ; HTTP 服务器，提供 web 管理界面
port=*:9001                ; Web 管理后台运行的 IP 和端口
username=admin              ; 登录管理后台的用户名
password=123               ; 登录管理后台的密码
[include]                     
files = supervisord.d/*.conf ;配置文件夹
</code></pre>
<p>修改完之后重启:</p>
<pre><code class="language-cmd">[root@hecs-275297 ~]# supervisorctl reload
Restarted supervisord
</code></pre>
<blockquote>
<p>Notes: 为了演示,这的账户和密码设置很简单,实际在配置的时候,建议设置复杂密码。</p>
</blockquote>
<p>在浏览器访问:<a href="http://ip:9001" target="_blank" rel="noopener nofollow">http://ip:9001</a></p>
<br>
<section>
    <a href="https://img.zhikestreet.com/20230211220321.png?imageView2/0/q/75|watermark/2/text/NTJJbnRlcnZpZXc=/font/5a6L5L2T/fontsize/240/fill/IzBFMDkwNQ==/dissolve/100/gravity/SouthEast/dx/10/dy/10" data-lightbox="example-set" rel="noopener nofollow"><img style="display: block; margin-left: auto; margin-right: auto" src="https://img.zhikestreet.com/20230211220321.png?imageView2/0/q/75|watermark/2/text/NTJJbnRlcnZpZXc=/font/5a6L5L2T/fontsize/240/fill/IzBFMDkwNQ==/dissolve/100/gravity/SouthEast/dx/10/dy/10" alt=""></a>
</section> 
<br>
<p>输入刚才在supervisord.conf文件中设置的账户和密码。</p>
<p>这个时候我们可以通过9001端口访问下这个页面，就能看到一个没有任务列表的的页面</p>
<br>
<section>
    <a href="https://img.zhikestreet.com/20230211223736.png?imageView2/0/q/75|watermark/2/text/NTJJbnRlcnZpZXc=/font/5a6L5L2T/fontsize/240/fill/IzBFMDkwNQ==/dissolve/100/gravity/SouthEast/dx/10/dy/10" data-lightbox="example-set" rel="noopener nofollow"><img style="display: block; margin-left: auto; margin-right: auto" src="https://img.zhikestreet.com/20230211223736.png?imageView2/0/q/75|watermark/2/text/NTJJbnRlcnZpZXc=/font/5a6L5L2T/fontsize/240/fill/IzBFMDkwNQ==/dissolve/100/gravity/SouthEast/dx/10/dy/10" alt=""></a>
</section> 
<br>
<p>至此,supervisor安装完毕!</p>
<h3 id="结语">结语</h3>
<p>在实际工作中,supervisor都有大量使用来管理我们生产环境的进程。<br>
当服务器出问题导致所有应用程序都被终止，此时可以用supervisor同时启动所有应用程序而不是一个一个地敲命令启动。</p>
<h3 id="参考">参考</h3>
<ul>
<li><a href="https://www.52interview.com/solutions/75" target="_blank" rel="noopener nofollow">centos安装supervisor</a></li>
<li><a href="https://www.cnblogs.com/qmhuang/p/8196132.html" target="_blank">配置supervisor实现进程守护</a></li>
</ul>
<br>
<section>
 <a href="https://www.52interview.com/" target="_blank" rel="noopener nofollow"><img style="display: block; margin-left: auto; margin-right: auto" src="https://img.zhikestreet.com/20210522-22216942.jpg" alt=""></a>
</section> 
<br>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-08-24 17:45">2025-08-24 17:44</span>&nbsp;
<a href="https://www.cnblogs.com/lucky_hu">楠木大叔</a>&nbsp;
阅读(<span id="post_view_count">11</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19055641);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19055641', targetLink: 'https://www.cnblogs.com/lucky_hu/p/19055641', title: '硅基聊天室——如何用supervisor优雅的管理服务进程' })">举报</a>
</div>
        