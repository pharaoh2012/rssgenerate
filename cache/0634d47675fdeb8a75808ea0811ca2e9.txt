
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/youlanjihua/p/18886169" title="发布于 2025-05-20 09:09">
    <span role="heading" aria-level="2">仓颉开发语言入门教程：常见UI组件介绍和一些问题踩坑</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-id="p124945a-qSfjYDqB">幽蓝君发现一个问题，仓颉开发语言距离发布马上一年了，一些知名App已经使用仓颉开发了许多功能，但是网络上关于仓颉开发语言的教程少之又少，系统性的教程更是没有，仓颉官网的文档也远远不如ArkTS详尽。</p>
<p data-id="p124945a-xOZ0afq9">现阶段对于想学习仓颉的友友来说非常困难，幽蓝君能做一个针对移动开发者的系列教程，从零开始到一个完整的应用，系统的讲述仓颉开发语言。希望能对大家有所帮助。</p>
<p data-id="p124945a-oRcYthjn">今天介绍的是仓颉语言中的UI组件。</p>
<p data-id="pa028eb2-sdTUKn3W"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202505/f146e0f47d49dcb5a5512273f4e607834e271c.png" data-type="block"></p>
<p data-id="p124945a-etDRDAkg">昨天分享了如何搭建仓颉的开发环境，关于项目的目录结构幽蓝君觉得没有必要再长篇大论，因为和ArkTs非常相似，我们直接到main文件夹下找到index.cj,这就是项目的首页页面，里面有项目初始化的demo。</p>
<p data-id="pa028eb2-LKBGCEy7"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202505/82a66ce191ee61eb101335087fd6c542ed166d.png" data-type="block"></p>
<p data-id="p124945a-BAxAdEOh"><strong>按钮 Button&nbsp;</strong></p>
<p data-id="p124945a-5H1YxJe2">既然初始代码中已经有button组件，我们就从它开始说起</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Button(message).onClick {    evt =&gt; AppLog.info("Hello Cangjie")}
.fontSize(40)
.height(80)</code></pre>
</div>
<p data-id="p124945a-Hg2sf7c4">这样看起来Button的用法看起来好像和ArkTs区别不大，我们继续为它添加一些属性，看看和ArkTs有什么不同：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Button(message).onClick {    evt =&gt; AppLog.info("Hello Cangjie")}
.fontSize(40)
.height(80)
.width(100.percent)
.backgroundColor(Color.BLUE)</code></pre>
</div>
<p data-id="p124945a-0v6FopTm">我在原有的代码上添加了宽度和背景色属性，可以看到仓颉中的百分比使用的是.percent，对应ArkTs中的100%，背景色中的字母大小写也是需要注意的地方。</p>
<p data-id="p124945a-3kiohYyD"><strong>文本 Text&nbsp;</strong></p>
<p data-id="p124945a-wQjQWYVN">Text组件比较简单，和按钮属性类似,直接贴代码：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Text('hello')
.fontSize(15)
.fontColor(Color.BLACK)
.textAlign(TextAlign.Center)
.margin(top:10)</code></pre>
</div>
<p data-id="p124945a-GRg6hiSw"><strong>图片 Image&nbsp;</strong></p>
<p data-id="p124945a-tFfjlmgs">Image组件最值得注意的地方就是加载图片，下面代码是加载media文件夹下的资源：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Image(@r(app.media.startIcon))</code></pre>
</div>
<p data-id="p124945a-b6go3NUu">但是幽蓝君一开始遇到了报错：</p>
<p data-id="pa028eb2-dUZOAwZo"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202505/11d0def15fb16b7479f619fbaeeb45da87024e.png" data-type="block"></p>
<p data-id="p124945a-Pp9Yb5Hi">解决方式是把文件上面的一大坨引用删掉：</p>
<p data-id="pa028eb2-HsysIwBB"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202505/f52446b15c8790fbd0c1832df75119e723593f.png" data-type="block"></p>
<p data-id="p124945a-4ZUFeGuY">用这几行代码代替：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>import ohos.base.*
import ohos.component.*
import ohos.state_manage.*
import ohos.state_macro_manage.*</code></pre>
</div>
<p data-id="p124945a-ta94UPMQ">修改后Image组件可以正常使用：</p>
<p data-id="pa028eb2-hvA5NIFB"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202505/b47b14d16e5c54802cf0398fbc5ddeafdda8c4.png" data-type="block"></p>
<p data-id="p124945a-JwEksq9s"><strong>输入框 TextInput&nbsp;</strong></p>
<p data-id="p124945a-QbAph8Ff">使用TextInput组件最好也是先替换掉上面的一大段引用。</p>
<p data-id="p124945a-lJ02ilMy">TextInput有三个参数，分别是占位内容，输入框内容和控制器，onChange方法用来监听内容变化：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>TextInput(placeholder: '请输入内容', text: this.inputText, controller:inputController)
.onChange({ value: String =&gt;    
    this.inputText = value
  })</code></pre>
</div>
<p data-id="p124945a-sqUdBly6">再贴一下TextInput控制器的写法，它可以对输入框进行一些操作，比如收起键盘：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>var inputController:TextInputController = TextInputController()

this.inputController.stopEditing();</code></pre>
</div>
<p data-id="p124945a-g95Aixjv"><strong>搜索框 Search&nbsp;</strong></p>
<p data-id="p124945a-BZs6gAQJ">搜索框和输入框比较像，以上这些组件最需要习惯的地方就是回调事件的写法，和ArkTs区别较大，贴一下它的使用方法：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>var searchController:SearchController = SearchController()</code></pre>
</div>
<div>
<pre class="language-plain highlighter-hljs"><code>Search(placeholder:'搜索',controller:searchController)
.searchButton('搜索')
.onSubmit({value =&gt;    
  AppLog.info('onSubmit:' + value);    
  })
.onChange({value =&gt;    
  AppLog.info('onChange:' + value);   
  
 })</code></pre>
</div>
<p data-id="p124945a-hh7B1WS6">仓颉中的组件数量众多，今天就介绍比较常用的几个，关于仓颉语言大家有其他想要了解的也可以私信幽蓝君，感谢您的阅读。#HarmonyOS语言##仓颉##购物#</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.13198388826157406" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-20 09:09">2025-05-20 09:09</span>&nbsp;
<a href="https://www.cnblogs.com/youlanjihua">幽蓝计划</a>&nbsp;
阅读(<span id="post_view_count">73</span>)&nbsp;
评论(<span id="post_comment_count">2</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18886169);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18886169', targetLink: 'https://www.cnblogs.com/youlanjihua/p/18886169', title: '仓颉开发语言入门教程：常见UI组件介绍和一些问题踩坑' })">举报</a>
</div>
        