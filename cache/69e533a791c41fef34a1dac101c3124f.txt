
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/gogoSandy/p/19044475" title="å‘å¸ƒäº 2025-08-18 12:55">
    <span role="heading" aria-level="2">è§£å¯†promptç³»åˆ—59. MCPå®æˆ˜ï¼šä»Low-Levelåˆ°FastMCPçš„æ­å»ºæ¼”è¿›</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1326688/202508/1326688-20250818125532835-1569600247.png" alt="è§£å¯†promptç³»åˆ—59. MCPå®æˆ˜ï¼šä»Low-Levelåˆ°FastMCPçš„æ­å»ºæ¼”è¿›" class="desc_img">
        ğŸš€ æ ¸å¿ƒæŒ‘æˆ˜ï¼šå¦‚ä½•ä¸ºå¤æ‚æ•°æ®åˆ†æä»»åŠ¡æ„å»ºå¯æ‰©å±•çš„ä»£ç æ²™ç®±å·¥å…·ï¼Ÿæœ¬æ–‡å°†ä»¥E2Bæ²™ç®±ä¸ºä¾‹ï¼Œé€šè¿‡å¯¹æ¯”Low-Levelä¸FastMCPä¸¤ç§MCP-Serverå®ç°æ–¹æ¡ˆï¼Œæ·±å…¥å‰–æï¼š
- Resource/Tool/Promptçš„é«˜é˜¶åº”ç”¨åœºæ™¯
- æ•°æ®åˆ†æcodingä»»åŠ¡çš„éš¾ç‚¹å’Œè§£å†³æ–¹æ¡ˆ
- FastMCPåœ¨åŸæœ‰mcp-serverçš„åŸºç¡€ä¸Šåšäº†å“ªäº›å¼€å‘ç®€åŒ–
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ğŸš€ æ ¸å¿ƒæŒ‘æˆ˜ï¼šå¦‚ä½•ä¸ºå¤æ‚æ•°æ®åˆ†æä»»åŠ¡æ„å»ºå¯æ‰©å±•çš„ä»£ç æ²™ç®±å·¥å…·ï¼Ÿæœ¬æ–‡å°†ä»¥E2Bæ²™ç®±ä¸ºä¾‹ï¼Œé€šè¿‡å¯¹æ¯”Low-Levelä¸FastMCPä¸¤ç§MCP-Serverå®ç°æ–¹æ¡ˆï¼Œæ·±å…¥å‰–æï¼š</p>
<ul>
<li>Resource/Tool/Promptçš„é«˜é˜¶åº”ç”¨åœºæ™¯</li>
<li>æ•°æ®åˆ†æcodingä»»åŠ¡çš„éš¾ç‚¹å’Œè§£å†³æ–¹æ¡ˆ</li>
<li>FastMCPåœ¨åŸæœ‰mcp-serverçš„åŸºç¡€ä¸Šåšäº†å“ªäº›å¼€å‘ç®€åŒ–</li>
</ul>
<p>Cluadeçš„ç»å…¸Demoå¤šæ˜¯ç”¨low levelæ„å»ºï¼Œè€Œåœ¨æœ€æ–°ç‰ˆæœ¬ä¸­æ¨å‡ºäº†é«˜çº§FastMCPï¼Œä½†æ˜¯å·¥ç¨‹ä¸Šçš„ç®€åŒ–ï¼Œæ„å‘³ç€å¾ˆå¤šåŠŸèƒ½è¢«éšè—ï¼Œæ‰€ä»¥æ›´é€‚åˆä»low levelä¸€æ­¥æ­¥èµ°è¿‡æ¥å¯¹MCPè®¾è®¡æ¯ä¸€æ­¥éƒ½å¾ˆæ¸…æ™°å¾—é«˜çº§ä½¿ç”¨ç”¨æˆ·ï¼Œè€Œéæ–°æ‰‹å°ç™½ã€‚</p>
<p>è¿™é‡Œæˆ‘é€‰äº†åŸºäºE2Bçš„codingæ²™ç®±æ¥æ­å»ºMCP serverï¼Œåˆšå¥½ä¸ºä¸‹ä¸€ç« æˆ‘ä»¬æ‰‹æ“æ•°æ®åˆ†ææ™ºèƒ½ä½“åšä¸ªé“ºå«ï¼Œå®Œæ•´ä»£ç è¯¦è§: <a href="https://github.com/DSXiangLi/DAAgent" target="_blank" rel="noopener nofollow">DAAgent</a></p>
<h2 id="coding-mcp">Coding MCP</h2>
<p>ğŸ”¥ çœŸå®åœºæ™¯çš„å¤æ‚æ€§ï¼šç”Ÿäº§çº§æ•°æ®åˆ†ææ™ºèƒ½ä½“ä¸­çš„Codingå·¥å…·è¿œéPython REPLå¯èƒœä»»ï¼Œæ ¸å¿ƒç—›ç‚¹åœ¨äºä¸‰ç±»æ•°æ®æµçš„ä¿¡æ¯ä¼ é€’ï¼š</p>
<table>
<thead>
<tr>
<th>æ•°æ®æµç±»å‹</th>
<th>æŒ‘æˆ˜åœºæ™¯</th>
<th>æœ¬æ–¹æ¡ˆè§£å†³æ€è·¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>code2code</td>
<td>å¤šæ®µä»£ç å—å˜é‡ä¼ é€’</td>
<td>æŒä¹…åŒ–å­˜å‚¨(CSV/JSON)</td>
</tr>
<tr>
<td>code2llm</td>
<td>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆstdout/errorï¼‰</td>
<td>ç»“æ„åŒ–æ—¥å¿—æ•è·</td>
</tr>
<tr>
<td>code2human</td>
<td>ç»“æœå¯è§†åŒ–</td>
<td>Jupyter Notebookç»„è£…</td>
</tr>
</tbody>
</table>
<p>é‚£åŸºäºä»¥ä¸Š3ç‚¹è€ƒé‡ï¼Œæˆ‘ä»¬è¦è®¾è®¡çš„coding MCP serverå°±éœ€è¦å…·å¤‡ä»¥ä¸‹åŠŸèƒ½</p>
<ul>
<li><strong>sandbox initialize &amp; stop</strong>ï¼šæ²™ç®±åˆ›å»ºå’Œé”€æ¯</li>
<li><strong>upload file</strong>ï¼šæ•°æ®åˆ†æåœºæ™¯å¾€å¾€ä¾èµ–å‰ç½®è¾“å‡ºçš„csvæ•°æ®æ–‡ä»¶</li>
<li><strong>execude code</strong>ï¼šæœ€åæ‰æ˜¯codingå·¥å…·é»˜è®¤æ‹¥æœ‰çš„ä»£ç æ‰§è¡Œå·¥å…·</li>
</ul>
<p>ğŸ” å’Œå…¶ä»–çš„ä¸€äº›sandbox mcpç›¸æ¯”åœ¨å·¥å…·è®¾è®¡ä¸Šæœ‰å‡ ç‚¹ä¸åŒ</p>
<table>
<thead>
<tr>
<th>å¸¸è§åŠŸèƒ½</th>
<th>æœ¬æ–¹æ¡ˆå®ç°æ–¹å¼</th>
<th>é€‰æ‹©ä¾æ®</th>
</tr>
</thead>
<tbody>
<tr>
<td>åº“å®‰è£…âŒ</td>
<td>åˆ©ç”¨kernleå†…æ ¸å†…åµŒ!pip</td>
<td>Codingä¸€è‡´æ€§æ›´å¥½ï¼Œå¾ˆå¤šlibraryæ˜¯åœ¨codeè¿è¡Œè¿‡ç¨‹ä¸­å‘ç°çš„ï¼Œè€Œéåœ¨codingä¹‹å‰åˆ¶å®š</td>
</tr>
<tr>
<td>æ–‡ä»¶ä¸‹è½½âŒ</td>
<td>æ•æ‰æ‰€æœ‰å¤šæ¨¡æ€çš„æ‰§è¡Œç»“æœç›´æ¥è¿”å›</td>
<td>å¯¹è¾“å‡ºæ–‡ä»¶çš„ç›®å½•ç®¡ç†ä¼šæ›´åŠ çµæ´»</td>
</tr>
<tr>
<td>å•æ­¥ä»£ç æ‰§è¡ŒâŒ</td>
<td>æ˜¾å¼create/destroyæ²™ç®±æ”¯æŒå¤šæ­¥coding</td>
<td>å¤æ‚ä»»åŠ¡é€šè¿‡å¤šæ­¥codingä¼ é€’ä¸­é—´å˜é‡å’ŒæŒä¹…åŒ–æ–‡ä»¶ï¼ŒåŒæ—¶é¿å…å¤šæ¬¡pipçš„æ—¶é—´æµªè´¹</td>
</tr>
</tbody>
</table>
<h3 id="low-level-server">Low-Level Server</h3>
<p>ä¸‹é¢æˆ‘ä»¬å…ˆç”¨Low-level Serveræ¡†æ¶æ¥è®¾è®¡Coding MCPã€‚æŒ‰å‰é¢çš„è®¾è®¡ï¼Œæˆ‘ä»¬åˆ†åˆ«éœ€è¦initialize sandboxï¼Œstop sandboxï¼Œupload fileï¼Œexecute codeè¿™å››ä¸ªå·¥å…·ã€‚</p>
<p>é™¤äº†æ‰§è¡Œä»£ç ä¹‹å¤–çš„å‰ä¸‰ä¸ªå·¥å…·ï¼Œå®ƒä»¬éƒ½å¯ä»¥ä½¿ç”¨æ–‡æœ¬è¾“å‡ºæ ¼å¼ï¼Œä»–ä»¬ä¼ é€’ç»™æ¨¡å‹çš„ä¿¡æ¯ç›¸å¯¹ç®€å•å°±æ˜¯æ˜¯å¦æˆåŠŸåˆ›å»ºã€é”€æ¯æ²™ç®±ã€ä»¥åŠæ˜¯å¦æˆåŠŸä¸Šä¼ æ–‡ä»¶ï¼Œä»¥åŠå¯¹åº”çš„æ²™ç®±IDæ ‡è¯†å’Œæ–‡ä»¶ä¸Šä¼ ç›®å½•ã€‚æ‰€ä»¥è¿™ä¸‰ä¸ªå·¥å…·æˆ‘é€‰æ‹©äº†æ–‡æœ¬æ ¼å¼çš„è¾“å‡ºã€‚ä»£ç æ‰§è¡Œå·¥å…·è¿™é‡Œï¼Œæˆ‘é€‰æ‹©äº†ç»“æ„åŒ–è¾“å‡ºï¼Œè¿™æ ·å¯ä»¥æ›´æœ‰æ•ˆçš„æ‹†åˆ†ä»£ç æ‰§è¡Œåçš„å„ç§ä¸åŒæ—¥å¿—ç±»å‹ï¼Œæ–¹é¢åé¢çš„codingæ­¥éª¤å®šä½ä¿®å¤é—®é¢˜ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>æ„å»ºMCP å·¥å…·æ—¶ä¸ä»…è¦å…¨é¢å®Œæ•´è¾“å‡ºæˆåŠŸæ—¥å¿—ï¼Œå¯¹äºæŠ¥é”™ä¹Ÿè¦æœ‰è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºï¼Œå¿…è¦æ—¶éœ€è¦è¿”å›tracebackï¼Œå¦åˆ™æ¨¡å‹æ— æ³•è·å–å®Œæ•´ä¸Šä¸‹æ–‡å¾ˆéš¾ä¿®æ­£å·¥å…·è°ƒç”¨æ–¹å¼ã€‚</strong></p>
<p>ä»¥ä¸‹æ˜¯code åŠŸèƒ½å±‚æ ¸å¿ƒä»£ç å®ç°</p>
<pre><code class="language-python">
# å·¥å…·å‡½æ•°å®šä¹‰
async def initialize_sandbox(timeout: int = Field(description='æ²™ç®±æœ€å¤§è¿è¡Œæ—¶é•¿ï¼Œå•ä½ä¸ºç§’', default=1000)) -&gt; str:
    """åˆ›å»ºä¸€ä¸ªæ–°çš„æ²™ç®±ç¯å¢ƒç”¨äºä»£ç æ‰§è¡Œ
    """
    global Active_Sandboxes
    session_id = str(uuid.uuid4())
    logger.info(f'åˆ›å»ºæ²™ç®±ä¸­ï¼šsession_id = {session_id}')
    try:
        sandbox = Sandbox(api_key=os.getenv("E2B_API_KEY"), timeout=timeout)
        Active_Sandboxes[session_id] = sandbox
    except Exception as e:
        msg = f'Failed to initialize sandbox: {str(e)}'
        logger.warning(e)
        return msg
    msg = f"Sandbox initialized successfully with session ID: {session_id}"
    logger.info(msg)
    return msg


async def close_sandbox(session_id: str = Field(description='éœ€è¦å…³é—­çš„æ²™ç®±id')) -&gt; str:
    """æ‰€æœ‰ä»£ç è¿è¡Œå®Œæ¯•ä¹‹åï¼Œå…³é—­å·²æœ‰çš„æ²™ç®±ç¯å¢ƒ
    :param session_id: æ²™ç®±å”¯ä¸€æ ‡è¯†ç¬¦
    :return: æ‰§è¡Œæ—¥å¿—
    """
    global Active_Sandboxes
    if session_id in Active_Sandboxes:
        sandbox = Active_Sandboxes[session_id]
        try:
            sandbox.kill()
        except Exception as e:
            msg = f'Failed to close sandbox with session ID: {session_id}, {str(e)}'
            logger.warning(e)
            return msg
        msg = f"Sandbox close successfully with session ID: {session_id}"
        logger.info(msg)
        return msg
    else:
        msg = f"Sandbox failed to stop session ID: {session_id} not found."
        logger.warning(msg)
        return msg


class CodeOutput(BaseModel):
    stdout: str
    stderr: str
    error: str
    traceback: str


async def execute_code(session_id: str = Field(description='éœ€è¦è¿è¡Œä»£ç çš„ç›®æ ‡æ²™ç®±id'),
                       code: str = Field(description='å¾…è¿è¡Œçš„ä»£ç ')) -&gt; CodeOutput:
    """åœ¨æ²™ç®±ä¸­è¿è¡Œä»£ç å¹¶è·å–ä»£ç çš„æ‰€æœ‰è¿”å›ç»“æœï¼ŒåŒ…æ‹¬stdoutã€stderrã€å„ç±»æŒä¹…åŒ–è¾“å‡ºã€å›¾ç‰‡ç­‰ç­‰
    :param session_id: æ²™ç®±å”¯ä¸€æ ‡è¯†ç¬¦
    :param code: å¾…æ‰§è¡Œçš„ä»£ç 
    :return: ä»£ç æ‰§è¡Œè¿”å›ç»“æ„çš„ç»“æ„ä½“
    """
    global Active_Sandboxes, Execution_DB
    if session_id not in Active_Sandboxes:
        msg = f'Sandbox with session ID : {session_id} not found'
        data = {'error': msg}
    else:
        try:
            sandbox = Active_Sandboxes[session_id]
            # sandboxä¼šåœ¨serverå†…æä¾›æµå¼çš„å†…å®¹è¾“å‡º
            execution = sandbox.run_code(
                code,
                on_stdout=lambda data: logger.info(data),
                on_stderr=lambda data: logger.info(data),
                on_error=lambda data: logger.info(data)
            )

            data = CodeOutput(
                stdout=''.join(execution.logs.stdout),
                stderr=''.join(execution.logs.stderr),
                error=str(execution.error) if execution.error else '',
                traceback=execution.error.traceback if execution.error else '',
            )
            # Store execution record in database
            execution_record = {
                'timestamp': datetime.now().isoformat(),
                'code': code,
                'output': execution  # å­˜å‚¨æ²™ç®±åŸå§‹ç»“æœå³å¯
            }
            Execution_DB[session_id]['executions'].append(execution_record)
            logger.info(f"Stored execution record for session {session_id}")
        except Exception as e:
            error_msg = f"Code execution failed: {str(e)}"
            traceback_str = traceback.format_exc()
            logger.warning(f"Execution error: {error_msg}\n{traceback_str}")
            data = CodeOutput(
                error=error_msg,
                traceback=traceback_str,
                stdout='',
                stderr=''
            )
            execution_record = {
                'timestamp': datetime.now().isoformat(),
                'code': code,
                'output': None
            }
            Execution_DB[session_id]['executions'].append(execution_record)
            logger.info(f"Stored error execution record for session {session_id}")

    return data


async def upload_file(session_id: str = Field(description='å¾…ä¸Šä¼ æ–‡ä»¶çš„ç›®æ ‡æ²™ç®±id'),
                      file_list: List = Field(description='ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨ï¼Œæ¯ä¸ªéƒ½æ˜¯æœ¬åœ°æ–‡ä»¶çš„ç»å¯¹è·¯å¾„')
                      ) -&gt; str:
    """ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°å½“å‰æ­£åœ¨æ‰§è¡Œçš„æ²™ç®±ä¸­
    :param session_id: æ²™ç®±å”¯ä¸€æ ‡è¯†ID
    :param file_list: å¾…ä¸Šä¼ çš„æœ¬åœ°æ–‡ä»¶åˆ—è¡¨ï¼Œæ–‡ä»¶åç§°åŒ…å«æœ¬åœ°æ–‡ä»¶è·¯å¾„
    :return: æ‰§è¡Œæ—¥å¿—
    """
    global Active_Sandboxes
    if session_id not in Active_Sandboxes:
        msg = f'Sandbox with session ID : {session_id} not found'
        logger.warning(msg)
        return msg
    else:
        sandbox = Active_Sandboxes[session_id]
    return_msg = ''
    for file in file_list:
        try:
            with open(file, 'rb') as f:
                sandbox.files.write(file, f.read())
            msg = f'Uploading {file} success'
            logger.info(msg)
        except Exception as e:
            msg = f'Uploading {file} failed:' + str(e)
            logger.warning(msg)
        return_msg += msg + '\n'
    return return_msg
</code></pre>
<p>ä¸‹é¢æ˜¯low level Serveræ ¸å¿ƒlist_toolå’Œcall_toolçš„å®ç°ï¼Œéœ€è¦ç”¨æˆ·æ˜¾å¼å®šä¹‰æ¯ä¸€ä¸ªå·¥å…·çš„schemaå’Œå…·ä½“çš„è°ƒç”¨æ–¹æ³•, ä»¥ä¸‹æˆ‘å·²ç»å‚è€ƒåé¢çš„FastMCPçš„é«˜çº§å°è£…åœ¨å®šä¹‰æ—¶åšäº†ä¸€äº›ç®€åŒ–ã€‚æ¯ä¸ªå·¥å…·çš„åç§°å’Œæè¿°ï¼Œç›´æ¥æ¥è‡ªå‡½æ•°åç§°å’Œæ³¨é‡Šï¼Œä¸ç”¨å†æ‰‹å·¥å¡«å†™ã€‚</p>
<pre><code class="language-python">@server.list_tools()
async def list_tools() -&gt; list[Tool]:
    tools = [
        Tool(name=initialize_sandbox.__name__,
             description=initialize_sandbox.__doc__,
             inputSchema={
                 "type": "object",
                 "properties": {
                     "timeout": {
                         "type": "integer",
                         "description": "æ²™ç®±æœ€å¤§è¿è¡Œæ—¶é•¿ï¼Œå•ä½ä¸ºç§’"
                     }
                 },
                 "required": ["timeout"],
             }),
        Tool(name=close_sandbox.__name__,
             description=close_sandbox.__doc__,
             inputSchema={
                 "type": "object",
                 "properties": {
                     "session_id": {
                         "type": "string",
                         "description": "éœ€è¦å…³é—­çš„æ²™ç®±id"
                     }
                 },
                 "required": ["session_id"],
             }),
        Tool(name=execute_code.__name__,
             description=execute_code.__doc__,
             inputSchema={
                 "type": "object",
                 "properties": {
                     "session_id": {
                         "type": "string",
                         "description": "å¾…è¿è¡Œä»£ç çš„æ²™ç®±id"
                     },
                     "code": {
                         "type": "string",
                         "description": 'å¾…è¿è¡Œçš„ä»£ç '
                     }
                 },
                 "required": ["session_id", "code"],
             },
             outputSchema=CodeOutput.model_json_schema()),
        Tool(name=upload_file.__name__,
             description=upload_file.__doc__,
             inputSchema={
                 "type": "object",
                 "properties": {
                     "session_id": {
                         "type": "string",
                         "description": "å¾…ä¸Šä¼ æ–‡ä»¶çš„ç›®æ ‡æ²™ç®±id"
                     },
                     "file_list": {
                         "type": "array",
                         "description": "ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨ï¼Œæ¯ä¸ªéƒ½æ˜¯æœ¬åœ°æ–‡ä»¶çš„ç»å¯¹è·¯å¾„"
                     }
                 },
                 "required": ["session_id", "file_list"]
             })

    ]

    return tools


@server.call_tool()
async def call_tool(name: str, arguments: dict[str, Any]):
    """
    call toolè¿”å›ç»“æ„å¹¶ä¸å±€é™åœ¨Textï¼Œ Audio å’Œ Imageç±»å‹, å¦‚æœä½ å®šä¹‰å¤æ‚ç»“æ„ä½“ï¼Œè¿”å›Anyç±»å‹å³å¯
    """
    try:
        match name:
            case initialize_sandbox.__name__:
                result = await initialize_sandbox(arguments['timeout'])
                result = [TextContent(type="text", text=result)]

            case close_sandbox.__name__:
                result = await close_sandbox(arguments['session_id'])
                result = [TextContent(type="text", text=result)]

            case upload_file.__name__:
                result = await upload_file(arguments['session_id'], arguments['file_list'])
                result = [TextContent(type="text", text=result)]

            case execute_code.__name__:
                result = await execute_code(arguments['session_id'], arguments['code'])
                result = result.dict()
            case _:
                raise ValueError('Error calling tool: input name do not match any tool name')
        return result
    except Exception as e:
        raise ValueError(f'Error calling tool: {str(e)}')


async def main():
    options = server.create_initialization_options()
    async with stdio_server() as (read_stream, write_stream):
        await server.run(read_stream, write_stream, options)
        
if __name__ == '__main__':
    import asyncio
    asyncio.run(main())
</code></pre>
<p>å”¯ä¸€åœ¨å¼€å‘æ—¶è®©æˆ‘æœ‰äº›å›°æƒ‘çš„åœ¨äºcall_toolçš„è¿”å›ç±»å‹ï¼Œå› ä¸ºéœ€è¦å…¼å®¹ç»“æ„åŒ–è¾“å‡ºå’Œçº¯æ–‡æœ¬è¾“å‡ºè¿™ä¸¤ç§ç±»å‹ï¼Œç»†çœ‹serverçš„Type Hintä¼šå‘ç°call_toolçš„è¾“å‡ºç±»å‹æ˜¯<code>Sequence[ContentBlock] | dict[str, Any]</code>, ä¹Ÿå°±æ˜¯ç»“æ„åŒ–å’Œéç»“æ„åŒ–ï¼ˆçº¯æ–‡æœ¬ï¼‰çš„è¾“å‡ºç±»å‹åˆ†åˆ«æ˜¯Listå’ŒDictä¸¤ç§ç±»å‹ï¼Œä¼šè¢«è§£æåˆ°ä¸¤ä¸ªä¸åŒçš„å­—æ®µ<code>content</code>å’Œ<code>structuredContent</code>ã€‚</p>
<p>æœ¬è´¨ä¸Šæ˜¯å¦ä»¥æ–‡æœ¬æ ¼å¼è¿”å›çš„<strong>äº‰è®®ç‚¹åœ¨äºå·¥å…·è¿”å›å†…å®¹çš„ä½¿ç”¨æ–¹æ˜¯å·¥å…·ï¼Ÿæ¨¡å‹ï¼Ÿäººç±»ï¼Ÿ</strong>ï¼Œçº¯æ–‡æœ¬é»˜è®¤äº†å·¥å…·çš„ä½¿ç”¨æ–¹æ˜¯æ¨¡å‹ï¼Œä½†å…¶å®å¾ˆå¤šåœºæ™¯ä¸‹å¹¶ä¸æ˜¯ï¼Œä¾‹å¦‚å¤šæ­¥å·¥å…·è°ƒç”¨ä¼ é€’å‚æ•°ã€å·¥å…·ä½œä¸ºç¨‹åºæ§åˆ¶å™¨ã€ç¼–ç¨‹åœºæ™¯ã€æ•°æ®åˆ†æåœºæ™¯ç­‰ç­‰ã€‚äºæ˜¯å®˜æ–¹ä»£ç åé¢æ‰æŠŠStructuredContentåŠ ä¸Šï¼Œgitä¸Šæœ‰ä¸å°‘è®¨è®ºï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»ç…ç…<a href="https://github.com/modelcontextprotocol/modelcontextprotocol/issues/97" target="_blank" rel="noopener nofollow">Bring back the concept of "toolResult" (non-chat result) </a></p>
<h3 id="high-level-fastmcp">High-Level FastMCP</h3>
<p>æœ‰äº†Low-Level APIçš„åŸºç¡€FastMCPå°±å¥½ç†è§£å¤šäº†ã€‚ä»¥ä¸‹æ˜¯æ•ˆæœç›¸åŒï¼ŒåŸºäºFastMCPè¿™ä¸ªHigh Level APIçš„MCPå·¥å…·å®ç°ï¼ŒcodeåŠŸèƒ½éƒ¨åˆ†å’Œä»¥ä¸Šç›¸åŒå°±ä¸é‡å¤äº†ã€‚</p>
<pre><code class="language-python">
from mcp.server.fastmcp import FastMCP

logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
logger = logging.getLogger("e2b-sandbox")

# æœåŠ¡åˆå§‹åŒ–
mcp = FastMCP("code-sandbox")
Active_Sandboxes = {}
load_dotenv()  # è¯»å–envæ–‡ä»¶ä¸­çš„E2B API Key


@mcp.tool()
async def initialize_sandbox(timeout: int = Field(description='æ²™ç®±æœ€å¤§è¿è¡Œå¸‚åœºï¼Œå•ä½ä¸ºç§’', default=1000)) -&gt; str:
    """åˆ›å»ºä¸€ä¸ªæ–°çš„æ²™ç®±ç¯å¢ƒç”¨äºä»£ç æ‰§è¡Œ
    :return: str: è¿”å›åˆå§‹åŒ–æ—¥å¿—åŒ…å«å¯åŠ¨æ²™ç®±id
    """
    ...
    return msg


@mcp.tool()
async def close_sandbox(session_id: str = Field(description='éœ€è¦å…³é—­çš„æ²™ç®±id')) -&gt; str:
    """æ‰€æœ‰ä»£ç è¿è¡Œå®Œæ¯•ä¹‹åï¼Œå…³é—­å·²æœ‰çš„æ²™ç®±ç¯å¢ƒ
    :return: æ‰§è¡Œæ—¥å¿—
    """
    ...
    return msg


class CodeOutput(TypedDict):
    results: List
    stdout: str
    stderr: str
    error: str
    traceback: str


@mcp.tool()
async def execute_code(session_id: str = Field(description='éœ€è¦è¿è¡Œä»£ç çš„æ²™ç®±id'),
                       code: str = Field(description='å¾…è¿è¡Œçš„ä»£ç ')) -&gt; CodeOutput:
    """åœ¨æ²™ç®±ä¸­è¿è¡Œä»£ç å¹¶è·å–ä»£ç çš„æ‰€æœ‰è¿”å›ç»“æœ
    :return: ä»£ç æ‰§è¡Œè¿”å›ç»“æ„ä½“åŒ…å«stdoutï¼Œstderrï¼Œerror
    """
    ...
    return data


@mcp.tool()
async def upload_file(session_id: str = Field(description='ä¸Šä¼ åˆ°ç›®æ ‡æ²™ç®±çš„å”¯ä¸€æ ‡è¯†ç¬¦'),
                file_list: List = Field(description='ä¸Šä¼ æ–‡ä»¶åˆ—è¡¨ï¼Œæ¯ä¸ªéƒ½æ˜¯æœ¬åœ°æ–‡ä»¶çš„ç»å¯¹è·¯å¾„')
                ) -&gt; str:
    """ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°å½“å‰æ­£åœ¨æ‰§è¡Œçš„æ²™ç®±ä¸­
    :return: æ‰§è¡Œæ—¥å¿—
    """
    ...
    return return_msg
    
if __name__ == '__main__':
    mcp.run(transport='stdio')

</code></pre>
<p>ä»ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°FastMCPåœ¨æœåŠ¡å¼€å‘ä¸Šåšäº†ä»¥ä¸‹å‡ ç‚¹ç®€åŒ–</p>
<ol>
<li><strong>æœåŠ¡å™¨åˆ›å»ºå’Œå¯åŠ¨çš„ç®€åŒ–</strong>ï¼šFastMCPå¯ä»¥åƒflaskã€FastAPIä¸€æ ·ç›´æ¥mcp.runå¯åŠ¨</li>
<li><strong>å·¥å…·ï¼ˆèµ„æºã€promptï¼‰å®šä¹‰å’Œè°ƒç”¨çš„ç®€åŒ–</strong>ï¼šæ— éœ€æ˜¾å¼æ„å»ºlist_toolå’Œcall_tool APIï¼Œä½¿ç”¨mcp.toolè£…é¥°å™¨ç›´æ¥æ³¨å†Œå·¥å…·ï¼ŒèƒŒåçš„tool Managerä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸Šå·¥å…·è¯´æ˜å’Œå·¥å…·è°ƒç”¨æ–¹æ³•çš„æ„å»ºï¼Œresourceå’Œpromptä¹Ÿæ˜¯åŒç†ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡å’Œæ—¥å¿—çš„ç®€åŒ–</strong>ï¼šçœ‹å®ç°FastMCPæŠ½è±¡äº†Contextå¯¹è±¡æ¥ç®€åŒ–æ—¥å¿—å’Œè¿›åº¦ç®¡ç†ï¼Œä½†è¿™å—æˆ‘è¿˜æ²¡å…·ä½“ç”¨è¿‡å°±ä¸åšå±•å¼€ã€‚</li>
</ol>
<p>âš™ï¸ ç®€å•è¯´ä¸‹FastMCPçš„æ¶æ„æ ¸å¿ƒï¼š</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1326688/202508/1326688-20250818125259966-250909337.png" class="lazyload"></p>
<ol>
<li><strong>FastMCPå¼•å…¥äº†3ä¸ªæ ¸å¿ƒç®¡ç†å™¨Toolã€Resourceã€Prompt Manger</strong>:æ¯ä¸ªmanagerå†…éƒ¨éƒ½å„è‡ªå®ç°äº†æ³¨å†Œï¼ˆadd_toolï¼‰ã€è·å–(list_tool)ã€è°ƒç”¨ï¼ˆcall_toolï¼‰çš„åŠŸèƒ½ï¼Œå…±åŒç»´æŠ¤æœåŠ¡å†…æ‰€æœ‰çš„toolã€resourceå’Œprompt</li>
</ol>
<pre><code class="language-python">class FastMCP:
    def __init__(self, ...):
        self._tool_manager = ToolManager(...)
        self._resource_manager = ResourceManager(...)
        self._prompt_manager = PromptManager(...)
</code></pre>
<ol start="2">
<li><strong>FastMCPé€šè¿‡è£…é¥°å™¨å’Œè‡ªåŠ¨ç±»å‹æ¨æ–­ç®€åŒ–æ³¨å†Œ</strong>ï¼šåœ¨è£…é¥°å™¨æ³¨å†Œå·¥å…·åï¼Œé€šè¿‡typingå’Œpydantic BaseModelnèƒ½è‡ªåŠ¨å®Œæˆå·¥å…·è¾“å…¥å‚æ•°å’Œè¾“å‡ºç±»å‹çš„è§£æç›´æ¥ç”Ÿæˆlist_toolçš„schemaã€‚å¹¶ä¸”å¯¹æ¯”low-levelï¼ŒFastMCPåŸºäºpydanticæä¾›äº†æ›´å¤šå‚æ•°éªŒè¯çš„åŠŸèƒ½ã€‚</li>
</ol>
<pre><code class="language-python">def tool(self, name=None, title=None, description=None):
    def decorator(fn):
        # è‡ªåŠ¨åˆ†æå‡½æ•°ç­¾å
        func_metadata = func_metadata(fn)
        
        # è‡ªåŠ¨ç”Ÿæˆå‚æ•°schema
        parameters = func_metadata.arg_model.model_json_schema()
        
        # æ³¨å†Œåˆ°å·¥å…·ç®¡ç†å™¨
        self._tool_manager.add_tool(fn, name, title, description)
        return fn
    return decorator
</code></pre>
<p>è€ƒè™‘åˆ°FastMCPå¼€å‘çš„ä¾¿æ·æ€§ï¼Œåé¢å†è¿›ä¸€æ­¥çš„MCPå¼€å‘æˆ‘ä»¬éƒ½ä¼šåŸºäºFastMCPå¼€å‘ï¼Œä¸å†æ¼”ç¤ºlow-level serverçš„å®ç°ï¼ˆå“ˆå“ˆå“ˆç”¨low-levelçš„è€å¿ƒå·²è€—å°½ï¼‰ã€‚</p>
<h2 id="mcpç”¨æ³•è„‘æš´">MCPç”¨æ³•è„‘æš´</h2>
<h3 id="promptæœ‰å•¥ç”¨">Promptæœ‰å•¥ç”¨ï¼Ÿ</h3>
<p><strong>å’Œå·¥å…·ä¸åŒï¼ŒPromptæ˜¯ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ï¼Œè€Œéæ¨¡å‹é€‰æ‹©çš„ã€‚</strong> æœ¬è´¨ä¸Šåªæ˜¯Serveræä¾›è€…ç»™åˆ°çš„ä¸€äº›å·¥å…·æŒ‡ä»¤çš„æœ€ä½³å®è·µè€Œå·²ï¼Œmcpçš„ä½¿ç”¨è€…å¯ä»¥é€‰æ‹©ç”¨æˆ–è€…ä¸ç”¨ã€‚</p>
<p>ä¸è¿‡ä¸€ä¸ªæœ‰æ„æ€çš„ä½¿ç”¨æ–¹å¼ï¼Œæ˜¯åœ¨å›¢é˜Ÿå†…éƒ¨å¯ä»¥æ•´ä¸€ä¸ªprompt-mcp-serveræ¥æŠŠå¤§å®¶åœ¨å¹³æ—¶å¼€å‘ä¸­äº²æµ‹å¥½ç”¨çš„ä¸€äº›promptç´¯ç§¯èµ·æ¥ï¼Œé¿å…å„è‡ªä¸ºæˆ˜å’Œé‡å¤åŠ³åŠ¨ï¼Œå“ˆå“ˆå‡†å¤‡æèµ·æ¥~</p>
<h3 id="resource-vs-tool">Resource vs Tool</h3>
<p>Toolå’ŒPromptçš„ç”¨æ³•ç›¸å¯¹å¸¸è§ï¼Œä½†æ˜¯<code>Resource</code>çš„å­˜åœ¨ä¸€åº¦è®©æˆ‘å¾ˆéš¾ç†è§£ï¼Œæˆ‘çœ‹åˆ°äº†åŒ…æ‹¬ä»¥ä¸‹çš„å‡ ç§è§£é‡Š</p>
<ul>
<li>Get vs Postï¼šToolå’ŒResourceçš„åŒºåˆ«å°±æ˜¯Getå’ŒPostçš„åŒºåˆ«ï¼Œå·¥å…·å¯ä»¥æ‰§è¡Œä»»åŠ¡è€ŒResourceåªèƒ½è·å–ä¿¡æ¯ã€‚è°è¯´Toolä¸èƒ½ç”¨Getæ–¹æ³•äº†ï¼Ÿ</li>
<li>å’Œæ–‡ä»¶æˆ–æ•°æ®åº“å¯¹æ¥è¿”å›æ•°æ®ï¼šResourceä¸“ç”¨äºå’Œæ–‡ä»¶å’Œæ•°æ®åº“å¯¹æ¥ï¼Œç”¨äºè¿”å›æ¨¡å‹éœ€è¦çš„æ•°æ®ã€‚Toolä¸æ˜¯ä¸€æ ·ä¹Ÿèƒ½å¯¹æ¥æ•°æ®åº“å’Œç³»ç»Ÿæ–‡ä»¶ï¼Ÿ</li>
</ul>
<p>ä»¥ä¸Šçš„è¯´æ³•å¹¶æ²¡è¯´æœæˆ‘ï¼Œçœ‹äº†çœ‹å¤šserverä¹Ÿåªå‘ç°Resourceå’Œtoolä¹‹å‰è¿˜æœ‰ä»¥ä¸‹å‡ ç‚¹ä¸åŒ</p>
<ul>
<li>è®¢é˜…å’Œæ¨é€ï¼šResourceå¯ä»¥å®ç°è®¢é˜…æ¨é€æœºåˆ¶ï¼Œä»æ¨¡å‹ä¸»åŠ¨è·å–æ•°æ®å˜æ›´ï¼Œåˆ°æ£€æµ‹æ•°æ®å˜æ›´å¹¶æ¨é€ç»™æ¨¡å‹ï¼Œä½†æ˜¯è¿™ä¾èµ–å®¢æˆ·ç«¯æ˜¯å¦æœ‰ç±»ä¼¼çš„è®¾è®¡ï¼Œéœ€è¦å®¢æˆ·ç«¯è®¢é˜…resourceå˜æ›´</li>
<li>å¤šæ¨¡æ€æ•°æ®ç±»å‹ï¼šè¿˜æ˜¯å‰é¢çš„æ€è·¯toolçš„è¿”å›ç»“æœé»˜è®¤æ˜¯ä¼ é€’ç»™æ¨¡å‹çš„ï¼Œå› æ­¤ä»¥æ–‡æœ¬ä½œä¸ºä¸»è¦æ ¼å¼ï¼Œåé¢æ‰åŠ å…¥äº†structureOutputï¼Œè€Œresourceåˆ™æ”¯æŒæ•°æ®æµã€äºŒè¿›åˆ¶ç­‰æ›´å¤šæ•°æ®ç±»å‹</li>
</ul>
<p>ä¸ªäººæ„Ÿè§‰resourceçš„ä½¿ç”¨ç‰¹æ€§è¿˜åœ¨æ‘¸ç´¢é˜¶æ®µï¼Œæˆ‘è¿˜æ²¡å¤ªæƒ³æ˜ç™½å“ˆå“ˆå“ˆï¼Œè¦æ˜¯å¤§å®¶æœ‰å¥½çš„æ€è·¯ä»¥æ¬¢è¿è¯„è®ºåŒºç•™è¨€~</p>
<p>åœ¨serveré‡Œé¢æˆ‘è®¾è®¡äº†ä¸€ä¸ªjupyter resourceï¼Œç”¨äºå½“æ•´ä¸ªä»»åŠ¡å®Œæˆåï¼ŒæŠŠæ‰€æœ‰codeå’Œcodeæ‰§è¡Œç»“æœæ‰“åŒ…æˆjupyter notebookå›ä¼ ç»™å®¢æˆ·ç«¯ï¼Œè¿›è¡Œå±•ç¤ºã€‚è¿™é‡Œæˆ‘é€‰æ‹©æŠŠjupyter notebookæŒ‰ç…§nb4çš„æ ¼å¼è¿”å›jsonå­—ç¬¦ä¸²çš„æ€è·¯ï¼Œå½“ç„¶è¿”å›äºŒè¿›åˆ¶æµä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<p>serveréƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹ï¼Œåœ¨ç”Ÿäº§åœºæ™¯ä¸€èˆ¬è¿™é‡Œä¼šä½¿ç”¨OSSç­‰è¿œç¨‹å­˜å‚¨ï¼Œç›´æ¥æŠŠipynbä¸Šä¼ åˆ°äº‘ï¼Œåœ¨å®¢æˆ·ç«¯å†ç›´æ¥ä½¿ç”¨è¿”å›çš„é“¾æ¥å»äº‘ä¸Šä¸‹è½½æ–‡ä»¶å³å¯ï¼Œè¿™é‡Œå’±éƒ½åœ¨æœ¬åœ°å°±ç®€åŒ–æˆå›ä¼ æ–‡ä»¶ä¿¡æ¯äº†~</p>
<pre><code class="language-python">@mcp.resource("file://notebook/{session_id}.ipynb",
              mime_type='application/json')
async def get_execution_history(session_id: str) -&gt; str:
    """è·å–æŒ‡å®šsessionçš„æ‰€æœ‰ä»£ç å’Œä»£ç æ‰§è¡Œå†å²è®°å½•ï¼Œä»¥Jupyter Meta Dataå½¢å¼è¿”å›
    """
    global Execution_DB
    cell_list = []
    code_counter = 0
    logger.info('get jupyter history')
    if session_id in Execution_DB:
        session_data = Execution_DB[session_id]
        executions = session_data.get('executions', [])
        for execution_record in executions:
            cell_list.append({
                "cell_type": "code",
                "execution_count": code_counter,
                "metadata": {},
                "source": execution_record['code'],
                "outputs": parse_nb(execution_record["output"])
            })
            code_counter += 1
        notebook = update_notebook_data(cell_list)
        
        logger.info(f"Generated notebook for session {session_id}")
        # è¿”å›notebookçš„JSONå†…å®¹ä½œä¸ºbytesï¼Œè¿™æ ·å®¢æˆ·ç«¯ä¼šæ¥æ”¶åˆ°çœŸæ­£çš„ipynbæ–‡ä»¶å†…å®¹
        return json.dumps(notebook,ensure_ascii=False)
    else:
        raise ValueError(f'Sandbox with session ID : {session_id} not found')
</code></pre>
<h2 id="mcp-client">MCP Client</h2>
<p>è¯´å®ŒæœåŠ¡ç«¯ï¼Œå’±æœ€åæ¥çœ‹ä¸‹å®¢æˆ·ç«¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯low-level mcpå’Œhigh-level FastMCPæ¥å£ä¹Ÿå­˜åœ¨ç»†å¾®å·®å¼‚ï¼Œç®€å•è¯´fastmcpè¿”å›å€¼åµŒå¥—å‡å°‘äº†ä¸€å±‚ï¼Œè€ƒè™‘åé¢éƒ½ä¼šä»¥FastMCPä¸ºä¸»ï¼Œè¿™é‡Œåªå±•ç¤ºFastMCPå¯¹åº”clientçš„ç›¸å…³ä»£ç å’Œç»“æœ</p>
<pre><code class="language-python">from fastmcp import Client
from fastmcp.client.transports import StdioTransport

# ä½¿ç”¨Transportçš„åŸå› ä¸ºä¸ºäº†åˆ¶å®šserver.pyè„šæœ¬çš„è·¯å¾„
transport = StdioTransport(
    command="python",
    args=["-m", "src.servers.e2b_high_level.server"],
    env={"LOG_LEVEL": "DEBUG"}
)
session = Client(transport)

async with session:
    # List available prompts
    prompts = await session.list_prompts()
    print(f"Available prompts: {[p.name for p in prompts]}")

    # List available resources:é™æ€resource
    resources = await session.list_resources()
    print(f"Available resources: {[r.uri for r in resources]}")

    # List available resource templatesï¼šåŠ¨æ€resource
    templates = await session.list_resource_templates()
    print(f"Available templates: {[r.uriTemplate for r in templates]}")

    # List available tools
    tools = await session.list_tools()
    print(tools)
    print(f"Available tools: {[t.name for t in tools]}")

    # åˆå§‹åŒ–æ²™ç®±
    result = await session.call_tool("initialize_sandbox", arguments={"timeout": 1000})
    print(f"Tool result: {result.content[0].text}")
    # å®é™…ä¸Šsession_idåº”è¯¥ç”±æ¨¡å‹åŸºäºä¸Šæ–‡ï¼Œåœ¨ä¸‹ä¸€æ­¥execute codeçš„å·¥å…·è°ƒç”¨ä¸­æ¨ç†å¾—åˆ°
    session_id = result.content[0].text.split(':')[1].strip()
    # ä¸Šä¼ æ–‡ä»¶

    current_dir = os.path.dirname(os.path.abspath(__file__))
    result = await session.call_tool("upload_file",
                                     arguments={"session_id": session_id,
                                                "file_list": [os.path.join(current_dir, 'tests',
                                                                           'fund_information.csv')]})
    print(f"Tool result: {result.content[0].text}")

    # æ‰§è¡Œ2æ­¥ä»£ç : å¯¹äºç»“æ„åŒ–è¾“å‡ºï¼Œcall_toolå†…éƒ¨ä¼šæ ¹æ®toolçš„output schemaï¼Œè‡ªåŠ¨è¿›è¡Œmodel validateè§£æ
    result = await session.call_tool("execute_code",
                                     arguments={"session_id": session_id, "code": test_code1})
    print(f"Execute Code: {result.structured_content}")

    result = await session.call_tool("execute_code",
                                     arguments={"session_id": session_id, "code": test_code2})
    print(f"Execute Code: {result.structured_content}")

    # ç›´æ¥è·å–notebookæ–‡ä»¶å†…å®¹ - ä½¿ç”¨application/octet-stream
    notebook_resource = await session.read_resource(f'file://notebook/{session_id}.ipynb')
    with open( f'notebook_{session_id}.ipynb', 'w',encoding='UTF-8') as f:
        f.write(notebook_resource[0].text)

    # å…³é—­æ²™ç®±
    result = await session.call_tool("close_sandbox", arguments={"session_id": session_id})
    print(f"Tool result: {result.content[0].text}")
</code></pre>
<p>ç»“æœå¦‚ä¸‹</p>
<p><img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1326688/202508/1326688-20250818125300019-1181584862.png" class="lazyload"></p>
<p>ä½¿ç”¨èµ„æºè·å–çš„notebookæ–‡ä»¶å¦‚ä¸‹<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1326688/202508/1326688-20250818125300051-2048142942.png" class="lazyload"></p>
<hr>
<h2 id="å­¦ä¹ èµ„æºåˆ—è¡¨">å­¦ä¹ èµ„æºåˆ—è¡¨</h2>
<ul>
<li><a href="https://modelcontextprotocol.io/introduction" target="_blank" rel="noopener nofollow">Claude å®˜æ–¹MCPæŒ‡å—</a></li>
<li><a href="https://github.com/microsoft/mcp-for-beginners" target="_blank" rel="noopener nofollow">Microsoft MCP for Beginner</a></li>
<li><a href="https://github.com/e2b-dev/e2b" target="_blank" rel="noopener nofollow">E2B SDK</a></li>
<li><a href="https://glama.ai/mcp/servers?query=&amp;attributes=language%3Apython&amp;sort=recent-github-stargazers%3Adesc" target="_blank" rel="noopener nofollow">Glamaå¼€æºMCPæ±‡æ€»</a></li>
<li><a href="https://mcpbased.com/servers/c2ee38e8-f99f-4c98-9ffa-fd19c2e674be" target="_blank" rel="noopener nofollow">MCP Basedå¼€æºMCPæ±‡æ€»</a></li>
</ul>
<p>æƒ³çœ‹æ›´å…¨çš„å¤§æ¨¡å‹è®ºæ–‡Â·AgentÂ·å¼€æºæ¡†æ¶Â·AIGCåº”ç”¨ &gt;&gt; <a href="https://github.com/DSXiangLi/DecryptPrompt" target="_blank" rel="noopener nofollow">DecryPrompt</a></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-08-18 12:56">2025-08-18 12:55</span>&nbsp;
<a href="https://www.cnblogs.com/gogoSandy">é£é›¨ä¸­çš„å°ä¸ƒ</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19044475);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19044475', targetLink: 'https://www.cnblogs.com/gogoSandy/p/19044475', title: 'è§£å¯†promptç³»åˆ—59. MCPå®æˆ˜ï¼šä»Low-Levelåˆ°FastMCPçš„æ­å»ºæ¼”è¿›' })">ä¸¾æŠ¥</a>
</div>
        