
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/myshiqiqi/p/18699879" title="å‘å¸ƒäº 2025-02-05 17:42">
    <span role="heading" aria-level="2">C# ç‰ˆæœ¬ 6 æ–°å¢ç‰¹æ€§</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="c-60-ç‰ˆ">C# 6.0 ç‰ˆ</h2>
<p>å‘å¸ƒæ—¶é—´ï¼š2015 å¹´ 7 æœˆ</p>
<p>ç‰ˆæœ¬ 6.0 éš Visual Studio 2015 ä¸€èµ·å‘å¸ƒï¼Œå‘å¸ƒäº†å¾ˆå¤šä½¿å¾— C# ç¼–ç¨‹æ›´æœ‰æ•ˆç‡çš„å°åŠŸèƒ½ã€‚ ä»¥ä¸‹ä»‹ç»äº†éƒ¨åˆ†åŠŸèƒ½ï¼š</p>
<ul>
<li><a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/keywords/using-directive" target="_blank" rel="noopener nofollow">é™æ€å¯¼å…¥</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/keywords/when" target="_blank" rel="noopener nofollow">å¼‚å¸¸ç­›é€‰å™¨</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/programming-guide/classes-and-structs/properties" target="_blank" rel="noopener nofollow">è‡ªåŠ¨å±æ€§åˆå§‹åŒ–è¡¨è¾¾å¼</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/lambda-operator#expression-body-definition" target="_blank" rel="noopener nofollow">Expression bodied æˆå‘˜</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/member-access-operators#null-conditional-operators--and-" target="_blank" rel="noopener nofollow">Null ä¼ æ’­å™¨</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/tokens/interpolated" target="_blank" rel="noopener nofollow">å­—ç¬¦ä¸²å†…æ’</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/nameof" target="_blank" rel="noopener nofollow">nameof è¿ç®—ç¬¦</a></li>
</ul>
<p>å…¶ä»–æ–°åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç´¢å¼•åˆå§‹åŒ–è¡¨è¾¾å¼</li>
<li>Catch/Finally å—ä¸­çš„ Await</li>
<li>ä»…é™ getter å±æ€§çš„é»˜è®¤å€¼</li>
</ul>
<p>å¦‚æœæ•´ä½“çœ‹å¾…è¿™äº›åŠŸèƒ½ï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªæœ‰è¶£çš„æ¨¡å¼ã€‚ åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼ŒC# å¼€å§‹æ¶ˆé™¤è¯­è¨€æ ·æœ¬ï¼Œè®©ä»£ç æ›´ç®€æ´ä¸”æ›´å…·å¯è¯»æ€§ã€‚ æ‰€ä»¥å¯¹å–œæ¬¢ç®€æ´ä»£ç çš„ç”¨æˆ·æ¥è¯´ï¼Œæ­¤è¯­è¨€ç‰ˆæœ¬éå¸¸æˆåŠŸã€‚</p>
<p>é™¤äº†å‘å¸ƒæ­¤ç‰ˆæœ¬ï¼Œä»–ä»¬è¿˜åšäº†å¦ä¸€ä»¶äº‹ï¼Œè™½ç„¶è¿™ä»¶äº‹æœ¬èº«ä¸ä¼ ç»Ÿçš„è¯­è¨€åŠŸèƒ½æ— å…³ã€‚ ä»–ä»¬å‘å¸ƒäº†&nbsp;<a href="https://github.com/dotnet/roslyn" target="_blank" rel="noopener nofollow">Roslyn ç¼–è¯‘å™¨å³æœåŠ¡</a>ã€‚ C# ç¼–è¯‘å™¨ç°åœ¨æ˜¯ç”¨ C# ç¼–å†™çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ç¼–è¯‘å™¨ä½œä¸ºç¼–ç¨‹å·¥ä½œçš„ä¸€éƒ¨åˆ†ã€‚</p>
<hr>
<p>å‚è€ƒæ–‡ç« ï¼š<br>
<a href="https://www.cnblogs.com/SavionZhang/p/11195396.html" target="_blank">C#6.0 æ–°å¢åŠŸèƒ½ - å¼ ä¼ å® - åšå®¢å›­</a><br>
<a href="https://blog.csdn.net/weixin_46102505/article/details/131102109" target="_blank" rel="noopener nofollow">C#6.0æ–°ç‰¹æ€§å­¦ä¹ _c# 6.0-CSDNåšå®¢</a></p>
<hr>
<h1 id="ç¬”è®°">ç¬”è®°</h1>
<h3 id="é™æ€å¯¼å…¥-using-static">é™æ€å¯¼å…¥ <code>using static</code></h3>
<pre><code class="language-c#">using static System.Console; 
using static System.Math; // å¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥ç±»ä¸‹çš„é™æ€æˆå‘˜
</code></pre>
<h3 id="å¼‚å¸¸ç­›é€‰å™¨-when-å…³é”®å­—">å¼‚å¸¸ç­›é€‰å™¨ <code>when å…³é”®å­—</code></h3>
<pre><code class="language-c#">catch (ExceptionType [e]) when (expr)

// ğŸ‘‡ when æŒ‡å®šä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œä¸ºtrueæ—¶æ‰ä¼šæ•æ‰è¯¥å¼‚å¸¸
catch (HttpRequestException e) when (e.Message.Contains("301")) 
{ return "Site Moved"; }  
</code></pre>
<pre><code class="language-c#">catch (Exception e) when (e is ArgumentException || e is DivideByZeroException) 
{ Console.WriteLine($"Processing failed: {e.Message}"); }
</code></pre>
<h3 id="è‡ªåŠ¨å±æ€§">è‡ªåŠ¨å±æ€§</h3>
<pre><code class="language-c#">public string FirstName { get; set; } = string.Empty;  // å£°æ˜å±æ€§çš„æ—¶å€™ä¸ºå±æ€§è®¾å®šåˆå§‹å€¼
</code></pre>
<h3 id="è¡¨è¾¾å¼æˆå‘˜-member--expression">è¡¨è¾¾å¼æˆå‘˜ <code>member =&gt; expression;</code></h3>
<pre><code class="language-c#">// è¯¥æ–¹æ³•æˆå‘˜ä½¿ç”¨äº†lambdaè¡¨è¾¾å¼
// è¯¥æ¡è§„åˆ™å¯¹å±æ€§å’Œæ–¹æ³•éƒ½é€‚ç”¨
public override string ToString() =&gt; $"{fname} {lname}".Trim();
</code></pre>
<h3 id="null-ä¼ æ’­å™¨--å’Œ">Null ä¼ æ’­å™¨ <code>?.</code> å’Œ&nbsp;<code>?[]</code></h3>
<blockquote>
<p>å¦‚æœ&nbsp;<code>a</code>&nbsp;çš„è®¡ç®—ç»“æœä¸º&nbsp;<code>null</code>ï¼Œåˆ™&nbsp;<code>a?.x</code>&nbsp;æˆ–&nbsp;<code>a?[x]</code>&nbsp;çš„ç»“æœä¸º&nbsp;<code>null</code>ã€‚<br>
å¦‚æœ&nbsp;<code>a</code>&nbsp;çš„è®¡ç®—ç»“æœä¸ºé nullï¼Œåˆ™&nbsp;<code>a?.x</code>&nbsp;æˆ–&nbsp;<code>a?[x]</code>&nbsp;çš„ç»“æœå°†åˆ†åˆ«ä¸&nbsp;<code>a.x</code>&nbsp;æˆ–&nbsp;<code>a[x]</code>&nbsp;çš„ç»“æœç›¸åŒã€‚</p>
</blockquote>
<pre><code class="language-C#">a?.x // æˆå‘˜è®¿é—®
a?[x] // å…ƒç´ è®¿é—®
first = person?.FirstName ?? "Unspecified"; // ä¸ â€œnullåˆå¹¶â€ è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨
// ğŸ‘† ä»–ä»¬éƒ½ä¼šæ‰§è¡ŒçŸ­è·¯è¿”å›
</code></pre>
<h3 id="å­—ç¬¦ä¸²å†…æ’-">å­—ç¬¦ä¸²å†…æ’ <code>$</code></h3>
<pre><code class="language-c#">Console.WriteLine($"Hello, {name}! Today is {date.DayOfWeek}, it's {date:HH:mm} now.");
</code></pre>
<h3 id="nameof-è¿ç®—ç¬¦">nameof è¿ç®—ç¬¦</h3>
<p>nameof è¡¨è¾¾å¼å¯ç”Ÿæˆå˜é‡ã€ç±»å‹æˆ–æˆå‘˜çš„åç§°ä½œä¸ºå­—ç¬¦ä¸²å¸¸é‡ã€‚</p>
<pre><code class="language-c#">Console.WriteLine(nameof(System.Collections.Generic)); // output: Generic 
Console.WriteLine(nameof(List&lt;int&gt;)); // output: List 
Console.WriteLine(nameof(List&lt;int&gt;.Count)); // output: Count 
Console.WriteLine(nameof(List&lt;int&gt;.Add)); // output: Add 

List&lt;int&gt; numbers = new List&lt;int&gt;() { 1, 2, 3 }; 
Console.WriteLine(nameof(numbers)); // output: numbers 
Console.WriteLine(nameof(numbers.Count)); // output: Count 
Console.WriteLine(nameof(numbers.Add)); // output: Add
</code></pre>
<h3 id="ç´¢å¼•åˆå§‹åŒ–è¡¨è¾¾å¼">ç´¢å¼•åˆå§‹åŒ–è¡¨è¾¾å¼</h3>
<pre><code class="language-c#">private Dictionary&lt;int, string&gt; webErrors = new Dictionary&lt;int, string&gt;
{
    [404] = "Page not Found", // é€šè¿‡ç´¢å¼•ç›´æ¥æŒ‡å®šå€¼
    [302] = "Page moved, but left a forwarding address.",
    [500] = "The web server can't come out to play today."
};
</code></pre>
<h3 id="catchfinally-å—ä¸­çš„-await">Catch/Finally å—ä¸­çš„ Await</h3>
<pre><code class="language-c#">try     
{
	var responseText = await streamTask;
	return responseText;
} catch (System.Net.Http.HttpRequestException e) when (e.Message.Contains("301"))
{
	await logError("Recovered from redirect", e);  // ğŸ‘ˆ
	return "Site Moved";
}
finally
{
	await logMethodExit();  // ğŸ‘ˆ
	client.Dispose();
}
</code></pre>
<h3 id="ä»…é™-getter-å±æ€§çš„é»˜è®¤å€¼">ä»…é™ getter å±æ€§çš„é»˜è®¤å€¼</h3>
<pre><code class="language-c#">public string LastName {get;} = "Hello"; // åªè¯»çš„å±æ€§ä¹Ÿå¯ä»¥æœ‰åˆå§‹åŒ–è¯­å¥ï¼Œå¹¶ä¸”ï¼Œåªè¯»çš„å±æ€§å¯åœ¨æ„é€ å™¨ä¸­è¿›è¡Œèµ‹å€¼
</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.7706709511076388" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-05 17:47">2025-02-05 17:42</span>&nbsp;
<a href="https://www.cnblogs.com/myshiqiqi">çŸ³èµ·èµ·</a>&nbsp;
é˜…è¯»(<span id="post_view_count">9</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18699879" rel="nofollow">ç¼–è¾‘</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18699879);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18699879', targetLink: 'https://www.cnblogs.com/myshiqiqi/p/18699879', title: 'C# ç‰ˆæœ¬ 6 æ–°å¢ç‰¹æ€§' })">ä¸¾æŠ¥</a>
</div>
        