
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/youlanjihua/p/18919313" title="发布于 2025-06-08 13:55">
    <span role="heading" aria-level="2">详解鸿蒙Next仓颉开发语言中的动画</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-id="p124945a-3UGaqBLo">大家上午好，今天来聊一聊仓颉开发语言中的动画开发。</p>
<p data-id="p124945a-Vcrx74Mp">仓颉中的动画通常有两种方式，分别是属性动画和显示动画，我们今天以下面的加载动画为例，使用显示动画和属性动画分别实现一下，看看他们有什么区别。</p>
<p><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202506/68def6845905bf969e8812f8782b62fff9f06d.png" data-type="block"></p>
<p data-id="p124945a-rLgNGaqu"><strong>显示动画</strong></p>
<p data-id="p124945a-YXlyAZ5y">显示动画是幽蓝君比较习惯使用的方式，它主要依赖animateTo方法来实现。</p>
<p data-id="p124945a-WszEOMOG">首先我要现在页面上添加加载图片，并且将它的角度设置为变量。仓颉语言这里有一个奇怪的地方，角度属性只设置angle的话是无效的，必须同时设置z和angle：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>@State
var angle:Float32 = 0.0
Column{
    Image(@r(app.media.loading))
    .width(70)
    .height(70)
    .rotate(z:this.angle,angle:this.angle)
}
.width(120)
.height(120)
.alignItems(HorizontalAlign.Center)
.justifyContent(FlexAlign.Center)
.backgroundColor(Color(0, 0, 0, alpha: 0.7))
.borderRadius(10)</code></pre>
</div>
<p data-id="p124945a-kb0nfTeQ">然后在添加一个按钮，在按钮的点击事件里进行动画开发：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Button('开始动画')
.width(100)
.onClick({evet =&gt;
    animateTo(
            AnimateParam(
                duration: 2000,
                curve: Curve.Linear,
                delay: 0,
                iterations: -1,
                playMode: PlayMode.Normal,
                onFinish: {=&gt;
                    angle = 0.0
                    }
                ),
                {   =&gt;
                    angle = 360.0
                    })
    })</code></pre>
</div>
<p data-id="p124945a-GhgFJTkX">上面代码中，duration表示动画时长，curve表示动画曲线，delay表示延时，iterations表示循环次数，-1表示无限循环，playMode表示动画模式，这些属性在属性动画中也同样适用。</p>
<p data-id="p124945a-YfTFzCjt"><strong>属性动画</strong></p>
<p data-id="p124945a-sC2wbsMb">属性动画的各个属性个显示动画都是一样的，只是写法上有区别，给大家演示一下同样的动画使用属性动画的写法：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>let animate = AnimateParam(
    duration: 2000,
    curve:Curve.Linear,
    delay: 0,
    iterations: -1,
    playMode: PlayMode.Normal,
    onFinish: { =&gt; })
Column{
    Image(@r(app.media.loading))
     .animationStart(animate)
    .width(70)
    .height(70)
    .rotate(z:this.angle,angle:this.angle)
    .animationEnd()
}
.width(120)
.height(120)
.alignItems(HorizontalAlign.Center)
.justifyContent(FlexAlign.Center)
.backgroundColor(Color(0, 0, 0, alpha: 0.7))
.borderRadius(10)
Button('开始')
.onClick({eve =&gt;
    this.angle = 360.0
    })</code></pre>
</div>
<p data-id="p124945a-4FTB7NKh">以上就是关于仓颉语言属性动画和显示动画的相关内容，感谢阅读。##HarmonyOS语言##仓颉##购物#</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.01752315890509259" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-06-08 13:56">2025-06-08 13:55</span>&nbsp;
<a href="https://www.cnblogs.com/youlanjihua">幽蓝计划</a>&nbsp;
阅读(<span id="post_view_count">6</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18919313);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18919313', targetLink: 'https://www.cnblogs.com/youlanjihua/p/18919313', title: '详解鸿蒙Next仓颉开发语言中的动画' })">举报</a>
</div>
        