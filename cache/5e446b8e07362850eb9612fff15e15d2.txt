
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Java-Starter/p/18754064" title="发布于 2025-03-06 00:25">
    <span role="heading" aria-level="2">Swagger OpenAPI Schema 为空时 Example Value 显示 "string" 的原因及解决方案</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="解决swagger-ui示例值显示string的问题">解决Swagger UI示例值显示"string"的问题</h1>
<p>最近在使用ObjectScript生成JSON接口文档时，遇到了一个奇怪的问题：</p>
<ul>
<li>生成的JSON数据是正常的。<br>
<img src="https://img2024.cnblogs.com/blog/1201453/202503/1201453-20250306000456785-34801199.png" alt="" loading="lazy"></li>
<li>但Swagger UI的Example Value却显示为<code>"string"</code>，而不是预期的JSON结构。<br>
<img src="https://img2024.cnblogs.com/blog/1201453/202503/1201453-20250306000705712-1711062032.png" alt="" loading="lazy"></li>
</ul>
<p>经过一番排查，我发现问题的根源在于Swagger UI的版本问题，并成功找到了解决方案。这里分享我的思考过程，希望能帮到有类似困扰的朋友。</p>
<h2 id="排查过程">排查过程</h2>
<h3 id="1-确保生成的json数据正确">1. 确保生成的JSON数据正确</h3>
<p>最开始，我怀疑是代码逻辑有误，导致生成的JSON格式不对。然而，当我把生成的JSON复制到<a href="https://editor.swagger.io/" target="_blank" rel="noopener nofollow">Swagger Editor</a>中时，发现它能正确解析，这说明JSON本身是正确的。<br>
<img src="https://img2024.cnblogs.com/blog/1201453/202503/1201453-20250306001653009-921028918.png" alt="" loading="lazy"></p>
<p>这让我意识到，Swagger UI可能是<strong>自动补全了正确的 OpenAPI/Swagger 版本信息</strong>，从而正常显示JSON数据。</p>
<h3 id="2-怀疑swagger-ui版本问题">2. 怀疑Swagger UI版本问题</h3>
<p>既然JSON数据是正确的，那问题可能出在Swagger UI的版本上。我回顾了自己的环境，发现Swagger UI的版本是<strong>5.11.0</strong>。</p>
<pre><code>    &lt;head&gt;
        &lt;meta charset="utf-8"/&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1"/&gt;
        &lt;meta name="description" content="SwaggerUI"/&gt;
        &lt;title&gt;&lt;/title&gt;
        &lt;link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@5.11.0/swagger-ui.css"/&gt;
    &lt;/head&gt;
</code></pre>
<p>于是，我尝试直接修改生成的HTML文件，将Swagger UI的版本从<strong>5.11.0</strong>升级到<strong>5.20.0</strong>（即最新版本），然后重新加载页面，结果问题完美解决！</p>
<h3 id="3-发现官方修复记录">3. 发现官方修复记录</h3>
<p>随后，我在Swagger UI的<a href="https://github.com/swagger-api/swagger-ui/releases/tag/v5.11.10" target="_blank" rel="noopener nofollow">官方Release Notes</a>中找到了相关修复记录。<br>
原来，在<strong>5.11.10</strong>版本中，Swagger UI修复了这个Bug。<br>
<img src="https://img2024.cnblogs.com/blog/1201453/202503/1201453-20250306001149196-860435756.png" alt="" loading="lazy"></p>
<p>这也进一步验证了我的猜测：问题并非出在我的代码，而是Swagger UI在旧版本中的Bug导致Example Value无法正确显示。</p>
<h2 id="经验总结">经验总结</h2>
<ol>
<li><strong>不要太相信AI工具</strong>。我问了gpt4和claude3.5都3.7，一直给我乱改代码，找不到原因。</li>
<li><strong>遇到问题，思路要开放</strong>。不要一开始就怀疑自己的代码，可能是外部工具或库的问题。</li>
<li><strong>检查工具版本</strong>。当出现未知问题时，尝试更新到最新版本，或查阅官方Release Notes，可能Bug早已被修复。</li>
<li><strong>直接修改生成的HTML</strong>。在无法确定问题来源时，直接编辑最终生成的文件，能更直观地测试不同版本的影响。</li>
</ol>
<p>希望这篇文章能帮助到有类似困扰的朋友，也欢迎大家分享自己的调试经验！</p>

</div>
<div id="MySignature" role="contentinfo">
    <div id="AllanboltSignature">        
<p id="PSignature" style="border-top: #e0e0e0 1px dashed; border-right: #e0e0e0 1px dashed; border-bottom: #e0e0e0 1px dashed; border-left: #e0e0e0 1px dashed; padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 60px; background: url(&quot;https://images.cnblogs.com/cnblogs_com/lloydsheng/239039/o_copyright.gif&quot;) #e5f1f4 no-repeat 1% 50%; font-family: 微软雅黑; font-size: 11px">            
<br> 
作者：<a href="http://www.cnblogs.com/Java-Starter/" target="_blank">Rest探路者</a>            
<br> 
出处：<a href="http://www.cnblogs.com/Java-Starter/" target="_blank">http://www.cnblogs.com/Java-Starter/</a>
<br>本文版权归作者和博客园共有，欢迎转载，但未经作者同意请保留此段声明，请在文章页面明显位置给出原文连接
<br>Github：<a href="https://github.com/cjy513203427">https://github.com/cjy513203427</a>    
</p>
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.24279592076967593" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-06 00:25">2025-03-06 00:25</span>&nbsp;
<a href="https://www.cnblogs.com/Java-Starter">Rest探路者</a>&nbsp;
阅读(<span id="post_view_count">4</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18754064" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18754064);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18754064', targetLink: 'https://www.cnblogs.com/Java-Starter/p/18754064', title: 'Swagger OpenAPI Schema 为空时 Example Value 显示 &amp;quot;string&amp;quot; 的原因及解决方案' })">举报</a>
</div>
        