
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52420374">
<i class="pstatus"> 本帖最后由 lovelyelfpop 于 2025-2-18 13:27 编辑 </i><br>
<br>
<img id="aimg_VItJ0" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/folder.jpg?v=1" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/folder.jpg?v=1"><br>
<font size="2">苹果的AirTag很贵，虽然华强北</font><font size="2">有平价代替品，</font><font size="2">但是仍需要苹果设备才能绑定，才能查看位置。不支持安卓/鸿蒙/PC，也不支持集成到Home Assistant中。</font><br>
<br>
<strong><font size="3">AirTag 的原理是：</font></strong><br>
<font size="2">每个AirTag都会发送一个蓝牙信号，其可以被临近的苹果设备（iPhone、iPad、MAC等）检测到，这些苹果设备会将这些 AirTag 的位置上报到苹果服务器。这个网络就是 Find My网络。</font><br>
<br>
<font size="1">国外有人逆向了 AirTag 机制 (github项目seemoo-lab/openhaystack)<br>
可以让一些蓝牙设备，比如 ESP32、树莓派、甚至带蓝牙适配器的 Linux，模拟发出 FindMy 蓝牙广播。但是初期仍然需要MAC电脑活MAC<a href="https://www.52pojie.cn/thread-661779-1-1.html" target="_blank" class="relatedlink">虚拟机</a>才能获取位置报告<br>
<br>
<font color="#333333"><font face="arial, sans-serif">后面有人陆续开发出不需要MAC电脑</font></font><br>
<font color="#333333"><font face="arial, sans-serif">(github项目Dadoum/anisette-v3-server)</font></font><br>
<br>
<font color="#333333"><font face="arial, sans-serif">以及获取位置报告的 安卓app和web网站</font></font><br>
<font color="#333333"><font face="arial, sans-serif">(github项目dchristl/macless-haystack)</font></font><br>
<br>
<font color="#333333"><font face="arial, sans-serif">支持更多蓝牙芯片，比如 ST17H66B，nRF5x，TLSR825X</font></font><br>
<font color="#333333"><font face="arial, sans-serif">(github项目biemster/FindMy)</font></font><font color="#333333"><font face="arial, sans-serif">(github项目acalatrava/openhaystack-firmware)</font></font></font><br>
<br>
<br>
<font size="2">我尝试成功了，制作出的定位标签，<strong>不需要苹果手机绑定，支持安卓/鸿蒙/PC/Home Assistant 查看标签的位置</strong>。<br>
</font><br>
<font size="3"><strong>我建了一个项目</strong></font><br>
https://gitee.com/lovelyelfpop/macless-haystack<br>
<font size="2">整合了上面的内容，并做了如下一些事情：</font><br>
<font size="2">1、中文翻译</font><br>
<font size="2">&nbsp;&nbsp;主要翻译的 github项目dchristl/macless-haystack</font><br>
<font size="2">2、安卓app适配国情</font><br>
<font size="2">&nbsp;&nbsp;界面汉化，并替换为高德地图和定位</font><br>
<font size="2">3、硬件准备和刷机方法详细说明</font><br>
<font size="2">4、Home Assistant集成说明<br>
</font><br>
<font size="3">支持 <font color="#ff0000">安卓</font>(有app)，<font color="#ff0000">iOS</font>/<font color="#ff0000">鸿蒙</font>/<font color="#ff0000">PC</font>等其他系统(用浏览器访问web<font color="#8b0000">网站</font>) 查看定位标签的位置(下面有截图)。</font><br>
<font size="1">注意：虽然查看标签的位置不需要苹果手机，但是部署服务时需要有 AppleID 账号(需要在苹果手机上注册，可以找朋友借用注册一个。苹果网站上注册的不行)。<br>
另外，标签上报位置仍然依赖苹果的 FindMy 网络，要求标签附近有苹果设备，因此，人少的地方比如农村不适合使用AirTag/华强北平替/自己制作的定位标签。</font><br>
<br>
<br>
<br>
<font size="3"><strong>下面是我制作的一些成品定位标签</strong></font><br>
<font size="2"><img id="aimg_vB449" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/1.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/1.jpg"></font><br>
<font size="2"><img id="aimg_Kj96Z" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/2.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/2.jpg"></font><br>
<font size="2"><img id="aimg_IE224" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/3.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/3.jpg"></font><br>
<font size="2"><img id="aimg_gb9b3" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/5.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/5.jpg"></font><br>
<font size="2"><img id="aimg_JYD5A" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/keychain.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/keychain.jpg"></font><br>
<font size="2"><img id="aimg_dH87K" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/cr2477.jpg" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/product/cr2477.jpg"></font><br>
<br>
<br>
<strong><font size="3">安卓 app 界面</font></strong><br>
<font size="2"><img id="aimg_ZNgR1" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/dashboard_mobile.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/dashboard_mobile.jpg"><br>
</font><br>
<br>
<font size="2"><img id="aimg_W7Z8j" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/history_mobile.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/history_mobile.jpg"><br>
</font><br>
<br>
<strong><font size="3">web界面</font></strong><br>
<br>
<font size="2"><img id="aimg_DN1VX" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="600" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/dashboard_web_phone.jpg?v=1" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/dashboard_web_phone.jpg?v=1"></font><br>
<font size="2"><br>
</font><font size="2"><img id="aimg_Stj1T" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="900" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/dashboard_web.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/dashboard_web.jpg"><br>
</font><br>
<br>
<br>
<strong><font size="3">Home Assistant 集成</font></strong><br>
<font size="2"><img id="aimg_da5FG" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="900" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/ha/ha1.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/ha/ha1.jpg"></font><br>
<br>
<font size="2"><img id="aimg_b898R" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="900" file="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/ha/ha2.jpg" border="0" alt="" src="https://lovelyelfpop.atomgit.net/macless_haystack_pages/imgs/ha/ha2.jpg"></font><br>
<br>
<font size="2">详细的制作方法都在 gitee 项目 readme 里面。</font></td></tr></tbody></table>


