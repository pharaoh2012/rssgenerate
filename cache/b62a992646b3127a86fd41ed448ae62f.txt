
    <a name="top"></a>
    <h2><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jyzhao/p/18756648/zaioci-shang-kuai-su-jing-mo-an-zhuang23ai-shu-ju" title="发布于 2025-03-06 22:16">
    <span role="heading" aria-level="2">在OCI上快速静默安装23ai数据库</span>
    

</a>
</h2>
    <small>
<span id="post-date" data-last-update-days="0.2497864352361111" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-06 22:16">2025-03-06 22:16</span>&nbsp;
<a href="https://www.cnblogs.com/jyzhao">AlfredZhao</a>&nbsp;
阅读(<span id="post_view_count">6</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18756648" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18756648);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18756648', targetLink: 'https://www.cnblogs.com/jyzhao/p/18756648/zaioci-shang-kuai-su-jing-mo-an-zhuang23ai-shu-ju', title: '在OCI上快速静默安装23ai数据库' })">举报</a>
</small>
    <div class="entry">
        <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>拿到同事帮忙申请好的OCI环境【OEL 8.10】后，开始安装23ai数据库用于后续测试，本文选择快速静默安装模式。</p>

<p>OCI环境都是opc用户登录的，执行高权限的操作均需要用到sudo命令。</p>
<p>首先创建存放介质的目录，赋予最高权限：</p>
<pre><code class="language-shell">sudo mkdir -p /u01/media
sudo chmod 777 /u01/media
</code></pre>
<p>然后上传23ai的介质到这个目录下。</p>
<p>同时，使用dnf安装<code>oracle-database-preinstall-23ai</code>这个包，会非常省事：</p>
<pre><code class="language-shell">sudo dnf -y install oracle-database-preinstall-23ai
</code></pre>
<p>安装完成后，会发现不但将所需依赖包都搞定，连oracle系统用户都给你建好了，此外包括常规系统设置均已完成，要是不放心，可以检查下：</p>
<pre><code class="language-shell">cat /etc/security/limits.d/oracle-database-preinstall-23ai.conf
cat /etc/sysctl.conf
</code></pre>
<p>总之，这些相关细节类型统统不用管，非常省心。</p>
<p>那需要我们做什么呢？<br>
只需要建立你按实际情况规划好的安装目录：</p>
<pre><code class="language-shell">sudo mkdir -p /u01/app/oracle
sudo chown -R oracle:oinstall /u01/app
</code></pre>
<p>然后使用Oracle用户登录，设置环境变量，这里写入<code>~/.bash_profile</code>中：</p>
<pre><code class="language-shell">export ORACLE_BASE=/u01/app/oracle
export ORACLE_HOME=/u01/app/oracle/product/23.0.0/db_1
export ORACLE_SID=demo
export PATH=$ORACLE_HOME/bin:$PATH
</code></pre>
<p>进入到ORACLE_HOME目录后，解压23ai安装介质。</p>
<pre><code class="language-shell">cd $ORACLE_HOME
unzip /u01/media/db23802504.zip
</code></pre>
<p>修改静默安装需要用到的响应文件，将之前的备份下，然后编辑修改：</p>
<pre><code class="language-shell">cd /u01/app/oracle/product/23.0.0/db_1/install/response
cp db_install.rsp db_install.rsp.bak
vi db_install.rsp
</code></pre>
<p>测试修改后的文件，为缩减篇幅，清理掉注释后，附在文末供大家参考：</p>
<p>修改好之后，开始静默安装Oracle 23ai软件：</p>
<pre><code class="language-shell">./runInstaller -silent -ignorePrereqFailure -responseFile /u01/app/oracle/product/23.0.0/db_1/install/response/db_install.rsp
</code></pre>
<p>执行成功，按提示切换到root用户，执行两个root脚本：</p>
<pre><code class="language-shell">As a root user, run the following script(s):
        1. /u01/app/oraInventory/orainstRoot.sh
        2. /u01/app/oracle/product/23.0.0/db_1/root.sh
</code></pre>
<p>root脚本都执行完成后，切换回Oracle用户，执行：</p>
<pre><code class="language-shell">/u01/app/oracle/product/23.0.0/db_1/runInstaller -executeConfigTools -responseFile /u01/app/oracle/product/23.0.0/db_1/install/response/db_install.rsp -silent
</code></pre>
<p>会提示你一个日志，可以tail跟踪去看输出，最后提示成功。</p>
<pre><code class="language-shell">[oracle@dbtest ~]$ /u01/app/oracle/product/23.0.0/db_1/runInstaller -executeConfigTools -responseFile /u01/app/oracle/product/23.0.0/db_1/install/response/db_install.rsp -silent
Launching Oracle Database Setup Wizard...

You can find the logs of this session at:
/u01/app/oraInventory/logs/InstallActions2025-03-06_07-17-45AM


Successfully Configured Software.
</code></pre>
<p>显示顺利安装完成！<br>
尝试使用<code>sqlplus</code>登录：</p>
<pre><code class="language-shell">[oracle@dbtest ~]$ sqlplus / as sysdba

SQL*Plus: Release 23.0.0.0.0 - for Oracle Cloud and Engineered Systems on Thu Mar 6 07:26:25 2025
Version 23.8.0.25.04

Copyright (c) 1982, 2025, Oracle.  All rights reserved.


Connected to:
Oracle Database 23ai Enterprise Edition Release 23.0.0.0.0 - for Oracle Cloud and Engineered Systems
Version 23.8.0.25.04

SQL&gt; show pdbs;

    CON_ID CON_NAME                       OPEN MODE  RESTRICTED
---------- ------------------------------ ---------- ----------
         2 PDB$SEED                       READ ONLY  NO
         3 ALFRED                         READ WRITE NO
</code></pre>
<p>OK，至此，23ai的数据库环境准备完成。</p>
<hr>
<p>FYI：</p>
<ol>
<li>响应文件db_install.rsp参考</li>
</ol>
<p>源文件注释太多，先清理下注释：</p>
<pre><code class="language-shell"># 删除应答文件中的注释行(以#开头)
sed -i 's/^#.*$//g' *.rsp
# 刪除沒有內容的空行(^$)
sed -i '/^$/d' *.rsp
</code></pre>
<p>清理注释后响应文件内容如下，根据你的需求DIY修改即可，尤其是密码：</p>
<pre><code class="language-shell">oracle.install.responseFileVersion=/oracle/install/rspfmt_dbinstall_response_schema_v23.0.0
installOption=INSTALL_DB_AND_CONFIG
UNIX_GROUP_NAME=oinstall
INVENTORY_LOCATION=/u01/app/oraInventory
ORACLE_HOME=/u01/app/oracle/product/23.0.0/db_1
ORACLE_BASE=/u01/app/oracle
installEdition=EE
OSDBA=dba
OSOPER=oper
OSBACKUPDBA=backupdba
OSDGDBA=dgdba
OSKMDBA=kmdba
OSRACDBA=racdba
executeRootScript=
configMethod=
sudoPath=
sudoUserName=
clusterNodes=
dbType=GENERAL_PURPOSE
gdbName=demo
dbSID=demo
pdbName=alfred
charSet=AL32UTF8
enableAutoMemoryManagement=false
memoryLimit=16384
allSchemaPassword=ChangeYour_pwd
sysPassword=
systemPassword=
dbsnmpPassword=
pdbadminPassword=
managementOption=DEFAULT
omsHost=
omsPort=
emAdminUser=
emAdminPassword=
enableRecovery=false
storageType=FILE_SYSTEM_STORAGE
dataLocation=/u01/app/oracle/oradata
recoveryLocation=/u01/app/oracle/recovery_area
diskGroup=
asmsnmpPassword=
</code></pre>
<ol start="2">
<li>dnf安装oracle-database-preinstall-23ai的显示<br>
只是用于参考下它都自动装了哪些依赖包：</li>
</ol>
<pre><code class="language-shell">[opc@dbtest media]$ sudo dnf -y install oracle-database-preinstall-23ai
Latest Unbreakable Enterprise Kernel Release 7 for Oracle Linux 8 (x86_64)                                                         110 MB/s |  56 MB     00:00    
Last metadata expiration check: 0:00:07 ago on Thu 06 Mar 2025 03:49:27 AM GMT.
Dependencies resolved.
===================================================================================================================================================================
 Package                                             Architecture               Version                                    Repository                         Size
===================================================================================================================================================================
Installing:
 oracle-database-preinstall-23ai                     x86_64                     1.0-4.el8                                  ol8_appstream                      31 k
Installing dependencies:
 ksh                                                 x86_64                     20120801-267.0.1.el8                       ol8_appstream                     923 k
 libICE                                              x86_64                     1.0.9-15.el8                               ol8_appstream                      74 k
 libSM                                               x86_64                     1.2.3-1.el8                                ol8_appstream                      47 k
 libX11-xcb                                          x86_64                     1.6.8-9.el8_10                             ol8_appstream                      14 k
 libXcomposite                                       x86_64                     0.4.4-14.el8                               ol8_appstream                      28 k
 libXi                                               x86_64                     1.7.10-1.el8                               ol8_appstream                      49 k
 libXinerama                                         x86_64                     1.1.4-1.el8                                ol8_appstream                      15 k
 libXmu                                              x86_64                     1.1.3-1.el8                                ol8_appstream                      75 k
 libXrandr                                           x86_64                     1.5.2-1.el8                                ol8_appstream                      34 k
 libXt                                               x86_64                     1.1.5-12.el8                               ol8_appstream                     185 k
 libXtst                                             x86_64                     1.2.3-7.el8                                ol8_appstream                      22 k
 libXv                                               x86_64                     1.0.11-7.el8                               ol8_appstream                      20 k
 libXxf86dga                                         x86_64                     1.1.5-1.el8                                ol8_appstream                      26 k
 libXxf86misc                                        x86_64                     1.0.4-1.el8                                ol8_appstream                      23 k
 libXxf86vm                                          x86_64                     1.1.4-9.el8                                ol8_appstream                      19 k
 libdmx                                              x86_64                     1.1.4-3.el8                                ol8_appstream                      22 k
 xorg-x11-utils                                      x86_64                     7.5-28.el8                                 ol8_appstream                     136 k
 xorg-x11-xauth                                      x86_64                     1:1.0.9-12.el8                             ol8_appstream                      39 k

Transaction Summary
===================================================================================================================================================================
Install  19 Packages

Total download size: 1.7 M
Installed size: 5.0 M
Downloading Packages:
(1/19): ksh-20120801-267.0.1.el8.x86_64.rpm                                                                                         14 MB/s | 923 kB     00:00    
(2/19): libICE-1.0.9-15.el8.x86_64.rpm                                                                                             1.1 MB/s |  74 kB     00:00    
(3/19): libXcomposite-0.4.4-14.el8.x86_64.rpm                                                                                      1.2 MB/s |  28 kB     00:00    
(4/19): libX11-xcb-1.6.8-9.el8_10.x86_64.rpm                                                                                       277 kB/s |  14 kB     00:00    
(5/19): libSM-1.2.3-1.el8.x86_64.rpm                                                                                               194 kB/s |  47 kB     00:00    
(6/19): libXi-1.7.10-1.el8.x86_64.rpm                                                                                              217 kB/s |  49 kB     00:00    
(7/19): libXinerama-1.1.4-1.el8.x86_64.rpm                                                                                          68 kB/s |  15 kB     00:00    
(8/19): libXt-1.1.5-12.el8.x86_64.rpm                                                                                              4.7 MB/s | 185 kB     00:00    
(9/19): libXrandr-1.5.2-1.el8.x86_64.rpm                                                                                           465 kB/s |  34 kB     00:00    
(10/19): libXtst-1.2.3-7.el8.x86_64.rpm                                                                                            589 kB/s |  22 kB     00:00    
(11/19): libXxf86dga-1.1.5-1.el8.x86_64.rpm                                                                                        704 kB/s |  26 kB     00:00    
(12/19): libXv-1.0.11-7.el8.x86_64.rpm                                                                                             214 kB/s |  20 kB     00:00    
(13/19): libXxf86misc-1.0.4-1.el8.x86_64.rpm                                                                                       640 kB/s |  23 kB     00:00    
(14/19): libdmx-1.1.4-3.el8.x86_64.rpm                                                                                             290 kB/s |  22 kB     00:00    
(15/19): libXxf86vm-1.1.4-9.el8.x86_64.rpm                                                                                         188 kB/s |  19 kB     00:00    
(16/19): xorg-x11-utils-7.5-28.el8.x86_64.rpm                                                                                      3.6 MB/s | 136 kB     00:00    
(17/19): xorg-x11-xauth-1.0.9-12.el8.x86_64.rpm                                                                                    1.4 MB/s |  39 kB     00:00    
(18/19): oracle-database-preinstall-23ai-1.0-4.el8.x86_64.rpm                                                                      368 kB/s |  31 kB     00:00    
(19/19): libXmu-1.1.3-1.el8.x86_64.rpm                                                                                              38 kB/s |  75 kB     00:02    
-------------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                              791 kB/s | 1.7 MB     00:02     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                                                           1/1 
  Installing       : libXi-1.7.10-1.el8.x86_64                                                                                                                1/19 
  Installing       : libICE-1.0.9-15.el8.x86_64                                                                                                               2/19 
  Installing       : libSM-1.2.3-1.el8.x86_64                                                                                                                 3/19 
  Installing       : libXt-1.1.5-12.el8.x86_64                                                                                                                4/19 
  Installing       : libXmu-1.1.3-1.el8.x86_64                                                                                                                5/19 
  Installing       : xorg-x11-xauth-1:1.0.9-12.el8.x86_64                                                                                                     6/19 
  Installing       : libXtst-1.2.3-7.el8.x86_64                                                                                                               7/19 
  Installing       : libdmx-1.1.4-3.el8.x86_64                                                                                                                8/19 
  Installing       : libXxf86vm-1.1.4-9.el8.x86_64                                                                                                            9/19 
  Installing       : libXxf86misc-1.0.4-1.el8.x86_64                                                                                                         10/19 
  Installing       : libXxf86dga-1.1.5-1.el8.x86_64                                                                                                          11/19 
  Installing       : libXv-1.0.11-7.el8.x86_64                                                                                                               12/19 
  Installing       : libXrandr-1.5.2-1.el8.x86_64                                                                                                            13/19 
  Installing       : libXinerama-1.1.4-1.el8.x86_64                                                                                                          14/19 
  Installing       : libXcomposite-0.4.4-14.el8.x86_64                                                                                                       15/19 
  Installing       : libX11-xcb-1.6.8-9.el8_10.x86_64                                                                                                        16/19 
  Installing       : xorg-x11-utils-7.5-28.el8.x86_64                                                                                                        17/19 
  Installing       : ksh-20120801-267.0.1.el8.x86_64                                                                                                         18/19 
  Running scriptlet: ksh-20120801-267.0.1.el8.x86_64                                                                                                         18/19 
  Installing       : oracle-database-preinstall-23ai-1.0-4.el8.x86_64                                                                                        19/19 
  Running scriptlet: oracle-database-preinstall-23ai-1.0-4.el8.x86_64                                                                                        19/19 
  Verifying        : ksh-20120801-267.0.1.el8.x86_64                                                                                                          1/19 
  Verifying        : libICE-1.0.9-15.el8.x86_64                                                                                                               2/19 
  Verifying        : libSM-1.2.3-1.el8.x86_64                                                                                                                 3/19 
  Verifying        : libX11-xcb-1.6.8-9.el8_10.x86_64                                                                                                         4/19 
  Verifying        : libXcomposite-0.4.4-14.el8.x86_64                                                                                                        5/19 
  Verifying        : libXi-1.7.10-1.el8.x86_64                                                                                                                6/19 
  Verifying        : libXinerama-1.1.4-1.el8.x86_64                                                                                                           7/19 
  Verifying        : libXmu-1.1.3-1.el8.x86_64                                                                                                                8/19 
  Verifying        : libXrandr-1.5.2-1.el8.x86_64                                                                                                             9/19 
  Verifying        : libXt-1.1.5-12.el8.x86_64                                                                                                               10/19 
  Verifying        : libXtst-1.2.3-7.el8.x86_64                                                                                                              11/19 
  Verifying        : libXv-1.0.11-7.el8.x86_64                                                                                                               12/19 
  Verifying        : libXxf86dga-1.1.5-1.el8.x86_64                                                                                                          13/19 
  Verifying        : libXxf86misc-1.0.4-1.el8.x86_64                                                                                                         14/19 
  Verifying        : libXxf86vm-1.1.4-9.el8.x86_64                                                                                                           15/19 
  Verifying        : libdmx-1.1.4-3.el8.x86_64                                                                                                               16/19 
  Verifying        : oracle-database-preinstall-23ai-1.0-4.el8.x86_64                                                                                        17/19 
  Verifying        : xorg-x11-utils-7.5-28.el8.x86_64                                                                                                        18/19 
  Verifying        : xorg-x11-xauth-1:1.0.9-12.el8.x86_64                                                                                                    19/19 

Installed:
  ksh-20120801-267.0.1.el8.x86_64                    libICE-1.0.9-15.el8.x86_64         libSM-1.2.3-1.el8.x86_64               libX11-xcb-1.6.8-9.el8_10.x86_64  
  libXcomposite-0.4.4-14.el8.x86_64                  libXi-1.7.10-1.el8.x86_64          libXinerama-1.1.4-1.el8.x86_64         libXmu-1.1.3-1.el8.x86_64         
  libXrandr-1.5.2-1.el8.x86_64                       libXt-1.1.5-12.el8.x86_64          libXtst-1.2.3-7.el8.x86_64             libXv-1.0.11-7.el8.x86_64         
  libXxf86dga-1.1.5-1.el8.x86_64                     libXxf86misc-1.0.4-1.el8.x86_64    libXxf86vm-1.1.4-9.el8.x86_64          libdmx-1.1.4-3.el8.x86_64         
  oracle-database-preinstall-23ai-1.0-4.el8.x86_64   xorg-x11-utils-7.5-28.el8.x86_64   xorg-x11-xauth-1:1.0.9-12.el8.x86_64  

Complete!
</code></pre>
<p>此外，截至目前，Oracle 23ai的通用平台OP版本还没有正式发布出来，想测试功能的伙伴可以移步《<a href="https://mp.weixin.qq.com/s/O67rq0dEIIMf3cqZnYxuHA" target="_blank" rel="noopener nofollow">23ai免费版本环境快速就绪</a>》。</p>

</div>
<div id="MySignature" role="contentinfo">
    AlfredZhao©版权所有「从Oracle起航，领略精彩的IT技术。」
</div>
<div class="clear"></div>

        <div class="clear"></div>
        
</div>
    <ul class="postmetadata">
        <vc:categories-tags blog-app="jyzhao" blog-id="186567" post-id="18756648"></vc:categories-tags>
    </ul>
