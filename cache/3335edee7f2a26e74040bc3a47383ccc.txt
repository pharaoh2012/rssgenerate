
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wpfdeveloper/p/18838610" title="å‘å¸ƒäº 2025-04-21 15:16">
    <span role="heading" aria-level="2">VTK å…¥é—¨ç³»åˆ—ä¹‹äºŒï¼šä¸ºä¸‰ç»´åœºæ™¯æ·»åŠ åæ ‡è½´</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="ä¸€å¼•è¨€">ä¸€ã€å¼•è¨€</h2>
<p>åœ¨è¿›è¡Œä¸‰ç»´å¯è§†åŒ–å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸å¸Œæœ›èƒ½å¤Ÿæ¸…æ™°äº†è§£<strong>æ¨¡å‹åœ¨ç©ºé—´ä¸­çš„ä½ç½®ã€æ–¹å‘ä¸æ¯”ä¾‹å…³ç³»</strong>ã€‚è€Œæœ€ç›´è§‚çš„è¾…åŠ©å·¥å…·å°±æ˜¯ä¸‰ç»´åæ ‡è½´ï¼ˆAxesï¼‰ã€‚åœ¨ VTK ä¸­ï¼Œ<code>vtkAxesActor</code> æä¾›äº†ä¸€ç§å¼€ç®±å³ç”¨çš„æ–¹å¼æ¥å°† Xã€Yã€Z ä¸‰ä¸ªæ–¹å‘çš„åæ ‡è½´æ¸²æŸ“åˆ°åœºæ™¯ä¸­ï¼Œå¢å¼ºç©ºé—´æ„ŸçŸ¥ã€‚</p>
<p>æœ¬ç¯‡æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ C++ ç¤ºä¾‹ï¼Œé€æ­¥åˆ†æå¦‚ä½•ä½¿ç”¨ VTK æ„å»ºä¸€ä¸ªåŒ…å«ï¼š</p>
<ul>
<li>ä¸€ä¸ªçƒä½“æ¨¡å‹ï¼›</li>
<li>ä¸€ç»„å¹³ç§»åçš„ä¸‰ç»´åæ ‡è½´ï¼›</li>
<li>åŸºæœ¬çš„æ‘„åƒæœºæ—‹è½¬ä¸è§†å›¾è®¾ç½®ï¼›<br>
çš„åŸºç¡€æ¸²æŸ“åœºæ™¯ã€‚</li>
</ul>
<hr>
<h2 id="äºŒå·¥ç¨‹ä»£ç ä¸€è§ˆ">äºŒã€å·¥ç¨‹ä»£ç ä¸€è§ˆ</h2>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„ C++ ç¤ºä¾‹ä»£ç ï¼Œä½¿ç”¨ VTK å®˜æ–¹æ¨èçš„ <code>vtkNew&lt;&gt;</code> æ™ºèƒ½æŒ‡é’ˆé£æ ¼ï¼š</p>
<pre><code class="language-cpp">#include &lt;vtkActor.h&gt;
#include &lt;vtkAxesActor.h&gt;
#include &lt;vtkCamera.h&gt;
#include &lt;vtkCaptionActor2D.h&gt;
#include &lt;vtkNamedColors.h&gt;
#include &lt;vtkNew.h&gt;
#include &lt;vtkPolyDataMapper.h&gt;
#include &lt;vtkRenderWindow.h&gt;
#include &lt;vtkRenderWindowInteractor.h&gt;
#include &lt;vtkRenderer.h&gt;
#include &lt;vtkSphereSource.h&gt;
#include &lt;vtkTextProperty.h&gt;
#include &lt;vtkTransform.h&gt;
</code></pre>
<p>ä¸»å‡½æ•°éƒ¨åˆ†ï¼š</p>
<pre><code class="language-cpp">int main()
{
    // 1. é…è‰²å·¥å…·
    vtkNew&lt;vtkNamedColors&gt; colors;

    // 2. çƒä½“æ¨¡å‹æº
    vtkNew&lt;vtkSphereSource&gt; sphereSource;
    sphereSource-&gt;SetRadius(0.5);
    sphereSource-&gt;SetCenter(0.0, 0.0, 0.0);

    // 3. å‡ ä½•æ˜ å°„å™¨
    vtkNew&lt;vtkPolyDataMapper&gt; sphereMapper;
    sphereMapper-&gt;SetInputConnection(sphereSource-&gt;GetOutputPort());

    // 4. æ¸²æŸ“å®ä½“ï¼ˆActorï¼‰
    vtkNew&lt;vtkActor&gt; sphereActor;
    sphereActor-&gt;SetMapper(sphereMapper);

    // 5. æ¸²æŸ“å™¨è®¾ç½®
    vtkNew&lt;vtkRenderer&gt; renderer;

    // 6. æ¸²æŸ“çª—å£
    vtkNew&lt;vtkRenderWindow&gt; renderWindow;
    renderWindow-&gt;SetWindowName("Axes");
    renderWindow-&gt;AddRenderer(renderer);
    renderWindow-&gt;SetSize(600, 600);

    // 7. äº¤äº’å™¨
    vtkNew&lt;vtkRenderWindowInteractor&gt; renderWindowInteractor;
    renderWindowInteractor-&gt;SetRenderWindow(renderWindow);

    // 8. æ·»åŠ çƒä½“åˆ°åœºæ™¯
    renderer-&gt;AddActor(sphereActor);
    renderer-&gt;SetBackground(colors-&gt;GetColor3d("CadetBlue").GetData());

    // 9. æ·»åŠ ä¸‰ç»´åæ ‡è½´ + ä½ç§»
    vtkNew&lt;vtkTransform&gt; transform;
    transform-&gt;Translate(1.0, 0.0, 0.0);  // åæ ‡è½´å³ç§» 1 ä¸ªå•ä½

    vtkNew&lt;vtkAxesActor&gt; axes;
    axes-&gt;SetUserTransform(transform);  // åº”ç”¨å˜æ¢
    renderer-&gt;AddActor(axes);

    // 10. è°ƒæ•´ç›¸æœºè§’åº¦
    renderer-&gt;GetActiveCamera()-&gt;Azimuth(50);
    renderer-&gt;GetActiveCamera()-&gt;Elevation(-30);
    renderer-&gt;ResetCamera();

    // 11. å¯åŠ¨æ¸²æŸ“
    renderWindow-&gt;Render();
    renderWindowInteractor-&gt;Start();

    return 0;
}
</code></pre>
<hr>
<h2 id="ä¸‰å…³é”®ç»„ä»¶è¯¦è§£">ä¸‰ã€å…³é”®ç»„ä»¶è¯¦è§£</h2>
<h3 id="1ï¸âƒ£-vtkspheresourceå‡ ä½•ä½“æ•°æ®æº">1ï¸âƒ£ <code>vtkSphereSource</code>ï¼šå‡ ä½•ä½“æ•°æ®æº</h3>
<p><code>vtkSphereSource</code> ç”¨äºç”Ÿæˆçƒä½“æ¨¡å‹ï¼Œå®ƒæ˜¯ VTK æ‰€æœ‰å¯è§†åŒ–çš„èµ·ç‚¹ä¹‹ä¸€ï¼Œè¾“å‡ºä¸€ä¸ªæ ‡å‡†çš„ <code>vtkPolyData</code> æ•°æ®é›†ã€‚</p>
<ul>
<li><code>SetRadius(double)</code> è®¾ç½®çƒçš„åŠå¾„ï¼›</li>
<li><code>SetCenter(x, y, z)</code> è®¾ç½®çƒå¿ƒä½ç½®ã€‚</li>
</ul>
<pre><code class="language-cpp">sphereSource-&gt;SetRadius(0.5);
sphereSource-&gt;SetCenter(0.0, 0.0, 0.0);
</code></pre>
<hr>
<h3 id="2ï¸âƒ£-vtkaxesactorä¸‰ç»´åæ ‡è½´">2ï¸âƒ£ <code>vtkAxesActor</code>ï¼šä¸‰ç»´åæ ‡è½´</h3>
<p><code>vtkAxesActor</code> æ˜¯ VTK ä¸­ä¸“é—¨ç”¨äºå±•ç¤ºä¸‰ç»´åæ ‡è½´çš„ Actorï¼Œå®ƒé»˜è®¤æ˜¾ç¤ºï¼š</p>
<ul>
<li>çº¢è‰² X è½´ã€ç»¿è‰² Y è½´ã€è“è‰² Z è½´ï¼›</li>
<li>å¸¦ç®­å¤´ï¼›</li>
<li>è‡ªåŠ¨åŠ ç²—ä¸ç¼©æ”¾ï¼›</li>
<li>æ˜¾ç¤º X/Y/Z æ ‡ç­¾ã€‚</li>
</ul>
<pre><code class="language-cpp">vtkNew&lt;vtkAxesActor&gt; axes;
axes-&gt;SetUserTransform(transform); // åº”ç”¨å¹³ç§»å˜æ¢
</code></pre>
<p>å¦‚æœä¸ä½¿ç”¨ <code>SetUserTransform()</code>ï¼Œåæ ‡è½´å°†é»˜è®¤å‡ºç°åœ¨åœºæ™¯åŸç‚¹ã€‚</p>
<p>å¯é€‰é…ç½®é¡¹åŒ…æ‹¬ï¼š</p>
<pre><code class="language-cpp">axes-&gt;SetTotalLength(1.0, 1.0, 1.0);     // è®¾ç½®è½´é•¿
axes-&gt;SetShaftTypeToCylinder();         // è½´æ ·å¼ï¼šCylinder / Line / Tube
axes-&gt;SetAxisLabels(1);                 // æ˜¯å¦æ˜¾ç¤º X/Y/Z æ ‡ç­¾
axes-&gt;SetCylinderRadius(0.02);          // ç²—ç»†è®¾ç½®
</code></pre>
<hr>
<h3 id="3ï¸âƒ£-vtktransformå˜æ¢æ§åˆ¶">3ï¸âƒ£ <code>vtkTransform</code>ï¼šå˜æ¢æ§åˆ¶</h3>
<p>VTK ä¸­é€šè¿‡ <code>vtkTransform</code> æ§åˆ¶ Actor çš„ä½ç½®ã€æ—‹è½¬ä¸ç¼©æ”¾ã€‚å®ƒæ”¯æŒï¼š</p>
<ul>
<li>å¹³ç§»ï¼š<code>Translate(x, y, z)</code></li>
<li>æ—‹è½¬ï¼š<code>RotateX(angle)</code> / <code>RotateY(angle)</code> / <code>RotateZ(angle)</code></li>
<li>ç¼©æ”¾ï¼š<code>Scale(x, y, z)</code></li>
</ul>
<p>è¿™äº›å˜æ¢å¯ä»¥ç”¨æ¥æ§åˆ¶ <code>vtkAxesActor</code>ã€<code>vtkActor</code> ç­‰åœ¨åœºæ™¯ä¸­çš„æœ€ç»ˆä½ç½®ã€‚</p>
<hr>
<h3 id="4ï¸âƒ£-æ¸²æŸ“ç®¡çº¿ç®€ä»‹">4ï¸âƒ£ æ¸²æŸ“ç®¡çº¿ç®€ä»‹</h3>
<p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ VTK å¯è§†åŒ–ç®¡çº¿ç»“æ„ï¼š</p>
<pre><code>[æ•°æ®æº] â†’ [Mapper] â†’ [Actor] â†’ [Renderer] â†’ [RenderWindow]
</code></pre>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼š</p>
<ul>
<li><code>vtkSphereSource</code> æ˜¯æ•°æ®æºï¼›</li>
<li><code>vtkPolyDataMapper</code> è´Ÿè´£å‡ ä½•æ•°æ® â†’ å›¾å…ƒ â†’ GPUï¼›</li>
<li><code>vtkActor</code> ä½œä¸ºåœºæ™¯ä¸­çš„å®ä½“èŠ‚ç‚¹ï¼›</li>
<li><code>vtkRenderer</code> ç®¡ç†åœºæ™¯å’Œç›¸æœºï¼›</li>
<li><code>vtkRenderWindow</code> æ˜¯è¾“å‡ºçª—å£ï¼›</li>
<li><code>vtkRenderWindowInteractor</code> æä¾›äº¤äº’èƒ½åŠ›ã€‚</li>
</ul>
<hr>
<h2 id="å››è¿è¡Œæ•ˆæœç¤ºæ„å›¾æ¦‚å¿µå›¾">å››ã€è¿è¡Œæ•ˆæœç¤ºæ„å›¾ï¼ˆæ¦‚å¿µå›¾ï¼‰</h2>
<p><img src="https://img2024.cnblogs.com/blog/3619031/202504/3619031-20250421151530609-378135721.png" alt="" loading="lazy"></p>
<p>ä½ å°†åœ¨çª—å£ä¸­çœ‹åˆ°ä¸€ä¸ªæ·¡è“èƒŒæ™¯ä¸‹çš„çƒä½“å’Œä¸€ç»„ RGB ä¸‰ç»´åæ ‡è½´ï¼Œåæ ‡è½´å‡ºç°åœ¨çƒä½“å³ä¾§ï¼Œå¹¶æœ‰ç®­å¤´å’Œå­—æ¯æ ‡è¯†æ–¹å‘ã€‚</p>
<hr>
<h2 id="äº”è¿›é˜¶æ‹“å±•å»ºè®®">äº”ã€è¿›é˜¶æ‹“å±•å»ºè®®</h2>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>ç±»å</th>
<th>ç®€ä»‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ˜¾ç¤ºå¤šä¸ªæ¨¡å‹</td>
<td><code>vtkAppendPolyData</code></td>
<td>åˆå¹¶å¤šä¸ªå‡ ä½•å¯¹è±¡</td>
</tr>
<tr>
<td>åœºæ™¯äº¤äº’æ ‡å°º</td>
<td><code>vtkOrientationMarkerWidget</code></td>
<td>æ˜¾ç¤ºä¸€ä¸ªå›ºå®šè§’è½åæ ‡è½´</td>
</tr>
<tr>
<td>ç²¾ç»†è½´æ§åˆ¶</td>
<td><code>vtkAnnotatedCubeActor</code></td>
<td>åˆ›å»ºå¯æ ‡æ³¨çš„æ–¹å‘æ–¹å—</td>
</tr>
<tr>
<td>GUI é›†æˆ</td>
<td>Qt + VTK</td>
<td>å¯åµŒå…¥ Qt çª—å£æ„å»ºå®Œæ•´åº”ç”¨</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="å…­æ€»ç»“">å…­ã€æ€»ç»“</h2>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªåŸºç¡€çš„ VTK å¯è§†åŒ–ç¨‹åºï¼Œå±•ç¤ºäº†ä»¥ä¸‹æ ¸å¿ƒæŠ€èƒ½ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>vtkSphereSource</code> æ„å»ºå‡ ä½•ä½“ï¼›</li>
<li>ä½¿ç”¨ <code>vtkAxesActor</code> æ·»åŠ åæ ‡è½´è¾…åŠ©ä¿¡æ¯ï¼›</li>
<li>ä½¿ç”¨ <code>vtkTransform</code> æ§åˆ¶åæ ‡è½´ä½ç½®ï¼›</li>
<li>ä½¿ç”¨æ‘„åƒæœºæ§åˆ¶å±•ç¤ºè§’åº¦ï¼›</li>
<li>æ„å»ºå®Œæ•´çš„ VTK æ¸²æŸ“ç®¡çº¿ã€‚</li>
</ul>
<p>ğŸ“Œ <strong>åæ ‡è½´æ˜¯ä¸‰ç»´åœºæ™¯ä¸­ä¸å¯æˆ–ç¼ºçš„ç©ºé—´å‚è€ƒå·¥å…·ï¼Œä¹Ÿæ˜¯åç»­å¯è§†åŒ–æ“ä½œï¼ˆå¦‚é…å‡†ã€äº¤äº’ã€æµ‹é‡ï¼‰çš„åŸºç¡€ã€‚</strong></p>
<hr>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.04757330311574074" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-21 15:17">2025-04-21 15:16</span>&nbsp;
<a href="https://www.cnblogs.com/wpfdeveloper">æ™ºç ”å®šåˆ¶åŠ©æ‰‹</a>&nbsp;
é˜…è¯»(<span id="post_view_count">7</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18838610);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18838610', targetLink: 'https://www.cnblogs.com/wpfdeveloper/p/18838610', title: 'VTK å…¥é—¨ç³»åˆ—ä¹‹äºŒï¼šä¸ºä¸‰ç»´åœºæ™¯æ·»åŠ åæ ‡è½´' })">ä¸¾æŠ¥</a>
</div>
        