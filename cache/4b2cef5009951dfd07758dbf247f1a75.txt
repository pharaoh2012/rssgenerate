
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/feng-jian/p/18963594" title="发布于 2025-07-03 14:25">
    <span role="heading" aria-level="2">Dataease2.10 二次开发详细步骤</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/Dataease2.10%20%E4%BA%8C%E6%AC%A1%E5%BC%80%E5%8F%91%E8%AF%A6%E7%BB%86%E6%AD%A5%E9%AA%A4.png" class="lazyload"></p>
<h2 id="一dataease简介">一、DataEase简介</h2>
<p>DataEase 是开源的数据可视化分析工具，帮助用户快速分析数据并洞察业务趋势，从而实现业务的改进与优化。<br>
DataEase 支持丰富的数据源连接，能够通过拖拉拽方式快速制作图表，并可以方便地与他人分享。</p>
<p>之前写过dataease1.17版的二开，新版本做了很大的升级，架构也不同了。很多朋友看了之前的文章，前来咨询，因此写了这篇文章。</p>
<h2 id="二基础准备">二、基础准备</h2>
<ul>
<li>
<p>Java 21</p>
</li>
<li>
<p>node.js</p>
</li>
<li>
<p>maven</p>
</li>
<li>
<p>idea ≥ 2023.3</p>
</li>
</ul>
<h2 id="三环境准备">三、环境准备</h2>
<h3 id="31-下载源码">3.1 下载源码</h3>
<p>这里以最新的分支为例：</p>
<pre><code class="language-sh">git clone -b v2.10.11 https://github.com/dataease/dataease.git
</code></pre>
<h3 id="32-mysql准备">3.2 MySQL准备</h3>
<p>为快速演示，这里使用docker。</p>
<p>镜像拉取</p>
<pre><code class="language-sh">docker pull mysql:8.0.31 
</code></pre>
<p>dataease对mysql的配置有要，新建一个 my.cnf 文件，内容如下：</p>
<p><strong>注意</strong> cnf中 NO_AUTO_CREATE_USER 已经弃用，创建镜像时会报错，可以删除。</p>
<pre><code class="language-sh">[mysqld]
datadir=/var/lib/mysql

default-storage-engine=INNODB
character_set_server=utf8
lower_case_table_names=1
table_open_cache=128
max_connections=2000
max_connect_errors=6000
innodb_file_per_table=1
innodb_buffer_pool_size=1G
max_allowed_packet=64M
transaction_isolation=READ-COMMITTED
innodb_flush_method=O_DIRECT
innodb_lock_wait_timeout=1800
innodb_flush_log_at_trx_commit=0
sync_binlog=0
group_concat_max_len=1024000
sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
skip-name-resolve

[mysql]
default-character-set=utf8

[mysql.server]
default-character-set=utf8
</code></pre>
<p>创建容器</p>
<p>这里要注意 -v 的参数路径，要与你的路径一致</p>
<pre><code class="language-sh">docker run -p 3306:3306 \
--restart=always \
--name mysql8 \
--privileged=true \
-v /opt/mysql_docker/log:/var/log/mysql \
-v /opt/mysql_docker/data:/var/lib/mysql \
-v /opt/mysql_docker/my.cnf:/etc/mysql/my.cnf \
-e MYSQL_ROOT_PASSWORD=abc123456 \
-e TZ=Asia/Shanghai \
mysql:8.0.31 
</code></pre>
<p>创建库</p>
<pre><code class="language-sql">CREATE DATABASE `dataeaseV2demo` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;
</code></pre>
<p>修改代码中数据源连接，如下：</p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250701103934202.png" class="lazyload"></p>
<h3 id="33-前端运行">3.3 前端运行</h3>
<p>进入 目录 <em>core/core-frontend</em>， 执行 npm run dev</p>
<p>如果遇到报错： <strong>'NODE_OPTIONS' 不是内部或外部命令</strong>，也不是可运行的程序 问题</p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250626124950567.png" class="lazyload"></p>
<p>执行如下命令</p>
<pre><code class="language-sh">npm install cross-env --save-dev
</code></pre>
<p>然后 在core-frontend/package.json中添加 <code>cross-env</code> 命令</p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250626125208758.png" class="lazyload"></p>
<p>解决后，再次运行前端</p>
<pre><code class="language-sh"># 运行
npm run dev
</code></pre>
<p>如果执行还遇到问题，建议使用自修复，然后再run</p>
<pre><code class="language-sh">npm run lint
</code></pre>
<h3 id="34-后端运行">3.4 后端运行</h3>
<p>如果<code>core</code>文件夹没有高亮显示，则说明IDEA没有将该文件夹识别为一个有效的maven子项目，此刻需要手动添加Maven Project，等待IDEA扫描完成。</p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250626135947151.png" class="lazyload"></p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250626140023127.png" class="lazyload"></p>
<p>然后添加后端依赖</p>
<pre><code class="language-sh">mvn clean install
</code></pre>
<p>修改驱动加载目录</p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250626121338110.png" class="lazyload"></p>
<p>修改成</p>
<pre><code class="language-java">   private final String FILE_PATH =
            System.getProperty("user.dir") + File.separator + "drivers";
    private final String CUSTOM_PATH =
            System.getProperty("user.dir") + File.separator + "custom-drivers" + File.separator;
</code></pre>
<h3 id="35-启动">3.5 启动</h3>
<p>启动application，和前端</p>
<p>访问 <code>localhost:8100 </code></p>
<p>账号:<code>admin </code></p>
<p>初始密码:<code>DataEase@123456 </code></p>
<h2 id="四二开demo">四、二开demo</h2>
<p>这里举个例子，如何具体修改。比如我要屏蔽掉下面的小助手。</p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250701110507905.png" class="lazyload"></p>
<p>只要找到前端代码，如下</p>
<p><img alt="" loading="lazy" data-src="https://dataspeed-1301261215.cos.ap-nanjing.myqcloud.com/image-20250626162849294.png" class="lazyload"></p>
<p>注释掉 下面内容</p>
<pre><code class="language-vue"> &lt;el-tooltip effect="dark" :content="t('commons.assistant')" placement="bottom"&gt;
        &lt;el-icon
          style="margin: 0 10px"
          class="ai-icon"
          v-if="aiBaseUrl &amp;&amp; !showOverlay &amp;&amp; appearanceStore.getShowAi"
        &gt;
          &lt;Icon name="dv-ai"&gt;&lt;dvAi @click="handleAiClick" class="svg-icon" /&gt;&lt;/Icon&gt;
        &lt;/el-icon&gt;
      &lt;/el-tooltip&gt; 
</code></pre>
<p>再回到页面，即可完成。</p>
<h2 id="五写在最后">五、写在最后</h2>
<p>新版的dataease架构复杂多了，二开的难度也大幅度增加，如果没有很强的需求，建议还是二开1.17版本的。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-07-03 14:25">2025-07-03 14:25</span>&nbsp;
<a href="https://www.cnblogs.com/feng-jian">风_间</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18963594);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18963594', targetLink: 'https://www.cnblogs.com/feng-jian/p/18963594', title: 'Dataease2.10 二次开发详细步骤' })">举报</a>
</div>
        