
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/charlee44/p/18926136" title="å‘å¸ƒäº 2025-06-12 20:51">
    <span role="heading" aria-level="2">ç»™Markdownæ¸²æŸ“ç½‘é¡µå¢åŠ ä¸€ä¸ªç›®å½•ç»„ä»¶(Vite+Vditor+Handlebars)(ä¸Š)</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        è¯¦ç»†ä»‹ç»äº†é€šè¿‡Vditoræ¸²æŸ“Markdownæ–‡æ¡£æˆWebé¡µé¢ä¹‹åï¼Œå¢åŠ ä¸€ä¸ªç›®å½•ç»„ä»¶çš„åŠŸèƒ½å®ç°ï¼Œå¹¶ç»™å‡ºäº†å…·ä½“çš„ä»£ç ã€‚
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="1-å¼•è¨€">1 å¼•è¨€</h1>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://charlee44.com/post.html?id=5a687db237594d3b92bc59deaf733e8a" target="_blank" rel="noopener nofollow">ã€Šè§£å†³VditoråŠ è½½Markdownç½‘é¡µå¾ˆæ…¢çš„é—®é¢˜(Vite+JS+Vditor)ã€‹</a>ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è®¾ç½®åŸŸå†…CDNçš„æ–¹å¼è§£å†³VditoråŠ è½½Markdownç½‘é¡µå¾ˆæ…¢çš„é—®é¢˜ã€‚è€Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œç¬”è€…å°†ä¼šå¼€å‘å®ç°ä¸€ä¸ªå‰ç«¯ä¸­å¾ˆå¸¸è§çš„éœ€æ±‚ï¼šç»™åŸºäºMarkdownæ¸²æŸ“çš„æ–‡æ¡£ç½‘é¡µå¢åŠ ä¸€ä¸ªç›®å½•ç»„ä»¶ã€‚</p>
<p>éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒåŸç”Ÿçš„Markdownæ ‡å‡†å¹¶æ²¡æœ‰è§„å®šç”Ÿæˆç›®å½•çš„å†™æ³•ï¼Œä½†æ˜¯å›½å†…çš„åšæ–‡ç½‘ç«™ä¼¼ä¹éƒ½æ”¯æŒä¸€ä¸ªæ‹“å±•æ¥å®ç°ç›®å½•çš„ç”Ÿæˆï¼š</p>
<pre><code class="language-markdown">[toc]
</code></pre>
<p>ä½†æ˜¯è¿™æ ·ç”Ÿæˆçš„ç›®å½•æ˜¯é€šå¸¸æ˜¯ä½äºæ–‡ç« é¡µé¢çš„æœ€ä¸Šæ–¹ï¼Œè¿™æ ·å°±å¤±å»äº†ç›®å½•çš„æ„ä¹‰ã€‚æ¯”è¾ƒå¥½çš„å®ç°æ˜¯åƒCSDNæˆ–è€…æ˜é‡‘ä¸€æ ·ï¼Œé¢å¤–ç”Ÿæˆä¸€ä¸ªç›®å½•ç»„ä»¶ï¼Œå¹¶ä¸”å›ºå®šåœ¨ä¾§æ ä¸Šæ–¹ã€‚è¿™æ ·å¯ä»¥åœ¨æµè§ˆæ–‡ç« çš„æ—¶å€™ï¼Œéšæ—¶å®šä½æ‰€åœ¨çš„ç›®å½•ï¼›åŒæ—¶è¿˜å¯ä»¥ä½¿ç”¨ç›®å½•æ¥å¯¼èˆªã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/1000410/202506/1000410-20250612205050047-1371722112.png" alt="æ˜é‡‘åšæ–‡ä¾§æ çš„ç›®å½•ç»„ä»¶ï¼Œå›ºå®šåœ¨ç½‘é¡µå³ä¸Šæ–¹" loading="lazy"></p>
<p>é˜…è¯»æœ¬æ–‡å¯èƒ½éœ€è¦çš„å‰ç½®æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://charlee44.com/post.html?id=24b7a11791a04cf1b19df9c1fec00787" target="_blank" rel="noopener nofollow">ã€Šé€šè¿‡JSæ¨¡æ¿å¼•æ“å®ç°åŠ¨æ€æ¨¡å—ç»„ä»¶(Vite+JS+Handlebars)ã€‹</a></li>
<li><a href="https://charlee44.com/post.html?id=4e2dcb7eb0804019b5f1caa65f4531b6" target="_blank" rel="noopener nofollow">ã€Šä½¿ç”¨Vditorå°†Markdownæ–‡æ¡£æ¸²æŸ“æˆç½‘é¡µ(Vite+JS+Vditor)ã€‹</a></li>
</ul>
<h1 id="2-è¯¦å™">2 è¯¦å™</h1>
<h2 id="21-æ•´ä½“ç»“æ„">2.1 æ•´ä½“ç»“æ„</h2>
<p>å°†æ¸²æŸ“Markdownæ–‡æ¡£çš„éƒ¨åˆ†å°è£…æˆå•ç‹¬çš„ç»„ä»¶ï¼ˆpost-article.jsã€post-article.handlebarså’Œpost-article.cssï¼‰ï¼Œå¢åŠ ä¸€ä¸ªæ–‡ç« ç›®å½•ç»„ä»¶ï¼ˆpost-toc.jsã€post-toc.handlebarsã€post-toc.cssï¼‰ã€‚å¦å¤–post-data.jsonæ˜¯æˆ‘ä»¬æå‰å‡†å¤‡çš„åšå®¢æ–‡ç« ï¼Œé‡Œé¢é™¤äº†ä¿å­˜æœ‰Markdownæ ¼å¼çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œè¿˜æœ‰ä¸€äº›æ–‡ç« çš„ç›¸å…³æ•°æ®ï¼›1.pngå’Œ2.pngåˆ™æ˜¯æ–‡ç« ä¸­å›¾ç‰‡ã€‚é¡¹ç›®ç»„ç»‡ç»“æ„å¦‚ä¸‹ï¼š</p>
<p>my-native-js-app/<br>
â”œâ”€â”€ public/<br>
â”‚   â”œâ”€â”€ 1.png<br>
â”‚   â”œâ”€â”€ 2.png<br>
â”‚   â””â”€â”€ post-data.json<br>
â”œâ”€â”€ src/<br>
â”‚   â”œâ”€â”€ components/<br>
â”‚   â”‚   â”œâ”€â”€ post-article.css<br>
â”‚   â”‚   â”œâ”€â”€ post-article.handlebars<br>
â”‚   â”‚   â”œâ”€â”€ post-article.js<br>
â”‚   â”‚   â”œâ”€â”€ post-toc.css<br>
â”‚   â”‚   â”œâ”€â”€ post-toc.handlebars<br>
â”‚   â”‚   â””â”€â”€ post-toc.js<br>
â”‚   â”œâ”€â”€ main.js<br>
â”‚   â””â”€â”€ style.css<br>
â”œâ”€â”€ index.html<br>
â””â”€â”€ package.json</p>
<p>è¿˜æ˜¯æŒ‰ç…§ä»£ç çš„æ‰§è¡Œé¡ºåºæ¥ä»‹ç»è¿™ä¸ªåŠŸèƒ½çš„å®ç°ã€‚é¦–å…ˆè¿˜æ˜¯index.htmlï¼š</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;link rel="icon" type="image/svg+xml" href="/vite.svg" /&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
  &lt;title&gt;Vite App&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div id="app"&gt;
    &lt;div id="post-article-placeholder"&gt;&lt;/div&gt;
    &lt;div id="article-toc-placeholder"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;script type="module" src="/src/main.js"&gt;&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<p>ä¸»è¦å°±æ˜¯å¢åŠ äº†post-article-placeholderå’Œarticle-toc-placeholderè¿™ä¸¤ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä½œä¸ºMarkdownåšæ–‡å’Œåšæ–‡ç›®å½•çš„å®¹å™¨ã€‚å…¶å®è¿™é‡Œé¢è¿˜æœ‰ä¸ªé¡µé¢å¸ƒå±€çš„é—®é¢˜ï¼Œä¸è¿‡è¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« å†è¯´ã€‚è¿™é‡Œè¿˜æ˜¯å…ˆçœ‹main.jsï¼š</p>
<pre><code class="language-javascript">import "./style.css";
import "./components/post-article.js";
</code></pre>
<h2 id="22-åšæ–‡å†…å®¹ç»„ä»¶">2.2 åšæ–‡å†…å®¹ç»„ä»¶</h2>
<p>å¼•ç”¨äº†post-article.jsï¼Œä¹Ÿå°±æ˜¯Markdownåšæ–‡å†…å®¹ç»„ä»¶ã€‚é‚£ä¹ˆå°±è¿›å…¥post-article.jsï¼š</p>
<pre><code class="language-js">import "./post-article.css";
import { CreateTocPanel } from "./post-toc.js";
import Handlebars from "handlebars";
import templateSource from "./post-article.handlebars?raw";

import "vditor/dist/index.css";
import Vditor from "vditor";

// åˆå§‹åŒ–æ–‡ç« æ ‡ç­¾é¢æ¿
async function InitializePostArticlePanel() {
  try {   
    const response = await fetch("/post-data.json");
    if (!response.ok) {
      throw new Error("ç½‘ç»œæ— å“åº”");
    }
    const blogData = await response.json();
  
    // ç¼–è¯‘æ¨¡æ¿
    const template = Handlebars.compile(templateSource);

    // æ¸²æŸ“æ¨¡æ¿
    const renderedHtml = template({
      blogMeta: blogData.blogMeta,
    });

    // å°†æ¸²æŸ“å¥½çš„HTMLæ’å…¥åˆ°é¡µé¢ä¸­
    document.getElementById("post-article-placeholder").innerHTML =
      renderedHtml;

    // æ˜¾ç¤ºå†…å®¹
    Vditor.preview(document.getElementById("post-content"), blogData.content, {
      cdn: window.location.origin,
      markdown: {
        toc: false,
        mark: true, //==é«˜äº®æ˜¾ç¤º==
        footnotes: true, //è„šæ³¨
        autoSpace: true, //è‡ªåŠ¨ç©ºæ ¼ï¼Œé€‚åˆä¸­è‹±æ–‡æ··åˆæ’ç‰ˆ
      },
      math: {
        engine: "KaTeX", //æ”¯æŒlatexå…¬å¼
        inlineDigit: true, //å†…è”å…¬å¼å¯ä»¥æ¥æ•°å­—
      },
      hljs: {
        style: "github", //ä»£ç æ®µæ ·å¼
        lineNumber: true, //æ˜¯å¦æ˜¾ç¤ºè¡Œå·
      },
      anchor: 2, // ä¸ºæ ‡é¢˜æ·»åŠ é”šç‚¹ 0ï¼šä¸æ¸²æŸ“ï¼›1ï¼šæ¸²æŸ“äºæ ‡é¢˜å‰ï¼›2ï¼šæ¸²æŸ“äºæ ‡é¢˜å
      lang: "zh_CN", //ä¸­æ–‡
      theme: {
        current: "light", //light,dark,light,wechat
      },
      lazyLoadImage:
        "https://cdn.jsdelivr.net/npm/vditor/dist/images/img-loading.svg",
      transform: (html) =&gt; {
        // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢å›¾ç‰‡è·¯å¾„ï¼Œå¹¶æ·»åŠ å±…ä¸­æ ·å¼åŠé¢˜æ³¨
        return html.replace(
          /&lt;img\s+[^&gt;]*src="\.\/([^"]+)\.([a-zA-Z0-9]+)"\s*alt="([^"]*)"[^&gt;]*&gt;/g,
          (match, p1, p2, altText) =&gt; {
            // const newSrc = `${backendUrl}/blogs/resources/images/${postId}/${p1}.${p2}`;
            const newSrc = `${p1}.${p2}`;
            const imgWithCaption = `
                    &lt;div style="text-align: center;"&gt;
                        &lt;img src="${newSrc}" class="center-image" alt="${altText}"&gt;
                        &lt;p class="caption"&gt;${altText}&lt;/p&gt;
                    &lt;/div&gt;
                    `;
            return imgWithCaption;
          }
        );
      },
      after() {
        CreateTocPanel();
      },
    });
  } catch (error) {
    console.error("è·å–åšå®¢å¤±è´¥:", error);
  }
}

document.addEventListener("DOMContentLoaded", InitializePostArticlePanel);
</code></pre>
<p>post-article.jsä¸­çš„å†…å®¹æ”¹è¿›è‡ª<a href="https://charlee44.com/post.html?id=24b7a11791a04cf1b19df9c1fec00787" target="_blank" rel="noopener nofollow">ã€Šé€šè¿‡JSæ¨¡æ¿å¼•æ“å®ç°åŠ¨æ€æ¨¡å—ç»„ä»¶(Vite+JS+Handlebars)ã€‹</a>ä¸­çš„æ¡ˆä¾‹ï¼Œä¸è¿‡ç•¥æœ‰ä¸åŒã€‚é¦–å…ˆæ˜¯è·å–åšæ–‡æ•°æ®ï¼š</p>
<pre><code class="language-js">const response = await fetch("/post-data.json");
if (!response.ok) {
    throw new Error("ç½‘ç»œæ— å“åº”");
}
const blogData = await response.json();

// ç¼–è¯‘æ¨¡æ¿
const template = Handlebars.compile(templateSource);

// æ¸²æŸ“æ¨¡æ¿
const renderedHtml = template({
    blogMeta: blogData.blogMeta,
});

// å°†æ¸²æŸ“å¥½çš„HTMLæ’å…¥åˆ°é¡µé¢ä¸­
document.getElementById("post-article-placeholder").innerHTML =
    renderedHtml;
</code></pre>
<p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œåº”è¯¥æ˜¯ä»è¿œç«¯APIè·å–æ•°æ®ï¼Œè¿™é‡Œè¿›è¡Œäº†ç®€åŒ–ï¼Œå°†æ•°æ®æå‰å‡†å¤‡å¥½äº†æ”¾ç½®åœ¨åŸŸå†…ã€‚ç„¶åï¼Œå°†è¿™ä¸ªæ•°æ®ä¸ç¼–è¯‘çš„Handlebarsæ¨¡æ¿ä¸€èµ·æ¸²æŸ“æˆHTMLå…ƒç´ ã€‚ä»ä¸‹é¢çš„post-article.handlebarsä¸­å¯ä»¥çœ‹åˆ°ï¼Œåšæ–‡ç»„ä»¶ä¸­å†…å®¹ä¸ä»…åŒ…å«Markdownåšæ–‡å†…å®¹å…ƒç´ ï¼Œè¿˜æœ‰è¯¸å¦‚æ—¶é—´ã€ç»Ÿè®¡ä¿¡æ¯ã€æ ‡ç­¾ç­‰å…ƒç´ ï¼š</p>
<pre><code class="language-html">&lt;div id="main-content"&gt;
    &lt;h1 id="post-title"&gt;{{blogMeta.title}}&lt;/h1&gt;
    &lt;div class="post-stats"&gt;
        &lt;span class = "post-stat"&gt;
            &lt;span&gt;ğŸ“&lt;/span&gt;&lt;span class = "text"&gt;å·²äº&lt;/span&gt;{{blogMeta.createdTime}}&lt;span class = "text"&gt;ä¿®æ”¹&lt;/span&gt;
        &lt;/span&gt;
        &lt;span class = "post-stat"&gt;
            &lt;span&gt;ğŸ‘ï¸&lt;/span&gt;{{blogMeta.postStats.viewCount}}&lt;span class = "text"&gt;é˜…è¯»&lt;/span&gt;
        &lt;/span&gt;
        &lt;span class = "post-stat"&gt;
            &lt;span&gt;ğŸ‘&lt;/span&gt;{{blogMeta.postStats.likeCount}}&lt;span class = "text"&gt;ç‚¹èµ&lt;/span&gt;
        &lt;/span&gt;
        &lt;span class = "post-stat"&gt;
            &lt;span&gt;ğŸ’¬&lt;/span&gt;{{blogMeta.postStats.commentCount}}&lt;span class = "text"&gt;è¯„è®º&lt;/span&gt;
        &lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="post-tags"&gt;
        &lt;span class = "tags-title"&gt;
            &lt;span&gt;ğŸ”–&lt;/span&gt;&lt;span class = "text"&gt;æ–‡ç« æ ‡ç­¾&lt;/span&gt;
        &lt;/span&gt;
        {{#each blogMeta.tagNames}}
        &lt;span class = "post-tag"&gt;{{this}}&lt;/span&gt;
        {{/each}}
    &lt;/div&gt;
    &lt;div class="post-categories"&gt;
        ä¸“æ 
        {{#each blogMeta.categoryNames}}
        &lt;span&gt; {{this}} &lt;/span&gt;
        {{/each}}
        æ”¶å½•è¯¥å†…å®¹
    &lt;/div&gt;
    &lt;div id="post-content"&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>Markdownåšæ–‡å†…å®¹å…ƒç´ æ˜¯ä½¿ç”¨Vditoræ¥æ¸²æŸ“åˆå§‹åŒ–çš„ï¼Œè¿™ä¸€ç‚¹ä¸ä¹‹å‰çš„æ¡ˆä¾‹ä¸€æ ·ã€‚ä¸åŒçš„æ˜¯å¢åŠ äº†ä¸€ä¸ª<code>after</code>é…ç½®ï¼š</p>
<pre><code class="language-js">import { CreateTocPanel } from "./post-toc.js";

//...

after() {
    CreateTocPanel();
},
</code></pre>
<p>è¿™ä¸ª<code>after</code>é…ç½®çš„æ„æ€æ˜¯å½“Vditoræ¸²æŸ“å®Œæˆä»¥åï¼Œå°±ç«‹åˆ»æ‰§è¡Œ<code>CreateTocPanel()</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥è‡ªäºåšæ–‡ç›®å½•ç»„ä»¶post-toc.jsï¼Œè¡¨ç¤ºè¦å¼€å§‹åˆ›å»ºåšæ–‡ç›®å½•äº†ã€‚</p>
<h2 id="22-åšæ–‡ç›®å½•ç»„ä»¶">2.2 åšæ–‡ç›®å½•ç»„ä»¶</h2>
<p>post-toc.jsä¸­çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-js">import "./post-toc.css";

import Handlebars from "handlebars";
import templateSource from "./post-toc.handlebars?raw";

export function CreateTocPanel() {
  const headings = document.querySelectorAll(
    "#post-content h1, #post-content h2, #post-content h3"
  );

  const tocContent = [];
  headings.forEach((heading, index) =&gt; {
    const content = {};
    content["id"] = heading.id;
    content["title"] = heading.textContent;
    const marginLeft =
      heading.tagName === "H2" ? 20 : heading.tagName === "H3" ? 40 : 0;
    content["marginLeft"] = marginLeft;
    tocContent.push(content);
  });

  // ç¼–è¯‘æ¨¡æ¿
  const template = Handlebars.compile(templateSource);

  // æ¸²æŸ“æ¨¡æ¿
  const renderedHtml = template({
    tocContent,
  });

  // å°†æ¸²æŸ“å¥½çš„HTMLæ’å…¥åˆ°é¡µé¢ä¸­
  const articleTocPlaceholder = document.getElementById(
    "article-toc-placeholder"
  );
  articleTocPlaceholder.innerHTML = renderedHtml;

  // è”åŠ¨ï¼šæ»šåŠ¨æ—¶åŒæ­¥æ¿€æ´»ç›®å½•é¡¹
  window.addEventListener("scroll", () =&gt; {
    let activeHeading;
    headings.forEach((heading) =&gt; {
      const rect = heading.getBoundingClientRect();
      if (rect.top &gt;= 0 &amp;&amp; rect.top &lt;= window.innerHeight / 2) {
        activeHeading = heading;
      }
    });

    if (activeHeading) {
      document
        .querySelectorAll(".toc-sidebar .toc a")
        .forEach((link) =&gt; link.classList.remove("active"));     
      const escapedId = CSS.escape(activeHeading.id); //å®‰å…¨åœ°è½¬ä¹‰é€‰æ‹©å™¨ä¸­çš„ç‰¹æ®Šå­—ç¬¦
      const activeLink = document.querySelector(
        `.toc-sidebar .toc a[href="#${escapedId}"]`
      );
      if (activeLink) activeLink.classList.add("active");
    }
  });
}
</code></pre>
<p>è¿™æ®µä»£ç æ˜¯å®ç°åšæ–‡ç›®å½•åŠŸèƒ½çš„å…³é”®ä»£ç ã€‚é¦–å…ˆï¼Œæœç´¢æŸ¥è¯¢æ¸²æŸ“æˆHTMLå½¢å¼çš„åšæ–‡å†…å®¹ä¸­çš„æ ‡é¢˜å…ƒç´ <code>h1</code>ã€<code>h2</code>å’Œ<code>h3</code>ï¼š</p>
<pre><code class="language-js">const headings = document.querySelectorAll(
    "#post-content h1, #post-content h2, #post-content h3"
  );
</code></pre>
<p>ç„¶åæå–å‡ºå…³é”®æ•°æ®ï¼š</p>
<pre><code class="language-js">const tocContent = [];
  headings.forEach((heading, index) =&gt; {
    const content = {};
    content["id"] = heading.id;
    content["title"] = heading.textContent;
    const marginLeft =
      heading.tagName === "H2" ? 20 : heading.tagName === "H3" ? 40 : 0;
    content["marginLeft"] = marginLeft;
    tocContent.push(content);
  });
</code></pre>
<p>å°†å…¶ä¼ å…¥Handlebarsæ¨¡æ¿è¿›è¡Œæ¸²æŸ“ï¼š</p>
<pre><code class="language-js">// ç¼–è¯‘æ¨¡æ¿
  const template = Handlebars.compile(templateSource);

  // æ¸²æŸ“æ¨¡æ¿
  const renderedHtml = template({
    tocContent,
  });

  // å°†æ¸²æŸ“å¥½çš„HTMLæ’å…¥åˆ°é¡µé¢ä¸­
  const articleTocPlaceholder = document.getElementById(
    "article-toc-placeholder"
  );
  articleTocPlaceholder.innerHTML = renderedHtml;
</code></pre>
<p>æ¨¡æ¿post-toc.handlebarsä¸­çš„å†…å®¹éå¸¸ç®€å•ï¼š</p>
<pre><code class="language-html">&lt;div class="toc-sidebar"&gt;
    &lt;div class="toc"&gt;
        &lt;h3&gt;æ–‡ç« ç›®å½•&lt;/h3&gt;
        &lt;ul&gt;
            {{#each tocContent}}
            &lt;li style="margin-left: {{marginLeft}}px;"&gt;
                &lt;a href="#{{id}}" class=""&gt;
                    {{title}}
                &lt;/a&gt;
            &lt;/li&gt;
            {{/each}}
        &lt;/ul&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°è¿™é‡Œèƒ½å¤Ÿè·å–ä¸€çº§ã€äºŒçº§è¿˜æœ‰ä¸‰çº§æ ‡é¢˜ï¼Œé€šè¿‡æ ·å¼çš„ç¼©è¿›ï¼ˆ<code>margin-left</code>ï¼‰æ¥ä½“ç°æ ‡é¢˜çš„ä¸åŒã€‚å¦å¤–ï¼Œhrefå±æ€§çš„è®¾ç½®ä¹Ÿä¿è¯äº†èƒ½é€šè¿‡ç‚¹å‡»æ¥å®ç°è·³è½¬ã€‚</p>
<p>æœ€åå®ç°è”åŠ¨ï¼Œé€šè¿‡æ–‡ç« æ ‡é¢˜å…ƒç´ èŒƒå›´çš„åˆ¤å®šï¼Œæ¥é«˜äº®ç›®å½•ä¸­æ ‡é¢˜å…ƒç´ çš„æ ·å¼ï¼Œè®©ç”¨æˆ·ç›´åˆ°æµè§ˆåˆ°åšæ–‡ä¸­çš„å“ªä¸€æ®µäº†ï¼š</p>
<pre><code class="language-js">// è”åŠ¨ï¼šæ»šåŠ¨æ—¶åŒæ­¥æ¿€æ´»ç›®å½•é¡¹
  window.addEventListener("scroll", () =&gt; {
    let activeHeading;
    headings.forEach((heading) =&gt; {
      const rect = heading.getBoundingClientRect();
      if (rect.top &gt;= 0 &amp;&amp; rect.top &lt;= window.innerHeight / 2) {
        activeHeading = heading;
      }
    });

    if (activeHeading) {
      document
        .querySelectorAll(".toc-sidebar .toc a")
        .forEach((link) =&gt; link.classList.remove("active"));     
      const escapedId = CSS.escape(activeHeading.id); //å®‰å…¨åœ°è½¬ä¹‰é€‰æ‹©å™¨ä¸­çš„ç‰¹æ®Šå­—ç¬¦
      const activeLink = document.querySelector(
        `.toc-sidebar .toc a[href="#${escapedId}"]`
      );
      if (activeLink) activeLink.classList.add("active");
    }
  });
</code></pre>
<h1 id="3-ç»“è¯­">3 ç»“è¯­</h1>
<p>æœ€ç»ˆå®ç°çš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1000410/202506/1000410-20250612205028089-1058512188.png" alt="åšæ–‡ç›®å½•ç»„ä»¶æœ€ç»ˆæ•ˆæœ" loading="lazy"></p>
<p>è™½ç„¶åŠŸèƒ½å¤§è‡´å®ç°äº†ï¼Œä¸è¿‡è¿˜æœ‰ä¸€äº›é—®é¢˜æ²¡æœ‰è¯´æ¸…æ¥šï¼Œæ¯”å¦‚åœ¨æµè§ˆæ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œåšæ–‡ç›®å½•æ˜¯å¦‚ä½•å§‹ç»ˆä¿è¯é»åœ¨é¡µé¢çš„å³ä¸Šè§’çš„ï¼Ÿè¿™ä¸ªé—®é¢˜å°±æ”¾åœ¨ä¸‹ç¯‡ä¸­ç»§ç»­è®ºè¿°äº†ã€‚</p>
<p><a href="https://download.csdn.net/download/charlee44/90987246" target="_blank" rel="noopener nofollow">å®ç°ä»£ç </a></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-12 20:52">2025-06-12 20:51</span>&nbsp;
<a href="https://www.cnblogs.com/charlee44">charlee44</a>&nbsp;
é˜…è¯»(<span id="post_view_count">127</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18926136);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18926136', targetLink: 'https://www.cnblogs.com/charlee44/p/18926136', title: 'ç»™Markdownæ¸²æŸ“ç½‘é¡µå¢åŠ ä¸€ä¸ªç›®å½•ç»„ä»¶(Vite+Vditor+Handlebars)(ä¸Š)' })">ä¸¾æŠ¥</a>
</div>
        