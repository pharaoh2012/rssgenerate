
		<h2>
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/i2u9/p/18867175/kylin-docker" title="发布于 2025-05-08 21:40">
    <span role="heading" aria-level="2">在ARM笔记本和KylinOS桌面操作系统上安装docker</span>
    

</a>

		</h2>
		    <div id="cnblogs_post_description" style="display: none">
        
        在国产笔记本上安装docker
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="目标">目标</h1>
<p>手头有一台华为L420笔记本，CPU为<code>ARM</code>（HUAWEI Kirin 9006C），OS为<strong>Kylin桌面操作系统V10（SP1）</strong>，内核5.4.96，已激活。</p>
<p>需要安装<code>docker</code>，但在<code>软件商店</code>里面没有，在终端中执行<code>apt info docker</code>仅有一个很低的版本,使用Ubuntun上的安装方式失败。</p>
<p>偶然发现docker有<code>static</code>版本，并参考centos上<code>rpm</code>的组织方式，安装成功。</p>
<h2 id="首先准备文件">首先准备文件</h2>
<p>此处基于阿里的镜像源：<a href="https://mirrors.aliyun.com/docker-ce/linux/static/stable/aarch64/" target="_blank" rel="noopener nofollow">https://mirrors.aliyun.com/docker-ce/linux/static/stable/aarch64/</a></p>
<p>下载好: <code>docker-27.5.1.tgz</code></p>
<p>同时下载好rpm的参考文件，用来制作service文件，<a href="https://mirrors.aliyun.com/docker-ce/linux/centos/10/aarch64/stable/Packages/" target="_blank" rel="noopener nofollow">https://mirrors.aliyun.com/docker-ce/linux/centos/10/aarch64/stable/Packages/</a></p>
<p>下载好：<code>containerd.io-1.7.27-3.1.el10.x86_64.rpm</code>,<code>docker-ce-27.5.1-1.el10.x86_64.rpm</code></p>
<p>因为只需要一些配置文件，不需要二进制，所以下载任意架构的rpm即可。</p>
<h2 id="准备文件">准备文件</h2>
<p>如果系统没有<code>rpm2cpio</code>命令，需要执行： <code>apt install rpm2cpio cpio</code></p>
<p>新建2个目录：containerio, dockerce</p>
<p>解压rpm包<br>
<code>rpm2cpio containerd.io* | cpio -divm -D containerdio</code><br>
<code>rpm2cpio docker-ce* | cpio -divm -D dockerce</code></p>
<p>解压<code>docker-27.5.1.tgz</code>，得到<code>docker</code>目录，里面是一些可执行文件, 将这些执行文件全部拷贝到 <code>/usr/bin/</code> 中</p>
<h2 id="配置系统">配置系统</h2>
<pre><code class="language-bash">cp -r containerio/etc/containerd /etc
cp containerio/usr/lib/systemd/system/containerd.service /usr/lib/systemd/system/
cp dockerce/usr/lib/systemd/system/docker.* /usr/lib/systemd/system/
# 因为 docker.socket依赖docker group，所以需要手动创建docker用户组
groupadd docker 
</code></pre>
<h2 id="启动服务">启动服务</h2>
<pre><code class="language-bash">systemctl daemon-reload
systemctl start containerd
systemctl start docker
</code></pre>

</div>
<div class="clear"></div>

		<p class="postfoot">
			posted on 
<span id="post-date" data-last-update-days="0.3569281660949074" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-08 21:41">2025-05-08 21:40</span>&nbsp;
<a href="https://www.cnblogs.com/i2u9">Simple Love</a>&nbsp;
阅读(<span id="post_view_count">12</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18867175);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18867175', targetLink: 'https://www.cnblogs.com/i2u9/p/18867175/kylin-docker', title: '在ARM笔记本和KylinOS桌面操作系统上安装docker' })">举报</a>

		</p>
	