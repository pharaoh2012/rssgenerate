
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wenyangblog/p/18984535" title="å‘å¸ƒäº 2025-07-14 19:22">
    <span role="heading" aria-level="2">05dcç¯å¢ƒçº¦æŸ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="dcç¯å¢ƒçº¦æŸå®Œæ•´æŒ‡å—">DCç¯å¢ƒçº¦æŸå®Œæ•´æŒ‡å—</h1>
<h2 id="-ç›®å½•">ğŸ“š ç›®å½•</h2>
<h3 id="-åŸºç¡€ç¯‡">ğŸŒŸ åŸºç¡€ç¯‡</h3>
<ul>
<li><a href="#1-%E7%8E%AF%E5%A2%83%E7%BA%A6%E6%9D%9F%E6%A6%82%E8%BF%B0" rel="noopener nofollow">1. ç¯å¢ƒçº¦æŸæ¦‚è¿°</a></li>
<li><a href="#2-%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F%E5%9F%BA%E7%A1%80%E5%9B%9E%E9%A1%BE" rel="noopener nofollow">2. æ—¶åºçº¦æŸåŸºç¡€å›é¡¾</a></li>
<li><a href="#3-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83%E7%BA%A6%E6%9D%9F" rel="noopener nofollow">3. åŸºæœ¬ç¯å¢ƒçº¦æŸ</a></li>
</ul>
<h3 id="-è¿›é˜¶ç¯‡">ğŸš€ è¿›é˜¶ç¯‡</h3>
<ul>
<li><a href="#4-%E8%BE%93%E5%85%A5%E9%A9%B1%E5%8A%A8%E7%BA%A6%E6%9D%9F" rel="noopener nofollow">4. è¾“å…¥é©±åŠ¨çº¦æŸ</a></li>
<li><a href="#5-%E8%BE%93%E5%87%BA%E8%B4%9F%E8%BD%BD%E7%BA%A6%E6%9D%9F" rel="noopener nofollow">5. è¾“å‡ºè´Ÿè½½çº¦æŸ</a></li>
<li><a href="#6-%E5%B7%A5%E8%89%BA%E7%8E%AF%E5%A2%83%E7%BA%A6%E6%9D%9F" rel="noopener nofollow">6. å·¥è‰ºç¯å¢ƒçº¦æŸ</a></li>
</ul>
<h3 id="-å®æˆ˜ç¯‡">ğŸ’¡ å®æˆ˜ç¯‡</h3>
<ul>
<li><a href="#7-%E5%AF%84%E7%94%9F%E5%8F%82%E6%95%B0%E5%BB%BA%E6%A8%A1" rel="noopener nofollow">7. å¯„ç”Ÿå‚æ•°å»ºæ¨¡</a></li>
<li><a href="#8-%E7%BA%A6%E6%9D%9F%E8%84%9A%E6%9C%AC%E7%AE%A1%E7%90%86" rel="noopener nofollow">8. çº¦æŸè„šæœ¬ç®¡ç†</a></li>
<li><a href="#9-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B8%8E%E8%B0%83%E8%AF%95" rel="noopener nofollow">9. æœ€ä½³å®è·µä¸è°ƒè¯•</a></li>
</ul>
<hr>
<h2 id="1-ç¯å¢ƒçº¦æŸæ¦‚è¿°">1. ç¯å¢ƒçº¦æŸæ¦‚è¿°</h2>
<h3 id="-ä»€ä¹ˆæ˜¯ç¯å¢ƒçº¦æŸ">ğŸ” ä»€ä¹ˆæ˜¯ç¯å¢ƒçº¦æŸï¼Ÿ</h3>
<p><strong>ç¯å¢ƒçº¦æŸ</strong>å®šä¹‰äº†èŠ¯ç‰‡å·¥ä½œçš„å¤–éƒ¨ç¯å¢ƒæ¡ä»¶ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>è¾“å…¥ä¿¡å·çš„é©±åŠ¨èƒ½åŠ›</li>
<li>è¾“å‡ºç«¯å£çš„è´Ÿè½½æ¡ä»¶</li>
<li>å·¥è‰ºã€ç”µå‹ã€æ¸©åº¦(PVT)å˜åŒ–</li>
<li>å¯„ç”Ÿå‚æ•°çš„å½±å“</li>
</ul>
<h3 id="-ä¸ºä»€ä¹ˆéœ€è¦ç¯å¢ƒçº¦æŸ">âš¡ ä¸ºä»€ä¹ˆéœ€è¦ç¯å¢ƒçº¦æŸï¼Ÿ</h3>
<table>
<thead>
<tr>
<th>ç¼ºå°‘ç¯å¢ƒçº¦æŸçš„é—®é¢˜</th>
<th>æ­£ç¡®ç¯å¢ƒçº¦æŸçš„å¥½å¤„</th>
</tr>
</thead>
<tbody>
<tr>
<td>âŒ é©±åŠ¨èƒ½åŠ›ä¼°ç®—ä¸å‡†</td>
<td>âœ… å‡†ç¡®çš„å»¶è¿Ÿè®¡ç®—</td>
</tr>
<tr>
<td>âŒ è´Ÿè½½å»ºæ¨¡ä¸å½“</td>
<td>âœ… æ­£ç¡®çš„åŠŸè€—è¯„ä¼°</td>
</tr>
<tr>
<td>âŒ å·¥è‰ºè§’è®¾ç½®é”™è¯¯</td>
<td>âœ… æ»¡è¶³å„ç§å·¥ä½œæ¡ä»¶</td>
</tr>
</tbody>
</table>
<h3 id="-ç¯å¢ƒçº¦æŸä¸æ—¶åºçº¦æŸçš„å…³ç³»">ğŸ¯ ç¯å¢ƒçº¦æŸä¸æ—¶åºçº¦æŸçš„å…³ç³»</h3>
<div class="mermaid">graph TB
    A[æ—¶åºçº¦æŸ] --&gt; B[å®šä¹‰æ€§èƒ½ç›®æ ‡]
    C[ç¯å¢ƒçº¦æŸ] --&gt; D[å®šä¹‰å·¥ä½œæ¡ä»¶]
    B --&gt; E[ç»¼åˆä¼˜åŒ–]
    D --&gt; E
    E --&gt; F[æ»¡è¶³è®¾è®¡è¦æ±‚]
</div><hr>
<h2 id="2-æ—¶åºçº¦æŸåŸºç¡€å›é¡¾">2. æ—¶åºçº¦æŸåŸºç¡€å›é¡¾</h2>
<h3 id="-åŸºæœ¬æ—¶åºçº¦æŸå‘½ä»¤">â° åŸºæœ¬æ—¶åºçº¦æŸå‘½ä»¤</h3>
<p>åœ¨è¿›è¡Œç¯å¢ƒçº¦æŸä¹‹å‰ï¼Œéœ€è¦å…ˆå»ºç«‹åŸºæœ¬çš„æ—¶åºæ¡†æ¶ï¼š</p>
<pre><code class="language-tcl">#==========================================
# åŸºç¡€æ—¶åºçº¦æŸæ¨¡æ¿
#==========================================

# 1. åˆ›å»ºç³»ç»Ÿæ—¶é’Ÿ (500MHz = 2nså‘¨æœŸ)
create_clock -period 2.0 [get_ports CLK]

# 2. è¾“å…¥å»¶è¿Ÿçº¦æŸ
set_input_delay -max 0.6 -clock CLK [get_ports A]

# 3. è¾“å‡ºå»¶è¿Ÿçº¦æŸ  
set_output_delay -max 0.8 -clock CLK [get_ports B]
</code></pre>
<h3 id="-æ—¶åºçº¦æŸè¦†ç›–çš„è·¯å¾„ç±»å‹">ğŸ“Š æ—¶åºçº¦æŸè¦†ç›–çš„è·¯å¾„ç±»å‹</h3>
<table>
<thead>
<tr>
<th>çº¦æŸç±»å‹</th>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>å¯„å­˜å™¨é—´è·¯å¾„</strong></td>
<td><code>create_clock</code></td>
<td>å®šä¹‰å†…éƒ¨æ—¶åºæ ‡å‡†</td>
</tr>
<tr>
<td><strong>è¾“å…¥è·¯å¾„</strong></td>
<td><code>set_input_delay</code></td>
<td>çº¦æŸå¤–éƒ¨åˆ°å†…éƒ¨å»¶è¿Ÿ</td>
</tr>
<tr>
<td><strong>è¾“å‡ºè·¯å¾„</strong></td>
<td><code>set_output_delay</code></td>
<td>çº¦æŸå†…éƒ¨åˆ°å¤–éƒ¨å»¶è¿Ÿ</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="3-åŸºæœ¬ç¯å¢ƒçº¦æŸ">3. åŸºæœ¬ç¯å¢ƒçº¦æŸ</h2>
<h3 id="-è¾“å…¥ç«¯å£ç¯å¢ƒçº¦æŸ">ğŸ”Œ è¾“å…¥ç«¯å£ç¯å¢ƒçº¦æŸ</h3>
<h4 id="è¾“å…¥è½¬æ¢æ—¶é—´è®¾ç½®">è¾“å…¥è½¬æ¢æ—¶é—´è®¾ç½®</h4>
<p><strong>ä½œç”¨</strong>: å®šä¹‰è¾“å…¥ä¿¡å·çš„è¾¹æ²¿è½¬æ¢é€Ÿåº¦</p>
<pre><code class="language-tcl"># è®¾ç½®è¾“å…¥ç«¯å£Açš„è½¬æ¢æ—¶é—´ä¸º120ps
set_input_transition 0.12 [get_ports A]

# æ‰¹é‡è®¾ç½®å¤šä¸ªè¾“å…¥ç«¯å£
set_input_transition 0.15 [get_ports {data_in[*] addr_in[*]}]
</code></pre>
<blockquote>
<p>ğŸ“ <strong>ç»éªŒå€¼å‚è€ƒ</strong>:</p>
<ul>
<li>å¿«é€Ÿä¿¡å·: 0.05~0.1ns</li>
<li>æ ‡å‡†ä¿¡å·: 0.1~0.2ns</li>
<li>æ…¢é€Ÿä¿¡å·: 0.2~0.5ns</li>
</ul>
</blockquote>
<h4 id="è¾“å…¥é©±åŠ¨å•å…ƒè®¾ç½®">è¾“å…¥é©±åŠ¨å•å…ƒè®¾ç½®</h4>
<p><strong>ä½œç”¨</strong>: æŒ‡å®šé©±åŠ¨è¾“å…¥ç«¯å£çš„å¤–éƒ¨å•å…ƒç±»å‹</p>
<pre><code class="language-tcl"># ä½¿ç”¨åº“ä¸­çš„OR3Bå•å…ƒé©±åŠ¨ç«¯å£A
set_driving_cell -lib_cell OR3B [get_ports A]

# ä½¿ç”¨ç‰¹å®šåº“çš„é©±åŠ¨å•å…ƒ
set_driving_cell -library my_lib -lib_cell BUFX2 [get_ports clk_in]

# è®¾ç½®é©±åŠ¨å¼ºåº¦ (å¦‚æœä¸æŒ‡å®šå…·ä½“å•å…ƒ)
set_drive 2.0 [get_ports reset_n]
</code></pre>
<h3 id="-è¾“å‡ºç«¯å£ç¯å¢ƒçº¦æŸ">ğŸ“¤ è¾“å‡ºç«¯å£ç¯å¢ƒçº¦æŸ</h3>
<h4 id="åŸºæœ¬è´Ÿè½½è®¾ç½®">åŸºæœ¬è´Ÿè½½è®¾ç½®</h4>
<pre><code class="language-tcl"># æ–¹æ³•1: ç›´æ¥è®¾ç½®è´Ÿè½½å€¼ (30fF)
set_load [expr 30.0/1000] [get_ports B]

# æ–¹æ³•2: åŸºäºåº“å•å…ƒçš„è´Ÿè½½
set_load [load_of my_lib/AN2/A] [get_ports B]

# æ–¹æ³•3: è®¾ç½®ç­‰æ•ˆæ‰‡å‡ºè´Ÿè½½ (3ä¸ªåç›¸å™¨è´Ÿè½½)
set_load [expr {[load_of my_lib/inv1a0/A]*3}] [get_ports B]
</code></pre>
<h4 id="é«˜çº§è´Ÿè½½é…ç½®">é«˜çº§è´Ÿè½½é…ç½®</h4>
<pre><code class="language-tcl"># è®¾ç½®ä¸åŒå·¥è‰ºè§’çš„è´Ÿè½½
set_load -max [expr 50.0/1000] [get_ports data_out]  # æœ€å¤§è´Ÿè½½
set_load -min [expr 20.0/1000] [get_ports data_out]  # æœ€å°è´Ÿè½½

# é’ˆå¯¹å·®åˆ†ä¿¡å·çš„è´Ÿè½½è®¾ç½®
set_load [expr 25.0/1000] [get_ports {diff_out_p diff_out_n}]
</code></pre>
<hr>
<h2 id="4-è¾“å…¥é©±åŠ¨çº¦æŸ">4. è¾“å…¥é©±åŠ¨çº¦æŸ</h2>
<h3 id="-é©±åŠ¨èƒ½åŠ›å»ºæ¨¡è¯¦è§£">ğŸš— é©±åŠ¨èƒ½åŠ›å»ºæ¨¡è¯¦è§£</h3>
<h4 id="é©±åŠ¨å•å…ƒé€‰æ‹©åŸåˆ™">é©±åŠ¨å•å…ƒé€‰æ‹©åŸåˆ™</h4>
<pre><code class="language-tcl">#==========================================
# é©±åŠ¨å•å…ƒé€‰æ‹©ç­–ç•¥
#==========================================

# é«˜é€Ÿä¿¡å·ï¼šé€‰æ‹©å¼ºé©±åŠ¨å•å…ƒ
set_driving_cell -lib_cell BUFX8 [get_ports high_speed_clk]

# æ™®é€šæ•°æ®ä¿¡å·ï¼šé€‰æ‹©æ ‡å‡†é©±åŠ¨
set_driving_cell -lib_cell BUFX2 [get_ports {data[*]}]

# æ§åˆ¶ä¿¡å·ï¼šå¯é€‰æ‹©è¾ƒå¼±é©±åŠ¨
set_driving_cell -lib_cell BUFX1 [get_ports {ctrl_sig[*]}]

# ä½åŠŸè€—ä¿¡å·ï¼šé€‰æ‹©æœ€å°é©±åŠ¨
set_driving_cell -lib_cell BUFX0P5 [get_ports sleep_mode]
</code></pre>
<h4 id="å¤æ‚é©±åŠ¨åœºæ™¯å¤„ç†">å¤æ‚é©±åŠ¨åœºæ™¯å¤„ç†</h4>
<pre><code class="language-tcl"># åœºæ™¯1: ä¸‰æ€æ€»çº¿é©±åŠ¨
set_driving_cell -lib_cell TBUFX2 [get_ports bus_data[*]]
set_driving_cell -library my_lib -lib_cell TBUFX2 \
    -pin Y [get_ports bus_data[*]]

# åœºæ™¯2: åŒå‘ç«¯å£
set_driving_cell -lib_cell BUFX4 [get_ports bidir_port]
set_load [load_of my_lib/BUFX2/A] [get_ports bidir_port]

# åœºæ™¯3: å¤šç”µå‹åŸŸæ¥å£
set_driving_cell -lib_cell LVT_BUFX4 [get_ports lvt_input]
set_input_transition 0.08 [get_ports lvt_input]  # æ›´å¿«çš„è½¬æ¢
</code></pre>
<h3 id="-ç”µæ°”ç‰¹æ€§çº¦æŸ">ğŸ”‹ ç”µæ°”ç‰¹æ€§çº¦æŸ</h3>
<h4 id="æœ€å¤§ç”µå®¹çº¦æŸ">æœ€å¤§ç”µå®¹çº¦æŸ</h4>
<pre><code class="language-tcl"># å®šä¹‰æœ€å¤§è¾“å…¥è´Ÿè½½åŸºå‡†
set MAX_INPUT_LOAD [expr [load_of ssc_core_slow/and2a1/A]*10]

# è·å–é™¤æ—¶é’Ÿå¤–çš„æ‰€æœ‰è¾“å…¥ç«¯å£
set all_in_ex_clk [remove_from_collection [all_inputs] [get_ports clk]]

# åº”ç”¨æœ€å¤§ç”µå®¹çº¦æŸ
set_max_capacitance $MAX_INPUT_LOAD $all_in_ex_clk
</code></pre>
<h4 id="æœ€å¤§è½¬æ¢æ—¶é—´çº¦æŸ">æœ€å¤§è½¬æ¢æ—¶é—´çº¦æŸ</h4>
<pre><code class="language-tcl"># è®¾ç½®å…¨å±€æœ€å¤§è½¬æ¢æ—¶é—´
set MAX_TRAN 0.5
set_max_transition $MAX_TRAN [current_design]

# å¯¹ç‰¹å®šç½‘ç»œè®¾ç½®æ›´ä¸¥æ ¼çš„è½¬æ¢æ—¶é—´
set_max_transition 0.2 [get_nets clk_tree*]
</code></pre>
<hr>
<h2 id="5-è¾“å‡ºè´Ÿè½½çº¦æŸ">5. è¾“å‡ºè´Ÿè½½çº¦æŸ</h2>
<h3 id="-è´Ÿè½½ç±»å‹ä¸è®¡ç®—">ğŸ“Š è´Ÿè½½ç±»å‹ä¸è®¡ç®—</h3>
<h4 id="è´Ÿè½½è®¡ç®—æ–¹æ³•">è´Ÿè½½è®¡ç®—æ–¹æ³•</h4>
<pre><code class="language-tcl">#==========================================
# è´Ÿè½½è®¡ç®—å®ä¾‹
#==========================================

# 1. ç›´æ¥å®¹æ€§è´Ÿè½½ (PCBèµ°çº¿ + æ¥æ”¶å™¨è¾“å…¥)
set pcb_cap 15.0   # PCBèµ°çº¿ç”µå®¹ (fF)
set rx_cap 8.0     # æ¥æ”¶å™¨è¾“å…¥ç”µå®¹ (fF)
set total_cap [expr ($pcb_cap + $rx_cap)/1000]  # è½¬æ¢ä¸ºpF
set_load $total_cap [get_ports data_out]

# 2. åŸºäºæ‰‡å‡ºçš„è´Ÿè½½è®¡ç®—
set fanout_num 4   # é©±åŠ¨4ä¸ªæ¥æ”¶å™¨
set unit_load [load_of std_cell_lib/BUFX1/A]
set total_load [expr $fanout_num * $unit_load]
set_load $total_load [get_ports addr_out[*]]

# 3. æ··åˆè´Ÿè½½æ¨¡å‹
set wire_cap [expr 20.0/1000]  # è¿çº¿ç”µå®¹
set gate_load [expr 2*[load_of my_lib/NAND2/A]]  # é—¨ç”µå®¹
set_load [expr $wire_cap + $gate_load] [get_ports ctrl_out]
</code></pre>
<h4 id="ä¸åŒæ¥å£çš„è´Ÿè½½ç­–ç•¥">ä¸åŒæ¥å£çš„è´Ÿè½½ç­–ç•¥</h4>
<pre><code class="language-tcl"># DDRæ¥å£ï¼šä¸¥æ ¼é˜»æŠ—åŒ¹é…
set_load [expr 50.0/1000] [get_ports {ddr_dq[*] ddr_dqs[*]}]

# LVDSæ¥å£ï¼šå·®åˆ†è´Ÿè½½
set_load [expr 100.0/1000] [get_ports lvds_p]  # 100ohmå·®åˆ†
set_load [expr 100.0/1000] [get_ports lvds_n]

# GPIOæ¥å£ï¼šå¯å˜è´Ÿè½½
set_load -max [expr 30.0/1000] [get_ports gpio[*]]  # æœ€å¤§è´Ÿè½½
set_load -min [expr 5.0/1000] [get_ports gpio[*]]   # æœ€å°è´Ÿè½½
</code></pre>
<hr>
<h2 id="6-å·¥è‰ºç¯å¢ƒçº¦æŸ">6. å·¥è‰ºç¯å¢ƒçº¦æŸ</h2>
<h3 id="ï¸-pvtæ¡ä»¶è®¾ç½®">ğŸŒ¡ï¸ PVTæ¡ä»¶è®¾ç½®</h3>
<h4 id="æ“ä½œæ¡ä»¶é…ç½®">æ“ä½œæ¡ä»¶é…ç½®</h4>
<pre><code class="language-tcl">#==========================================
# PVTå·¥è‰ºè§’è®¾ç½®
#==========================================

# æœ€åæƒ…å†µ (Worst Case)
set_operating_conditions -max "WCCOM"     # Worst Case Commercial
set_operating_conditions -max "WCIND"     # Worst Case Industrial  

# æœ€å¥½æƒ…å†µ (Best Case)
set_operating_conditions -min "BCCOM"     # Best Case Commercial

# å…¸å‹æƒ…å†µ (Typical Case)  
set_operating_conditions "TYPCOM"         # Typical Commercial

# è‡ªå®šä¹‰æ“ä½œæ¡ä»¶
set_operating_conditions -max_library slow_lib -max slow_case \
                        -min_library fast_lib -min fast_case
</code></pre>
<h4 id="å¤šè§’åº¦åˆ†æè®¾ç½®">å¤šè§’åº¦åˆ†æè®¾ç½®</h4>
<pre><code class="language-tcl"># å®šä¹‰åˆ†æè§’åº¦
set_operating_conditions -analysis_type on_chip_variation \
    -max "SS_1P08V_125C" \
    -min "FF_1P32V_M40C"

# ç”µå‹æ¸©åº¦æ‰«æ
foreach voltage {1.08 1.2 1.32} {
    foreach temp {-40 25 125} {
        set condition "V${voltage}_T${temp}"
        # åº”ç”¨ç›¸åº”çš„libraryå’Œæ¡ä»¶
    }
}
</code></pre>
<h3 id="-ç”µæºå’Œæ¸©åº¦çº¦æŸ">âš¡ ç”µæºå’Œæ¸©åº¦çº¦æŸ</h3>
<pre><code class="language-tcl"># ç”µæºç”µå‹è®¾ç½®
set_voltage 1.2 -object VDD
set_voltage 0.0 -object VSS

# æ¸©åº¦è®¾ç½®  
set_temperature 125   # å·¥ä¸šçº§é«˜æ¸©
set_temperature -40   # å·¥ä¸šçº§ä½æ¸©
set_temperature 25    # å®¤æ¸©å…¸å‹å€¼

# è¿‡ç¨‹å˜åŒ–å»ºæ¨¡
set_process_variation slow  # æ…¢å·¥è‰ºè§’
set_process_variation fast  # å¿«å·¥è‰ºè§’
</code></pre>
<hr>
<h2 id="7-å¯„ç”Ÿå‚æ•°å»ºæ¨¡">7. å¯„ç”Ÿå‚æ•°å»ºæ¨¡</h2>
<h3 id="-è¿çº¿å»ºæ¨¡æ–¹æ³•">ğŸ”Œ è¿çº¿å»ºæ¨¡æ–¹æ³•</h3>
<h4 id="çº¿è´Ÿè½½æ¨¡å‹-wire-load-model">çº¿è´Ÿè½½æ¨¡å‹ (Wire Load Model)</h4>
<pre><code class="language-tcl">#==========================================
# çº¿è´Ÿè½½æ¨¡å‹é…ç½®
#==========================================

# è‡ªåŠ¨é€‰æ‹©çº¿è´Ÿè½½æ¨¡å‹
set auto_wire_load_selection true

# æ‰‹åŠ¨æŒ‡å®šçº¿è´Ÿè½½æ¨¡å‹
set_wire_load_model -name "10K_hvratio_1_4" -library my_tech_lib

# åŸºäºé¢ç§¯çš„çº¿è´Ÿè½½é€‰æ‹©
set_wire_load_mode "segmented"    # åˆ†æ®µæ¨¡å‹
set_wire_load_mode "enclosed"     # å°é—­æ¨¡å‹
set_wire_load_mode "top"          # é¡¶å±‚æ¨¡å‹
</code></pre>
<h4 id="çº¿è´Ÿè½½æ¨¡å‹çš„å½±å“">çº¿è´Ÿè½½æ¨¡å‹çš„å½±å“</h4>
<table>
<thead>
<tr>
<th>æ¨¡å‹ç±»å‹</th>
<th>é€‚ç”¨åœºæ™¯</th>
<th>ç²¾åº¦</th>
<th>è®¡ç®—é€Ÿåº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Conservative</strong></td>
<td>æ—©æœŸè®¾è®¡</td>
<td>è¾ƒä½</td>
<td>æœ€å¿«</td>
</tr>
<tr>
<td><strong>Best Case</strong></td>
<td>ä¼˜åŒ–åˆ†æ</td>
<td>ä¸­ç­‰</td>
<td>å¿«</td>
</tr>
<tr>
<td><strong>Worst Case</strong></td>
<td>æ—¶åºæ”¶æ•›</td>
<td>è¾ƒé«˜</td>
<td>ä¸­ç­‰</td>
</tr>
</tbody>
</table>
<h3 id="-é«˜ç²¾åº¦å¯„ç”Ÿå‚æ•°">ğŸ“ é«˜ç²¾åº¦å¯„ç”Ÿå‚æ•°</h3>
<h4 id="spefsdfæ–‡ä»¶åº”ç”¨">SPEF/SDFæ–‡ä»¶åº”ç”¨</h4>
<pre><code class="language-tcl"># è¯»å–åç«¯æä¾›çš„å¯„ç”Ÿå‚æ•°
read_parasitics -format SPEF layout.spef

# è¯»å–æ ‡å‡†å»¶è¿Ÿæ ¼å¼æ–‡ä»¶
read_sdf -load_delay net timing.sdf

# è®¾ç½®å¯„ç”Ÿå‚æ•°çš„ä½¿ç”¨æ¨¡å¼
set_app_var timing_enable_multiple_clocks_per_reg true
</code></pre>
<hr>
<h2 id="8-çº¦æŸè„šæœ¬ç®¡ç†">8. çº¦æŸè„šæœ¬ç®¡ç†</h2>
<h3 id="-çº¦æŸæ–‡ä»¶ç»„ç»‡ç»“æ„">ğŸ“ çº¦æŸæ–‡ä»¶ç»„ç»‡ç»“æ„</h3>
<h4 id="æ¨¡å—åŒ–çº¦æŸç®¡ç†">æ¨¡å—åŒ–çº¦æŸç®¡ç†</h4>
<pre><code class="language-tcl">#==========================================
# ä¸»ç¯å¢ƒçº¦æŸè„šæœ¬: env_constraints.tcl
#==========================================

puts "================================================"
puts "ç¯å¢ƒçº¦æŸè„šæœ¬ v2.0"
puts "é¡¹ç›®: ${PROJECT_NAME}"
puts "æ—¥æœŸ: [clock format [clock seconds] -format %Y-%m-%d]"
puts "================================================"

# 1. å·¥è‰ºç¯å¢ƒè®¾ç½®
source scripts/10_process_conditions.tcl

# 2. è¾“å…¥ç¯å¢ƒçº¦æŸ
source scripts/20_input_environment.tcl

# 3. è¾“å‡ºç¯å¢ƒçº¦æŸ
source scripts/30_output_environment.tcl

# 4. å¯„ç”Ÿå‚æ•°å»ºæ¨¡
source scripts/40_parasitic_modeling.tcl

# 5. ç¯å¢ƒçº¦æŸéªŒè¯
source scripts/90_env_constraint_check.tcl
</code></pre>
<h4 id="åˆ†æ¨¡å—çº¦æŸè„šæœ¬ç¤ºä¾‹">åˆ†æ¨¡å—çº¦æŸè„šæœ¬ç¤ºä¾‹</h4>
<pre><code class="language-tcl">#==========================================
# è¾“å…¥ç¯å¢ƒçº¦æŸ: 20_input_environment.tcl
#==========================================

# å®šä¹‰è¾“å…¥ç«¯å£ç»„
set data_inputs [get_ports data_in[*]]
set ctrl_inputs [get_ports {enable reset_n start}]
set clk_inputs [get_ports {clk ref_clk}]

# æ•°æ®è¾“å…¥çº¦æŸ
set_input_transition 0.1 $data_inputs
set_driving_cell -lib_cell BUFX2 $data_inputs

# æ§åˆ¶è¾“å…¥çº¦æŸ  
set_input_transition 0.15 $ctrl_inputs
set_driving_cell -lib_cell BUFX1 $ctrl_inputs

# æ—¶é’Ÿè¾“å…¥çº¦æŸ
set_input_transition 0.05 $clk_inputs  # æ—¶é’Ÿè¦æ±‚æ›´å¿«è½¬æ¢
set_driving_cell -lib_cell BUFX8 $clk_inputs  # æ—¶é’Ÿéœ€è¦å¼ºé©±åŠ¨

puts "âœ… è¾“å…¥ç¯å¢ƒçº¦æŸè®¾ç½®å®Œæˆ"
</code></pre>
<h3 id="-å¯åŠ¨è„šæœ¬é›†æˆ">ğŸš€ å¯åŠ¨è„šæœ¬é›†æˆ</h3>
<h4 id="ä¸€é”®å¯åŠ¨è„šæœ¬">ä¸€é”®å¯åŠ¨è„šæœ¬</h4>
<pre><code class="language-bash">#!/bin/bash
#==========================================
# DCå¯åŠ¨è„šæœ¬: run_dc.sh
#==========================================

# è®¾ç½®ç¯å¢ƒå˜é‡
export PROJECT_NAME="my_cpu_core"
export TOP_MODULE="cpu_top"

# å¯åŠ¨DCå¹¶åŠ è½½çº¦æŸ
dc_shell-topo -f run.tcl | tee dc_start.log

echo "DCå¯åŠ¨å®Œæˆï¼Œæ—¥å¿—ä¿å­˜åœ¨ dc_start.log"
</code></pre>
<h4 id="tclä¸»æ§è„šæœ¬">TCLä¸»æ§è„šæœ¬</h4>
<pre><code class="language-tcl">#==========================================
# DCä¸»æ§è„šæœ¬: run.tcl  
#==========================================

# æ¸…ç†è®¾è®¡ç¯å¢ƒ
reset_design

# è¯»å–è®¾è®¡æ–‡ä»¶
source scripts/00_read_design.tcl

# åŠ è½½æ—¶åºçº¦æŸ
source scripts/timing_constraints.tcl

# åŠ è½½ç¯å¢ƒçº¦æŸ
source scripts/env_constraints.tcl

# å¼€å§‹ç»¼åˆ
source scripts/synthesis_flow.tcl

puts "ğŸ‰ DCæµç¨‹å®Œæˆ!"
</code></pre>
<hr>
<h2 id="9-æœ€ä½³å®è·µä¸è°ƒè¯•">9. æœ€ä½³å®è·µä¸è°ƒè¯•</h2>
<h3 id="-çº¦æŸéªŒè¯ä¸æ£€æŸ¥">ğŸ” çº¦æŸéªŒè¯ä¸æ£€æŸ¥</h3>
<h4 id="ç¯å¢ƒçº¦æŸæ£€æŸ¥è„šæœ¬">ç¯å¢ƒçº¦æŸæ£€æŸ¥è„šæœ¬</h4>
<pre><code class="language-tcl">#==========================================
# ç¯å¢ƒçº¦æŸæ£€æŸ¥: env_constraint_check.tcl
#==========================================

puts "\n=== ç¯å¢ƒçº¦æŸå®Œæ•´æ€§æ£€æŸ¥ ==="

# 1. æ£€æŸ¥è¾“å…¥é©±åŠ¨è®¾ç½®
set undriven_inputs [filter_collection [all_inputs] "!is_set_driving_cell"]
if {[sizeof_collection $undriven_inputs] &gt; 0} {
    puts "âš ï¸  æœªè®¾ç½®é©±åŠ¨çš„è¾“å…¥ç«¯å£:"
    foreach_in_collection port $undriven_inputs {
        puts "   - [get_object_name $port]"
    }
} else {
    puts "âœ… æ‰€æœ‰è¾“å…¥ç«¯å£å·²è®¾ç½®é©±åŠ¨"
}

# 2. æ£€æŸ¥è¾“å‡ºè´Ÿè½½è®¾ç½®
set unloaded_outputs [filter_collection [all_outputs] "load==0"]
if {[sizeof_collection $unloaded_outputs] &gt; 0} {
    puts "âš ï¸  æœªè®¾ç½®è´Ÿè½½çš„è¾“å‡ºç«¯å£:"
    foreach_in_collection port $unloaded_outputs {
        puts "   - [get_object_name $port]"
    }
} else {
    puts "âœ… æ‰€æœ‰è¾“å‡ºç«¯å£å·²è®¾ç½®è´Ÿè½½"
}

# 3. æ£€æŸ¥æ“ä½œæ¡ä»¶
set op_cond [get_operating_conditions]
puts "ğŸ“Š å½“å‰æ“ä½œæ¡ä»¶: $op_cond"

# 4. ç”Ÿæˆç¯å¢ƒçº¦æŸæŠ¥å‘Š
redirect env_constraints.rpt {
    report_port -verbose
    report_operating_conditions
    report_wire_load
}

puts "ç¯å¢ƒçº¦æŸæ£€æŸ¥å®Œæˆ! è¯¦ç»†æŠ¥å‘Š: env_constraints.rpt"
</code></pre>
<h3 id="ï¸-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ">ğŸ› ï¸ å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 id="é—®é¢˜è¯Šæ–­æµç¨‹">é—®é¢˜è¯Šæ–­æµç¨‹</h4>
<table>
<thead>
<tr>
<th>é—®é¢˜ç°è±¡</th>
<th>å¯èƒ½åŸå› </th>
<th>è§£å†³æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>æ—¶åºè¿‡äºæ‚²è§‚</strong></td>
<td>é©±åŠ¨èƒ½åŠ›è®¾ç½®è¿‡å¼±</td>
<td>å¢å¼ºè¾“å…¥é©±åŠ¨å•å…ƒ</td>
</tr>
<tr>
<td><strong>åŠŸè€—è¯„ä¼°åé«˜</strong></td>
<td>è´Ÿè½½è®¾ç½®è¿‡å¤§</td>
<td>ä¼˜åŒ–è¾“å‡ºè´Ÿè½½è®¾ç½®</td>
</tr>
<tr>
<td><strong>é¢ç§¯ç»“æœå¼‚å¸¸</strong></td>
<td>çº¿è´Ÿè½½æ¨¡å‹ä¸å½“</td>
<td>é€‰æ‹©åˆé€‚çš„WLM</td>
</tr>
<tr>
<td><strong>å¤šè§’åˆ†æå¤±è´¥</strong></td>
<td>PVTè®¾ç½®å†²çª</td>
<td>æ£€æŸ¥æ“ä½œæ¡ä»¶è®¾ç½®</td>
</tr>
</tbody>
</table>
<h4 id="çº¦æŸä¼˜åŒ–ç­–ç•¥">çº¦æŸä¼˜åŒ–ç­–ç•¥</h4>
<pre><code class="language-tcl">#==========================================
# çº¦æŸä¼˜åŒ–è‡ªåŠ¨è„šæœ¬
#==========================================

# åˆ†æå½“å‰çº¦æŸè´¨é‡
set critical_inputs [filter_collection [all_inputs] "max_transition_violation &gt; 0.1"]
set overloaded_outputs [filter_collection [all_outputs] "max_capacitance_violation &gt; 0"]

# è‡ªåŠ¨ä¼˜åŒ–è¾“å…¥é©±åŠ¨
foreach_in_collection port $critical_inputs {
    set port_name [get_object_name $port]
    puts "ä¼˜åŒ–è¾“å…¥ç«¯å£: $port_name"
    
    # å‡çº§é©±åŠ¨å¼ºåº¦
    remove_driving_cell $port
    set_driving_cell -lib_cell BUFX4 $port
}

# è‡ªåŠ¨ä¼˜åŒ–è¾“å‡ºè´Ÿè½½
foreach_in_collection port $overloaded_outputs {
    set port_name [get_object_name $port]
    set current_load [get_attribute $port load]
    set optimized_load [expr $current_load * 0.8]  # å‡å°‘20%è´Ÿè½½
    
    puts "ä¼˜åŒ–è¾“å‡ºç«¯å£: $port_name (è´Ÿè½½: $current_load -&gt; $optimized_load)"
    set_load $optimized_load $port
}
</code></pre>
<h3 id="-æ€§èƒ½è°ƒä¼˜æŠ€å·§">ğŸ’¡ æ€§èƒ½è°ƒä¼˜æŠ€å·§</h3>
<h4 id="é«˜æ€§èƒ½è®¾è®¡çº¦æŸ">é«˜æ€§èƒ½è®¾è®¡çº¦æŸ</h4>
<pre><code class="language-tcl"># é«˜é€Ÿè®¾è®¡çš„ç¯å¢ƒçº¦æŸç­–ç•¥
set_operating_conditions "BEST_CASE"  # ä½¿ç”¨æœ€ä¼˜å·¥è‰ºè§’

# è¾“å…¥ä¿¡å·ï¼šå¼ºé©±åŠ¨ + å¿«è½¬æ¢
set_driving_cell -lib_cell BUFX8 [get_ports data_in[*]]
set_input_transition 0.05 [get_ports data_in[*]]

# è¾“å‡ºä¿¡å·ï¼šè½»è´Ÿè½½ + å¼ºé©±åŠ¨èƒ½åŠ›
set_load [expr 10.0/1000] [get_ports data_out[*]]  # 10fFè½»è´Ÿè½½

# æ—¶é’Ÿç½‘ç»œï¼šæœ€ä¸¥æ ¼çº¦æŸ
set_input_transition 0.02 [get_ports clk]  # 20psè½¬æ¢æ—¶é—´
set_clock_uncertainty -setup 0.05 [all_clocks]  # 50psä¸ç¡®å®šæ€§
</code></pre>
<h4 id="ä½åŠŸè€—è®¾è®¡çº¦æŸ">ä½åŠŸè€—è®¾è®¡çº¦æŸ</h4>
<pre><code class="language-tcl"># ä½åŠŸè€—è®¾è®¡çš„ç¯å¢ƒçº¦æŸç­–ç•¥
set_operating_conditions "TYPICAL_CASE"

# è¾“å…¥ä¿¡å·ï¼šé€‚ä¸­é©±åŠ¨
set_driving_cell -lib_cell BUFX1 [get_ports data_in[*]]
set_input_transition 0.2 [get_ports data_in[*]]  # è¾ƒæ…¢è½¬æ¢é™ä½åŠŸè€—

# è¾“å‡ºä¿¡å·ï¼šæ ‡å‡†è´Ÿè½½
set_load [expr 25.0/1000] [get_ports data_out[*]]

# è®¾ç½®åŠŸè€—çº¦æŸ
set_max_dynamic_power 50.0 mW  # æœ€å¤§åŠ¨æ€åŠŸè€—
set_max_leakage_power 5.0 mW   # æœ€å¤§æ¼ç”µåŠŸè€—
</code></pre>
<hr>
<h2 id="-æ€»ç»“">ğŸ“ æ€»ç»“</h2>
<h3 id="-å…³é”®çŸ¥è¯†ç‚¹å›é¡¾">âœ… å…³é”®çŸ¥è¯†ç‚¹å›é¡¾</h3>
<ol>
<li><strong>ç¯å¢ƒçº¦æŸæ˜¯æ—¶åºçº¦æŸçš„é‡è¦è¡¥å……</strong>ï¼Œç¡®ä¿è®¾è®¡åœ¨å®é™…å·¥ä½œç¯å¢ƒä¸‹çš„å¯é æ€§</li>
<li><strong>è¾“å…¥é©±åŠ¨çº¦æŸ</strong>å½±å“è¾“å…¥è·¯å¾„çš„å»¶è¿Ÿè®¡ç®—å’Œé©±åŠ¨èƒ½åŠ›è¯„ä¼°</li>
<li><strong>è¾“å‡ºè´Ÿè½½çº¦æŸ</strong>å½±å“è¾“å‡ºè·¯å¾„çš„å»¶è¿Ÿå’ŒåŠŸè€—åˆ†æ</li>
<li><strong>PVTå·¥è‰ºçº¦æŸ</strong>ç¡®ä¿è®¾è®¡åœ¨å„ç§å·¥è‰ºæ¡ä»¶ä¸‹éƒ½èƒ½æ­£å¸¸å·¥ä½œ</li>
<li><strong>å¯„ç”Ÿå‚æ•°å»ºæ¨¡</strong>æä¾›æ›´å‡†ç¡®çš„å»¶è¿Ÿå’ŒåŠŸè€—é¢„æµ‹</li>
</ol>
<h3 id="-è¿›é˜¶å­¦ä¹ å»ºè®®">ğŸš€ è¿›é˜¶å­¦ä¹ å»ºè®®</h3>
<div class="mermaid">graph LR
    A[æŒæ¡åŸºç¡€ç¯å¢ƒçº¦æŸ] --&gt; B[ç†è§£PVTå½±å“]
    B --&gt; C[å­¦ä¼šå¯„ç”Ÿå‚æ•°å»ºæ¨¡]
    C --&gt; D[ä¼˜åŒ–çº¦æŸç­–ç•¥]
    D --&gt; E[æˆä¸ºçº¦æŸä¸“å®¶]
</div><h3 id="-å®è·µè¦ç‚¹">ğŸ’¡ å®è·µè¦ç‚¹</h3>
<blockquote>
<p>ğŸ¯ <strong>ç¯å¢ƒçº¦æŸç¼–å†™åŸåˆ™</strong>:</p>
<ul>
<li>è¾“å…¥é©±åŠ¨è¦ç¬¦åˆå®é™…å¤–éƒ¨å™¨ä»¶èƒ½åŠ›</li>
<li>è¾“å‡ºè´Ÿè½½è¦åæ˜ çœŸå®çš„ç³»ç»Ÿè´Ÿè½½</li>
<li>PVTæ¡ä»¶è¦è¦†ç›–äº§å“çš„å·¥ä½œèŒƒå›´</li>
<li>å®šæœŸéªŒè¯çº¦æŸçš„åˆç†æ€§å’Œå®Œæ•´æ€§</li>
</ul>
</blockquote>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.006944444444444444" data-date-updated="2025-07-14 19:32">2025-07-14 19:22</span>&nbsp;
<a href="https://www.cnblogs.com/wenyangblog">SiliconDragon</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18984535);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18984535', targetLink: 'https://www.cnblogs.com/wenyangblog/p/18984535', title: '05dcç¯å¢ƒçº¦æŸ' })">ä¸¾æŠ¥</a>
</div>
        