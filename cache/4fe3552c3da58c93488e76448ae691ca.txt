
    <a name="top"></a>
    <h2><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wJiang/p/19008689" title="å‘å¸ƒäº 2025-07-28 11:56">
    <span role="heading" aria-level="2">Saga Reader 0.9.9 ç‰ˆæœ¬äº®ç‚¹ï¼šæ·±å…¥è§£ææ ¸å¿ƒæ–°åŠŸèƒ½å®ç°</span>
    

</a>
</h2>
    <small>
<span id="post-date" data-last-update-days="0" data-date-updated="2025-07-28 11:56">2025-07-28 11:56</span>&nbsp;
<a href="https://www.cnblogs.com/wJiang">å§œ èŒ@cnblogs</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19008689);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19008689', targetLink: 'https://www.cnblogs.com/wJiang/p/19008689', title: 'Saga Reader 0.9.9 ç‰ˆæœ¬äº®ç‚¹ï¼šæ·±å…¥è§£ææ ¸å¿ƒæ–°åŠŸèƒ½å®ç°' })">ä¸¾æŠ¥</a>
</small>
    <div class="entry">
        <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>Saga Reader åœ¨ 0.9.9 ç‰ˆæœ¬ä¸­è¿æ¥äº†ä¸€ç³»åˆ—æ¿€åŠ¨äººå¿ƒçš„æ›´æ–°ï¼Œæ˜¾è‘—å¢å¼ºäº†å…¶åŠŸèƒ½æ€§ã€çµæ´»æ€§å’Œç”¨æˆ·ä½“éªŒã€‚æœ¬æ¬¡æ›´æ–°çš„æ ¸å¿ƒäº®ç‚¹åŒ…æ‹¬å¯¹æ›´å¤šå¤–éƒ¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ”¯æŒã€å¼•å…¥äº†ç»å…¸çš„ RSS è®¢é˜…æºã€å®ç°äº†å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ä»¥åŠå¢åŠ äº†ç”¨æˆ·æœŸå¾…å·²ä¹…çš„ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ã€‚æœ¬æ–‡å°†ä½œä¸ºä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼Œæ·±å…¥å‰–æè¿™äº›æ ¸å¿ƒåŠŸèƒ½çš„å®ç°åŸç†ã€å…³é”®æŠ€æœ¯ç‚¹å’Œä¸»è¦ä»£ç å®ç°ï¼Œå¸®åŠ©å¼€å‘è€…å’Œæ„Ÿå…´è¶£çš„ç”¨æˆ·æ›´å¥½åœ°ç†è§£ Saga Reader çš„å†…éƒ¨å·¥ä½œæœºåˆ¶ã€‚</p>
</blockquote>
<hr>
<h2 id="é¡¹ç›®ä»‹ç»ä»€ä¹ˆæ˜¯saga-readeréº’ç¿æ™ºåº“">é¡¹ç›®ä»‹ç»ï¼šä»€ä¹ˆæ˜¯Saga Readerï¼ˆéº’ç¿æ™ºåº“ï¼‰</h2>
<p>Saga Readerï¼ˆéº’ç¿æ™ºåº“ï¼‰æ˜¯ä¸€æ¬¾åŸºäºAIæŠ€æœ¯çš„è½»é‡çº§è·¨å¹³å°é˜…è¯»å™¨ï¼Œæ ¸å¿ƒåŠŸèƒ½æ¶µç›–RSSè®¢é˜…ã€å†…å®¹æ™ºèƒ½æŠ“å–ã€AIå†…å®¹å¤„ç†ï¼ˆå¦‚ç¿»è¯‘ã€æ‘˜è¦ï¼‰åŠæœ¬åœ°å­˜å‚¨ã€‚é¡¹ç›®é‡‡ç”¨Rustï¼ˆåç«¯ï¼‰+Svelteï¼ˆå‰ç«¯ï¼‰+Tauriï¼ˆè·¨å¹³å°æ¡†æ¶ï¼‰çš„æŠ€æœ¯ç»„åˆï¼Œç›®æ ‡æ˜¯åœ¨è€æ—§è®¾å¤‡ä¸Šå®ç°"ä½äº10MBå†…å­˜å ç”¨"çš„æè‡´æ€§èƒ½ï¼ŒåŒæ—¶æä¾›æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚å…³äºSaga Readerçš„æ¸Šæºï¼Œè§<a href="https://editor.csdn.net/md/?articleId=148043290" target="_blank" rel="noopener nofollow">ã€Šå¼€æºæˆ‘çš„ä¸€æ¬¾è‡ªç”¨AIé˜…è¯»å™¨ï¼Œå¼•æµWebå‰ç«¯ã€Rustã€Tauriã€AIåº”ç”¨å¼€å‘ã€‹</a>ã€‚</p>
<p><strong>è¿è¡Œæˆªå›¾</strong><br>
<img src="https://img2024.cnblogs.com/blog/98620/202507/98620-20250728115537150-436073636.png" alt="image" loading="lazy"></p>
<p>ğŸ§‘â€ğŸ’»ç å†œğŸ§‘â€ğŸ’»å¼€æºä¸æ˜“ï¼Œå„ä½å¥½äººè·¯è¿‡è¯·ç»™ä¸ªå°æ˜Ÿæ˜ŸğŸ’—StarğŸ’—ã€‚<br>
å…³é”®è¯ï¼šç«¯æ™ºèƒ½ï¼Œè¾¹ç¼˜å¤§æ¨¡å‹ï¼›Tauri 2.0ï¼›æ¡Œé¢ç«¯å®‰è£…åŒ… &lt; 5MBï¼Œå†…å­˜å ç”¨ &lt; 20MBã€‚</p>
<h2 id="1-æ‰©å……å¤–éƒ¨æ¨¡å‹æ‹¥æŠ±-openai-å…¼å®¹ç”Ÿæ€">1. æ‰©å……å¤–éƒ¨æ¨¡å‹ï¼šæ‹¥æŠ± OpenAI å…¼å®¹ç”Ÿæ€</h2>
<p>ä¸ºäº†æ‰“ç ´ç‰¹å®š LLM ä¾›åº”å•†çš„é™åˆ¶ï¼ŒSaga Reader 0.9.9 ç‰ˆæœ¬å¼•å…¥äº†å¯¹æ‰€æœ‰å…¼å®¹ OpenAI API æ ¼å¼çš„äº‘ç«¯å¤§æ¨¡å‹çš„æ”¯æŒã€‚è¿™æ„å‘³ç€ç”¨æˆ·ç°åœ¨å¯ä»¥çµæ´»æ¥å…¥å¹¶ä½¿ç”¨åŒ…æ‹¬ä½†ä¸é™äº Groqã€Moonshot AI (Kimi)ã€Yi aä»¥åŠå…¶ä»–ä»»ä½•æä¾›æ ‡å‡† OpenAI æ¥å£çš„ LLM æœåŠ¡ã€‚</p>
<h3 id="å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹">å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹</h3>
<p>æ­¤åŠŸèƒ½çš„æ ¸å¿ƒåœ¨äºæŠ½è±¡å’Œæ³›åŒ–ã€‚æˆ‘ä»¬æ²¡æœ‰ä¸ºæ¯ä¸€ç§æ–°çš„ LLM æœåŠ¡éƒ½ç¼–å†™ä¸€å¥—ç‹¬ç«‹çš„å®¢æˆ·ç«¯ä»£ç ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªé€šç”¨çš„æœåŠ¡å±‚ï¼Œä¸“é—¨å¤„ç†ä¸ OpenAI å…¼å®¹ API çš„äº¤äº’ã€‚</p>
<ol>
<li>
<p><strong>é€šç”¨æœåŠ¡å±‚ <code>OpenAILikeCompletionService</code></strong></p>
<p>æˆ‘ä»¬åœ¨ <code>crates/llm/src/providers/llm_openaibase_like.rs</code> æ–‡ä»¶ä¸­å®šä¹‰äº† <code>OpenAILikeCompletionService</code>ã€‚è¿™ä¸ªç»“æ„ä½“å°è£…äº†å‘é€è¯·æ±‚ã€å¤„ç†è®¤è¯å’Œè§£æå“åº”çš„é€šç”¨é€»è¾‘ã€‚</p>
<ul>
<li><strong>åŠ¨æ€é…ç½®</strong>ï¼šå®ƒé€šè¿‡ <code>OpenAILLMProvider</code> ç»“æ„ï¼ˆå®šä¹‰äº <code>crates/types/src/lib.rs</code>ï¼‰æ¥æ”¶é…ç½®ï¼Œè¯¥ç»“æ„åŒ…å«äº† <code>api_base_url</code>ã€<code>api_key</code> å’Œ <code>model_name</code> ç­‰å…³é”®ä¿¡æ¯ã€‚</li>
<li><strong>æ ‡å‡†åŒ–è¯·æ±‚</strong>ï¼šå®ƒä½¿ç”¨ç»Ÿä¸€çš„ <code>RequestParameters</code> ç»“æ„ä½“æ¥æ„å»ºè¯·æ±‚ä½“ï¼Œç¡®ä¿ä¸ OpenAI API çš„æ ¼å¼å®Œå…¨ä¸€è‡´ã€‚</li>
<li><strong>é€šç”¨å®¢æˆ·ç«¯</strong>ï¼šå†…éƒ¨ä½¿ç”¨ <code>reqwest</code> å®¢æˆ·ç«¯å‘é€ HTTP POST è¯·æ±‚ï¼Œå¹¶é€šè¿‡ <code>Authorization</code> å¤´ä¼ å…¥ API Keyã€‚</li>
</ul>
<pre><code class="language-rust:/crates/llm/src/providers/llm_openaibase_like.rs">// ...
pub struct OpenAILikeCompletionService {
    pub provider: OpenAILLMProvider,
}

impl OpenAILikeCompletionService {
    pub async fn completion(&amp;self, messages: Vec&lt;Message&gt;) -&gt; Result&lt;String, LLMError&gt; {
        // ...
        let client = reqwest::Client::new();
        let res = client
            .post(&amp;self.provider.api_base_url)
            .bearer_auth(&amp;self.provider.api_key)
            .json(&amp;params)
            .send()
            .await?;
        // ...
    }
}
</code></pre>
</li>
<li>
<p><strong>é‡æ„ç°æœ‰æœåŠ¡</strong></p>
<p>åŸæœ‰çš„ <code>GLMCompletionService</code>ï¼ˆæ™ºè°± AIï¼‰å’Œ <code>MistralQinoAgentService</code> ä¹Ÿè¢«é‡æ„ï¼Œæ”¹ä¸ºåœ¨å†…éƒ¨ç›´æ¥è°ƒç”¨ <code>OpenAILikeCompletionService</code>ã€‚è¿™æå¤§åœ°ç®€åŒ–äº†ä»£ç ï¼Œå¹¶ç»Ÿä¸€äº†æ‰€æœ‰äº‘ç«¯ LLM çš„å¤„ç†é€»è¾‘ã€‚</p>
<pre><code class="language-rust:/crates/llm/src/providers/llm_glm.rs">// ...
impl GLMCompletionService {
    pub async fn completion(&amp;self, messages: Vec&lt;Message&gt;) -&gt; Result&lt;String, LLMError&gt; {
        let open_ai_like_service = OpenAILikeCompletionService {
            provider: OpenAILLMProvider {
                // ... é…ç½® GLM çš„ç‰¹å®šå‚æ•°
            },
        };
        open_ai_like_service.completion(messages).await
    }
}
</code></pre>
</li>
<li>
<p><strong>å‰ç«¯é…ç½®ç•Œé¢</strong></p>
<p>åœ¨è®¾ç½®é¡µé¢ (<code>app/src/routes/settings/sections/ai.svelte</code>)ï¼Œæˆ‘ä»¬ä¸ºç”¨æˆ·æä¾›äº†æ¸…æ™°çš„ UI æ¥é…ç½® OpenAI å…¼å®¹æœåŠ¡çš„ URLã€API Key å’Œæ¨¡å‹åç§°ã€‚è¿™äº›é…ç½®ä¼šé€šè¿‡ Tauri çš„ <code>invoke</code> è°ƒç”¨ä¼ é€’ç»™ Rust åç«¯è¿›è¡Œä¿å­˜å’Œä½¿ç”¨ã€‚</p>
<pre><code class="language-svelte:/app/src/routes/settings/sections/ai.svelte">&lt;!-- Svelte code for OpenAI-like provider settings --&gt;
&lt;Input
    label="API URL"
    bind:value={$llmFormOpenAILikeBaseURI}
    error={$llmFormOpenAILikeBaseURIErr}
/&gt;
&lt;Input
    label="API Key"
    type="password"
    bind:value={$llmFormOpenAILikeKey}
    error={$llmFormOpenAILikeKeyErr}
/&gt;
&lt;Input
    label="Model Name"
    bind:value={$llmFormOpenAILikeModelName}
    error={$llmFormOpenAILikeModelNameErr}
/&gt;
</code></pre>
</li>
</ol>
<hr>
<h2 id="2-rss-è®¢é˜…æºæ”¯æŒå›å½’ç»å…¸çš„å†…å®¹è·å–æ–¹å¼">2. RSS è®¢é˜…æºæ”¯æŒï¼šå›å½’ç»å…¸çš„å†…å®¹è·å–æ–¹å¼</h2>
<p>é™¤äº†åŸºäºæœç´¢å¼•æ“çš„æ™ºèƒ½æŠ“å–ï¼Œ0.9.9 ç‰ˆæœ¬é‡æ–°å¼•å…¥äº†å¯¹ä¼ ç»Ÿ RSS è®¢é˜…æºçš„æ”¯æŒï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´ç¨³å®šã€æ›´ç›´æ¥çš„å†…å®¹è®¢é˜…æ¸ é“ã€‚</p>
<h3 id="å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹-1">å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹</h3>
<p>è¯¥åŠŸèƒ½çš„å®ç°ä¾èµ–äºä¸€ä¸ªç»Ÿä¸€çš„å†…å®¹æŠ“å–æ¥å£å’Œé’ˆå¯¹ä¸åŒæºç±»å‹çš„å…·ä½“å®ç°ã€‚</p>
<ol>
<li>
<p><strong>ç»Ÿä¸€æŠ“å–æ¥å£ <code>IFetcher</code></strong></p>
<p>æˆ‘ä»¬åœ¨ <code>crates/scrap/src/types.rs</code> ä¸­å®šä¹‰äº†ä¸€ä¸ª <code>IFetcher</code> traitã€‚è¿™ä¸ª trait æŠ½è±¡äº†æ‰€æœ‰å†…å®¹æŠ“å–è¡Œä¸ºï¼ŒåªåŒ…å«ä¸€ä¸ªæ ¸å¿ƒçš„ <code>fetch</code> æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªæºåœ°å€ï¼ˆURL æˆ–å…³é”®è¯ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–‡ç« åˆ—è¡¨ã€‚</p>
<pre><code class="language-rust:/crates/scrap/src/types.rs">#[async_trait]
pub trait IFetcher {
    async fn fetch(&amp;self, source: &amp;str) -&gt; Result&lt;Vec&lt;Article&gt;&gt;; 
}
</code></pre>
</li>
<li>
<p><strong><code>RSSFetcher</code> çš„å®ç°</strong></p>
<p>åœ¨ <code>crates/scrap/src/rss/mod.rs</code> ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† <code>RSSFetcher</code> ç»“æ„ä½“å¹¶ä¸ºå®ƒå®ç°äº† <code>IFetcher</code> traitã€‚å®ƒä½¿ç”¨ <code>rss</code> crate æ¥è§£æ RSS feedã€‚</p>
<ul>
<li><strong>è·å–å†…å®¹</strong>ï¼šé€šè¿‡ <code>reqwest</code> å¼‚æ­¥è·å– RSS URL çš„å†…å®¹ã€‚</li>
<li><strong>è§£æ Feed</strong>ï¼šä½¿ç”¨ <code>rss::Channel::read_from</code> å°†è·å–åˆ°çš„ XML æ–‡æœ¬è§£æä¸ºç»“æ„åŒ–çš„ <code>Channel</code> å¯¹è±¡ã€‚</li>
<li><strong>æ ¼å¼åŒ–æ–‡ç« </strong>ï¼šéå† <code>Channel</code> ä¸­çš„ <code>item</code>ï¼Œå°†å…¶è½¬æ¢ä¸ºæˆ‘ä»¬åº”ç”¨å†…éƒ¨ç»Ÿä¸€çš„ <code>Article</code> ç»“æ„ã€‚</li>
</ul>
<pre><code class="language-rust:/crates/scrap/src/rss/mod.rs">// ...
use rss::Channel;

#[async_trait]
impl IFetcher for RSSFetcher {
    async fn fetch(&amp;self, url: &amp;str) -&gt; Result&lt;Vec&lt;Article&gt;&gt; {
        let content = reqwest::get(url).await?.bytes().await?;
        let channel = Channel::read_from(&amp;content[..])?;
        
        let articles = channel.into_items().into_iter().map(|item| {
            Article {
                title: item.title().unwrap_or_default().to_string(),
                url: item.link().unwrap_or_default().to_string(),
                // ...
            }
        }).collect();

        Ok(articles)
    }
}
</code></pre>
</li>
<li>
<p><strong>åŠ¨æ€é€‰æ‹©æŠ“å–å™¨</strong></p>
<p>åœ¨æ ¸å¿ƒçš„ <code>update_feed_contents</code> å‡½æ•° (<code>crates/feed_api_rs/src/features/impl_default.rs</code>) ä¸­ï¼Œç³»ç»Ÿä¼šæ ¹æ®è®¢é˜…æºçš„ <code>fetcher_id</code>ï¼ˆ<code>rss</code> æˆ– <code>scrap</code>ï¼‰æ¥åŠ¨æ€å†³å®šä½¿ç”¨ <code>RSSFetcher</code> è¿˜æ˜¯åŸæœ‰çš„ <code>ScrapProviderEnums</code>ï¼ˆæœç´¢å¼•æ“æŠ“å–ï¼‰ã€‚è¿™ç§ç­–ç•¥æ¨¡å¼çš„è®¾è®¡ä½¿å¾—æœªæ¥æ‰©å±•æ›´å¤šç±»å‹çš„å†…å®¹æºå˜å¾—éå¸¸å®¹æ˜“ã€‚</p>
<pre><code class="language-rust:/crates/feed_api_rs/src/features/impl_default.rs">// ...
pub async fn update_feed_contents(&amp;self, ftd: Feed) -&gt; Result&lt;Vec&lt;Article&gt;&gt; {
    let articles = match ftd.fetcher_id.as_str() {
        "scrap" =&gt; self.scrap_provider.fetch(&amp;ftd.url).await?,
        "rss" =&gt; RSSFetcher::default().fetch(&amp;ftd.url).await?,
        _ =&gt; vec![],
    };
    // ...
}
</code></pre>
</li>
</ol>
<hr>
<h2 id="3-å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼å®ç°åå°é™é»˜æ›´æ–°">3. å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼šå®ç°åå°é™é»˜æ›´æ–°</h2>
<p>ä¸ºäº†è®©ç”¨æˆ·æ— éœ€æ—¶åˆ»æ‰“å¼€åº”ç”¨ä¹Ÿèƒ½åŠæ—¶è·å–æœ€æ–°èµ„è®¯ï¼Œ0.9.9 ç‰ˆæœ¬å¼•å…¥äº†å®ˆæŠ¤è¿›ç¨‹ï¼ˆDaemonï¼‰æ¨¡å¼ã€‚å³ä½¿åœ¨ä¸»çª—å£å…³é—­åï¼Œåº”ç”¨ä¾ç„¶èƒ½åœ¨åå°é™é»˜è¿è¡Œï¼Œå¹¶å®šæ—¶æ‰§è¡Œå†…å®¹æ›´æ–°ä»»åŠ¡ã€‚</p>
<h3 id="å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹-2">å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹</h3>
<p>æ­¤åŠŸèƒ½ä¸»è¦åˆ©ç”¨äº† Tauri æ¡†æ¶å¯¹ç³»ç»Ÿæ‰˜ç›˜å’Œåå°è¿è¡Œçš„æ”¯æŒã€‚</p>
<ol>
<li>
<p><strong>é˜²æ­¢åº”ç”¨å®Œå…¨é€€å‡º</strong></p>
<p>åœ¨ <code>tauri.conf.json</code> ä¸­ï¼Œæˆ‘ä»¬é…ç½®äº† <code>macOSPrivateApi</code> çš„ <code>close_instead_of_quit</code> é€‰é¡¹ä¸º <code>true</code>ã€‚è¿™ä½¿å¾—åœ¨ macOS ä¸Šï¼Œå½“ç”¨æˆ·ç‚¹å‡»çª—å£çš„å…³é—­æŒ‰é’®æ—¶ï¼Œåº”ç”¨ä¸ä¼šå®Œå…¨é€€å‡ºï¼Œè€Œæ˜¯ä»…ä»…å…³é—­çª—å£ï¼Œä¸»è¿›ç¨‹ç»§ç»­åœ¨åå°è¿è¡Œã€‚</p>
</li>
<li>
<p><strong>å¤„ç†åº”ç”¨é‡å¼€äº‹ä»¶</strong></p>
<p>å½“åº”ç”¨åœ¨åå°è¿è¡Œæ—¶ï¼Œå¦‚æœç”¨æˆ·å†æ¬¡ç‚¹å‡» Dock ä¸­çš„å›¾æ ‡ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°æ˜¾ç¤ºä¸»çª—å£ã€‚è¿™é€šè¿‡åœ¨ <code>crates/tauri-plugin-feed-api/src/lib.rs</code> ä¸­ç›‘å¬ <code>RunEvent::Reopen</code> äº‹ä»¶æ¥å®ç°ã€‚å½“è¯¥äº‹ä»¶è§¦å‘æ—¶ï¼Œæˆ‘ä»¬ä¼šæ‰¾åˆ°ä¸»çª—å£å¹¶è°ƒç”¨ <code>show()</code> æ–¹æ³•ã€‚</p>
<pre><code class="language-rust:/crates/tauri-plugin-feed-api/src/lib.rs">// ...
.on_event(|app_handle, event| {
    if let RunEvent::Reopen { .. } = event {
        if let Some(window) = app_handle.get_window("main") {
            let _ = window.show();
            let _ = window.set_focus();
        }
    }
})
// ...
</code></pre>
</li>
<li>
<p><strong>åå°å®šæ—¶ä»»åŠ¡</strong></p>
<p>è™½ç„¶æœ¬æ¬¡ diff æœªç›´æ¥å±•ç¤ºå®šæ—¶ä»»åŠ¡çš„åˆ›å»ºï¼Œä½†å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ä¸ºåå°å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚å®šæ—¶åˆ·æ–°æ‰€æœ‰è®¢é˜…æºï¼‰çš„å®ç°å¥ å®šäº†åŸºç¡€ã€‚è¿™ç±»ä»»åŠ¡é€šå¸¸é€šè¿‡åœ¨ Rust åç«¯å¯åŠ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æˆ–ä½¿ç”¨åƒ <code>tokio::time::interval</code> è¿™æ ·çš„å¼‚æ­¥å®šæ—¶å™¨æ¥å®ç°ï¼Œå®ƒä¼šå‘¨æœŸæ€§åœ°è°ƒç”¨ <code>update_feed_contents</code> å‡½æ•°ã€‚</p>
</li>
</ol>
<hr>
<h2 id="4-ä¸»é¢˜åˆ‡æ¢ä¸ªæ€§åŒ–çš„é˜…è¯»ä½“éªŒ">4. ä¸»é¢˜åˆ‡æ¢ï¼šä¸ªæ€§åŒ–çš„é˜…è¯»ä½“éªŒ</h2>
<p>ä¸ºäº†æå‡é•¿æ—¶é—´é˜…è¯»çš„èˆ’é€‚åº¦å’Œæ»¡è¶³ç”¨æˆ·çš„ä¸ªæ€§åŒ–åå¥½ï¼Œæ–°ç‰ˆæœ¬å¢åŠ äº†äº®è‰²ï¼ˆLightï¼‰å’Œæš—è‰²ï¼ˆDarkï¼‰ä¸»é¢˜çš„åˆ‡æ¢åŠŸèƒ½ã€‚</p>
<h3 id="å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹-3">å®ç°åŸç†ä¸æŠ€æœ¯ç‚¹</h3>
<p>è¯¥åŠŸèƒ½çš„å®ç°æ˜¯å‰ç«¯æŠ€æœ¯ä¸ Tauri API ç»“åˆçš„å…¸èŒƒã€‚</p>
<ol>
<li>
<p><strong>TailwindCSS æš—è‰²æ¨¡å¼</strong></p>
<p>æˆ‘ä»¬åœ¨ <code>app/tailwind.config.js</code> ä¸­å°†æš—è‰²æ¨¡å¼çš„ç­–ç•¥è®¾ç½®ä¸º <code>class</code>ã€‚è¿™æ„å‘³ç€å½“ <code>&lt;html&gt;</code> å…ƒç´ åŒ…å« <code>dark</code> ç±»åæ—¶ï¼Œæ‰€æœ‰ Tailwind çš„æš—è‰²å˜ä½“ï¼ˆå¦‚ <code>dark:bg-gray-800</code>, <code>dark:text-white</code>ï¼‰éƒ½ä¼šè¢«æ¿€æ´»ã€‚</p>
<pre><code class="language-javascript:/app/tailwind.config.js">export default {
  // ...
  darkMode: 'class',
  // ...
};
</code></pre>
</li>
<li>
<p><strong>Svelte çŠ¶æ€ç®¡ç†ä¸ Tauri API</strong></p>
<p>åœ¨è®¾ç½®é¡µé¢ (<code>app/src/routes/settings/+page.svelte</code>) ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Svelte çš„ store æ¥ç®¡ç†å½“å‰çš„ä¸»é¢˜çŠ¶æ€ã€‚<code>switchTheme</code> å‡½æ•°æ˜¯æ ¸å¿ƒé€»è¾‘æ‰€åœ¨ï¼š</p>
<ul>
<li>å®ƒé¦–å…ˆåˆ‡æ¢æœ¬åœ°çš„ <code>isDarkModeEnabled</code> çŠ¶æ€ã€‚</li>
<li>ç„¶åï¼Œå®ƒæ ¹æ®æ–°çš„çŠ¶æ€å‘ <code>&lt;html&gt;</code> å…ƒç´ åŠ¨æ€æ·»åŠ æˆ–ç§»é™¤ <code>dark</code> ç±»ã€‚</li>
<li>æœ€åï¼Œå®ƒè°ƒç”¨ Tauri çš„ <code>appWindow.setTheme</code> APIï¼Œå°†åº”ç”¨çª—å£æœ¬èº«çš„ä¸»é¢˜ï¼ˆå¦‚æ ‡é¢˜æ ï¼‰ä¹Ÿè¿›è¡ŒåŒæ­¥åˆ‡æ¢ï¼Œå¹¶æŒä¹…åŒ–ç”¨æˆ·çš„é€‰æ‹©ã€‚</li>
</ul>
<pre><code class="language-svelte:/app/src/routes/settings/+page.svelte">&lt;script lang="ts"&gt;
  import { appWindow } from '@tauri-apps/api/window';
  // ...
  let isDarkModeEnabled = false;

  async function switchTheme() {
    isDarkModeEnabled = !isDarkModeEnabled;
    const theme = isDarkModeEnabled ? 'dark' : 'light';
    
    if (isDarkModeEnabled) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }

    await appWindow.setTheme(theme);
    await setTheme(theme);
  }

  onMount(async () =&gt; {
    const theme = await getTheme();
    isDarkModeEnabled = theme === 'dark';
  });
&lt;/script&gt;
</code></pre>
</li>
</ol>
<hr>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>Saga Reader 0.9.9 ç‰ˆæœ¬çš„æ›´æ–°æ˜¯å…¨é¢ä¸”æ·±å…¥çš„ã€‚é€šè¿‡æ‹¥æŠ± OpenAI å…¼å®¹ç”Ÿæ€ã€å›å½’ç»å…¸çš„ RSSã€å®ç°åå°å®ˆæŠ¤è¿›ç¨‹ä»¥åŠæä¾›ä¸ªæ€§åŒ–çš„ä¸»é¢˜åˆ‡æ¢ï¼ŒSaga Reader ä¸ä»…åœ¨åŠŸèƒ½ä¸Šæ›´åŠ å¼ºå¤§å’Œçµæ´»ï¼Œä¹Ÿåœ¨ç”¨æˆ·ä½“éªŒä¸Šè¿ˆå‡ºäº†åšå®çš„ä¸€æ­¥ã€‚è¿™äº›åŠŸèƒ½çš„å®ç°å……åˆ†å±•ç¤ºäº† Rust çš„é«˜æ€§èƒ½ã€Tauri æ¡†æ¶çš„è·¨å¹³å°èƒ½åŠ›ä»¥åŠ Svelte åœ¨æ„å»ºå“åº”å¼å‰ç«¯ç•Œé¢æ–¹é¢çš„ä¼˜åŠ¿ã€‚æˆ‘ä»¬æœŸå¾…è¿™äº›æ–°åŠŸèƒ½èƒ½ä¸ºç”¨æˆ·å¸¦æ¥æ›´é«˜æ•ˆã€æ›´æ„‰æ‚¦çš„é˜…è¯»å’Œä¿¡æ¯è·å–ä½“éªŒã€‚</p>
<h2 id="-saga-readerç³»åˆ—æŠ€æœ¯æ–‡ç« ">ğŸ“ Saga Readerç³»åˆ—æŠ€æœ¯æ–‡ç« </h2>
<ul>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148043290" target="_blank" rel="noopener nofollow">å¼€æºæˆ‘çš„ä¸€æ¬¾è‡ªç”¨AIé˜…è¯»å™¨ï¼Œå¼•æµWebå‰ç«¯ã€Rustã€Tauriã€AIåº”ç”¨å¼€å‘</a></li>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148043332" target="_blank" rel="noopener nofollow">ã€å®æˆ˜ã€‘æ·±å…¥æµ…å‡º Rust å¹¶å‘ï¼šRwLock ä¸ Mutex åœ¨ Tauri é¡¹ç›®ä¸­çš„å®è·µ</a></li>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148195758" target="_blank" rel="noopener nofollow">ã€å®æˆ˜ã€‘Rustä¸å‰ç«¯ååŒå¼€å‘ï¼šåŸºäºTauriçš„è·¨å¹³å°AIé˜…è¯»å™¨å®è·µ</a></li>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148202612" target="_blank" rel="noopener nofollow">æ­ç§˜ Saga Reader æ™ºèƒ½æ ¸å¿ƒï¼šçµæ´»çš„å¤š LLM Provider é›†æˆå®è·µ (Ollama, GLM, Mistral ç­‰)</a></li>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148365569?spm=1001.2014.3001.5502" target="_blank" rel="noopener nofollow">Svelte 5 åœ¨è·¨å¹³å° AI é˜…è¯»åŠ©æ‰‹ä¸­çš„å®è·µï¼šè½»é‡åŒ–å‰ç«¯æ¶æ„çš„æè‡´æ€§èƒ½ä¼˜åŒ–</a></li>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148378873?spm=1001.2014.3001.5502" target="_blank" rel="noopener nofollow">Svelte 5çŠ¶æ€ç®¡ç†å®æˆ˜ï¼šåŸºäºTauriæ¡†æ¶çš„AIé˜…è¯»å™¨Saga Readerå¼€å‘å®è·µ</a></li>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148379514?spm=1001.2014.3001.5502" target="_blank" rel="noopener nofollow">Svelte 5 çŠ¶æ€ç®¡ç†å…¨è§£æï¼šä»å“åº”å¼æ ¸å¿ƒåˆ°é¡¹ç›®å®æˆ˜</a></li>
<li><a href="https://blog.csdn.net/2509_92116069/article/details/148486427?spm=1001.2014.3001.5502" target="_blank" rel="noopener nofollow">ã€å®æˆ˜ã€‘åŸºäº Tauri å’Œ Rust å®ç°åŸºäºæ— å¤´æµè§ˆå™¨çš„é«˜å¯ç”¨ç½‘é¡µæŠ“å–</a><br>
-<a href="https://blog.csdn.net/2509_92116069/article/details/148973441?spm=1001.2014.3001.5502" target="_blank" rel="noopener nofollow">Saga Reader 0.9.9 ç‰ˆæœ¬äº®ç‚¹ï¼šæ·±å…¥è§£ææ ¸å¿ƒæ–°åŠŸèƒ½å®ç°</a></li>
</ul>

</div>
<div id="MySignature" role="contentinfo">
    <p>&nbsp;</p>
<div style="filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=1,StartColorStr='#6699FF',EndColorStr='#A1FBFF">
<table>
<tbody>
<tr>
<td rowspan="4"><img alt="" src="https://images.cnblogs.com/cnblogs_com/wJiang/233935/t_a.jpg"></td>
<td>
<p>ç½‘åï¼š</p></td>
<td>
<p>æ— ç–†_ç‚æˆ<br>æ— ç–†_å¯’å†°</p></td></tr>
<tr>
<td>
<p>å®åï¼š</p>
</td><td>
<p>å§œèŒ</p></td></tr>
<tr>
<td colspan="2"><a href="http://www.wjiangathpc.spaces.live.com/" target="_blank">http://www.wjiangathpc.spaces.live.com/</a></td></tr>
<tr>
<td colspan="2"><a href="http://www.cnblogs.com/wJiang" target="_blank">http://www.cnblogs.com/wJiang</a></td></tr></tbody></table></div>
<p>&nbsp;</p>
<div id="license"><a href="http://creativecommons.org/licenses/by/2.5/cn/" rel="license" target="_blank"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" alt="Creative Commons License" src="http://i.creativecommons.org/l/by/2.5/cn/88x31.png"></a><br>æœ¬<span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" rel="dc:type">ä½œå“</span>ç”±<a href="http://www.cnblogs.com/" rel="cc:attributionURL" target="_blank" xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">å§œèŒ</a>åˆ›ä½œï¼Œé‡‡ç”¨<a href="http://creativecommons.org/licenses/by/2.5/cn/" rel="license" target="_blank">çŸ¥è¯†å…±äº«ç½²å 2.5 ä¸­å›½å¤§é™†è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚ </div>
</div>
<div class="clear"></div>

        <div class="clear"></div>
        
</div>
    <ul class="postmetadata">
        <vc:categories-tags blog-app="wJiang" blog-id="64968" post-id="19008689"></vc:categories-tags>
    </ul>
