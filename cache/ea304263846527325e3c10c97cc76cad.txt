
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/youlanjihua/p/18899753" title="发布于 2025-05-28 08:40">
    <span role="heading" aria-level="2">鸿蒙仓颉语言开发教程：页面和组件的生命周期</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-id="p124945a-TWO1NJkA">大家早上好，今天要分享的内容是仓颉开发语言中的生命周期。</p>
<p data-id="p124945a-51jZurQ9">其实幽蓝君比较喜欢分享实战写代码，不太喜欢讲太理论的东西，今天之所以单独写一篇文章分享生命周期的内容，因为这部分内容如果不讲一下还真是容易踩坑。</p>
<p data-id="p124945a-bpdOEXNI">生命周期指的是页面或者组件从加载、显示到消失的过程，在这个过程中会有一些系统事件，我们可以在其中进行一些操作。比如ArkTs中有aboutToAppear()、onPageShow()等方法。那么仓颉中的生命周期是什么样的呢？</p>
<p data-id="p124945a-newCDuYf">如果你对仓颉毫不了解，只能顺着ArkTs的方式试着去写，你会发现仓颉中没有任何关于这部分的代码提示，然后你硬着头皮完全手写下aboutToAppear、onPageShow等方法，像这样：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>func aboutToAppear(){
    AppLog.info("tabbar-aboutToAppear")
}
func onPageShow(){
    AppLog.info("tabbar-aboutToAppear")
}</code></pre>
</div>
<p data-id="p124945a-V48nbA7b">运行一下你会发现它不但无效，还会报错，是不是很崩溃。</p>
<p data-id="p124945a-niJpNwJQ">仓颉的生命周期确确实实是这几个，但是你绝对想不到它的写法。就是在上面的方法中加上protected和open这两个前缀修饰符：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>protected open func aboutToAppear(){
    AppLog.info("tabbar-aboutToAppear")
}
protected open func aboutToDisappear(){
    AppLog.info("tabbar-aboutToDisappear")
}
protected open func onPageShow(){
     AppLog.info("tabbar-onPageShow")
}
protected open func onPageHide(){
    AppLog.info("tabbar-onPageHide")
}
protected open func onBackPress(){
    AppLog.info("tabbar-onBackPress")
    return true
}</code></pre>
</div>
<p data-id="p124945a-ta2ethjj">在@Entry装饰的组件或页面中，存在aboutToAppear、aboutToDisappear、onPageShow、onPageHide、onBackPress这几个生命周期函数，执行的时机大家看名字就可以猜到。其中onBackPress是有bool类型的返回值的，当返回true说明不使用系统的返回方法，自己处理返回逻辑，反之返回false。</p>
<p data-id="p124945a-16iqitQz">在只有@Component修饰的组件中，只有aboutToAppear、aboutToDisappear两个生命周期函数，这一点和Arkts保持一致。</p>
<p data-id="p124945a-Nz60TPKO">以上就是仓颉语言生命周期的相关内容。#HarmonyOS语言##仓颉##购物#</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.021373562215277777" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-28 08:41">2025-05-28 08:40</span>&nbsp;
<a href="https://www.cnblogs.com/youlanjihua">幽蓝计划</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18899753);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18899753', targetLink: 'https://www.cnblogs.com/youlanjihua/p/18899753', title: '鸿蒙仓颉语言开发教程：页面和组件的生命周期' })">举报</a>
</div>
        