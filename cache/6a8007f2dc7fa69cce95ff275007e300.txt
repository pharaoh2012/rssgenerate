
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/linxuanchen/p/18926814" title="å‘å¸ƒäº 2025-06-13 12:38">
    <span role="heading" aria-level="2">åœ¨ WinFormedge ä¸­ä½¿ç”¨ Blazor Hybrid</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/352785/202506/352785-20250613123719546-953107181.png" alt="åœ¨ WinFormedge ä¸­ä½¿ç”¨ Blazor Hybrid" class="desc_img">
        Blazor Hybrid æ’ä»¶ä½¿é‡‡ç”¨äº† WinFormedge çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ— ç¼é›†æˆ Blazor ç»„ä»¶ã€‚é€šè¿‡è¿™ä¸ªæ’ä»¶ï¼Œå¼€å‘è€…å¯ä»¥åˆ©ç”¨ Blazor çš„ç°ä»£ Web UI æ¡†æ¶ä¸ä¼ ç»Ÿçš„ WinForms ç›¸ç»“åˆï¼Œä½¿ç”¨ C#ã€HTML å’Œ CSS æ„å»ºäº¤äº’å¼ã€åŸºäºç»„ä»¶çš„ç”¨æˆ·ç•Œé¢ã€‚è¿™ç§æ··åˆæ–¹æ³•å°† Web æŠ€æœ¯çš„çµæ´»æ€§ä¸åŸç”Ÿ Windows åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œèƒ½åŠ›ç›¸ç»“åˆï¼Œä½¿å¾—æ„å»ºä¸°å¯Œçš„è·¨æŠ€æœ¯æ¡Œé¢è§£å†³æ–¹æ¡ˆå˜å¾—æ›´åŠ å®¹æ˜“ã€‚
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åœ¨æ­¤é¦–å…ˆæ„Ÿè°¢çŸ¥ä¹ç½‘å‹<strong>æˆ‘æ‰æ˜¯æ˜Ÿè¾°</strong>çš„å»ºè®®ï¼Œåœ¨æ˜¨å¤©åˆšå‘è¡¨äº†ã€Š<a href="https://www.cnblogs.com/linxuanchen/p/18924815" target="_blank">éš†é‡ä»‹ç».NETç•Œé¢ç»„ä»¶WinFormedge</a>ã€‹ä¹‹åå¾—åˆ°äº†åŠæ—¶åé¦ˆï¼Œå› æ­¤ç¡¬è‚äº†ä¸€æ™šç¼–å†™äº† WinFormedge çš„ Blazor æ’ä»¶ï¼Œç›®å‰è¯¥æ’ä»¶å·²ä¸Šæ¶ NuGetï¼Œæ¬¢è¿æœ‰æ­¤å¼€å‘éœ€æ±‚çš„æœ‹å‹ä¸‹è½½ä½¿ç”¨ã€‚</p>
<p>æœ¬æ–‡å°†å¯¹æ­¤æ’ä»¶è¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚</p>
<h2 id="-å…³äº">âœ¨ å…³äº</h2>
<p>Blazor Hybrid æ’ä»¶ä½¿é‡‡ç”¨äº† WinFormedge çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ— ç¼é›†æˆ Blazor ç»„ä»¶ã€‚é€šè¿‡è¿™ä¸ªæ’ä»¶ï¼Œå¼€å‘è€…å¯ä»¥åˆ©ç”¨ Blazor çš„ç°ä»£ Web UI æ¡†æ¶ä¸ä¼ ç»Ÿçš„ WinForms ç›¸ç»“åˆï¼Œä½¿ç”¨ C#ã€HTML å’Œ CSS æ„å»ºäº¤äº’å¼ã€åŸºäºç»„ä»¶çš„ç”¨æˆ·ç•Œé¢ã€‚è¿™ç§æ··åˆæ–¹æ³•å°† Web æŠ€æœ¯çš„çµæ´»æ€§ä¸åŸç”Ÿ Windows åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œèƒ½åŠ›ç›¸ç»“åˆï¼Œä½¿å¾—æ„å»ºä¸°å¯Œçš„è·¨æŠ€æœ¯æ¡Œé¢è§£å†³æ–¹æ¡ˆå˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p>
<h2 id="-ä½¿ç”¨æ–¹æ³•">ğŸ“– ä½¿ç”¨æ–¹æ³•</h2>
<p>è¦ä½¿ç”¨ Blazor Hybrid æ’ä»¶ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<p><strong>å®‰è£… NuGet åŒ…</strong>ï¼šå°† <code>WinFormedge.Blazor</code> åŒ…æ·»åŠ åˆ°ä½ çš„ WinFormedge é¡¹ç›®ä¸­ã€‚</p>
<p>åœ¨ <strong>è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨</strong> ä¸­ï¼Œå³é”®ç‚¹å‡»é¡¹ç›®åç§°ï¼Œé€‰æ‹©â€œç¼–è¾‘é¡¹ç›®æ–‡ä»¶â€ä»¥æ‰“å¼€é¡¹ç›®æ–‡ä»¶ã€‚</p>
<p>åœ¨é¡¹ç›®æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œå°† SDK æ›´æ”¹ä¸º <code>Microsoft.NET.Sdk.Razor</code>ï¼š</p>
<pre><code class="language-xml">&lt;Project Sdk="Microsoft.NET.Sdk.Razor"&gt;
</code></pre>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª <code>_Imports.razor</code> æ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ @using æŒ‡ä»¤ä»¥å¼•ç”¨ Microsoft.AspNetCore.Components.Webã€‚</p>
<pre><code class="language-razor">@using Microsoft.AspNetCore.Components.Web
</code></pre>
<p>æ·»åŠ ä¸€ä¸ª <code>wwwroot</code> æ–‡ä»¶å¤¹åˆ°é¡¹ç›®çš„æ›´ç›®å½•ã€‚åˆ›å»ºä¸€ä¸ª <code>index.html</code> æ–‡ä»¶åˆ° <code>wwwroot</code> æ–‡ä»¶å¤¹ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹æ ‡è®°ã€‚</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;WinFormsBlazor&lt;/title&gt;
    &lt;base href="/" /&gt;
    &lt;link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" /&gt;
    &lt;link href="css/app.css" rel="stylesheet" /&gt;
&lt;/head&gt;

&lt;body&gt;

    &lt;div id="app"&gt;Loading...&lt;/div&gt;

    &lt;div id="blazor-error-ui" data-nosnippet&gt;
        An unhandled error has occurred.
        &lt;a href="" class="reload"&gt;Reload&lt;/a&gt;
        &lt;a class="dismiss"&gt;ğŸ—™&lt;/a&gt;
    &lt;/div&gt;

    &lt;script src="_framework/blazor.webview.js"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>åœ¨ <code>wwwroot</code> æ–‡ä»¶å¤¹å†…åˆ›å»ºä¸€ä¸ª <code>css</code> æ–‡ä»¶å¤¹æ¥å­˜æ”¾æ ·å¼è¡¨ã€‚</p>
<p>æ·»åŠ ä¸€ä¸ª <code>app.css</code> æ ·å¼è¡¨åˆ° <code>wwwroot/css</code> æ–‡ä»¶å¤¹ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å†…å®¹ã€‚</p>
<pre><code class="language-css">html, body {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

h1:focus {
    outline: none;
}

a, .btn-link {
    color: #0071c1;
}

.btn-primary {
    color: #fff;
    background-color: #1b6ec2;
    border-color: #1861ac;
}

.valid.modified:not([type=checkbox]) {
    outline: 1px solid #26b050;
}

.invalid {
    outline: 1px solid red;
}

.validation-message {
    color: red;
}

#blazor-error-ui {
    background: lightyellow;
    bottom: 0;
    box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.2);
    display: none;
    left: 0;
    padding: 0.6rem 1.25rem 0.7rem 1.25rem;
    position: fixed;
    width: 100%;
    z-index: 1000;
}

    #blazor-error-ui .dismiss {
        cursor: pointer;
        position: absolute;
        right: 0.75rem;
        top: 0.5rem;
    }
</code></pre>
<p>åœ¨ <code>wwwroot/css</code> æ–‡ä»¶å¤¹å†…åˆ›å»ºä¸€ä¸ª <code>bootstrap</code> æ–‡ä»¶å¤¹ã€‚åœ¨ <code>bootstrap</code> æ–‡ä»¶å¤¹å†…ï¼Œæ”¾ç½®ä¸€ä»½ <code>bootstrap.min.css</code> çš„å‰¯æœ¬ã€‚ä½ å¯ä»¥ä» Bootstrap å®˜ç½‘è·å–æœ€æ–°ç‰ˆæœ¬çš„ <code>bootstrap.min.css</code>ã€‚</p>
<p>å°†ä»¥ä¸‹ Counter ç»„ä»¶æ·»åŠ åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿™å°±æ˜¯ Blazor é¡¹ç›®æ¨¡æ¿ä¸­é»˜è®¤çš„ Counter ç»„ä»¶ã€‚</p>
<pre><code class="language-razor">&lt;h1&gt;Counter&lt;/h1&gt;

&lt;p&gt;Current count: @currentCount&lt;/p&gt;

&lt;button class="btn btn-primary" @onclick="IncrementCount"&gt;Click me&lt;/button&gt;

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }
}
</code></pre>
<p>æ‰“å¼€ä½ æƒ³è¦æ‰˜ç®¡ Blazor ç»„ä»¶çš„çª—å£çš„æºæ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="language-csharp">using WinFormedge;
using WinFormedge.Blazor;

namespace BlazorHybridExampleApp;

internal class MainWindow : Formedge
{
    public MainWindow()
    {
        Url = "https://blazorapp.local/";
        Load += MainWindow_Load;
    }

    private void MainWindow_Load(object? sender, EventArgs e)
    {
        this.SetVirtualHostNameToBlazorHybrid(new BlazorHybridOptions
        {
            Scheme = "https",
            HostName = "blazorapp.local",
            RootComponent = typeof(Counter),
            HostPath = "wwwroot/index.html"
        });
    }
}
</code></pre>
<p>ä»¥ä¸Šä»£ç è®¾ç½®äº† Blazor Hybrid ç¯å¢ƒï¼Œç”¨ <code>SetVirtualHostNameToBlazorHybrid</code> æ–¹æ³•æŒ‡å®š Blazor åº”ç”¨çš„ URL å’Œè¦æ¸²æŸ“çš„æ ¹ç»„ä»¶ã€‚<code>BlazorHybridOptions</code> ä¸­çš„ <code>Scheme</code>ã€<code>HostName</code>ã€<code>RootComponent</code> å’Œ <code>HostPath</code> å±æ€§åˆ†åˆ«å®šä¹‰äº†åè®®ã€ä¸»æœºåã€æ ¹ç»„ä»¶ç±»å‹å’Œä¸»æœºè·¯å¾„ã€‚</p>
<h2 id="-è¿è¡Œ">ğŸ¶ è¿è¡Œ</h2>
<p>è¿è¡Œåº”ç”¨ç¨‹åºï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ° Blazor Counter ç»„ä»¶åœ¨ WinFormedge çª—å£ä¸­æ¸²æŸ“ã€‚ä½ å¯ä»¥åƒåœ¨æ ‡å‡† Blazor åº”ç”¨ç¨‹åºä¸­ä¸€æ ·ä¸ç»„ä»¶è¿›è¡Œäº¤äº’ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/352785/202506/352785-20250613123550184-1292562203.png" alt="" loading="lazy"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-13 12:39">2025-06-13 12:38</span>&nbsp;
<a href="https://www.cnblogs.com/linxuanchen">æ—é€‰è‡£</a>&nbsp;
é˜…è¯»(<span id="post_view_count">25</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18926814);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18926814', targetLink: 'https://www.cnblogs.com/linxuanchen/p/18926814', title: 'åœ¨ WinFormedge ä¸­ä½¿ç”¨ Blazor Hybrid' })">ä¸¾æŠ¥</a>
</div>
        