
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/vipstone/p/18867753" title="发布于 2025-05-09 10:30">
    <span role="heading" aria-level="2">最新版LangChain4j发布！终于修复了这个恶心的问题</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>LangChain4j 1.0.0-beta4 上周刚刚发布，并且计划这个月中旬发布 RC1，我觉得这次升级还是非常实用的，除了修复了一些关键的 BUG 之外，还有一个被我经常吐槽的功能也被更正了，具体是什么问题呢？我们下来一起看。</p>
<p>同时使用过 Spring AI 和 LangChain4j 的同学对于他们二者最大的区别，我想就是 Spring AI 在使用时的简洁性，和 LangChain4j 高灵活性但繁琐的调用方式是最有体会的。</p>
<p>远的不说，就说这个命名就让人非常不爽，Spring AI 中要调用大模型，使用 ChatModel 或 ChatClient 就行了，但你猜 LangChain4j 要怎么着？它把对话（文生文）给你搞成两个对象，ChatLanguageModel 和 StreamingChatLanguageModel，前者是普通对话，后者是流式对话。</p>
<p>并且流式对话的 API Key 和其他参数还需要单独配置，拜托，同样都是文本对话，只是输出的形式不同而已，都是文生文对话为什么相同的配置要设置两遍？而且还要使用两个对象？并且这两个对象的名字还长的离谱，明显 ChatModel 就能说明问题了，它偏要起个 ChatLanguageModel 和 StreamingChatLanguageModel，这对有编程洁癖的人来说简直是如鲠在喉。</p>
<h2 id="新版本更新">新版本更新</h2>
<p>但是好在 LangChain4j 1.0.0-beta4 它来了，在这个版本里面，它终于下定决心做了调整，<strong>把原来的 ChatLanguageModel 更改为了 ChatModel，并且也将  StreamingChatLanguageModel 更改为了 StreamingChatModel</strong>，其他的虽然没改（Chat 和 Steam 还需要配置两次），但起码名字让人看起来舒服多了。</p>
<p>除此之外 LangChain4j 1.0.0-beta4 还升级了以下主要内容：</p>
<ul>
<li><strong>Tokenizer 重命名 TokenCountEstimator</strong>。</li>
<li>修复了当 MCP 工具函数没有参数时，一些 OpenAI 函数无法正常工作的问题。</li>
<li>删除了冗余的 TextFile 和 TextFileContent 类。</li>
<li>HTTP 方式自动重试重新连接 MCP 服务。</li>
<li>升级到 OpenAI Java SDK v1.4.1，<strong>提供了对 GPT 4.1 的支持</strong>。</li>
<li>重命名并移动了一些内部实用程序类。</li>
<li>支持 VertexAi 流聊天模型的自定义标头（custom-headers）。</li>
<li>Google AI Gemini：从 Gson 迁移到 Jackson。</li>
<li>Jackson 版本更新至 2.19.0。</li>
<li>其他若干 BUG 修复。</li>
</ul>
<p>官方升级日志：<a href="https://github.com/langchain4j/langchain4j/releases/tag/1.0.0-rc1" target="_blank" rel="noopener nofollow">https://github.com/langchain4j/langchain4j/releases/tag/1.0.0-rc1</a></p>
<h2 id="小结">小结</h2>
<p>无论如何 ChatLanguageModel 和 StreamingChatLanguageModel 这两个超级长，让人超级不爽的命名终于是被优化了，并且提供了对刚刚发布的 GPT 4.1 的支持，还有 MCP 的升级和优化也是非常实用的。AI 技术发展比较迅速，我们也要给这些配套的框架一点时间，和他们一起慢慢迭代、慢慢进步。</p>
<blockquote>
<p>本文已收录到我的技术小站 <a href="https://www.javacn.site" target="_blank" rel="noopener nofollow">www.javacn.site</a>，其中包含的内容有：Spring AI、LangChain4j、MCP、Function Call、RAG、向量数据库、Prompt、多模态、向量数据库、嵌入模型等内容。</p>
</blockquote>

</div>
<div id="MySignature" role="contentinfo">
    <div style="text-align: center; color: red">
关注下面二维码，订阅更多精彩内容。
<br>
<img style="margin-left: 0px" src="https://images.cnblogs.com/cnblogs_com/vipstone/848916/o_211225130402_gognzhonghao.jpg">
</div>

<div style="display: none">
    <img src="http://icdn.apigo.cn/gitchat/rabbitmq.png?imageView2/0/w/500/h/400">
</div>
<div style="margin-bottom: 50px; display: none">

<img title="微信打赏" src="http://icdn.apigo.cn/myinfo/wchat-pay.png" alt="微信打赏">
<br>

<div style="display: none">
<span style="display: block; position: absolute; height: 40px; top: 50%; margin-top: -20px">关注公众号（加好友）：</span>

<img style="margin-left: 144px" src="http://icdn.apigo.cn/gongzhonghao2.png?imageView2/0/w/120/h/120">
</div>
<p></p>

<div id="AllanboltSignature">
    <p style="border-top: #e0e0e0 1px dashed; border-right: #e0e0e0 1px dashed; border-bottom: #e0e0e0 1px dashed; border-left: #e0e0e0 1px dashed; padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 60px; background: url(&quot;https://images.cnblogs.com/cnblogs_com/lloydsheng/239039/o_copyright.gif&quot;) #e5f1f4 no-repeat 1% 50%; font-family: 微软雅黑; font-size: 11px" id="PSignature">
        <br> 作者：
        <a href="http://vipstone.cnblogs.com/" target="_blank">王磊的博客</a>
        <br> 出处：
        <a href="http://vipstone.cnblogs.com/" target="_blank">http://vipstone.cnblogs.com/</a>
        <br>
    </p>
</div></div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.026580656258101854" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-09 10:31">2025-05-09 10:30</span>&nbsp;
<a href="https://www.cnblogs.com/vipstone">磊哥|www.javacn.site</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18867753);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18867753', targetLink: 'https://www.cnblogs.com/vipstone/p/18867753', title: '最新版LangChain4j发布！终于修复了这个恶心的问题' })">举报</a>
</div>
        