
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52570013">
<i class="pstatus"> 本帖最后由 红内裤 于 2025-3-11 13:38 编辑 </i><br>
<br>
<font face="-apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif"><font size="3"><font color="#ff0000">原驱动修复/卸载</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">关闭内核自动升级（有时是因为关闭内核升级掉驱动）</font></font></font><br>
sudo apt-mark hold linux-image-generic linux-headers-generic<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">启用内核自动升级（启用之后update再尝试）</font></font></font><br>
sudo apt-mark unhold linux-image-generic linux-headers-generic<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">查看nvcc</font></font></font><br>
nvcc -V<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">查看nVidia驱动</font></font></font><font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">版本号</font></font></font><br>
 ls /usr/src | grep nvidia<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">卸载全部nvidia驱动</font></font></font><br>
sudo apt-get purge nvidia-*sudo apt autoremove *nvidia*<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">查看是否卸载干净了</font></font></font><br>
sudo dpkg --list | grep nvidia-*<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><font color="#ff0000"><br>
</font></font></font><br>
<font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><font color="#ff0000">安装前准备</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">下载deb文件</font></font></font><br>
<a rel="nofollow noopener" href="https://www.nvidia.cn/drivers/lookup/" target="_blank">下载 NVIDIA 官方驱动 | NVIDIA</a><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">我通常都会用shh链接后升级驱动（我是用mobaxterm）</font></font></font><br>
sudo apt install ssh<br>
<a rel="nofollow noopener" href="https://mobaxterm.mobatek.net/" target="_blank">MobaXterm free Xserver and tabbed SSH client for Windows</a><br>
<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">禁用nuoveau</font></font></font><br>
sudo vi /etc/modprobe.d/blacklist.conf<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">很多人都不会用vim编辑器下面菜鸟教程</font></font></font><br>
<a rel="nofollow noopener" href="https://www.runoob.com/linux/linux-vim.html" target="_blank">Linux vi/vim | 菜鸟教程</a><br>
<ul><li><font style="background-color:rgb(236, 234, 230)"><font face="SFMono-Regular, Consolas, &amp;quot;"><strong>o</strong></font></font>：在当前行的下方插入一个新行，并进入插入模式。</li><li><font style="background-color:rgb(236, 234, 230)"><font face="SFMono-Regular, Consolas, &amp;quot;"><strong>:w</strong></font></font> -- 保存文件。</li><li>:q!：强制退出Vim编辑器，不保存修改。<br>
</li></ul><br>
<ul><li>:wq：保存文件并退出 Vim 编辑器。<br>
</li></ul><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">下面两行加到末尾</font></font></font><br>
blacklist nouveau<br>
options nouveau modeset=0<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">更新initramfs</font></font></font><br>
sudo update-initramfs -u<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">重启</font></font></font><br>
sudo reboot<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">验证屏蔽是否成功，执行下面语句，结果为空，即为成功。</font></font></font><br>
lsmod | grep nouveau<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><font color="#ff0000">开始安装</font></font></font><br>
<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">建议一开始就关闭ui界面（gdm）</font></font></font><br>
sudo /etc/init.d/gdm3 stop<br>
sudo /etc/init.d/gdm3 status<br>
<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">安装依赖软件</font></font></font><br>
sudo apt install gcc g++ make<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">查看gcc版本（如果是11的话可能会出现</font></font></font><font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">builed kernel）</font></font></font><br>
gcc --Version<br>
g++ -Version<br>
<br>
sudo apt install gcc-12<br>
sudo apt install g++-12<br>
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-12 1 --slave /usr/bin/g++ g++ /usr/bin/g++-12<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">打开你下载的文件目录</font></font></font><br>
cd 下载<br>
<font face="-apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif"><font size="3"><font color="#191b1f"><br>
</font></font></font><br>
<font face="-apple-system, BlinkMacSystemFont, Helvetica Neue, PingFang SC, Microsoft YaHei, Source Han Sans SC, Noto Sans CJK SC, WenQuanYi Micro Hei, sans-serif"><font size="3"><font color="#191b1f">赋予安装程序权限并运行</font></font></font><br>
chmod +x NVIDIA-Linux-x86_64-550.144.03.run <br>
sudo bash ./NVIDIA-Linux-x86_64-550.144.03.run<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><font color="#ff0000">安装过程</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">Install 32 bit compatibility libraries ？ </font></font></font><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><font color="#ff0000">选择No</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">其他选yes就行了</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><font color="#ff0000">错误解释</font></font></font><br>
<font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><font color="#ff0000"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">软件源拉下来的可能是gcc-11会出现builed kernel错误，</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">因为gcc-11只支持到Ubuntu20.02</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">解决安装过程中报builed kernel错误然后再运行</font></font></font><br>
sudo apt install gcc-12<br>
sudo apt install g++-12<br>
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-12 1 --slave /usr/bin/g++ g++ /usr/bin/g++-12<br>
<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">如果弹出提示X server 那就是没关闭ui，可能是你的ui界面不对</font></font></font><br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3">有的是lightdm（不知道是什么就看路径下的文件）</font></font></font><br>
sudo /etc/init.d/lightdm stop<br>
sudo /etc/init.d/lightdm status<br>
<font color="#191b1f"><font face="-apple-system, BlinkMacSystemFont, &amp;quot;"><font size="3"><br>
</font></font></font><br>
<br>
<br>
<br>
</td></tr></tbody></table>


