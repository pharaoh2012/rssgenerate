
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/cicada-smile/p/18972445" title="发布于 2025-07-08 10:34">
    <span role="heading" aria-level="2">独立开发问题记录-margin塌陷</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/1691717/202507/1691717-20250708101929843-1888284587.png" alt="独立开发问题记录-margin塌陷" class="desc_img">
        往事如风，一周就过去了。上周在Figma里指点江山，这周在前端代码里卑微搬砖。
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="一概述">一、概述</h1>
<p>往事如风，一周就过去了。</p>
<p>上周在Figma里指点江山，这周在前端代码里卑微搬砖。</p>
<p>回想上周，在Figma中排列组合，并且精确到1像素。每设计出一个页面，成就感就蹭蹭往上涨。</p>
<p>没想到还没沾沾自喜多久，这周就要在前端代码中疯狂填坑。上周设计的多好看，这周就有多头疼。（<font style="color: rgba(64, 64, 64, 1)">设计稿存活率：70%</font>）</p>
<p>当然也想面向cursor编程，可是，细节方面还是不到位，得一遍遍跟它沟通才有可能达到效果。然后一看时间，3小时过去了。</p>
<h1 id="二问题产生">二、问题产生</h1>
<p>事情是这样的：我精心设计了一个卡片列表，美滋滋地给每个卡片加了个margin-bottom: 20px。</p>
<p>想象着它们每个离底部元素有20px的距离。结果，好像跟我想的不一样。</p>
<p>最后一个卡片跟底部紧紧相连，仿佛失散多年的亲兄弟，说好的20px间距呢？</p>
<p>反倒是整体的卡片列表，一起被顶上去20px，我的设计稿在屏幕上发出无声的嘲笑。</p>
<p><font style="color: rgba(64, 64, 64, 1)">查资料？哦，原来这叫“Margin塌陷”—— 第一个子元素的上 margin 会作用在父元素上，最后一个子元素的下 margin 会作用在父元素上。</font></p>
<h1 id="三问题举例">三、问题举例</h1>
<p>为了举例这个场景，我写了个demo，具体代码如下；</p>
<pre><code class="language-html">&lt;div id="outer"&gt;
    &lt;div id="inner1"&gt;
        这是第一个内层元素
    &lt;/div&gt;
    &lt;div id="inner2"&gt;
        这是第二个内层元素
    &lt;/div&gt;
    &lt;div id="inner3"&gt;
        这是第三个内层元素
    &lt;/div&gt;
&lt;/div&gt;

&lt;style&gt;
    #outer {
        background-color: lightblue;
        width: 400px;
    }
  
    #inner1 {
        background-color: yellowgreen;
        width: 100px;
        margin-top: 50px;
    }
  
    #inner2 {
        background-color:gray;
        width: 100px;
        margin-top: 50px;
    }
  
    #inner3 {
        background-color:blue;
        width: 100px;
        margin-top: 50px;
    }
&lt;/style&gt;
</code></pre>
<p>最终展现的页面，id为inner2和inner3的div，margin-top生效了，但是id为inner1的div，margin-top没有生效，反倒是父容器#outer，距离浏览器视口顶端50px。</p>
<p><img alt="img01" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1691717/202507/1691717-20250708101447929-1934015948.png" class="lazyload"></p>
<p>同理，将每个inner的子元素添加50px的margin-bottom，最后一个元素的margin-bottom没有生效，作用到了父元素的margin-bottom上。</p>
<h1 id="四解决方式">四、解决方式</h1>
<h2 id="1给父元素设置padding">1、给父元素设置padding</h2>
<p>同上述案例，在#outer父元素增加一个padding，代码如下；</p>
<pre><code class="language-html">#outer {
    background-color: lightblue;
    width: 400px;
    padding: 1px;
}
</code></pre>
<p>这样操作，就可以使得第一个子元素的margin-top和最后一个子元素的margin-bottom不被父元素给吞并。</p>
<p>查看下效果，已经正常展示了；</p>
<p><img alt="img02" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1691717/202507/1691717-20250708101506776-51191303.png" class="lazyload"></p>
<h2 id="2父元素设置border">2、父元素设置border</h2>
<p>还是同一个案例，我把父元素加上border边框，代码如下；</p>
<pre><code class="language-html">#outer {
    background-color: lightblue;
    width: 400px;
    border: 1px solid black;
}
</code></pre>
<p>这样也能解决问题，不过出现一个新问题，父元素有边框，有时候会影响页面的美观</p>
<p><img alt="img03" loading="lazy" data-src="https://img2024.cnblogs.com/blog/1691717/202507/1691717-20250708101522371-1736628246.png" class="lazyload"></p>
<p>所以，一般我不用这种处理方式，除非正好是有加边框的场景。</p>
<h2 id="3父元素设置css样式overflow-hidden">3、父元素设置css样式，overflow: hidden</h2>
<p>总的来说，这种方式是最优的一种，可以很优雅的解决此类问题，代码如下；</p>
<pre><code class="language-html">#outer {
    background-color: lightblue;
    width: 400px;
    overflow: hidden;
}
</code></pre>
<p>我最终用的就是这种方式解决的问题，因为比较优雅。</p>
<h1 id="五写在最后">五、写在最后</h1>
<p>问题以及处理方式记录结束，又要继续投入产品开发，毕竟自己手把手设计的页面，绞尽脑汁也得去实现。</p>
<p>后续我也会一步步记录开发过程中遇到的一些问题，以及最终的处理方案：有技术相关的，也有大模型调研相关的，也会有独立开发过程中的一些心得，还有。。。</p>
<p>毕竟，除了开发，记录和分享，也是一个很棒的过程。</p>
<pre><code class="language-plain">文档仓库：
https://gitee.com/cicadasmile/butte-java-note

源码仓库：
https://gitee.com/cicadasmile/butte-mound
</code></pre>

</div>
<div id="MySignature" role="contentinfo">
    
互联网十年民工，现在转身独立开发者。<b> | </b><a href="https://mp.weixin.qq.com/s/F7JBEFCeZgdYakgRxNb35w"> 公众号-主页 </a> <b> | </b> <a href="https://www.xiaohongshu.com/user/profile/67fa1b1700000000080140b8"> 小红书-主页 </a> <b> | </b> <a href="https://www.douyin.com/user/MS4wLjABAAAAQO0vbcMnMeUE8OLGtmd9dbh-5dPcPL7_o3v8M0U_BwBUoBZIz2suph5gsDf63Okk"> 抖音-主页 </a> <b> | </b> <a href="https://gitee.com/cicadasmile">Git仓库-主页</a> <b> | </b>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-07-08 10:34">2025-07-08 10:34</span>&nbsp;
<a href="https://www.cnblogs.com/cicada-smile">七号楼</a>&nbsp;
阅读(<span id="post_view_count">147</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18972445);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18972445', targetLink: 'https://www.cnblogs.com/cicada-smile/p/18972445', title: '独立开发问题记录-margin塌陷' })">举报</a>
</div>
        