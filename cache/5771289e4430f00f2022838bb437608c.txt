
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/huangSir-devops/p/18940063" title="发布于 2025-06-21 15:46">
    <span role="heading" aria-level="2">替换GitLab的方案之Gitea</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="概述">概述</h2>
<p>官网：<a href="https://docs.gitea.com/zh-cn/" target="_blank" rel="noopener nofollow">https://docs.gitea.com/zh-cn/</a><br>
GitHub地址：<a href="https://github.com/go-gitea/gitea" target="_blank" rel="noopener nofollow">https://github.com/go-gitea/gitea</a></p>
<p>Gitea 是一个轻量级的 DevOps 平台软件。从开发计划到产品成型的整个软件生命周期，他都能够高效而轻松的帮助团队和开发者。包括 Git 托管、代码审查、团队协作、软件包注册和 CI/CD。它与 GitHub、Bitbucket 和 GitLab 等比较类似。</p>
<h2 id="gitea与gitlab的区别">Gitea与GitLab的区别</h2>
<h3 id="功能完整性">功能完整性</h3>
<ul>
<li>Gitea：
<ul>
<li>核心功能：代码托管、Pull Request、Issue 跟踪、Wiki、Webhook。</li>
<li>轻量级设计：功能聚焦于基础代码管理，插件系统较简单，无内置 CI/CD（需集成外部工具如 Drone）。</li>
<li>扩展能力：支持自定义钩子脚本、少量主题和插件，但生态不如 GitLab 丰富。</li>
</ul>
</li>
<li>GitLab：
<ul>
<li>全栈 DevOps：集成代码托管、CI/CD（GitLab CI）、容器注册表、项目管理（Issue / 看板）、安全扫描（SAST/DAST）、监控等。</li>
<li>企业级功能：支持 LDAP/AD 集成、多因素认证、审计日志、分支权限管理、合并请求审批流。</li>
<li>生态丰富：拥有大量官方和社区插件，支持与 Jira、Slack 等工具集成。</li>
</ul>
</li>
</ul>
<h3 id="用户体验与界面">用户体验与界面</h3>
<ul>
<li>Gitea：
<ul>
<li>界面简洁，操作流程接近 GitHub，学习成本低。</li>
<li>资源占用少，适合中小团队快速部署。</li>
</ul>
</li>
<li>GitLab：
<ul>
<li>界面功能复杂，模块众多（如 DevOps 流水线、安全模块），新手需时间适应。</li>
<li>支持自定义仪表盘和工作流，适合大型团队协作。</li>
</ul>
</li>
</ul>
<h3 id="性能与可扩展性">性能与可扩展性</h3>
<ul>
<li>Gitea：
<ul>
<li>资源需求：轻量级，可在低配置服务器（如 1 核 2G 内存）运行，适合 100 人以下团队。</li>
<li>扩展性：横向扩展能力有限，大型项目（如数万仓库）可能出现性能瓶颈。</li>
</ul>
</li>
<li>GitLab：
<ul>
<li>资源需求：资源消耗较高（尤其是启用 CI/CD 和容器服务时），建议至少 4 核 8G 内存起步。</li>
<li>企业级扩展：支持分布式部署（多节点集群），可承载数千人团队和百万级仓库。</li>
</ul>
</li>
</ul>
<h3 id="部署与维护">部署与维护</h3>
<ul>
<li>Gitea：
<ul>
<li>部署简单：支持 Docker 一键部署，安装包体积小（约 100MB），配置文件简洁。</li>
<li>维护成本：依赖少，升级频率较低，适合技术能力有限的团队。</li>
</ul>
</li>
<li>GitLab：
<ul>
<li>部署复杂：官方提供 Omnibus 包（数百 MB），但自定义配置（如 HTTPS、负载均衡）需较多技术投入。</li>
<li>维护要求：需定期更新组件（如 Rails、PostgreSQL），企业版需购买支持服务。</li>
</ul>
</li>
</ul>
<h3 id="社区与生态">社区与生态</h3>
<ul>
<li>Gitea：
<ul>
<li>社区活跃度较低，插件和文档相对较少，但轻量化特性吸引部分极简主义用户。</li>
<li>分叉自 Gogs，继承了部分中文用户群体。</li>
</ul>
</li>
<li>GitLab：
<ul>
<li>社区极为活跃（GitHub 星标超 40 万），官方文档完善，第三方集成丰富（如 VS Code、Jenkins）。</li>
<li>企业版提供官方技术支持，适合商业场景。</li>
</ul>
</li>
</ul>
<h2 id="适用场景推荐">适用场景推荐</h2>
<h3 id="选-gitea-的场景">选 Gitea 的场景：</h3>
<ul>
<li>中小团队或个人项目，需求聚焦代码托管，追求轻量化和低成本。</li>
<li>对开源协议宽松度有要求（如商业闭源项目）。</li>
<li>服务器资源有限，需在低配置环境运行。</li>
</ul>
<h3 id="选-gitlab-的场景">选 GitLab 的场景：</h3>
<ul>
<li>大型团队或企业，需要全流程 DevOps 工具链（CI/CD、安全、项目管理）。</li>
<li>对合规性、审计和企业级管控有要求（如金融、政府行业）。</li>
<li>愿意投入资源维护复杂系统，或需要官方技术支持。</li>
</ul>
<h2 id="gitea安装">Gitea安装</h2>
<p>官网文档：<a href="https://docs.gitea.com/zh-cn/category/installation" target="_blank" rel="noopener nofollow">https://docs.gitea.com/zh-cn/category/installation</a></p>
<h3 id="配置ssh端口">配置SSH端口</h3>
<p>默认情况下，GitLab 使用 port22通过 SSH 与 Git 交互</p>
<p>修改SSH端口</p>
<pre><code>[root@master ~]# vim /etc/ssh/sshd_config
# 默认为22，修改为2222
Port 2222
 
## 重启sshd服务
[root@master ~]# systemctl restart sshd
</code></pre>
<h3 id="数据库准备">数据库准备</h3>
<p>Gitea的数据存储支持PostgreSQL（&gt;= 12）、MySQL（&gt;= 8.0）、MariaDB（&gt;= 10.4）、SQLite（内置） 和 MSSQL（&gt;= 2012 SP4）这几种数据库。</p>
<p>数据库实例可以与 Gitea 实例在相同机器上（本地数据库），也可以与 Gitea 实例在不同机器上（远程数据库）。</p>
<blockquote>
<p>数据库安装可以参考这篇文章：<a href="https://www.cnblogs.com/huangSir-devops/p/18848445" target="_blank">https://www.cnblogs.com/huangSir-devops/p/18848445</a></p>
</blockquote>
<p>执行sql</p>
<pre><code>CREATE USER 'gitea'@'%' IDENTIFIED BY 'gitea';
CREATE DATABASE giteadb CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_bin';
GRANT ALL PRIVILEGES ON giteadb.* TO 'gitea'@'%';
FLUSH PRIVILEGES;
</code></pre>
<h3 id="docker一键安装gitea">Docker一键安装Gitea</h3>
<p>官方文档：<a href="https://docs.gitea.com/zh-cn/installation/install-with-docker" target="_blank" rel="noopener nofollow">https://docs.gitea.com/zh-cn/installation/install-with-docker</a></p>
<p>前置条件，你应该安装了Docker和docker-compose</p>
<blockquote>
<p>安装Docker可以查看这篇文章：<a href="https://www.cnblogs.com/huangSir-devops/p/18822041#_label2" target="_blank">https://www.cnblogs.com/huangSir-devops/p/18822041#_label2</a><br>
安装docker-compose可以查看这篇文章：<a href="https://www.cnblogs.com/huangSir-devops/p/18835671#_label2" target="_blank">https://www.cnblogs.com/huangSir-devops/p/18835671#_label2</a></p>
</blockquote>
<p>创建挂载目录</p>
<pre><code>[root@master ~]# mkdir -p /data/{gitea,giteabak}
</code></pre>
<p>创建docker-compose.yaml</p>
<pre><code>[root@master ~/gitea]# cat docker-compose.yaml
services:
  server:
    image: docker.gitea.com/gitea:1.24.1
    container_name: gitea
    environment:
      - GITEA__database__DB_TYPE=mysql
      - GITEA__database__HOST=10.0.0.10:3306
      - GITEA__database__NAME=giteadb
      - GITEA__database__USER=gitea
      - GITEA__database__PASSWD=gitea
    restart: always
    volumes:
      - /data/giteabak:/tmp/bak
      - /data/gitea:/data
      - /etc/timezone:/etc/timezone:ro
      - /etc/localtime:/etc/localtime:ro
    ports:
      - "3000:3000"
      - "22:22"
</code></pre>
<p>启动</p>
<pre><code>[root@master ~/gitea]# docker-compose up -d
[+] Running 2/2
 ✔ Network gitea_default  Created                                                                                                                                                        0.1s
 ✔ Container gitea        Started        
</code></pre>
<p>检查是否启动成功</p>
<pre><code>[root@master ~/gitea]# docker ps -a
CONTAINER ID   IMAGE                           COMMAND                  CREATED          STATUS          PORTS                                                                              NAMES
5fabd750d171   docker.gitea.com/gitea:1.24.1   "/usr/bin/entrypoint…"   24 seconds ago   Up 23 seconds   0.0.0.0:22-&gt;22/tcp, [::]:22-&gt;22/tcp, 0.0.0.0:3000-&gt;3000/tcp, [::]:3000-&gt;3000/tcp   gitea
</code></pre>
<h2 id="访问gitea进行配置">访问Gitea进行配置</h2>
<p>访问 <a href="http://10.0.0.21:3000" target="_blank" rel="noopener nofollow">http://10.0.0.21:3000</a></p>
<h3 id="基础配置一般不用改动">基础配置（一般不用改动）</h3>
<p><img src="https://img2024.cnblogs.com/blog/3468887/202506/3468887-20250621154129788-1670551837.png" alt="image" loading="lazy"></p>
<h3 id="管理员配置">管理员配置</h3>
<p><img src="https://img2024.cnblogs.com/blog/3468887/202506/3468887-20250621154256369-1761697841.png" alt="image" loading="lazy"></p>
<h3 id="立即安装">立即安装</h3>
<p>配置完成之后点击立即安装即可</p>
<h3 id="最终访问">最终访问</h3>
<p>配置完成之后稍微等待一会，即可看到如图界面<br>
<img src="https://img2024.cnblogs.com/blog/3468887/202506/3468887-20250621154446917-326382709.png" alt="image" loading="lazy"></p>
<h2 id="总结">总结</h2>
<p>个人觉得Gitea比GitLab更好用，更加轻量级，尤其适合小型团队进行开发。当然如果你的团队有百人以上，那么还是建议使用GitLab</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>本文来自博客园，作者：<a href="https://www.cnblogs.com/huangSir-devops/" target="_blank">huangSir-devops</a>，转载请注明原文链接：<a href="https://www.cnblogs.com/huangSir-devops/p/18940063" target="_blank">https://www.cnblogs.com/huangSir-devops/p/18940063</a>，微信Vac666666，欢迎交流</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-21 15:47">2025-06-21 15:46</span>&nbsp;
<a href="https://www.cnblogs.com/huangSir-devops">huangSir-devops</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18940063);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18940063', targetLink: 'https://www.cnblogs.com/huangSir-devops/p/18940063', title: '替换GitLab的方案之Gitea' })">举报</a>
</div>
        