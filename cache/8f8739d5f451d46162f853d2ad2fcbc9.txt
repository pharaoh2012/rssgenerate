<!----> <meta itemprop="headline" content="就你小子还不会 Grid布局是吧？"> <meta itemprop="keywords" content="前端"> <meta itemprop="datePublished" content="2025-01-13T01:25:30.000Z"> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="howcode"> <meta itemprop="url" content="https://juejin.cn/user/3870758380505431"></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="掘金"> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"> <meta itemprop="width" content="180"> <meta itemprop="height" content="180"></div></div> <h1 class="article-title" data-v-b21437b8="">
            就你小子还不会 Grid布局是吧？
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-b21437b8=""><div class="author-info-box" data-v-b21437b8=""><div class="author-name" data-v-b21437b8=""><a href="/user/3870758380505431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-1800aadb="" data-v-b21437b8=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-1800aadb="">
    howcode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-b21437b8=""><time datetime="2025-01-13T01:25:30.000Z" title="Mon Jan 13 2025 01:25:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-b21437b8="">
                    2025-01-13
                  </time> <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-b21437b8=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-b21437b8=""></path><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-b21437b8=""></circle></svg> <span class="views-count" data-v-b21437b8="">
                    5,191
                  </span> <span class="read-time" data-v-b21437b8=""><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-b21437b8=""><rect width="16" height="16" fill="none" data-v-b21437b8=""></rect><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-b21437b8=""></circle><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-b21437b8=""></path></svg>
                    阅读10分钟
                  </span> <!----></div></div> <div style="flex:1;" data-v-b21437b8=""></div> <!----> <!----></div> <!----> <!----> <!----> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/img/banner.a5c9f88.jpg" style="width:100%;height:auto;display:block;" data-v-b21437b8=""> <div id="article-root" itemprop="articleBody" class="main" data-v-b21437b8=""><div class="article-viewer markdown-body result"><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7bd692dd07248c6b00593438cd93dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=PD9u0HYeFwZo5MaEG4rr2c1qlQk%3D" alt="蓝色卡通学习方法微信公众号封面.png" loading="lazy"></p>
<p>CSS Grid的功能远比我们想象的要强，很多人对Gird布局仅仅局限于了解或者一知半解，殊不知它是CSS语言中最牛逼的部分之一</p>
<p>但即使如此，我身边还是很多人一把 <code>display:flex</code>梭哈的人，我尝试和他们沟通，让他们上手体验<code>grid</code>强大布局，而他们直接来句：“flex又不是不行？”</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bcb077a08b44f10a2f886ef7525a53d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=ASOqAHauxAEDEqyEIzltl3CmAs4%3D" alt="20250107111451.gif" loading="lazy"></p>
<p>嘿？他*的还真就不行！</p>
<p>今天，我立志把 <code>CSS Grid</code> 讲透、讲明白，让你以后见到它就如同见到黑丝一样抓狂</p>
<blockquote>
<p>CSS Grid虽然强大，但它存在部分兼容性的问题。自2017年以来，所有主要浏览器都支持它！</p>
<p>根据caniuse的说法，<a href="https://link.juejin.cn?target=https%3A%2F%2Fcaniuse.com%2Fcss-grid" target="_blank" title="https://caniuse.com/css-grid" ref="nofollow noopener noreferrer">97.8%的用户支持CSS Grid</a>，也就是说：浏览器基本上都兼容了</p>
</blockquote>
<h2 data-id="heading-0">初识 Gird</h2>
<p>使用<code>gird</code>布局十分简单，只需要将<code>display</code>属性设置为<code>grid</code>即可：</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.wrapper</span> {
  <span class="hljs-attribute">display</span>: grid;
}
</code></pre>
<p>默认情况下，CSS Grid的列是独占一行的，其宽度随父盒子大小</p>
<p>其工作原理如下：</p>
<p><span href="https://code.juejin.cn/pen/7456983149583859747" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7456983149583859747" data-src="https://code.juejin.cn/pen/7456983149583859747" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>在例子中，我们可以看的出：栅格父对象的高度不固定，由其子对象的数量和高度来决定。但是如果我们给父级网格一个固定的高度，而子级网格不设置高度呢？在这种情况下，总表面积被分成大小相等的行：</p>
<p><span href="https://code.juejin.cn/pen/7456986246607273984" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7456986246607273984" data-src="https://code.juejin.cn/pen/7456986246607273984" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<h2 data-id="heading-1">Gird 网格</h2>
<p>我们上面提到，CSS Grid 在默认情况下是单列布局的，如果需要多列，可以使用<code>grid-template-columns</code>属性：</p>
<p><span href="https://code.juejin.cn/pen/7457056774445924378" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7457056774445924378" data-src="https://code.juejin.cn/pen/7457056774445924378" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>通过传递两个值到<code>grid-template-columns</code>&nbsp;-&nbsp;<code>25%</code>和<code>75%</code>，将CSS网格算法将元素分成两列。</p>
<p>除了通过<code>%</code>来设置子对象的宽度，还可以使用任何有效的<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2Flength-percentage" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/length-percentage" ref="nofollow noopener noreferrer">CSS长度百分比值</a>定义列，包括<code>pixels</code>、 <code>rems</code>、<code>viewport units</code>等。此外，我们还可以访问一个新单位，即<code>fr</code>单位：</p>
<p><span href="https://code.juejin.cn/pen/7457061039385870336" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7457061039385870336" data-src="https://code.juejin.cn/pen/7457061039385870336" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p><code>fr</code>的计算类似分子与分母的计算，在例子中:</p>
<p>分母为<code>4fr=1fr+3fr</code>，也就是我们把全部fr加起来则为分母的大小</p>
<p>分子为每列的fr大小，第一列分子为<code>1fr</code>，第二列分子为<code>3fr</code></p>
<p>这意味着总共有4个空间单位，也就是分母；第一列占用了可用空间的1/4，而第二列占用了3/4</p>
<p>Hold down！Hold down！信不信我反手就给你一锤子，你说的这个和百分比有啥区别？</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c874d7d4933c4f9288503449b66b4d95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=aYgBxWuaV76KAv0%2FN%2F9ogl4t8GI%3D" alt="20250107160022.gif" loading="lazy"></p>
<p>别急别急，我们先看下面这个案例</p>
<p><strong>尝试缩小此容器以查看差异</strong></p>
<p><span href="https://code.juejin.cn/pen/7457080919641063424" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7457080919641063424" data-src="https://code.juejin.cn/pen/7457080919641063424" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>在这个案例中，我们可以发现：</p>
<pre><code class="hljs language-bash" lang="bash">% 模式下：随着父容器的缩放，当子容器分配到的空间过小时，🍎的容器会被挤压

fr 模式下：即使父容器宽度再小，🍎的容器都不会被挤压，能保持正常展示
</code></pre>
<ul>
<li><code>%</code>单位的列宽是严格按照父容器大小来分配空间的</li>
<li><code>fr</code> 单位的列宽是灵活的，该列会基于父容器大小分配空间，但不会缩小到低于其最小内容的大小</li>
</ul>
<p>除此之外，当我们使用<code>gap</code>属性时，<code>%</code>和<code>fr</code>也会有表现差异</p>
<blockquote>
<p>gap是什么属性？</p>
<p>gap 可以为网格中的所有列和行之间添加固定的空间</p>
</blockquote>
<p>当我们添加<code>gap</code>时，试试百分比和分数之间切换时会有哪些差异：</p>
<p><span href="https://code.juejin.cn/pen/7457355191923572746" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7457355191923572746" data-src="https://code.juejin.cn/pen/7457355191923572746" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>可以发现，使用<code>%</code>时，子容器溢出了父容器之外，前面我说过：<code>%单位的列宽是严格按照父容器大小来分配空间的</code></p>
<p>因此使用<code>%</code>单位时，在分配空间前：先是根父容器区域的大小计算出了子容器的大小，当我们添加16px的<code>gap</code>时，空间不够用只能溢出父容器</p>
<p>而使用<code>fr</code>单位，则是先减去<code>gap</code>的大小，再将剩余的空间分配给其他网格列</p>
<h3 data-id="heading-2">隐式和显式行</h3>
<p>当我们设置父容器 <code>grid-template-columns: 1fr 3fr;</code>，而子容器超过两个时，效果是怎么样的？</p>
<p>我们来试试</p>
<p><span href="https://code.juejin.cn/pen/7457461608969666570" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7457461608969666570" data-src="https://code.juejin.cn/pen/7457461608969666570" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>嘿！和我们想要的预期效果一样，真的给我们换行去了，我们就是需要这么灵活的效果</p>
<p>除此之外，我们还可以显式地分配行的空间大小，可以使用<code>grid-template-rows</code>属性来实现：</p>
<p><span href="https://code.juejin.cn/pen/7457463343386001427" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7457463343386001427" data-src="https://code.juejin.cn/pen/7457463343386001427" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>通过定义<code>grid-template-rows</code>和<code>grid-template-columns</code>，我们可以自由的分配行和列的空间大小</p>
<h3 data-id="heading-3">repeat 实现重复分配</h3>
<p>假设我们要实现一个日历的效果</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd1aba8da1594e5782ac1918f13ecd76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=aoE0JCbdR2KhTjRfITTroHU%2BQ94%3D" alt="微信截图_20250108170949.png" loading="lazy"></p>
<p>经过上面的学习，我们想实现这样的布局并不难：</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.calendar</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr;
}
</code></pre>
<p>吓死宝宝了，还好只是7列！</p>
<p>😈老板：不行，我现在要求50列、100列的效果都做一遍，方便我对比效果，再决定选哪种方案</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ca0aec555c544b3ad9ef2affefcf4c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=ZQ4aKC8glysi%2BB0VFGgiP%2FZlarg%3D" alt="image.png" loading="lazy"></p>
<p>幸好！！Grid的设计者考虑到了这个问题，我们可以通过<code>repeat</code>来解决这个问题</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.calendar</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">7</span>, <span class="hljs-number">1</span>fr);
}
</code></pre>
<p>完整代码如下：</p>
<p><span href="https://code.juejin.cn/pen/7457470989719306275" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7457470989719306275" data-src="https://code.juejin.cn/pen/7457470989719306275" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<h2 data-id="heading-4">子项分配</h2>
<p>相信大家都见过在地板上铺瓷砖</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5592bfb7b0854ca290665b0ccb50901e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=4pGizfZ0Duns9sPV6STL9ZSA9Dw%3D" alt="image.png" loading="lazy"></p>
<p>今天，我们来开始学习如何铺瓷砖，以便我们在后期买房子的时候可以快速上手，🤬@#$%^&amp;!</p>
<p>方向走错了，言归正传，<code>CSS Grid</code> 算法和铺地砖的方式十分相似：<code>将每个子项分配给第一个未占用的网格单元</code></p>
<p>不过，这里有一件很酷的事情：我们可以将我们的项目分配给我们想要的任何单元格！子级甚至可以跨越多行/多列。</p>
<p>下面是一个演示程序，展示了其工作原理。单击/按住并拖动以将子项放置在网格中</p>
<p><span href="https://code.juejin.cn/pen/7458215887399436315" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7458215887399436315" data-src="https://code.juejin.cn/pen/7458215887399436315" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>Grid 允许我们指定子对象应该占据哪些网格：<code>grid-row</code> 、<code>grid-column</code></p>
<p>如果我们希望子项占据单行或单列，我们可以通过其编号来指定它。将子项设置为位于第三列。<code>grid-column: 3</code></p>
<p>网格子项还可以跨多个行/列拉伸。此语法使用斜杠来描述 start 和 end：</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span> / <span class="hljs-number">4</span>;
}
</code></pre>
<p>乍一看，这看起来像一个分数，1/4。但是，在 CSS 中，斜杠字符不用于除法，而是用于分隔值组。在这种情况下，它允许我们在单个声明中设置 start 和 end 列。</p>
<p>它本质上是下面的简写：</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">grid-column-start</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">grid-column-end</span>: <span class="hljs-number">4</span>;
}
</code></pre>
<p><strong>这里有个容易误导的理解：</strong> 我们提供的数字基于列<em>行</em>，而不是列索引。</p>
<p>用下面的图片来理解最容易的：</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfe5d2621d0743d2bc4b1f11de27c0dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=bJuue8wt8b6qNW9JZ%2BaDAN5Yluc%3D" alt="image.png" loading="lazy"></p>
<p>一个 4 列网格实际上有&nbsp;<em>5</em>&nbsp;列线。当我们为网格分配子项时，我们使用这些线来锚定它们。如果我们希望我们的子项跨越前 3 列，它需要从第 1 行开始，到第4行结束。</p>
<p>在像英语这样的从左到右的语言中，我们从左到右计算列数。然而，对于负行号，我们也可以按<em>相反</em>的方向从右到左计数。</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.child</span> { 
    <span class="hljs-comment">/* 右边第二列 */</span> 
    <span class="hljs-attribute">grid-column</span>: -<span class="hljs-number">2</span>;
}
</code></pre>
<p>我们还可以混合正数和负数</p>
<p><span href="https://code.juejin.cn/pen/7458546818599616566" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7458546818599616566" data-src="https://code.juejin.cn/pen/7458546818599616566" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>请注意，子项跨越了 grid 的整个宽度，即使我们根本没有更改&nbsp;<code>grid-column</code>&nbsp;分配！</p>
<h3 data-id="heading-5">网格区域</h3>
<p>终于要讲到 Gird 网格最牛逼的部分之一了😎</p>
<p>下面这张图片，展示了我们在网站建设中最常见的布局</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/030e39431c76433fa1a09836c7164c64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=WUakz9YfmTGCKCPcaWT4T3kBvaw%3D" alt="image.png" loading="lazy"></p>
<p>使用我们目前所学到的知识，我们可以像这样构建它：</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.grid</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">2</span>fr <span class="hljs-number">5</span>fr;
  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">50px</span> <span class="hljs-number">1</span>fr;
}

<span class="hljs-selector-class">.sidebar</span> {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">grid-row</span>: <span class="hljs-number">1</span> / <span class="hljs-number">3</span>;
}
<span class="hljs-selector-class">.header</span> {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">2</span>;
  <span class="hljs-attribute">grid-row</span>: <span class="hljs-number">1</span>;
}
<span class="hljs-selector-class">.main</span> {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">2</span>;
  <span class="hljs-attribute">grid-row</span>: <span class="hljs-number">2</span>;
}
</code></pre>
<p>这实现还不够完美，有一种更符合人体工程学的方法：<em>网格区域。</em></p>
<p>这是它的样子：</p>
<p><span href="https://code.juejin.cn/pen/7458590508210716735" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7458590508210716735" data-src="https://code.juejin.cn/pen/7458590508210716735" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>和以前一样，我们使用&nbsp;<code>grid-template-columns</code>&nbsp;和&nbsp;<code>grid-template-rows</code>&nbsp;定义网格结构。但是，我们有了这个奇怪的声明：</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">grid-template-areas</span>:
    <span class="hljs-string">'sidebar header'</span>
    <span class="hljs-string">'sidebar main'</span>;
}
</code></pre>
<p><strong>以下是其工作原理：</strong> 我们正在绘制我们想要创建的网格，然后我们给每块网格划分区域并且命名</p>
<p>然后，我们不是给子节点分配&nbsp;<code>grid-column</code>&nbsp;和&nbsp;<code>grid-row</code>，而是给它分配&nbsp;<code>grid-area</code>！</p>
<p>当我们希望某个特定区域跨越多行或多列时，我们可以在模板中重复该区域的名称。在此示例中，“sidebar” 区域跨越两行，因此我们在第一列中为两个单元格编写&nbsp;<code>sidebar</code>。</p>
<p><strong>我们应该使用区域还是行/列？</strong> 在构建这样的显式布局时，我真的很喜欢使用 areas。它允许我为我的网格分配赋予语义含义，而不是使用高深莫测的行/列数字。也就是说，当网格具有固定数量的行和列时，区域效果最佳。<code>grid-column</code>&nbsp;和&nbsp;<code>grid-row</code>&nbsp;对于隐式网格很有用。</p>
<h3 data-id="heading-6">键盘 Tab问题</h3>
<p>当涉及到网格分配时，有一个很大的问题：&nbsp;<strong>Tab 键顺序仍然基于&nbsp;<em>DOM 位置，</em> 而不是网格位置。</strong></p>
<p>用一个例子来解释会更容易。在下面的程序中，我设置了一组按钮，并使用 CSS Grid 对它们进行了排列：</p>
<p><span href="https://code.juejin.cn/pen/7458592261820678179" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7458592261820678179" data-src="https://code.juejin.cn/pen/7458592261820678179" style="display:none;" loading="lazy"></iframe><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"><span class="loading-logo"></span></span></span></p>
<p>在运行程序中，按钮似乎按顺序排列。通过从左到右、从上到下阅读，我们从 1 到 6。</p>
<p><strong>如果使用的是带键盘的设备，请尝试按 Tab 键浏览这些按钮。</strong> 可以通过单击左上角的第一个按钮（“One”）来执行此操作，然后按&nbsp;<code>Tab</code>&nbsp;一次移动一个按钮。</p>
<p>应该看到如下内容：</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bfd9d12696f4ecda8c6afeff81adca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=hAURNCS0JQc6ohx6XsAM7tMUGME%3D" alt="555.gif" loading="lazy"></p>
<p>从用户的角度来看，焦点轮廓在页面上跳来跳去，没有韵律或理由。发生这种情况是因为按钮是根据它们在 DOM 中的显示顺序来聚焦的。</p>
<p>为了解决这个问题，我们应该在 DOM 中对网格子项重新排序，以便它们与视觉顺序相匹配，这样我就可以从左到右、从上到下使用 Tab 键。</p>
<blockquote>
<p><code>reading-order</code>&nbsp;CSS 属性</p>
<p>CSS 工作组意识到这是 CSS Grid 的一个缺陷。必须将 DOM 顺序与视觉顺序匹配，这与能够将子项分配给特定网格单元格的目的相悖！</p>
<p>修复工作正在进行中。将来，<code>reading-order</code>&nbsp;CSS 属性应该允许我们指示浏览器忽略 DOM 顺序，并按照元素在屏幕上出现的顺序聚焦元素。</p>
<p>遗憾的是，截至 2024 年 9 月，此属性尚未在任何浏览器中实现。</p>
</blockquote>
<h2 data-id="heading-7">后话</h2>
<p>掌握以上这些，你就超越很多人了，不过我说了，Grid 布局强大远不止如此，如果大家感兴趣，我后续会继续出一期教程来深度讲下去</p>
<p>为什么不一次性写完？</p>
<p>因为这个教程需要结合程序的交互演示来讲，你们才会容易掌握</p>
<p>而我写这篇文章时，就已经写了<code>13</code>个demo</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3556d78a5056424489900a1752ce285e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaG93Y29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1742460519&amp;x-signature=6nOUjQ1uKZJiJnsRPyj%2BqBNOzro%3D" alt="image.png" loading="lazy"></p>
<p>而每个demo的实现，都花费了我大量的时间，整篇文章目前为止写了将近<code>1星期</code>了</p>
<p><code>为了对得住每个点进来看我文章的人，我愿意花更多的时间来把一个事情讲明白</code></p>
<p>好了，今天的讲解就到此为止，下课！！</p>
<p>如果你对技术/行业交流有兴趣，欢迎添加<code>howcoder</code>微信，邀你进群交流</p>
<h2 data-id="heading-8">往期精彩</h2>
<p><a href="https://juejin.cn/post/7452197534352031770" target="_blank" title="https://juejin.cn/post/7452197534352031770">《超硬核：从零到一部署指南》</a></p>
<p><a href="https://juejin.cn/post/7451168270878097434" target="_blank" title="https://juejin.cn/post/7451168270878097434">《私活2年，我赚到了人生的第一桶金》</a></p>
<p><a href="https://juejin.cn/post/7431761042194055183" target="_blank" title="https://juejin.cn/post/7431761042194055183">《接入AI后，开源项目瞬间有趣了😎》</a></p>
<p><a href="https://juejin.cn/post/7380200984058839066" target="_blank" title="https://juejin.cn/post/7380200984058839066">《肝了两个月，我们无偿开源了》</a></p>
<p><a href="https://juejin.cn/post/7336014826336747520" target="_blank" title="https://juejin.cn/post/7336014826336747520">《彻底不NG前端路由》</a></p>
<p><a href="https://juejin.cn/post/7246997498572619831" target="_blank" title="https://juejin.cn/post/7246997498572619831">《vue项目部署自动检测更新》</a></p>
<p><a href="https://juejin.cn/post/7237295525707530295" target="_blank" title="https://juejin.cn/post/7237295525707530295">《一个公告滚动播放功能引发的背后思考》</a></p>
<p><a href="https://juejin.cn/post/7119498429117988872" target="_blank" title="https://juejin.cn/post/7119498429117988872">《前端值得学习的开源socket应用》</a></p></div></div>