
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/liuyechang/p/19057503" title="发布于 2025-08-25 18:21">
    <span role="heading" aria-level="2">小米 AX3000T ImmortalWrt 完整刷机教程</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="1开启ssh功能">1.开启SSH功能</h1>
<h2 id="11-下载-xmir-patcher-zip包">1.1 下载 <a href="https://github.com/openwrt-xiaomi/xmir-patcher" title="xmir-patcher" target="_blank" rel="noopener nofollow">xmir-patcher</a> zip包</h2>
<p>网址：<a href="https://github.com/openwrt-xiaomi/xmir-patcher" target="_blank" rel="noopener nofollow">https://github.com/openwrt-xiaomi/xmir-patcher</a><br>
点击 <code>Download ZIP</code> 直接下载即可。<br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825162637822-1673786174.png" alt="image" loading="lazy"></p>
<h2 id="12-开启ssh功能">1.2 开启SSH功能</h2>
<p><strong>说明：AX3000T靠近电源口为WAN口，其他口为LAN口</strong></p>
<p>网线一端插入LAN口，一端插入电脑。解压缩 <code>xmir-patcher zip</code>包，运行<code>run.bat</code>&nbsp;文件。<br>
<strong>step1 全量备份固件及Uboot(用于恢复固件或Uboot)</strong><br>
运行脚本后，输入<code>4</code>回车。<br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825162408717-256523586.png" alt="image" loading="lazy"><br>
会自动将小米官方固件及Uboot备份到工具下的backups文件夹中。</p>
<p><img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825163526848-584945955.png" alt="image" loading="lazy"></p>
<p><strong>step2 开启SSH服务功能</strong><br>
运行脚本后，输入<code>2</code>回车，输入路由器管理后台密码(输入过程不显示密码)回车，显示<code>SSH server are activated!</code>即为成功。<br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825163355213-717261577.png" alt="image" loading="lazy"></p>
<h1 id="2刷入uboot">2.刷入Uboot</h1>
<p>使用到的工具：SSH连接工具<br>
使用您熟悉的终端工具即可，这里以<code>MobaXterm</code>工具为例。<br>
MobaXterm官方下载地址：<a href="https://mobaxterm.mobatek.net/download.html" target="_blank" rel="noopener nofollow">https://mobaxterm.mobatek.net/download.html</a></p>
<p>小米AX3000T U-Boot下载地址：<a href="https://github.com/hkint/xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build" title="xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build" target="_blank" rel="noopener nofollow">xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build</a><br>
该项目编译了 Hanwckf's ImmortalWrt 固件及相应的 U-Boot。<br>
releases页面选择<code>*layout.bin</code>文件即可，如mt7981_ax3000t-fip-fixed-parts-multi-layout.bin</p>
<p><strong>说明</strong>：<br>
<strong>固件及Uboot携带an8855</strong>字样适配<strong>小米AX3000T V2版本</strong>，如mt7981_ax3000t_an8855-fip-fixed-parts-multi-layout.bin<br>
<strong>固件及Uboot不携带an8855</strong>字样适配<strong>小米AX3000T V1版本</strong>，如mt7981_ax3000t-fip-fixed-parts-multi-layout.bin</p>
<p><strong>step1 登录SSH</strong><br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825171623726-843903292.png" alt="image" loading="lazy"><br>
<strong>配置SSH:</strong> <strong>打开MobaXterm----Session----SSH----填入路由器管理后台地址----设置登录用户为<code>root</code>----点击 <code>OK</code></strong>确定即可。<br>
小米路由器SSH用户名：<code>root</code><br>
小米路由器SSHt密码：<code>root</code></p>
<p><img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825172038396-1823408586.png" alt="image" loading="lazy"><br>
双击，刚才配置好的会话，连接SSH会话即可。</p>
<p><strong>step2 写入Uboot</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825173611562-1025275181.png" alt="image" loading="lazy"></p>
<p>将Windows中的开源<code>Uboot</code>直接拖拽传输至<code>tmp</code>文件夹。之后执行以下命令：</p>
<pre><code>cd ../tmp  #进入tmp文件夹
mtd write mt7981_ax3000t-fip-fixed-parts-multi-layout.bin FIP  #写入Uboot文件
</code></pre>
<h1 id="3刷入immortalwrt-固件">3.刷入ImmortalWrt 固件</h1>
<p><strong>说明：</strong><br>
<strong><code>*factory*</code>文件</strong>：首次刷机时，使用 Factory 映像以刷入 ImmortalWrt。通常您可以在原厂固件的 Web 界面中完成此操作。<br>
<strong><code>*sysupgrade*</code>文件</strong>：使用 Sysupgrade 映像以更新现有运行 ImmortalWrt 的设备。该映像可以在 LuCI 界面或终端中使用。</p>
<p>小米AX3000T ImmortalWrt 固件下载地址：<a href="https://github.com/hkint/xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build" title="xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build" target="_blank" rel="noopener nofollow">xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build</a><br>
该项目编译了 Hanwckf's ImmortalWrt 固件及相应的 U-Boot。<br>
releases页面分别选择如下文件下载即可</p>
<pre><code>*factory.bin`文件，如immortalwrt-mediatek-mt7981-xiaomi_mi-router-ax3000t-squashfs-factory.bin
*sysupgrade.bin文件，如immortalwrt-mediatek-mt7981-xiaomi_mi-router-ax3000t-squashfs-sysupgrade.bin
</code></pre>
<h2 id="31-刷入-factorybin文件">3.1 刷入 <code>*factory.bin</code>文件</h2>
<p><strong>step1 设置电脑IP为 <code>192.168.1.2</code></strong><br>
<strong>控制面板----网络和Internet----网络连接----右击你接入路由器的适配器----属性----Internet协议版本4(TCP/IPv4)</strong>。按以下图片配置后确定即可。<br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175126481-1542814405.png" alt="image" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175149882-1742012814.png" alt="image" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175157339-990721220.png" alt="image" loading="lazy"></p>
<p><strong>step2 路由器进入Uboot</strong><br>
用卡针顶住路由器reset键，之后路由器接入电源。reset键一直按住等待10秒左右，指示灯变为蓝色后松开reset键。</p>
<p><strong>step3 浏览器登录<code>192.168.1.1</code></strong>，即可进入Uboot页面，选择<code>immortalwrt-112m</code>模式，<br>
上传<code>immortalwrt-mediatek-mt7981-xiaomi_mi-router-ax3000t-squashfs-factory.bin</code>固件即可。<br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175656898-937233585.png" alt="image" loading="lazy"><br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175702580-1927652685.png" alt="image" loading="lazy"></p>
<p><strong>step4 设置电脑IP设置为<code>自动获取获取IP地址</code></strong><br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175850184-259570513.png" alt="image" loading="lazy"></p>
<h2 id="32-刷入-sysupgradebin文件升级完整固件目前似乎可省略此步骤">3.2 刷入 <code>*sysupgrade.bin</code>文件升级完整固件(目前似乎可省略此步骤)</h2>
<p><strong>step1 浏览器登录固件LAN IP(192.168.31.1)地址</strong>，点击登录<br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825180124498-1101066320.png" alt="image" loading="lazy"><br>
<strong>step2 刷写<code>*sysupgrade.bin</code></strong><br>
系统----备份与升级----操作----刷写固件---上传<code>*sysupgrade.bin</code>固件----等待路由器重启指示灯变蓝色即可。</p>
<p><img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825180140189-2129582218.png" alt="image" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825180337386-749922037.png" alt="image" loading="lazy"></p>
<h1 id="4手动安装or升级openclash可正常在管理页面安装的帅逼可忽略">4.手动安装or升级openclash(可正常在管理页面安装的帅逼可忽略)</h1>
<h2 id="41-安装or升级openclash">4.1 安装or升级openclash</h2>
<p><strong>step1 下载 openclash</strong><br>
github地址：<a href="https://github.com/vernesong/OpenClash" target="_blank" rel="noopener nofollow">https://github.com/vernesong/OpenClash</a><br>
releases页面下载<code>*.ipk</code>文件即可，如luci-app-openclash_0.46.137_all.ipk<br>
<strong>step2 安装openclash</strong><br>
通过终端工具将<code>luci-app-openclash_0.46.137_all.ipk</code>传输至tmp文件夹<br>
执行以下命令安装即可<br>
<code>opkg install  luci-app-openclash_0.46.137_all.ipk</code></p>
<h2 id="42-安装or升级mihomo内核可正常在管理页面安装的帅逼可忽略">4.2 安装or升级mihomo内核(可正常在管理页面安装的帅逼可忽略)</h2>
<p><strong>step1 下载mihomo内核</strong><br>
github网址：<a href="https://github.com/MetaCubeX/mihomo" target="_blank" rel="noopener nofollow">https://github.com/MetaCubeX/mihomo</a><br>
releases页面下载<code>mihomo-linux-arm64*</code>文件，如mihomo-linux-arm64-v1.19.12.gz</p>
<p><strong>step2 安装mihomo内核</strong><br>
通过终端工具将<code>mihomo-linux-arm64-v1.19.12.gz</code>传输至tmp文件夹<br>
执行以下命令安装：</p>
<pre><code>cd /etc/openclash/core # 进入内核文件夹，没有则创建即可
rm clash_meta          # 删除原有内核，如果存在
mv /tmp/mihomo-linux-arm64-v1.19.12.gz .   # 复制内核压缩包至当前内核文件夹
gunzip mihomo-linux-arm64-v1.19.12.gz      # 解压缩包
mv mihomo-linux-arm64-v1.19.12 clash_meta  # 重命名内核文件名为clash_meta
chmod +x clash_meta                        # 添加可执行权限
</code></pre>
<p><strong>step3 重启路由器系统</strong><br>
<img src="https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825184819207-201722119.png" alt="image" loading="lazy"></p>
<h1 id="5-openclash基本配置todo">5. openclash基本配置(todo)</h1>
<h1 id="6-刷回原厂固件及uboottodo">6. 刷回原厂固件及Uboot(todo)</h1>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.044444444444444446" data-date-updated="2025-08-25 19:25">2025-08-25 18:21</span>&nbsp;
<a href="https://www.cnblogs.com/liuyechang">柳叶昶</a>&nbsp;
阅读(<span id="post_view_count">34</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19057503);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19057503', targetLink: 'https://www.cnblogs.com/liuyechang/p/19057503', title: '小米 AX3000T ImmortalWrt 完整刷机教程' })">举报</a>
</div>
        