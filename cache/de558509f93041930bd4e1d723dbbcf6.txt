
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/haoxianrui/p/18683115" title="å‘å¸ƒäº 2025-01-22 09:26">
    <span role="heading" aria-level="2">ã€Œyoulai-bootã€è¿›é˜¶ç¯‡ï¼šJava &amp; Spring Boot ä¼ä¸šçº§æƒé™ç®¡ç†ç³»ç»Ÿå®æˆ˜æŒ‡å—ï¼ˆå…¨åŠŸèƒ½è¯¦è§£ï¼‰</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/675291/202501/675291-20250121102125562-241809167.png" alt="ã€Œyoulai-bootã€è¿›é˜¶ç¯‡ï¼šJava &amp;amp; Spring Boot ä¼ä¸šçº§æƒé™ç®¡ç†ç³»ç»Ÿå®æˆ˜æŒ‡å—ï¼ˆå…¨åŠŸèƒ½è¯¦è§£ï¼‰" class="desc_img">
        æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†å¼€æºçš„ youlai-boot é¡¹ç›®ï¼ŒåŒ…æ‹¬é¡¹ç›®å¯åŠ¨ã€ç¯å¢ƒé…ç½®ã€ä»£ç ç”Ÿæˆã€æ¥å£æ–‡æ¡£ç®¡ç†ã€æ–‡ä»¶ä¸Šä¼ ã€å®šæ—¶ä»»åŠ¡ç­‰åŠŸèƒ½ã€‚è¿˜æ¶µç›–äº†æ•°æ®æƒé™æ§åˆ¶ã€é˜²é‡æäº¤ã€IP é™æµã€å¤šæ•°æ®æºæ”¯æŒå’Œç™»å½•æ–¹å¼æ‰©å±•ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå¹¶æä¾›åŸºäº Docker Compose å’Œ IntelliJ IDEA çš„ä¸€é”®éƒ¨ç½²æ–¹æ¡ˆã€‚
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>ğŸš€ ä½œè€…ä¸»é¡µï¼š <a href="https://www.youlai.tech" target="_blank" rel="noopener nofollow">æœ‰æ¥æŠ€æœ¯</a><br>
ğŸ”¥ å¼€æºé¡¹ç›®ï¼š <a href="https://gitee.com/youlaitech/youlai-mall" target="_blank" rel="noopener nofollow">youlai-mall </a>ï¸±<a href="https://gitee.com/youlaiorg/vue3-element-admin" target="_blank" rel="noopener nofollow">vue3-element-admin</a>ï¸±<a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a>ï¸±<a href="https://gitee.com/youlaiorg/vue-uniapp-template" target="_blank" rel="noopener nofollow">vue-uniapp-template</a><br>
ğŸŒº ä»“åº“ä¸»é¡µï¼š <a href="https://gitcode.com/org/youlai" target="_blank" rel="noopener nofollow">GitCode</a>ï¸± <a href="https://gitee.com/haoxr" target="_blank" rel="noopener nofollow">Gitee</a>  ï¸± <a href="https://github.com/haoxianrui" target="_blank" rel="noopener nofollow">Github</a><br>
ğŸ’– æ¬¢è¿ç‚¹èµ ğŸ‘ æ”¶è— â­è¯„è®º ğŸ“ å¦‚æœ‰é”™è¯¯æ•¬è¯·çº æ­£ï¼</p>
</blockquote>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>æœ¬æ–‡æ¡£æ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›å…¨é¢çš„ <a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a> é¡¹ç›®ä½¿ç”¨æŒ‡å—ï¼Œæ¶µç›–é¡¹ç›®ä»‹ç»ã€å¿«é€Ÿå¯åŠ¨ã€ç¯å¢ƒé…ç½®ã€åŠŸèƒ½æ“ä½œå’Œæ‰©å±•å®ç°ç­‰å¤šæ–¹é¢å†…å®¹ã€‚<a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a> æ˜¯ä¸€æ¬¾åŸºäº Java 17 å’Œ Spring Boot 3 çš„ä¼ä¸šçº§æƒé™ç®¡ç†ç³»ç»Ÿï¼Œé›†æˆäº†å¤šç§ä¸»æµæŠ€æœ¯æ ˆï¼Œé€‚ç”¨äºå¤æ‚çš„ä¼ä¸šä¸šåŠ¡åœºæ™¯ã€‚é€šè¿‡æœ¬æ‰‹å†Œï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿä¸Šæ‰‹é¡¹ç›®ï¼Œå¹¶æ·±å…¥æŒæ¡å„æ¨¡å—çš„å®ç°ç»†èŠ‚å’Œæœ€ä½³å®è·µã€‚</p>
<h2 id="é¡¹ç›®ä»‹ç»">é¡¹ç›®ä»‹ç»</h2>
<p><a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a> æ˜¯ä¸€ä¸ªä¼ä¸šçº§ RBAC æƒé™ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ <strong>Java 17</strong>ã€<strong>Spring Boot 3</strong>ã€<strong>Spring Security 6</strong>ã€<strong>MyBatis-Plus</strong>ã€<strong>Redis</strong> å’Œ <strong>XXL-Job</strong> ç­‰ä¸»æµåç«¯æŠ€æœ¯æ ˆæ„å»ºï¼Œä½œä¸º <a href="https://gitee.com/youlaiorg/vue3-element-admin" target="_blank" rel="noopener nofollow">vue3-element-admin</a>ï¼ˆWeb ç«¯ï¼‰å’Œ <a href="https://gitee.com/youlaiorg/vue-uniapp-template" target="_blank" rel="noopener nofollow">vue-uniapp-template</a>ï¼ˆç§»åŠ¨ç«¯ï¼‰çš„åç«¯æœåŠ¡ï¼Œæ”¯æŒç”¨æˆ·ã€è§’è‰²ã€æƒé™ã€éƒ¨é—¨ã€å­—å…¸ã€é…ç½®ç­‰å¤šç§åŠŸèƒ½ï¼Œæ»¡è¶³ä¼ä¸šçº§æƒé™ç®¡ç†éœ€æ±‚ã€‚</p>
<p><strong>é¡¹ç›®ç‰¹è‰²</strong></p>
<ul>
<li><strong>å®Œå–„çš„æƒé™ç®¡ç†</strong>ï¼šæ”¯æŒç²¾ç»†åŒ–çš„ç”¨æˆ·ã€è§’è‰²ã€èœå•å’Œæ•°æ®æƒé™æ§åˆ¶ã€‚</li>
<li><strong>é«˜æ•ˆçš„å¼€å‘å·¥å…·</strong>ï¼šå†…ç½®å‰åç«¯ä»£ç ç”Ÿæˆå™¨ï¼Œå¿«é€Ÿæ­å»ºä¸šåŠ¡æ¨¡å—ã€‚</li>
<li><strong>å®æ—¶é€šä¿¡æ”¯æŒ</strong>ï¼šåŸºäº WebSocket å®ç°åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡ä¸æ¶ˆæ¯æ¨é€ã€‚</li>
<li><strong>ç³»ç»Ÿå®‰å…¨æœºåˆ¶</strong>ï¼šæä¾›é˜²é‡æäº¤ã€åˆ†å¸ƒå¼é”ç­‰ä¿éšœæ•°æ®å®‰å…¨çš„èƒ½åŠ›ã€‚</li>
<li><strong>çµæ´»çš„å®šæ—¶ä»»åŠ¡</strong>ï¼šé›†æˆ XXL-Jobï¼Œæ”¯æŒå¤æ‚çš„ä»»åŠ¡è°ƒåº¦åœºæ™¯ã€‚</li>
</ul>
<h2 id="å¯åŠ¨é¡¹ç›®">å¯åŠ¨é¡¹ç›®</h2>
<p>ä»¥ä¸‹æ˜¯å¿«é€Ÿå¯åŠ¨ <a href="https://gitee.com/youlaiorg/youlai-boot.git" target="_blank" rel="noopener nofollow">youlai-boot é¡¹ç›®</a> çš„å®Œæ•´æ­¥éª¤ï¼Œä»å…‹éš†é¡¹ç›®åˆ°è¿è¡ŒæœåŠ¡ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<h3 id="å…‹éš†ä»£ç ">å…‹éš†ä»£ç </h3>
<p>æ‰“å¼€ <strong>IntelliJ IDEA</strong>ï¼Œä¾æ¬¡ç‚¹å‡»ï¼š<strong>File â†’ New â†’ Project from Version Control</strong></p>
<p>åœ¨å¼¹å‡ºçš„çª—å£ä¸­è¾“å…¥é¡¹ç›®åœ°å€ï¼š<a href="https://gitee.com/youlaiorg/youlai-boot.git" target="_blank" rel="noopener nofollow">https://gitee.com/youlaiorg/youlai-boot.git</a> ï¼Œç„¶åç‚¹å‡» Cloneã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241226105842895.png" alt="å…‹éš† youlai-boot" loading="lazy"></p>
<p>ç¨ç­‰ç‰‡åˆ»ï¼Œç­‰å¾…é¡¹ç›®åŠ è½½å®Œæˆåï¼Œé¡¹ç›®ç»“æ„å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241226111800309.png" alt="åŠ è½½å®Œæˆ" loading="lazy"></p>
<h3 id="é…ç½®ç¯å¢ƒ">é…ç½®ç¯å¢ƒ</h3>
<p>å¯åŠ¨é¡¹ç›®å‰ï¼Œéœ€è¦ç¡®ä¿å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š<strong>å·²å®‰è£…å¹¶é…ç½® JDK å’Œ Maven</strong>ã€‚</p>
<p><strong>é…ç½® JDK</strong></p>
<p>æ‰“å¼€é¡¹ç›®ç»“æ„é…ç½®é¢æ¿ <strong>File â†’ Project Structure</strong>ï¼ˆå¿«æ·é”® <strong>Ctrl + Alt + Shift + S</strong>ï¼‰æ‰“å¼€é¡¹ç›®ç»“æ„é…ç½®é¢æ¿ï¼Œç¡®ä¿ <strong>SDK</strong> è®¾ç½®ä¸ºå®‰è£…çš„ <strong>JDK 17</strong>ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241128164048566.png" alt="" loading="lazy"></p>
<p><strong>é…ç½® Maven</strong></p>
<p>æ‰“å¼€ IDE è®¾ç½®é¢æ¿ï¼š<strong>File  â†’ Settings</strong>ï¼ˆå¿«æ·é”® <strong>Ctrl + Alt + S</strong>ï¼‰ï¼Œåœ¨ <strong>Build, Execution, Deployment â†’ Build Tools â†’ Maven</strong> ä¸­ï¼Œé…ç½® Maven ä½¿ç”¨æœ¬åœ°å®‰è£…çš„ç‰ˆæœ¬ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241128164823123.png" alt="" loading="lazy"></p>
<p>éªŒè¯ Maven é…ç½®ï¼šæ‰“å¼€ <strong>IDEA ç»ˆç«¯</strong>ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç¡®ä¿ Maven ä½¿ç”¨çš„æ˜¯ <strong>JDK 17</strong>ã€‚</p>
<pre><code class="language-bash">mvn -v
</code></pre>
<p>æ­£ç¡®è¾“å‡ºç¤ºä¾‹ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241129130035208.png" alt="" loading="lazy"></p>
<h3 id="å¯åŠ¨é¡¹ç›®-1">å¯åŠ¨é¡¹ç›®</h3>
<p>æ‰“å¼€é¡¹ç›®çš„ä¸»å¯åŠ¨ç±» <code>YouLaiBootApplication</code>ã€‚å³é”®ç‚¹å‡» <strong>main æ–¹æ³•</strong>ï¼Œé€‰æ‹© <code>Debug YouLaiBootApplication.main()</code> å¯åŠ¨é¡¹ç›®ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241226115651975.png" alt="" loading="lazy"></p>
<h3 id="æµ‹è¯•å¯åŠ¨">æµ‹è¯•å¯åŠ¨</h3>
<p>é¡¹ç›®å¯åŠ¨æˆåŠŸåï¼Œå¯é€šè¿‡è®¿é—®æ¥å£æ–‡æ¡£éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p>
<p>è®¿é—® Knife4j æ¥å£æ–‡æ¡£ï¼š<a href="http://localhost:8989/doc.html" target="_blank" rel="noopener nofollow">http://localhost:8989/doc.html</a></p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241226150912842.png" alt="" loading="lazy"></p>
<p>è®¿é—® Swagger æ¥å£æ–‡æ¡£ï¼š <a href="http://localhost:8989/swagger-ui.html" target="_blank" rel="noopener nofollow">http://localhost:8989/swagger-ui.html</a></p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241226151658453.png" alt="" loading="lazy"></p>
<h2 id="åˆ‡æ¢æœ¬åœ°ç¯å¢ƒ">åˆ‡æ¢æœ¬åœ°ç¯å¢ƒ</h2>
<h3 id="å®‰è£…-docker">å®‰è£… Docker</h3>
<p>é¡¹ç›®ä¸­çš„ MySQLã€Redisã€MinIO ç­‰ä¸­é—´ä»¶é»˜è®¤ä½¿ç”¨çº¿ä¸Šç¯å¢ƒï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç¦æ­¢å¢åˆ æ”¹æ“ä½œã€‚å¦‚æœéœ€è¦æ›´å¥½åœ°ä½“éªŒç³»ç»Ÿï¼Œå»ºè®®åœ¨æœ¬åœ°æ­å»º MySQLã€Redis ç­‰ä¸­é—´ä»¶ï¼Œå¹¶åˆ‡æ¢åˆ°æœ¬åœ°ç¯å¢ƒã€‚</p>
<p>æ‰‹åŠ¨æ­å»º MySQLã€Redis ç­‰ä¸­é—´ä»¶åŠåˆå§‹åŒ–æ•°æ®åº“è„šæœ¬å¯èƒ½è¾ƒä¸ºè€—æ—¶ã€‚æ¨èä½¿ç”¨ Docker å’Œ Docker Composeï¼Œé€šè¿‡é¡¹ç›®æä¾›çš„ <code>docker-compose</code> è„šæœ¬ä¸€é”®æ­å»º MySQLã€Redis å¹¶åˆå§‹åŒ–æ•°æ®åº“ã€‚</p>
<p>é¦–å…ˆï¼Œç¡®ä¿å·²å®‰è£… Dockerï¼Œå®‰è£…æ•™ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="https://youlai.blog.csdn.net/article/details/145053548" target="_blank" rel="noopener nofollow">Windows å®‰è£… Docker å’Œ Docker Compose</a></li>
<li><a href="https://youlai.blog.csdn.net/article/details/145055134" target="_blank" rel="noopener nofollow">Linux (CentOS) å®‰è£… Docker å’Œ Docker Compose</a></li>
</ul>
<h3 id="å®‰è£…ä¸­é—´ä»¶">å®‰è£…ä¸­é—´ä»¶</h3>
<p>å®‰è£…å¥½ Docker å’Œ Docker Compose åï¼ŒæŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•ä¸­çš„ <code>docker-compose.yml</code> è„šæœ¬å†…å®¹ã€‚</p>
<p>è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œè¿è¡Œ<code>docker/run.md</code> å®Œæˆ MySQLã€Redisã€MinIO å’Œ XXL-Job çš„å®‰è£…ä¸é…ç½®ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241226171722942.png" alt="" loading="lazy"></p>
<p>è¿è¡Œåï¼Œæ‰“å¼€ Docker Desktopï¼Œç¡®è®¤ä¸­é—´ä»¶å·²æˆåŠŸå®‰è£…ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241227114725749.png" alt="" loading="lazy"></p>
<p>ä½¿ç”¨æ•°æ®åº“å¯è§†åŒ–å·¥å…·ï¼ˆå¦‚ Navicatï¼‰ï¼Œå¯ä»¥çœ‹åˆ° <code>youlai-boot</code> æ•°æ®åº“å·²æˆåŠŸåˆ›å»ºã€‚è¿™æ˜¯å› ä¸º <code>docker-compose.yml</code> æŒ‡å®šäº†åˆå§‹åŒ– SQL è„šæœ¬çš„è·¯å¾„ï¼š</p>
<pre><code class="language-yaml">- ../sql/mysql8:/docker-entrypoint-initdb.d
</code></pre>
<p>ä»¥ä¸‹æ˜¯ä¸­é—´ä»¶çš„é»˜è®¤é…ç½®ã€‚å¦‚æœç«¯å£å·ä¸æœ¬åœ°åº”ç”¨å†²çªï¼Œè¯·ä¿®æ”¹ <code>docker-compose.yml</code> ä¸­å¯¹åº”çš„ç«¯å£è®¾ç½®ï¼š</p>
<table>
<thead>
<tr>
<th>ä¸­é—´ä»¶</th>
<th>ç«¯å£</th>
<th>ç”¨æˆ·å</th>
<th>å¯†ç </th>
<th style="text-align: left">æ§åˆ¶å°</th>
</tr>
</thead>
<tbody>
<tr>
<td>MySQL</td>
<td>3306</td>
<td>root</td>
<td>123456</td>
<td style="text-align: left">/</td>
</tr>
<tr>
<td>Redis</td>
<td>6379</td>
<td>/</td>
<td>123456</td>
<td style="text-align: left">/</td>
</tr>
<tr>
<td>MinIO</td>
<td>9000</td>
<td>minioadmin</td>
<td>minioadmin</td>
<td style="text-align: left"><a href="http://lcalhost:9090" target="_blank" rel="noopener nofollow">http://lcalhost:9090</a></td>
</tr>
<tr>
<td>xxl-job-admin</td>
<td>8080</td>
<td>admin</td>
<td>admin</td>
<td style="text-align: left"><a href="http://lcalhost:8080" target="_blank" rel="noopener nofollow">http://lcalhost:8080</a></td>
</tr>
</tbody>
</table>
<h3 id="ä¿®æ”¹æœ¬åœ°é…ç½®">ä¿®æ”¹æœ¬åœ°é…ç½®</h3>
<h4 id="é…ç½®-mysql">é…ç½® MySQL</h4>
<p>åœ¨ <code>application-dev.yml</code> æ–‡ä»¶ä¸­ï¼Œå°† MySQL çš„è¿æ¥ä¿¡æ¯æ›¿æ¢ä¸ºæœ¬åœ°ç¯å¢ƒé…ç½®ï¼Œä¾‹å¦‚æ•°æ®åº“åœ°å€ã€ç”¨æˆ·åå’Œå¯†ç ã€‚é»˜è®¤ç«¯å£æ˜¯ <code>3306</code>ï¼Œé»˜è®¤ç”¨æˆ·åå’Œå¯†ç æ˜¯ <code>root/123456</code>ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241227095944013.png" alt="" loading="lazy"></p>
<hr>
<h4 id="é…ç½®-redis">é…ç½® Redis</h4>
<p>åœ¨ <code>application-dev.yml</code> æ–‡ä»¶ä¸­ï¼Œå°† Redis çš„åœ°å€å’Œå¯†ç æ›¿æ¢ä¸ºæœ¬åœ°ç¯å¢ƒé…ç½®ã€‚å¦‚æœæœ¬åœ° Redis æ²¡æœ‰è®¾ç½®å¯†ç ï¼Œç›´æ¥åˆ é™¤æˆ–æ³¨é‡Šæ‰ <code>password</code> é…ç½®ï¼Œé¿å…è¿æ¥å¤±è´¥ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241227111454206.png" alt="" loading="lazy"></p>
<h4 id="é…ç½®-minio-å¯é€‰">é…ç½® MinIO (å¯é€‰)</h4>
<p>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†æ–‡ä»¶ä¸Šä¼ æœåŠ¡ï¼Œè¯·åœ¨ <code>application-dev.yml</code> æ–‡ä»¶ä¸­ä¿®æ”¹ MinIO çš„è¿æ¥ä¿¡æ¯ä¸ºæœ¬åœ°ç¯å¢ƒé…ç½®ï¼ŒåŒ…æ‹¬åœ°å€ã€ç”¨æˆ·åå’Œå¯†ç ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤ç«¯å£ä¸º <code>9000</code>ï¼Œé»˜è®¤ç”¨æˆ·åå’Œå¯†ç ä¸º <code>minioadmin/minioadmin</code>ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241227144710796.png" alt="" loading="lazy"></p>
<hr>
<h4 id="é…ç½®-xxl-job-å¯é€‰">é…ç½® Xxl-Job (å¯é€‰)</h4>
<p>å¦‚æœé¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨ XXL-Jobï¼Œè¯·åœ¨ <code>application-dev.yml</code> æ–‡ä»¶ä¸­å¼€å¯é…ç½®ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241227155953883.png" alt="" loading="lazy"></p>
<h2 id="æ“ä½œæŒ‡å—">æ“ä½œæŒ‡å—</h2>
<h3 id="ä¿®æ”¹åŒ…å">ä¿®æ”¹åŒ…å</h3>
<p>é»˜è®¤åŒ…åä¸º <code>com.youlai.boot</code>ï¼Œå¦‚éœ€ä¿®æ”¹ä¸º <code>com.wuhui.boot</code>ï¼Œéœ€è¦åšä»¥ä¸‹æ”¹åŠ¨ï¼š</p>
<ul>
<li>
<p>ä¿®æ”¹å¯åŠ¨ç±»åç§°</p>
<p>å°†å¯åŠ¨ç±»ä» <code>YoulaiBootApplication</code> æ”¹ä¸º <code>WuhuiBootApplication</code>ã€‚</p>
</li>
<li>
<p>ä¿®æ”¹åº”ç”¨åç§°</p>
<p>åœ¨ <code>application.yml</code> ä¸­å°† <code>spring.application.name</code> çš„å€¼ä» <code>youlai-boot</code> ä¿®æ”¹ä¸º <code>wuhui-boot</code>ï¼›åœ¨ <code>pom.xml</code> ä¸­å°† <code>&lt;groupId&gt;</code> å€¼ä» <code>com.youlai</code> æ”¹ä¸º <code>com.wuhui</code></p>
</li>
<li>
<p>ä¿®æ”¹æ¥å£æ–‡æ¡£åŒ…è·¯å¾„ï¼Œå¦åˆ™æ¥å£æ–‡æ¡£ä¸æ˜¾ç¤ºæ¥å£æè¿°</p>
<p><code>application-*.yml</code> ä¿®æ”¹æ¥å£æ–‡æ¡£æ‰«æåŒ…è·¯å¾„</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20241229114630988.png" alt="" loading="lazy"></p>
</li>
<li>
<p>ä»£ç ç”Ÿæˆçš„é¡¹ç›®åç§°</p>
<p><code>codegen.yml</code> é‡Œä¿®æ”¹åç«¯é¡¹ç›®åç§° <code>codegen.backendAppName</code> æ›¿æ¢ youlai-boot ä¸º wuhui-boot</p>
</li>
</ul>
<h3 id="ä»£ç ç”Ÿæˆ">ä»£ç ç”Ÿæˆ</h3>
<p>è¿™é‡Œä»¥ä¼šå‘˜ç®¡ç†æ¨¡å—ä¸ºä¾‹ï¼Œæ¥è®²è§£å¦‚ä½•ç”Ÿæˆå‰åç«¯ä»£ç ä»¥åŠåœ¨é¡¹ç›®ä¸­æ–°å¢ä¸€ä¸ªæ¨¡å—æ—¶è‡ªåŠ¨ç”Ÿæˆèœå•è·¯ç”±ã€‚</p>
<h4 id="åˆ›å»ºæ•°æ®è¡¨">åˆ›å»ºæ•°æ®è¡¨</h4>
<p>åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œä»¥ä¸‹ SQL è„šæœ¬ä»¥åˆ›å»º <strong>ä¼šå‘˜ä¿¡æ¯è¡¨</strong>ï¼š</p>
<pre><code class="language-sql">CREATE TABLE `member` (
        `id` int NOT NULL AUTO_INCREMENT COMMENT 'ä¼šå‘˜ç¼–å·',
        `name` varchar(50)  DEFAULT NULL COMMENT 'ä¼šå‘˜å§“å',
        `mobile` varchar(20) DEFAULT NULL COMMENT 'ä¼šå‘˜æ‰‹æœºå·',
        `gender` tinyint DEFAULT NULL COMMENT 'æ€§åˆ«',
        `age` int DEFAULT NULL COMMENT 'ä¼šå‘˜å¹´é¾„',
        `create_time` timestamp NULL DEFAULT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
        `update_time` timestamp NULL DEFAULT NULL COMMENT 'æ›´æ–°æ—¶é—´',
        `is_deleted` tinyint(1) DEFAULT '0' COMMENT 'æ˜¯å¦åˆ é™¤(1:å·²åˆ é™¤;0:æœªåˆ é™¤)',
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='ä¼šå‘˜ä¿¡æ¯è¡¨';
</code></pre>
<h4 id="å¯åŠ¨é¡¹ç›®-2">å¯åŠ¨é¡¹ç›®</h4>
<ul>
<li>
<p><strong>å¯åŠ¨åç«¯é¡¹ç›®</strong>ï¼š<a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a>ã€‚</p>
</li>
<li>
<p><strong>å¯åŠ¨å‰ç«¯é¡¹ç›®</strong>ï¼š<a href="https://gitee.com/youlaiorg/vue3-element-admin" target="_blank" rel="noopener nofollow">vue3-element-admin</a>ã€‚</p>
<ul>
<li>åœ¨å¯åŠ¨å‰ç«¯é¡¹ç›®ä¹‹å‰ï¼Œéœ€è¦ä¿®æ”¹ <code>.env.development</code> æ–‡ä»¶ä¸­çš„æ¥å£åœ°å€ä¸ºæœ¬åœ°å¼€å‘ç¯å¢ƒçš„åç«¯æœåŠ¡åœ°å€ã€‚</li>
</ul>
</li>
</ul>
<h4 id="ç”Ÿæˆä»£ç ">ç”Ÿæˆä»£ç </h4>
<p><strong>è¿›å…¥å‰ç«¯é¡µé¢çš„ä»£ç ç”Ÿæˆå™¨</strong> åœ¨å‰ç«¯é¡¹ç›®ä¸­æ‰¾åˆ° <code>ä»£ç ç”Ÿæˆ</code> èœå•ï¼Œé€‰æ‹© <code>member</code> è¡¨ï¼Œç‚¹å‡»ç”Ÿæˆä»£ç ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/01/image-20250101154026661.png" alt="" loading="lazy"></p>
<p><strong>å¡«å†™åŸºç¡€é…ç½®ä¿¡æ¯</strong></p>
<ul>
<li><strong>ä¸šåŠ¡å</strong>ï¼šä¼šå‘˜ä¿¡æ¯</li>
<li><strong>ä¸»åŒ…å</strong>ï¼šcom.youlai.boot</li>
<li><strong>æ¨¡å—å</strong>ï¼šmember</li>
<li><strong>å®ä½“å</strong>ï¼šMember</li>
<li>å¦‚æœéœ€è¦è‡ªåŠ¨ç”Ÿæˆä¼šå‘˜æ¨¡å—çš„èœå•å’ŒæŒ‰é’®æƒé™ï¼Œè¯·é€‰æ‹©å¯¹åº”çš„ä¸Šçº§èœå•ã€‚</li>
</ul>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/01/image-20250101230553550.png" alt="" loading="lazy"></p>
<p><strong>é…ç½®å­—æ®µä¿¡æ¯</strong></p>
<ul>
<li>é…ç½®ç­›é€‰ã€åˆ—è¡¨å’Œè¡¨å•çš„å­—æ®µã€‚</li>
<li>å¯é€‰æ‹©å­—æ®µç±»å‹ï¼Œä¾‹å¦‚æ–‡æœ¬æ¡†ã€ä¸‹æ‹‰æ¡†ç­‰ã€‚</li>
<li>å¦‚æœå­—æ®µéœ€è¦å­—å…¸æ”¯æŒï¼Œå¯ä»¥é…ç½®å­—å…¸ä¿¡æ¯ã€‚</li>
</ul>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/02/image-20250102004837809.png" alt="" loading="lazy"></p>
<p><strong>åœ¨çº¿é¢„è§ˆå’Œä¸‹è½½ä»£ç </strong></p>
<ul>
<li>é…ç½®å®Œæˆåï¼Œå¯ä»¥åœ¨çº¿é¢„è§ˆç”Ÿæˆçš„å‰åç«¯ä»£ç ã€‚</li>
<li>ä¸‹è½½ç”Ÿæˆçš„ä»£ç å‹ç¼©åŒ…åˆ°æœ¬åœ°ã€‚</li>
</ul>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/01/image-20250101162925374.png" alt="" loading="lazy"></p>
<h4 id="é›†æˆä»£ç ">é›†æˆä»£ç </h4>
<p>ä¸‹è½½ä»£ç ï¼Œè§£å‹å¾—åˆ°å‰åç«¯ä»£ç </p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/01/image-20250101195557920.png" alt="" loading="lazy"></p>
<p><strong>åç«¯ä»£ç é›†æˆ</strong></p>
<ul>
<li>è§£å‹ä¸‹è½½çš„ä»£ç åŒ…ï¼Œå°†åç«¯ä»£ç å¤åˆ¶åˆ° <code>youlai-boot</code> é¡¹ç›®å¯¹åº”çš„ç›®å½•ä¸­ã€‚</li>
<li>ç¡®ä¿é¡¹ç›®é‡æ–°åŠ è½½æ–°ä»£ç ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„æ„å»ºå’Œå¯åŠ¨æ“ä½œã€‚</li>
</ul>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/01/PixPin_2025-01-01_23-34-38.gif" alt="" loading="lazy"></p>
<p><strong>å‰ç«¯ä»£ç é›†æˆ</strong></p>
<ul>
<li>åŒæ ·å°†å‰ç«¯ä»£ç å¤åˆ¶åˆ°å‰ç«¯é¡¹ç›®ä¸­å¯¹åº”çš„ç›®å½•ã€‚</li>
</ul>
<h4 id="åŠŸèƒ½æµ‹è¯•">åŠŸèƒ½æµ‹è¯•</h4>
<p>è¿›å…¥ <strong>è§’è‰²ç®¡ç†</strong> æ¨¡å—ï¼Œä¸ºå½“å‰ç”¨æˆ·çš„è§’è‰²åˆ†é…æ–°ç”Ÿæˆçš„ <strong>ä¼šå‘˜ç®¡ç†</strong> èœå•æƒé™ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/01/image-20250101234621001.png" alt="" loading="lazy"></p>
<p>å‹¾é€‰èœå•ä¸­çš„ <strong>ä¼šå‘˜ä¿¡æ¯</strong> é€‰é¡¹ã€‚å®Œæˆæƒé™åˆ†é…åï¼Œåˆ·æ–°é¡µé¢ã€‚å¦‚æœå·¦ä¾§èœå•æ æœªæ˜¾ç¤º <strong>ä¼šå‘˜ä¿¡æ¯</strong> èœå•ï¼Œè¯·å°è¯•é‡æ–°ç™»å½•ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/01/image-20250101235252287.png" alt="" loading="lazy"></p>
<p>è¿›å…¥ <strong>ä¼šå‘˜ç®¡ç†</strong> æ¨¡å—ï¼Œæ–°å¢ä¼šå‘˜ä¿¡æ¯ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/02/image-20250102005025892.png" alt="" loading="lazy"></p>
<p>æ–°å¢æˆåŠŸåï¼Œåœ¨ä¼šå‘˜åˆ—è¡¨ä¸­å¯ä»¥æŸ¥çœ‹åˆ°åˆšæ·»åŠ çš„ä¼šå‘˜æ•°æ®ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/02/image-20250102010855745.png" alt="" loading="lazy"></p>
<h3 id="æ¥å£æ–‡æ¡£">æ¥å£æ–‡æ¡£</h3>
<p>æ¥å£æ–‡æ¡£çš„è®¿é—®è·¯å¾„ä¸º <strong>åº”ç”¨åœ°å€/doc.html</strong>ã€‚åœ¨æœ¬åœ°ç¯å¢ƒä¸­ï¼Œyouai-boot é¡¹ç›®çš„æ¥å£æ–‡æ¡£åœ°å€ä¸ºï¼š<a href="http://localhost:8989/doc.html%E3%80%82" target="_blank" rel="noopener nofollow">http://localhost:8989/doc.htmlã€‚</a></p>
<h4 id="ç™»å½•æ¥å£">ç™»å½•æ¥å£</h4>
<p>ç”±äºå¤§éƒ¨åˆ†æ¥å£éœ€è¦è®¿é—®ä»¤ç‰Œï¼ˆTokenï¼‰è¿›è¡Œèº«ä»½è®¤è¯ï¼Œç™»å½•æ¥å£æ˜¯ä½¿ç”¨æ¥å£æ–‡æ¡£çš„åŸºç¡€ã€‚é€šè¿‡ç™»å½•æ¥å£è·å–æˆåŠŸè¿”å›çš„è®¿é—®ä»¤ç‰Œåï¼Œå¯ä»¥å°†å…¶è®¾ç½®åˆ°æ¥å£æ–‡æ¡£çš„å…¨å±€å˜é‡ä¸­ï¼Œæ–¹ä¾¿åç»­æ¥å£çš„æµ‹è¯•ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/11/image-20250111003635179.png" alt="ç™»å½•æ¥å£" loading="lazy"></p>
<h4 id="è®¾ç½®å…¨å±€-token">è®¾ç½®å…¨å±€ Token</h4>
<p>å°†ç™»å½•æ¥å£è¿”å›çš„è®¿é—®ä»¤ç‰Œè®¾ç½®ä¸ºå…¨å±€å˜é‡ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼šåœ¨æ¥å£æ–‡æ¡£å³ä¸Šè§’æ‰¾åˆ°å…¨å±€å˜é‡é…ç½®é€‰é¡¹ï¼Œè¾“å…¥ä»¤ç‰Œå€¼åä¿å­˜ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/11/image-20250111003840987.png" alt="è®¾ç½®å…¨å±€ Token" loading="lazy"></p>
<h4 id="æ¥å£æµ‹è¯•">æ¥å£æµ‹è¯•</h4>
<p>è®¾ç½®å¥½å…¨å±€è®¿é—®ä»¤ç‰Œåï¼Œæ‰“å¼€å…¶ä»–æ¥å£æ—¶ä¼šå‘ç°ä»¤ç‰Œå·²è‡ªåŠ¨å¡«å……ï¼Œæ— éœ€æ‰‹åŠ¨ä¸ºæ¯ä¸ªæ¥å£å•ç‹¬è®¾ç½®ä»¤ç‰Œï¼Œæå¤§ç®€åŒ–äº†æµ‹è¯•æµç¨‹ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/11/image-20250111003956347.png" alt="" loading="lazy"></p>
<h3 id="å®šæ—¶ä»»åŠ¡">å®šæ—¶ä»»åŠ¡</h3>
<p>åœ¨ä¹‹å‰çš„ <strong>åˆ‡æ¢æœ¬åœ°ç¯å¢ƒ</strong> å’Œ <strong>å®‰è£…ä¸­é—´ä»¶</strong> éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ Docker Compose ä¸€é”®å®‰è£…äº† XXL-JOBã€‚æœ¬èŠ‚ä¸»è¦ä»‹ç»å¦‚ä½•é…ç½®å’Œä½¿ç”¨ XXL-JOBã€‚å¦‚æœæ‚¨å°šæœªå®‰è£… XXL-JOBï¼Œæˆ–è€…éœ€è¦ä»é›¶å¼€å§‹äº†è§£å®‰è£…è¿‡ç¨‹ï¼Œè¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://youlai.blog.csdn.net/article/details/134159913" target="_blank" rel="noopener nofollow">Spring Boot 3 æ•´åˆ XXL-JOB å®ç°åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡è°ƒåº¦</a>ã€‚</p>
<p>XXL-JOB åŒ…å«ä¸¤ä¸ªä¸»è¦è§’è‰²ï¼š<strong>è°ƒåº¦å™¨</strong> å’Œ <strong>æ‰§è¡Œå™¨</strong>ã€‚è°ƒåº¦å™¨æ˜¯æœåŠ¡ç«¯ï¼Œç”¨äºç®¡ç†ä»»åŠ¡è°ƒåº¦ï¼›æ‰§è¡Œå™¨æ˜¯åº”ç”¨ç«¯ï¼Œç”¨äºæ‰§è¡Œä»»åŠ¡çš„å…·ä½“é€»è¾‘ã€‚</p>
<ul>
<li><code>XXL-JOB</code> æ§åˆ¶å°åœ°å€ï¼š <a href="http://localhost:8080/xxl-job-admin" target="_blank" rel="noopener nofollow">http://localhost:8080/xxl-job-admin</a></li>
<li>ç”¨æˆ·å/å¯†ç ï¼š admin/123456</li>
</ul>
<p><img src="https://www.youlai.tech/storage/blog/image-20250114103049630.png" alt="XXL-JOB æ§åˆ¶å°" loading="lazy"></p>
<h4 id="ä¿®æ”¹é…ç½®">ä¿®æ”¹é…ç½®</h4>
<p>XXL-JOB çš„å®šæ—¶ä»»åŠ¡é»˜è®¤æ˜¯å…³é—­çš„ã€‚è¯·æ ¹æ®ä¸‹å›¾ä¿®æ”¹é…ç½®ï¼š</p>
<ol>
<li>å°† <code>xxl.job.enabled</code> è®¾ç½®ä¸º <code>true</code>ã€‚</li>
<li>è°ƒæ•´è°ƒåº¦ä¸­å¿ƒåœ°å€ä¸ºå®é™…å®‰è£…åœ°å€ï¼Œå…¶å®ƒé…ç½®å¯ä¿æŒé»˜è®¤ã€‚</li>
</ol>
<p><img src="https://www.youlai.tech/storage/blog/image-20241227155953883.png" alt="" loading="lazy"></p>
<h4 id="æ·»åŠ æ‰§è¡Œå™¨">æ·»åŠ æ‰§è¡Œå™¨</h4>
<p>åœ¨ <code>application-dev.yml</code> ä¸­ï¼Œæ‰§è¡Œå™¨çš„åº”ç”¨åç§° (<code>xxl.job.executor.appname</code>) é»˜è®¤é…ç½®ä¸ºï¼š<br>
<code>xxl-job-executor-${spring.application.name}</code>ï¼Œå…¶ä¸­ <code>${spring.application.name}</code> ä¼šè§£æä¸ºå½“å‰åº”ç”¨åç§°ã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>youlai-boot</code> é¡¹ç›®ä¸­ï¼Œ<code>appname</code> å°†è§£æä¸º <code>xxl-job-executor-youlai-boot</code>ã€‚</p>
<p><strong>æ“ä½œæ­¥éª¤</strong>ï¼š</p>
<ol>
<li>
<p>åœ¨ XXL-JOB æ§åˆ¶å°ä¸­ï¼Œæ·»åŠ æ‰§è¡Œå™¨ï¼Œ<code>appname</code> é…ç½®ä¸º <code>xxl-job-executor-youlai-boot</code>ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250114124557381.png" alt="" loading="lazy"></p>
</li>
<li>
<p>å› ä¸ºé‡‡ç”¨çš„æ˜¯<strong>è‡ªåŠ¨æ³¨å†Œ</strong>æ–¹å¼ï¼Œé‡å¯ <code>youlai-boot</code> åº”ç”¨åï¼Œå†åˆ·æ–°æ‰§è¡Œå™¨åˆ—è¡¨ï¼Œå¯ä»¥çœ‹åˆ°æœºå™¨å·²æˆåŠŸæ³¨å†Œã€‚<img src="https://www.youlai.tech/storage/blog/image-20250114125114677.png" alt="" loading="lazy"></p>
</li>
</ol>
<h4 id="æ·»åŠ ä»»åŠ¡">æ·»åŠ ä»»åŠ¡</h4>
<p>åœ¨ <code>youlai-boot</code> åº”ç”¨ä¸­ï¼Œæ·»åŠ ä»»åŠ¡æ‰§è¡Œé€»è¾‘ã€‚ä»¥ä¸‹æ˜¯ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="language-java">package com.youlai.boot.system.handler;

/**
 * xxl-job æµ‹è¯•ç¤ºä¾‹ï¼ˆBeanæ¨¡å¼ï¼‰
 */
@Component
@Slf4j
public class XxlJobSampleHandler {

    @XxlJob("demoJobHandler")
    public void demoJobHandler() {
        log.info("XXL-JOB, Hello World.");
    }
    
}
</code></pre>
<p><strong>é…ç½®ä»»åŠ¡</strong>ï¼š</p>
<ol>
<li>åœ¨ XXL-JOB æ§åˆ¶å°ä¸­ï¼Œè¿›å…¥â€œä»»åŠ¡ç®¡ç†â€é¡µé¢ï¼Œé€‰æ‹©æ–°å¢ä»»åŠ¡ã€‚</li>
<li>é€‰æ‹©åˆšåˆšåˆ›å»ºçš„ <code>youlai-boot</code> åº”ç”¨å¯¹åº”çš„<strong>æ‰§è¡Œå™¨</strong>ã€‚</li>
<li>é…ç½® Cron è¡¨è¾¾å¼æ¥è®¾å®šä»»åŠ¡æ‰§è¡Œæ—¶é—´å’Œé¢‘ç‡ã€‚</li>
<li>è®¾ç½®ä»»åŠ¡æ¨¡å¼ä¸º <strong>Bean æ¨¡å¼</strong>ï¼Œè°ƒç”¨ Spring å®¹å™¨ä¸­çš„ Beanï¼Œå…¶ä¸­ Bean åç§°ä¸º <code>@XxlJob("demoJobHandler")</code> ä¸­å®šä¹‰çš„ <code>demoJobHandler</code>ã€‚</li>
</ol>
<p><img src="https://www.youlai.tech/storage/blog/image-20250114134053154.png" alt="é…ç½®ä»»åŠ¡" loading="lazy"></p>
<h4 id="å®šæ—¶ä»»åŠ¡æµ‹è¯•">å®šæ—¶ä»»åŠ¡æµ‹è¯•</h4>
<p>ä»»åŠ¡åˆ›å»ºå®Œæˆåï¼Œå¯ä»¥åœ¨â€œæ“ä½œâ€åˆ—ä¸­é€‰æ‹©<strong>å¯åŠ¨</strong>è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š<br>
è°ƒåº¦å™¨å’Œæ‰§è¡Œå™¨éœ€è¦åœ¨ç½‘ç»œä¸Šäº’é€šã€‚å¦‚æœè°ƒåº¦å™¨éƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸Šï¼Œè€Œæ‰§è¡Œå™¨è¿è¡Œåœ¨æœ¬åœ°ï¼Œåˆ™æ— æ³•æ­£å¸¸è¿è¡Œã€‚å»ºè®®å°†åº”ç”¨ä¹Ÿéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250114151007837.png" alt="" loading="lazy"></p>
<p>å¯åŠ¨ä»»åŠ¡åï¼Œå¯ä»¥æŸ¥çœ‹åº”ç”¨æ§åˆ¶å°æ—¥å¿—ï¼ŒéªŒè¯ä»»åŠ¡æ˜¯å¦æ­£ç¡®æ‰§è¡Œã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250114151336195.png" alt="" loading="lazy"></p>
<h3 id="æ–‡ä»¶ä¸Šä¼ ">æ–‡ä»¶ä¸Šä¼ </h3>
<p><a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a> ç›®å‰æ”¯æŒ <code>MinIO</code>ã€é˜¿é‡Œäº‘ä»¥åŠæœ¬åœ°æ–‡ä»¶å­˜å‚¨æ–¹å¼ã€‚ä»¥ä¸‹ä»¥å¸¸ç”¨çš„ MinIO ä¸ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€‚</p>
<h4 id="åˆ›å»ºå­˜å‚¨æ¡¶">åˆ›å»ºå­˜å‚¨æ¡¶</h4>
<p>åœ¨ä¸Šä¸€ç« èŠ‚ <strong>åˆ‡æ¢æœ¬åœ°ç¯å¢ƒ</strong> å’Œ <strong>å®‰è£…ä¸­é—´ä»¶</strong> ä¸­ï¼Œæˆ‘ä»¬å·²é€šè¿‡ Docker Compose å¿«é€Ÿå®‰è£…äº† MinIOã€‚å¦‚æœå°šæœªå®‰è£…ï¼Œå¯å‚è€ƒï¼š<a href="https://youlai.blog.csdn.net/article/details/130439396" target="_blank" rel="noopener nofollow">Docker éƒ¨ç½² MinIO å¯¹è±¡å­˜å‚¨ç³»ç»Ÿ</a>ã€‚</p>
<ul>
<li><strong>MinIO æ§åˆ¶å°åœ°å€</strong>ï¼š<a href="http://localhost:9090/" target="_blank" rel="noopener nofollow">http://localhost:9090/</a></li>
<li><strong>é»˜è®¤ç”¨æˆ·å/å¯†ç </strong>ï¼š<code>minioadmin</code>/<code>minioadmin</code></li>
</ul>
<p>ç™»å½•æ§åˆ¶å°ï¼Œè®¿é—® <a href="http://localhost:9090/buckets/add-bucket" target="_blank" rel="noopener nofollow">http://localhost:9090/buckets/add-bucket</a> é¡µé¢ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>youlai</code> çš„å­˜å‚¨æ¡¶ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/10/image-20250110224601121.png" alt="youlai minio bucket" loading="lazy"></p>
<p>è®¾ç½®å­˜å‚¨æ¡¶çš„è®¿é—®æƒé™ï¼ˆ<strong>Access Policy</strong>ï¼‰ä¸º <strong>public</strong>ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/10/20250110224924.gif" alt="youlai minio bucket access policy" loading="lazy"></p>
<h4 id="ä¿®æ”¹åº”ç”¨é…ç½®">ä¿®æ”¹åº”ç”¨é…ç½®</h4>
<p>æ‰“å¼€é¡¹ç›®çš„ <code>application-dev.yml</code> æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶å­˜å‚¨ç›¸å…³å‚æ•°ï¼š</p>
<ul>
<li>æŒ‡å®š <code>oss.type</code> ä¸º <code>minio</code></li>
<li>è®¾ç½®æœåŠ¡åœ°å€ä¸º <a href="http://localhost:9000" target="_blank" rel="noopener nofollow">http://localhost:9000</a></li>
<li>ä½¿ç”¨é»˜è®¤è®¿é—®å‡­æ®ï¼šç”¨æˆ·å <code>minioadmin</code>ï¼Œè®¿é—®å¯†é’¥ <code>minioadmin</code></li>
<li>å­˜å‚¨æ¡¶åç§°ä¸º <code>youlai</code>ï¼ˆå‰æ–‡åˆ›å»ºçš„å­˜å‚¨æ¡¶ï¼‰</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/10/image-20250110232006970.png" alt="" loading="lazy"></p>
<h4 id="æ–‡ä»¶ä¸Šä¼ æµ‹è¯•">æ–‡ä»¶ä¸Šä¼ æµ‹è¯•</h4>
<p>å¯åŠ¨é¡¹ç›®åï¼Œè®¿é—®æ¥å£æ–‡æ¡£ <a href="http://localhost:8989/doc.html%E3%80%82%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%8E%A5%E5%8F%A3%EF%BC%8C%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%90%8E%E4%BC%9A%E8%BF%94%E5%9B%9E%E5%AF%B9%E5%BA%94%E7%9A%84%E6%96%87%E4%BB%B6" target="_blank" rel="noopener nofollow">http://localhost:8989/doc.htmlã€‚é€‰æ‹©æ–‡ä»¶ä¸Šä¼ æ¥å£ï¼Œä¸Šä¼ æ–‡ä»¶åä¼šè¿”å›å¯¹åº”çš„æ–‡ä»¶</a> URLã€‚å°†è¿”å›çš„ URL ç²˜è´´åˆ°æµè§ˆå™¨ä¸­ï¼Œå³å¯é¢„è§ˆä¸Šä¼ çš„æ–‡ä»¶ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/11/image-20250111004334134.png" alt="" loading="lazy"></p>
<h2 id="é¡¹ç›®åŠŸèƒ½">é¡¹ç›®åŠŸèƒ½</h2>
<h3 id="æ•°æ®æƒé™">æ•°æ®æƒé™</h3>
<p>ä¸ºäº†å®ç°å¤šç§Ÿæˆ·å’Œæƒé™æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ MyBatis-Plus è‡ªå®šä¹‰æ•°æ®æƒé™æ³¨è§£å’Œå¤„ç†å™¨ï¼ŒåŠ¨æ€è¿‡æ»¤æ•°æ®ã€‚ä»¥ä¸‹æ˜¯å®ç°æ–¹å¼ï¼š</p>
<h4 id="å®ç°åŸç†">å®ç°åŸç†</h4>
<p>é€šè¿‡è‡ªå®šä¹‰æ‹¦æˆªå™¨å®ç° <code>DataPermissionHandler</code> æ¥å£ã€‚åœ¨ youlai-boot ä¸­ï¼Œ<code>MyDataPermissionHandler</code> æ˜¯å…¶å…·ä½“å®ç°ç±»ï¼Œç”¨äºåœ¨ SQL æ‰§è¡Œå‰åŠ¨æ€æ‹¼æ¥æƒé™è¿‡æ»¤æ¡ä»¶ã€‚<br>
å¤„ç†é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>è·å–ç”¨æˆ·æƒé™èŒƒå›´ï¼ˆå¦‚éƒ¨é—¨æˆ–ç”¨æˆ·ï¼‰ã€‚</li>
<li>åŠ¨æ€ç”Ÿæˆç­›é€‰æ¡ä»¶ï¼šå¦‚éƒ¨é—¨åŠä»¥ä¸‹çš„ <code>dept_id IN (...)</code> æˆ–ä¸ªäººåˆ›å»ºçš„ <code>create_by = ...</code>ã€‚</li>
<li>å°†æ¡ä»¶è¿½åŠ åˆ°åŸå§‹ SQL çš„ <code>WHERE</code> å­å¥ã€‚</li>
</ul>
<h4 id="ä½¿ç”¨ç¤ºä¾‹">ä½¿ç”¨ç¤ºä¾‹</h4>
<p>åœ¨æ•°æ®æŒä¹…å±‚çš„æ–¹æ³•ä¸­ï¼Œå¦‚æœéœ€è¦å®ç°æ•°æ®æƒé™æ§åˆ¶ï¼Œå¯ä»¥ç›´æ¥åœ¨æ–¹æ³•ä¸Šæ·»åŠ  <code>@DataPermission</code> æ³¨è§£ã€‚</p>
<p><strong>UserMapper.java</strong></p>
<pre><code class="language-java">@Mapper
public interface UserMapper {

    @DataPermission(
        deptAlias = "u", // éƒ¨é—¨å­—æ®µçš„è¡¨åˆ«åï¼Œç”¨äºæ ‡è®° SQL ä¸­éƒ¨é—¨å­—æ®µçš„æ¥æºè¡¨
        deptIdColumnName = "dept_id", // éƒ¨é—¨å­—æ®µçš„åˆ—åï¼Œé»˜è®¤ä¸º dept_id
        userAlias = "u", // ç”¨æˆ·å­—æ®µçš„è¡¨åˆ«åï¼Œç”¨äºæ ‡è®° SQL ä¸­ç”¨æˆ·å­—æ®µçš„æ¥æºè¡¨
        userIdColumnName = "create_by" // ç”¨æˆ·å­—æ®µçš„åˆ—åï¼Œé»˜è®¤ä¸º create_by
    )
    Page&lt;UserBO&gt; getUserPage(Page&lt;UserBO&gt; page, UserPageQuery queryParams);
}
</code></pre>
<p><strong>UserMapper.xml</strong></p>
<pre><code class="language-xml">&lt;select id="getUserPage"&gt;
    SELECT
        u.id,
        u.username,
        u.nickname,
        u.dept_id
    FROM
        sys_user u
    WHERE
        u.is_deleted = 0
&lt;/select&gt;
</code></pre>
<p>åŠ¨æ€ SQL ç¤ºä¾‹ï¼š</p>
<ul>
<li>
<p><strong>æƒé™èŒƒå›´ï¼šéƒ¨é—¨åŠä»¥ä¸‹</strong></p>
<pre><code class="language-sql">SELECT u.id, u.username, u.nickname, u.dept_id 
FROM sys_user u 
WHERE u.is_deleted = 0 
  AND u.dept_id IN (SELECT id FROM sys_dept WHERE id = 3 OR FIND_IN_SET(3, tree_path));
</code></pre>
<p>å…¶ä¸­<code>AND u.dept_id IN (SELECT id FROM sys_dept WHERE id = 3 OR FIND_IN_SET(3, tree_path))</code>æ˜¯ <code>MyDataPermissionHandler</code> æ ¹æ®ç”¨æˆ·æƒé™ä¸ºâ€œéƒ¨é—¨åŠä»¥ä¸‹â€åŠ¨æ€è¿½åŠ çš„ç­›é€‰æ¡ä»¶ã€‚</p>
</li>
<li>
<p><strong>æƒé™èŒƒå›´ï¼šæœ¬äººåˆ›å»º</strong></p>
<pre><code class="language-sql">SELECT u.id, u.username, u.nickname, u.dept_id 
FROM sys_user u 
WHERE u.is_deleted = 0 
  AND u.create_by = 2;
</code></pre>
<p>å…¶ä¸­ï¼š<code>AND u.create_by = 2</code>æ˜¯ <code>MyDataPermissionHandler</code> æ ¹æ®ç”¨æˆ·æƒé™ä¸ºâ€œæœ¬äººåˆ›å»ºâ€åŠ¨æ€è¿½åŠ çš„ç­›é€‰æ¡ä»¶ã€‚</p>
</li>
</ul>
<h3 id="é˜²é‡æäº¤">é˜²é‡æäº¤</h3>
<p>ä¸ºé˜²æ­¢ç”¨æˆ·åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡æäº¤ç›¸åŒè¯·æ±‚ï¼Œç³»ç»Ÿæä¾›äº†é˜²é‡å¤æäº¤åŠŸèƒ½ã€‚é€šè¿‡ç®€å•çš„æ³¨è§£é…ç½®ï¼Œå³å¯å®ç°æ­¤åŠŸèƒ½ã€‚</p>
<h4 id="ä½¿ç”¨é˜²é‡æäº¤">ä½¿ç”¨é˜²é‡æäº¤</h4>
<p>åœ¨éœ€è¦é˜²é‡å¤æäº¤çš„æ¥å£ä¸Šæ·»åŠ  <code>@RepeatSubmit</code> æ³¨è§£å³å¯ã€‚é€šè¿‡æ³¨è§£å‚æ•° <code>expire</code>ï¼Œå¯ä»¥çµæ´»æ§åˆ¶é‡å¤æäº¤çš„æ—¶é—´é—´éš”ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚å¦‚æœä¸è®¾ç½®ï¼Œé»˜è®¤æ—¶é—´ä¸º 5 ç§’ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-java">@Operation(summary = "æ–°å¢ç”¨æˆ·")
@PostMapping
@RepeatSubmit(expire = 3) // 3 ç§’å†…ç¦æ­¢é‡å¤æäº¤
public Result&lt;?&gt; saveUser(
    @RequestBody @Valid UserForm userForm
) {
    // TODO æ–°å¢ç”¨æˆ·é€»è¾‘
    return Result.success();
}
</code></pre>
<hr>
<h4 id="æµ‹è¯•é˜²é‡æäº¤">æµ‹è¯•é˜²é‡æäº¤</h4>
<p>æ¨¡æ‹ŸçŸ­æ—¶é—´å†…çš„å¤šæ¬¡è¯·æ±‚æ¥éªŒè¯é˜²é‡å¤æäº¤æ•ˆæœã€‚ä¾‹å¦‚ï¼Œé¢‘ç¹è°ƒç”¨æ–°å¢ç”¨æˆ·æ¥å£ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æµ‹è¯•è¯·æ±‚çš„æ•ˆæœæ¼”ç¤ºï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/20250107165213.gif" alt="" loading="lazy"></p>
<p>é€šè¿‡ç®€å•é…ç½®ï¼Œå³å¯æœ‰æ•ˆé˜²æ­¢é‡å¤æäº¤ï¼Œç¡®ä¿æ¥å£çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚</p>
<h3 id="ip-é™æµ">IP é™æµ</h3>
<p>ä¸ºé˜²æ­¢æ¥å£è¢«æ¶æ„åˆ·å–ï¼Œç³»ç»Ÿå†…ç½®äº† IP é™æµæœºåˆ¶ã€‚å½“åŒä¸€ IP åœ¨å•ä½æ—¶é—´å†…çš„è¯·æ±‚æ¬¡æ•°è¶…è¿‡é™åˆ¶æ—¶ï¼Œç³»ç»Ÿå°†å¯¹è¯¥ IP è¿›è¡Œè®¿é—®é™åˆ¶ã€‚</p>
<h4 id="é…ç½®-qps">é…ç½® QPS</h4>
<p>å¯é€šè¿‡è®¿é—®ç®¡ç†åå°çš„ <strong>ç³»ç»Ÿç®¡ç† â†’ ç³»ç»Ÿé…ç½®</strong> èœå•è®¾ç½® QPS é˜ˆå€¼ï¼ˆå•ä½æ—¶é—´æœ€å¤§è¯·æ±‚æ•°ï¼‰ã€‚</p>
<ul>
<li>è‹¥æœªé…ç½®æˆ–ç¦ç”¨è¯¥é€‰é¡¹ï¼Œåˆ™è¡¨ç¤ºå…³é—­ <code> IP</code>  é™æµåŠŸèƒ½ã€‚</li>
</ul>
<p><img src="https://www.youlai.tech/storage/blog/image-20250114163544114.png" alt="" loading="lazy"></p>
<h4 id="é™æµæµ‹è¯•">é™æµæµ‹è¯•</h4>
<p>ä»¥ä¸‹ä¸ºæ¨¡æ‹Ÿæµ‹è¯•ï¼š20 ä¸ªçº¿ç¨‹åŒæ—¶å‘èµ·è¯·æ±‚ï¼Œå½“ QPS é…ç½®ä¸º 10 æ—¶ï¼Œéƒ¨åˆ†è¯·æ±‚å°†å› é™æµè€Œå¤±è´¥ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250114173151013.png" alt="" loading="lazy"></p>
<p>éƒ¨åˆ†å¤±è´¥çš„è¯·æ±‚å¦‚ä¸‹æ‰€ç¤ºï¼š<br>
<img src="https://www.youlai.tech/storage/blog/image-20250114173526680.png" alt="" loading="lazy"></p>
<h2 id="é¡¹ç›®æ‰©å±•">é¡¹ç›®æ‰©å±•</h2>
<h3 id="å¤šæ•°æ®æºæ”¯æŒ">å¤šæ•°æ®æºæ”¯æŒ</h3>
<p>éšç€ä¸šåŠ¡çš„å¤æ‚æ€§å¢åŠ ï¼Œå•ä¸€æ•°æ®æºå¯èƒ½æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œä¾‹å¦‚è¯»å†™åˆ†ç¦»ã€å¤šç§Ÿæˆ·ç‹¬ç«‹æ•°æ®åº“æˆ–ç‹¬ç«‹ Schema æ¨¡å¼ç­‰ã€‚æœ¬èŠ‚ä»‹ç»å¦‚ä½•åŸºäº <a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a> ä½¿ç”¨ <code>dynamic-datasource</code> è½»æ¾å®ç°å¤šæ•°æ®æºæ”¯æŒã€‚è¯¦ç»†å†…å®¹è¯·å‚è€ƒï¼š<a href="https://youlai.blog.csdn.net/article/details/134888348" target="_blank" rel="noopener nofollow">Spring Boot3 å¤šæ•°æ®æº</a>ã€‚<a href="https://youlai.blog.csdn.net/article/details/134888348" target="_blank" rel="noopener nofollow">https://youlai.blog.csdn.net/article/details/134888348</a>)</p>
<h4 id="æ·»åŠ ä¾èµ–">æ·»åŠ ä¾èµ–</h4>
<p>åœ¨ <code>pom.xml</code> ä¸­æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;dynamic-datasource-spring-boot3-starter&lt;/artifactId&gt;
    &lt;version&gt;4.3.1&lt;/version&gt;
&lt;/dependency&gt;

</code></pre>
<h4 id="é…ç½®å¤šæ•°æ®æº">é…ç½®å¤šæ•°æ®æº</h4>
<p>ä¿®æ”¹ <code>application-dev.yml</code> æ–‡ä»¶ï¼Œé…ç½®ä¸»åº“å’Œä»åº“çš„æ•°æ®æºï¼š</p>
<pre><code class="language-yaml">spring:
  datasource:
    dynamic:
      primary: master # è®¾ç½®é»˜è®¤æ•°æ®æº
      strict: false # æ•°æ®æºæ‰¾ä¸åˆ°æ—¶æ˜¯å¦æŠ›å‡ºå¼‚å¸¸
      datasource:
        master: # ä¸»åº“
          type: com.alibaba.druid.pool.DruidDataSource
          url: jdbc:mysql://localhost:3306/youlai_boot?zeroDateTimeBehavior=convertToNull&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai&amp;autoReconnect=true&amp;allowMultiQueries=true
          username: root
          password: 123456
        slave: # ä»åº“
          type: com.alibaba.druid.pool.DruidDataSource
          url: jdbc:mysql://localhost:3306/youlai_boot_salve?zeroDateTimeBehavior=convertToNull&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai&amp;autoReconnect=true&amp;allowMultiQueries=true
          username: root
          password: 123456

</code></pre>
<h4 id="å¤šæ•°æ®æºæµ‹è¯•">å¤šæ•°æ®æºæµ‹è¯•</h4>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<ul>
<li><strong>Mapper å±‚</strong>ï¼šé€šè¿‡æ³¨è§£ <code>@DS</code> æŒ‡å®šä½¿ç”¨çš„æ•°æ®æºã€‚</li>
</ul>
<pre><code class="language-java">/**
 * ä¸»åº“æŸ¥è¯¢
 */
@DS("master")
@Select("select * from sys_user where id = #{userId}")
SysUser getUserFromMaster(Long userId);

/**
 * ä»åº“æŸ¥è¯¢
 */
@DS("slave")
@Select("select * from sys_user where id = #{userId}")
SysUser getUserFromSlave(Long userId);

</code></pre>
<ul>
<li><strong>å•å…ƒæµ‹è¯•ç±»</strong>ï¼š</li>
</ul>
<pre><code class="language-java">@SpringBootTest
@Slf4j
class SysUserMapperTest {

    @Autowired
    private SysUserMapper userMapper;

    private final Long userId = 1L;

    @Test
    void testSwitchDataSourceByAnnotation() {
        SysUser masterUser = userMapper.getUserFromMaster(userId);
        log.info("ç”¨æˆ·IDï¼š{} ä¸»åº“å§“åï¼š{}", userId, masterUser.getNickname());
        SysUser slaveUser = userMapper.getUserFromSlave(userId);
        log.info("ç”¨æˆ·IDï¼š{} ä»åº“å§“åï¼š{}", userId, slaveUser.getNickname());
    }
}

</code></pre>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/1e2e563aa0810deb65258404c94d0a37.png" alt="" loading="lazy"></p>
<h3 id="ç™»å½•æ–¹å¼æ‰©å±•">ç™»å½•æ–¹å¼æ‰©å±•</h3>
<p>ä»¥ä¸‹å°†ä»¥çŸ­ä¿¡éªŒè¯ç ç™»å½•è¿™ä¸ªå¸¸è§åœºæ™¯ä¸ºä¾‹ï¼Œè¯¦ç»†è¯´æ˜å¦‚ä½•æ‰©å±• Spring Security çš„è®¤è¯æœºåˆ¶ã€‚</p>
<h4 id="è‡ªå®šä¹‰è®¤è¯-token">è‡ªå®šä¹‰è®¤è¯ Token</h4>
<p><code>SmsAuthenticationToken</code> ç»§æ‰¿è‡ª <code>AbstractAuthenticationToken</code>ï¼Œé€šè¿‡ç­–ç•¥æ¨¡å¼ç”± <code>AuthenticationManager</code> æ ¹æ®è¯¥ token ç±»å‹åŒ¹é…ç›¸åº”çš„ Provider è¿›è¡Œè®¤è¯ï¼Œå…¶ä¸­ Provider è´Ÿè´£å…·ä½“çš„éªŒè¯é€»è¾‘ã€‚</p>
<pre><code class="language-java">/**
 * çŸ­ä¿¡éªŒè¯ç è®¤è¯ Token
 *
 * @author youlai
 */
public class SmsAuthenticationToken extends AbstractAuthenticationToken {
    @Serial
    private static final long serialVersionUID = 621L;

    /**
     * è®¤è¯ä¿¡æ¯ (æ‰‹æœºå·)
     */
    private final Object principal;

    /**
     * å‡­è¯ä¿¡æ¯ (çŸ­ä¿¡éªŒè¯ç )
     */
    private final Object credentials;

    /**
     * çŸ­ä¿¡éªŒè¯ç è®¤è¯ Token (æœªè®¤è¯)
     *
     * @param principal å¾®ä¿¡ç”¨æˆ·ä¿¡æ¯
     */
    public SmsAuthenticationToken(Object principal, Object credentials) {
        super(null);
        this.principal = principal;
        this.credentials = credentials;
        this.setAuthenticated(false);
    }

    /**
     * çŸ­ä¿¡éªŒè¯ç è®¤è¯ Token (å·²è®¤è¯)
     *
     * @param principal   ç”¨æˆ·ä¿¡æ¯
     * @param authorities æˆæƒä¿¡æ¯
     */
    public SmsAuthenticationToken(Object principal, Collection&lt;? extends GrantedAuthority&gt; authorities) {
        super(authorities);
        this.principal = principal;
        this.credentials = null;
        // è®¤è¯é€šè¿‡
        super.setAuthenticated(true);
    }


    /**
     * è®¤è¯é€šè¿‡
     *
     * @param principal   ç”¨æˆ·ä¿¡æ¯
     * @param authorities æˆæƒä¿¡æ¯
     * @return SmsAuthenticationToken
     */
    public static SmsAuthenticationToken authenticated(Object principal, Collection&lt;? extends GrantedAuthority&gt; authorities) {
        return new SmsAuthenticationToken(principal, authorities);
    }

    @Override
    public Object getCredentials() {
        return this.credentials;
    }

    @Override
    public Object getPrincipal() {
        return this.principal;
    }
}

</code></pre>
<h4 id="è‡ªå®šä¹‰è®¤è¯-provider">è‡ªå®šä¹‰è®¤è¯ Provider</h4>
<p>Provider çš„ä¸»è¦åŠŸèƒ½æ˜¯æ‰§è¡ŒéªŒè¯é€»è¾‘ã€‚åœ¨çŸ­ä¿¡éªŒè¯ç ç™»å½•ä¸­ï¼Œæ ¸å¿ƒä»»åŠ¡æ˜¯æ ¡éªŒéªŒè¯ç æ˜¯å¦æ­£ç¡®ã€‚<code>SmsAuthenticationProvider</code> ä¸“é—¨è´Ÿè´£å¤„ç†çŸ­ä¿¡éªŒè¯ç çš„æ ¡éªŒé€»è¾‘ï¼Œç¡®ä¿ç™»å½•æµç¨‹çš„å®‰å…¨æ€§å’Œå‡†ç¡®æ€§ã€‚</p>
<pre><code class="language-java">/**
 * çŸ­ä¿¡éªŒè¯ç è®¤è¯ Provider
 *
 * @author youlai
 */
@Slf4j
public class SmsAuthenticationProvider implements AuthenticationProvider {

    private final UserService userService;

    private final RedisTemplate&lt;String, Object&gt; redisTemplate;


    public SmsAuthenticationProvider(UserService userService, RedisTemplate&lt;String, Object&gt; redisTemplate) {
        this.userService = userService;
        this.redisTemplate = redisTemplate;
    }

    /**
     * çŸ­ä¿¡éªŒè¯ç è®¤è¯é€»è¾‘ï¼Œå‚è€ƒ Spring Security è®¤è¯å¯†ç æ ¡éªŒæµç¨‹
     *
     * @param authentication è®¤è¯å¯¹è±¡
     * @return è®¤è¯åçš„ Authentication å¯¹è±¡
     * @throws AuthenticationException è®¤è¯å¼‚å¸¸
     * @see org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider#authenticate(Authentication)
     */
    @Override
    public Authentication authenticate(Authentication authentication) throws AuthenticationException {
        String mobile = (String) authentication.getPrincipal();
        String inputVerifyCode = (String) authentication.getCredentials();

        // æ ¹æ®æ‰‹æœºå·è·å–ç”¨æˆ·ä¿¡æ¯
        UserAuthInfo userAuthInfo = userService.getUserAuthInfoByMobile(mobile);

        if (userAuthInfo == null) {
            throw new UsernameNotFoundException("ç”¨æˆ·ä¸å­˜åœ¨");
        }

        // æ£€æŸ¥ç”¨æˆ·çŠ¶æ€æ˜¯å¦æœ‰æ•ˆ
        if (ObjectUtil.notEqual(userAuthInfo.getStatus(), 1)) {
            throw new DisabledException("ç”¨æˆ·å·²è¢«ç¦ç”¨");
        }

        // æ ¡éªŒå‘é€çŸ­ä¿¡éªŒè¯ç çš„æ‰‹æœºå·æ˜¯å¦ä¸å½“å‰ç™»å½•ç”¨æˆ·ä¸€è‡´
        String cachedVerifyCode = (String) redisTemplate.opsForValue().get(RedisConstants.SMS_LOGIN_CODE_PREFIX + mobile);

        if (!StrUtil.equals(inputVerifyCode, cachedVerifyCode)) {
            throw new BadCredentialsException("éªŒè¯ç é”™è¯¯");
        } else {
            // éªŒè¯æˆåŠŸååˆ é™¤éªŒè¯ç 
            redisTemplate.delete(RedisConstants.SMS_LOGIN_CODE_PREFIX + mobile);
        }

        // æ„å»ºè®¤è¯åçš„ç”¨æˆ·è¯¦æƒ…ä¿¡æ¯
        SysUserDetails userDetails = new SysUserDetails(userAuthInfo);

        // åˆ›å»ºå·²è®¤è¯çš„ SmsAuthenticationToken
        return SmsAuthenticationToken.authenticated(
                userDetails,
                userDetails.getAuthorities()
        );
    }

    @Override
    public boolean supports(Class&lt;?&gt; authentication) {
        return SmsAuthenticationToken.class.isAssignableFrom(authentication);
    }
}
</code></pre>
<h4 id="spring-security-é…ç½®">Spring Security é…ç½®</h4>
<p>åœ¨ <code>SecurityConfig</code> ä¸­æ³¨å†Œè‡ªå®šä¹‰çš„ <code>SmsAuthenticationProvider</code>ï¼Œå®ç°çŸ­ä¿¡éªŒè¯ç ç™»å½•è®¤è¯é€»è¾‘ï¼š</p>
<pre><code class="language-java">/**
 * Spring Security é…ç½®ç±»
 *
 * @author youlai
 */
@Configuration
@EnableWebSecurity
@EnableMethodSecurity
@RequiredArgsConstructor
public class SecurityConfig {

    private final RedisTemplate&lt;String, Object&gt; redisTemplate;
    private final UserService userService;
    
    // ....
    
    /**
     * é»˜è®¤è´¦å·å¯†ç è®¤è¯çš„ Provider
     */
    @Bean
    public DaoAuthenticationProvider daoAuthenticationProvider() {
        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();
        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);
        daoAuthenticationProvider.setUserDetailsService(userDetailsService);
        return daoAuthenticationProvider;
    }

    /**
     * çŸ­ä¿¡éªŒè¯ç è®¤è¯ Provider
     */
    @Bean
    public SmsAuthenticationProvider smsAuthenticationProvider() {
        return new SmsAuthenticationProvider(userService, redisTemplate);
    }

    /**
     * è®¤è¯ç®¡ç†å™¨
     */
    @Bean
    public AuthenticationManager authenticationManager(
            DaoAuthenticationProvider daoAuthenticationProvider,
            SmsAuthenticationProvider smsAuthenticationProvider
    ) {
        return new ProviderManager(
                daoAuthenticationProvider,
                smsAuthenticationProvider
        );
    }
}

</code></pre>
<h4 id="å‘é€éªŒè¯ç ">å‘é€éªŒè¯ç </h4>
<p><strong>æ§åˆ¶å±‚å®ç°</strong></p>
<pre><code class="language-java">@Operation(summary = "å‘é€ç™»å½•çŸ­ä¿¡éªŒè¯ç ")
@PostMapping("/login/sms/code")
public Result&lt;?&gt; sendLoginVerifyCode(
        @Parameter(description = "æ‰‹æœºå·", example = "18812345678") @RequestParam String mobile
) {
    authService.sendSmsLoginCode(mobile);
    return Result.success();
}
</code></pre>
<p><strong>æœåŠ¡å±‚å®ç°</strong></p>
<pre><code class="language-java">@Service
@RequiredArgsConstructor
@Slf4j
public class AuthServiceImpl implements AuthService {
	
    private final SmsService smsService;
    private final RedisTemplate&lt;String, Object&gt; redisTemplate;
	
	/**
     * å‘é€ç™»å½•çŸ­ä¿¡éªŒè¯ç 
     *
     * @param mobile æ‰‹æœºå·
     */
    @Override
    public void sendSmsLoginCode(String mobile) {

        // éšæœºç”Ÿæˆ4ä½éªŒè¯ç 
        // String code = String.valueOf((int) ((Math.random() * 9 + 1) * 1000));
        // TODO ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼ŒéªŒè¯ç å›ºå®šä¸º 1234ï¼Œå®é™…å¼€å‘ä¸­åœ¨é…ç½®äº†å‚å•†çŸ­ä¿¡æœåŠ¡åï¼Œå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„éšæœºéªŒè¯ç 
        String code = "1234";

        // å‘é€çŸ­ä¿¡éªŒè¯ç 
        Map&lt;String, String&gt; templateParams = new HashMap&lt;&gt;();
        templateParams.put("code", code);
        try {
            smsService.sendSms(mobile, SmsTypeEnum.LOGIN, templateParams);
        } catch (Exception e) {
            log.error("å‘é€çŸ­ä¿¡éªŒè¯ç å¤±è´¥", e);
        }
        // ç¼“å­˜éªŒè¯ç è‡³Redisï¼Œç”¨äºç™»å½•æ ¡éªŒ
        redisTemplate.opsForValue().set(RedisConstants.SMS_LOGIN_CODE_PREFIX + mobile, code, 5, TimeUnit.MINUTES);
    }
}
</code></pre>
<h4 id="ç™»å½•æ¥å£-1">ç™»å½•æ¥å£</h4>
<p><strong>æ§åˆ¶å±‚å®ç°</strong></p>
<pre><code class="language-java">/**
 * è®¤è¯æ§åˆ¶å±‚
 *
 * @author youlai
 */
@RestController
@RequestMapping("/api/v1/auth")
@RequiredArgsConstructor
public class AuthController {

    private final AuthService authService;

    // ...
    
    @Operation(summary = "çŸ­ä¿¡éªŒè¯ç ç™»å½•")
    @PostMapping("/login/sms")
    @Log(value = "çŸ­ä¿¡éªŒè¯ç ç™»å½•", module = LogModuleEnum.LOGIN)
    public Result&lt;AuthenticationToken&gt; loginBySms(
            @Parameter(description = "æ‰‹æœºå·", example = "18812345678") @RequestParam String mobile,
            @Parameter(description = "éªŒè¯ç ", example = "1234") @RequestParam String code
    ) {
        AuthenticationToken loginResult = authService.loginBySms(mobile, code);
        return Result.success(loginResult);
    }
}

</code></pre>
<p><strong>æœåŠ¡å±‚å®ç°</strong></p>
<pre><code class="language-java">/**
 * è®¤è¯æœåŠ¡å®ç°ç±»
 *
 * @author youlai
 */
@Service
@RequiredArgsConstructor
@Slf4j
public class AuthServiceImpl implements AuthService {
	
    private final SmsService smsService;
    private final RedisTemplate&lt;String, Object&gt; redisTemplate;
	
    /**
     * çŸ­ä¿¡éªŒè¯ç ç™»å½•
     *
     * @param mobile æ‰‹æœºå·
     * @param code   éªŒè¯ç 
     * @return è®¿é—®ä»¤ç‰Œ
     */
    @Override
    public AuthenticationToken loginBySms(String mobile, String code) {
        // 1. åˆ›å»ºç”¨æˆ·çŸ­ä¿¡éªŒè¯ç è®¤è¯çš„ä»¤ç‰Œï¼ˆæœªè®¤è¯ï¼‰
        SmsAuthenticationToken smsAuthenticationToken = new SmsAuthenticationToken(mobile, code);

        // 2. æ‰§è¡Œè®¤è¯ï¼ˆè®¤è¯ä¸­ï¼‰
        Authentication authentication = authenticationManager.authenticate(smsAuthenticationToken);

        // 3. è®¤è¯æˆåŠŸåç”Ÿæˆ JWT ä»¤ç‰Œï¼Œå¹¶å­˜å…¥ Security ä¸Šä¸‹æ–‡ï¼Œä¾›ç™»å½•æ—¥å¿— AOP ä½¿ç”¨ï¼ˆå·²è®¤è¯ï¼‰
        AuthenticationToken authenticationToken = tokenManager.generateToken(authentication);
        SecurityContextHolder.getContext().setAuthentication(authentication);

        return authenticationToken;
    }

}
</code></pre>
<h4 id="æ¥å£æµ‹è¯•-1">æ¥å£æµ‹è¯•</h4>
<p>è®¿é—®æ¥å£æ–‡æ¡£ <a href="http://localhost:8989/doc.html%EF%BC%8C%E8%B0%83%E7%94%A8%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81%E6%8E%A5%E5%8F%A3%EF%BC%8C%E8%BE%93%E5%85%A5%E6%89%8B%E6%9C%BA%E5%8F%B7%E3%80%82" target="_blank" rel="noopener nofollow">http://localhost:8989/doc.htmlï¼Œè°ƒç”¨å‘é€çŸ­ä¿¡éªŒè¯ç æ¥å£ï¼Œè¾“å…¥æ‰‹æœºå·ã€‚</a></p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/13/image-20250113233419129.png" alt="" loading="lazy"></p>
<p>æ¨¡æ‹Ÿæ¥æ”¶çŸ­ä¿¡éªŒè¯ç ï¼ˆå›ºå®šä¸º <code>1234</code>ï¼‰ï¼Œè°ƒç”¨çŸ­ä¿¡éªŒè¯ç ç™»å½•æ¥å£ï¼Œè¾“å…¥æ‰‹æœºå·å’ŒéªŒè¯ç å³å¯æˆåŠŸç™»å½•å¹¶è¿”å›è®¿é—®ä»¤ç‰Œã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/2025/01/13/image-20250113233616340.png" alt="" loading="lazy"></p>
<h2 id="é¡¹ç›®éƒ¨ç½²">é¡¹ç›®éƒ¨ç½²</h2>
<h3 id="å®‰è£…è™šæ‹Ÿæœº">å®‰è£…è™šæ‹Ÿæœº</h3>
<p>å¦‚æœæ²¡æœ‰äº‘æœåŠ¡å™¨ï¼Œå¯åœ¨æœ¬åœ°å®‰è£…è™šæ‹Ÿæœºï¼Œå‚è€ƒï¼š<a href="https://juejin.cn/post/7250009145915719740" target="_blank" rel="noopener nofollow">VMware æ­å»º Linux è™šæ‹Ÿæœºç¯å¢ƒ (CentOS 7.9)</a>ã€‚</p>
<p>å®‰è£…å¹¶å¯åŠ¨ FinalShell: <a href="https://www.hostbuf.com/t/988.html" target="_blank" rel="noopener nofollow">ä¸‹è½½åœ°å€</a>ã€‚æ–°å»ºè¿æ¥ï¼Œè¿æ¥åˆ°å·²å®‰è£…çš„è™šæ‹Ÿæœºã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250103180057674.png" alt="" loading="lazy"></p>
<h3 id="å®‰è£…--docker">å®‰è£…  Docker</h3>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://youlai.blog.csdn.net/article/details/145055134" target="_blank" rel="noopener nofollow">Linux (CentOS) å®‰è£… Docker å’Œ Docker Compose</a>ã€‚</p>
<h3 id="å®‰è£…ä¸­é—´ä»¶-1">å®‰è£…ä¸­é—´ä»¶</h3>
<h4 id="ä¸Šä¼ è„šæœ¬">ä¸Šä¼ è„šæœ¬</h4>
<p>å°†é¡¹ç›®çš„ <code>docker</code> å’Œ <code>sql</code> ç›®å½•å¤åˆ¶åˆ°æœåŠ¡å™¨çš„ <code>/opt</code> ç›®å½•ä¸‹ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250105010107314.png" alt="" loading="lazy"></p>
<p>æˆäºˆæ‰§è¡Œæƒé™</p>
<pre><code class="language-bash">sudo chmod +x /opt/docker/docker-compose.yml
</code></pre>
<h4 id="å¯åŠ¨æœåŠ¡">å¯åŠ¨æœåŠ¡</h4>
<p>åˆ‡æ¢åˆ° <code>/opt/docker</code> ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®¹å™¨ï¼š</p>
<pre><code class="language-bash">cd  /opt/docker
# å¯åŠ¨æœåŠ¡
docker-compose up -d
</code></pre>
<p>ç­‰å¾…ç‰‡åˆ»ï¼Œå®¹å™¨å¯åŠ¨å®Œæˆåå¦‚ä¸‹ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250105182838794.png" alt="" loading="lazy"></p>
<h4 id="éªŒè¯å®‰è£…">éªŒè¯å®‰è£…</h4>
<p>**MySQL **</p>
<p>å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250105184229895.png" alt="" loading="lazy"></p>
<p><strong>Redis</strong></p>
<p>Redis å¯åŠ¨æ­£å¸¸ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250105220506851.png" alt="" loading="lazy"></p>
<p>MinIO</p>
<p>æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://192.168.179.21:9090" target="_blank" rel="noopener nofollow">http://192.168.179.21:9090</a>ï¼ˆæ ¹æ®å®é™… IP ä¿®æ”¹ï¼‰ï¼Œä½¿ç”¨é»˜è®¤ç”¨æˆ·åå¯†ç  <code>minioadmin/minioadmin</code> ç™»å½•ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250105231649894.png" alt="" loading="lazy"></p>
<p><strong>XXL-JOB</strong></p>
<p>æ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://192.168.179.21:8080/xxl-job-admin%EF%BC%88%E6%A0%B9%E6%8D%AE%E5%AE%9E%E9%99%85" target="_blank" rel="noopener nofollow">http://192.168.179.21:8080/xxl-job-adminï¼ˆæ ¹æ®å®é™…</a> IP ä¿®æ”¹ï¼‰ï¼Œè¾“å…¥é»˜è®¤ç”¨æˆ·åå¯†ç  <code>admin/123456</code> ç™»å½•ã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250105232254574.png" alt="" loading="lazy"></p>
<h3 id="éƒ¨ç½²åº”ç”¨">éƒ¨ç½²åº”ç”¨</h3>
<h4 id="å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶</h4>
<p>åœ¨ IDEA èœå•æ é€‰æ‹© <code>File â†’ Settings â†’ Plugins</code>ï¼Œæœç´¢ <code>Docker</code> æ’ä»¶å¹¶å®‰è£…ï¼Œå®‰è£…åé‡å¯ IDEAã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106004610271.png" alt="" loading="lazy"></p>
<h4 id="é…ç½®æœåŠ¡å™¨">é…ç½®æœåŠ¡å™¨</h4>
<p>åœ¨ IDEA èœå•æ é€‰æ‹© <code>File â†’ Settings â†’ Build, Execution, Deployment â†’ Docker</code>ï¼Œæ·»åŠ è¿œç¨‹æœåŠ¡å™¨çš„è¿æ¥ä¿¡æ¯ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106112935466.png" alt="" loading="lazy"></p>
<p>è¿æ¥æˆåŠŸåï¼Œæ˜¾ç¤º <code>Connection successful</code>ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106113054626.png" alt="image-20250106113054626" loading="lazy"></p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106111043701.png" alt="" loading="lazy"></p>
<h4 id="éƒ¨ç½²é…ç½®">éƒ¨ç½²é…ç½®</h4>
<p>åœ¨ IDEA é¡¶éƒ¨èœå•é€‰æ‹© <code>Edit Configurations</code> æ‰“å¼€é…ç½®ç•Œé¢ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106113223291.png" alt="" loading="lazy"></p>
<p>é€‰æ‹© <code>Dockerfile</code>ï¼Œè®¾ç½®éƒ¨ç½²ç›¸å…³å‚æ•°ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106113336161.png" alt="" loading="lazy"></p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106115815350.png" alt="" loading="lazy"></p>
<h4 id="ä¸€é”®éƒ¨ç½²">ä¸€é”®éƒ¨ç½²</h4>
<p>é…ç½®å®Œæˆåï¼Œé€‰æ‹©å¯¹åº”é…ç½®ç‚¹å‡»å¯åŠ¨ï¼Œå°†è‡ªåŠ¨å®Œæˆç¼–è¯‘ã€æ‰“åŒ…ã€é•œåƒæ„å»ºã€é•œåƒæ¨é€å’Œå®¹å™¨å¯åŠ¨ã€‚<img src="https://www.youlai.tech/storage/blog/image-20250106124819744.png" alt="image-20250106124819744" loading="lazy"></p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106134141189.png" alt="" loading="lazy"></p>
<p>å¯åŠ¨æˆåŠŸåå¦‚ä¸‹ï¼š</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106134341913.png" alt="" loading="lazy"></p>
<p>æµè§ˆå™¨è®¿é—® <a href="http://192.168.179.21:8989/doc.html" target="_blank" rel="noopener nofollow">http://192.168.179.21:8989/doc.html</a>ï¼ˆæ ¹æ®å®é™… IP ä¿®æ”¹ï¼‰æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼ŒéªŒè¯éƒ¨ç½²æ˜¯å¦æˆåŠŸã€‚</p>
<p><img src="https://www.youlai.tech/storage/blog/image-20250106140027941.png" alt="" loading="lazy"></p>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>æ„Ÿè°¢æ‚¨é˜…è¯»æœ¬æ–‡æ¡£ï¼Œ<a href="https://gitee.com/youlaiorg/youlai-boot" target="_blank" rel="noopener nofollow">youlai-boot</a> é¡¹ç›®æä¾›é«˜æ•ˆã€çµæ´»ä¸”å¯æ‰©å±•çš„ä¼ä¸šçº§æƒé™ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚æœ¬æ‰‹å†Œä»åŸºç¡€åˆ°æ‰©å±•ï¼Œä¸ºå¼€å‘è€…æä¾›äº†è¯¦ç»†çš„å‚è€ƒæŒ‡å—ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿæ­å»ºé¡¹ç›®å¹¶åº”å¯¹å¤æ‚ä¸šåŠ¡éœ€æ±‚ã€‚å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿æ·»åŠ å¾®ä¿¡ï¼ˆå¾®ä¿¡å·ï¼šhaoxianruiï¼‰äº¤æµæˆ–è®¿é—®å¼€æºé¡¹ç›®ï¼š<a href="https://gitee.com/youlaiorg" target="_blank" rel="noopener nofollow">https://gitee.com/youlaiorg</a>ã€‚</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.05502098515162037" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-22 09:26">2025-01-22 09:26</span>&nbsp;
<a href="https://www.cnblogs.com/haoxianrui">æœ‰æ¥æŠ€æœ¯</a>&nbsp;
é˜…è¯»(<span id="post_view_count">89</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18683115" rel="nofollow">ç¼–è¾‘</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18683115);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18683115', targetLink: 'https://www.cnblogs.com/haoxianrui/p/18683115', title: 'ã€Œyoulai-bootã€è¿›é˜¶ç¯‡ï¼šJava &amp;amp; Spring Boot ä¼ä¸šçº§æƒé™ç®¡ç†ç³»ç»Ÿå®æˆ˜æŒ‡å—ï¼ˆå…¨åŠŸèƒ½è¯¦è§£ï¼‰' })">ä¸¾æŠ¥</a>
</div>
        