
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/noear/p/18886318" title="发布于 2025-05-20 10:29">
    <span role="heading" aria-level="2">高德地图 MCP，可用 Java SolonMCP 接入（支持 java8, java11, java17, java21）</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        高德地图基于 MCP 协议提供了地图服务能力，使 AI 大模型能够直接调用高德的 LBS。Java 项目也可以自由接入。
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h3 id="1mcp技术概述">1、MCP技术概述</h3>
<h4 id="11-什么是-mcp">1.1 什么是 MCP</h4>
<p>MCP (Model Control Protocol) 是一种允许大模型与外部工具交互的协议，高德地图基于此协议提供了地图服务能力，使 AI 大模型能够直接调用高德的 LBS。</p>
<h4 id="12-两种接入架构对比">1.2 两种接入架构对比</h4>
<p>高德地图 MCP 提供了两种不同的接入方式：sse 和 stdio。这两种方式在架构、性能和适用场景上存在明显差异。</p>
<h3 id="2用-java-solonmcp-接入试试">2、用 Java SolonMCP 接入试试</h3>
<h4 id="21-添加依赖">2.1 添加依赖</h4>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.noear&lt;/groupId&gt;
    &lt;artifactId&gt;solon-ai-mcp&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p>支持与 jFinal, Vert.X, SpirngBoot2, SpringBoot3, Solon 等框架结合使用。</p>
<h4 id="22-先构建个客户端">2.2 先构建个客户端</h4>
<p>一个项目中可能会有多个 mcp；所以取个 bean 名字为好</p>
<pre><code class="language-java">@Configuration
public class AmapMcpConfig {
    @Bean("amap-mcp")
    public McpClientProvider mcpClientProvider() {
        return McpClientProvider.builder()
                .apiUrl("https://mcp.amap.com/sse?key=YOUR_AMAP_MCP_KEY") //只需要一个 url
                .build();
    }
}
</code></pre>
<h4 id="23-试试获取周边电影院">2.3 试试：获取周边电影院</h4>
<pre><code class="language-java">@Component
public class DemoCom {
    @Inject("amap-mcp")
    McpClientProvider clientProvider;

    public String around_search() {
        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();
        args.put("keywords", "电影院");
        args.put("location", "116.466485,39.995197");
        args.put("radius", "2000");

        return clientProvider.callToolAsText("maps_around_search", args).getContent();
    }
}
</code></pre>
<h4 id="24-试试获取地区的天气">2.4 试试：获取地区的天气</h4>
<pre><code class="language-java">@Component
public class DemoCom {
    @Inject("amap-mcp")
    McpClientProvider clientProvider;

    public String weather(){
        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();
        args.put("city", "北京");

        return clientProvider.callToolAsText("maps_weather", args).getContent();
    }
}
</code></pre>
<h3 id="3把它绑给-chatmodelllm-使用比如-deepseek-v3">3、把它绑给 ChatModel（LLM） 使用，比如 DeepSeek-V3</h3>
<p>构建 ChatModel，并将  amap-mcp 作为工具提供者绑定：</p>
<pre><code class="language-java">@Configuration
public class DeepSeekConfig {
    @Bean
    public ChatModel chatModel(@Inject("amap-mcp") McpClientProvider clientProvider) {
        return ChatModel.of("https://api.deepseek.com/chat/completions")
                .apiKey("SD_API_KEY")
                .model("deepseek-chat")
                .defaultToolsAdd(clientProvider)
                .build();
    }
}
</code></pre>
<p>基于 DeepSeek 和 Amap MCP 查个天气：</p>
<pre><code class="language-java">@Component
public class DemoCom {
    @Inject
    ChatModel chatModel;

    public void test() throws Exception {
        ChatResponse resp = chatModel.prompt("杭州今天的天气怎么样？")
                .call();

        System.out.println(resp.getMessage());
    }
}
</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.24508805080671298" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-20 10:29">2025-05-20 10:29</span>&nbsp;
<a href="https://www.cnblogs.com/noear">带刺的坐椅</a>&nbsp;
阅读(<span id="post_view_count">59</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18886318);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18886318', targetLink: 'https://www.cnblogs.com/noear/p/18886318', title: '高德地图 MCP，可用 Java SolonMCP 接入（支持 java8, java11, java17, java21）' })">举报</a>
</div>
        