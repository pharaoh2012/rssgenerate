
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/risheng/p/18812284" title="å‘å¸ƒäº 2025-04-07 10:41">
    <span role="heading" aria-level="2">Browser-useï¼šåŸºäº Python çš„æ™ºèƒ½æµè§ˆå™¨è‡ªåŠ¨åŒ– AI å·¥å…·è°ƒç ”ä¸å®æˆ˜</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        <img src="https://img2024.cnblogs.com/blog/3373677/202504/3373677-20250407104059405-1700533303.png" alt="Browser-useï¼šåŸºäº Python çš„æ™ºèƒ½æµè§ˆå™¨è‡ªåŠ¨åŒ– AI å·¥å…·è°ƒç ”ä¸å®æˆ˜" class="desc_img">
        Browser-use è®© AI ä¸æµè§ˆå™¨çš„ç»“åˆå˜å¾—æ›´ä¾¿æ·ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ„å»ºå‡ºâ€œä¼šæµè§ˆç½‘é¡µã€æŠ“å–ä¿¡æ¯ã€è¿›è¡ŒåŠ¨æ€äº¤äº’â€çš„æ™ºèƒ½ä½“ã€‚åªéœ€ç®€å•çš„é…ç½®ä¸å‡ è¡Œä»£ç ï¼Œå°±èƒ½è®© LLM è‡ªåŠ¨å¤„ç†ç½‘é¡µæ“ä½œï¼Œä¸ºé¡¹ç›®å¸¦æ¥æ›´å¤šå¯èƒ½æ€§ã€‚
ä½¿ç”¨ Python &gt;= 3.11ï¼›
å®‰è£…å¹¶é…ç½®å¥½ Playwrightï¼›
åœ¨ä¸»ä»£ç ä¸­åˆå§‹åŒ– Agent å¹¶æä¾› LLMï¼›
åœ¨ .env ä¸­å­˜æ”¾ API Keysï¼›
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="browser-useåŸºäº-python-çš„æ™ºèƒ½æµè§ˆå™¨è‡ªåŠ¨åŒ–-ai-å·¥å…·è°ƒç ”ä¸å®æˆ˜">Browser-useï¼šåŸºäº Python çš„æ™ºèƒ½æµè§ˆå™¨è‡ªåŠ¨åŒ– AI å·¥å…·è°ƒç ”ä¸å®æˆ˜</h1>
<h2 id="ä¸€æ¦‚è¿°">ä¸€ã€æ¦‚è¿°</h2>
<p><strong>Browser-use</strong> æ˜¯ä¸€ä¸ªæ—¨åœ¨å°† AI â€œæ™ºèƒ½ä½“â€ï¼ˆAgentsï¼‰ä¸çœŸå®æµè§ˆå™¨è¿›è¡Œäº¤äº’çš„ Python åº“ï¼Œå¯ä»¥è½»æ¾å®ç°æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€‚åœ¨é…åˆ LLMï¼ˆå¦‚ GPT ç³»åˆ—ï¼‰ä½¿ç”¨æ—¶ï¼Œæµè§ˆå™¨-use èƒ½å¤Ÿè®©ä½ çš„æ™ºèƒ½ä½“å‘èµ·å¯¹ç½‘é¡µçš„è®¿é—®ã€æ“ä½œé¡µé¢å…ƒç´ ã€æ”¶é›†ä¿¡æ¯ã€æ‰§è¡Œè„šæœ¬ç­‰ï¼Œä»è€Œæ‰©å±• AI åº”ç”¨çš„è½åœ°åœºæ™¯ã€‚</p>
<ul>
<li><strong>GitHub</strong>: <a href="https://github.com/browser-use/browser-use" target="_blank" rel="noopener nofollow">browser-use/browser-use</a></li>
<li><strong>å®˜ç½‘</strong>: <a href="https://browser-use.com/" target="_blank" rel="noopener nofollow">browser-use.com</a></li>
<li><strong>æ–‡æ¡£</strong>: <a href="https://docs.browser-use.com/introduction" target="_blank" rel="noopener nofollow">docs.browser-use.com</a></li>
</ul>
<blockquote>
<p><font style="color: rgba(14, 14, 14, 1)">ç›®å‰ Browser-use æœ€ä½éœ€è¦ </font><strong><font style="color: rgba(14, 14, 14, 1)">Python 3.11</font></strong><font style="color: rgba(14, 14, 14, 1)"> åŠä»¥ä¸Šï¼Œæ‰èƒ½æ­£å¸¸ä½¿ç”¨å…¶å°è£…çš„ Playwright åŠŸèƒ½ã€‚</font></p>
</blockquote>
<h3 id="1-æŠ€æœ¯æ ˆ"><font style="color: rgba(64, 64, 64, 1)">1. æŠ€æœ¯æ ˆ:</font></h3>
<ul>
<li><font style="color: rgba(64, 64, 64, 1)">LangChainï¼ˆAI Agentæ¡†æ¶ï¼‰</font></li>
<li><font style="color: rgba(64, 64, 64, 1)">Playwrightï¼ˆæµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼‰</font></li>
<li>dotenvï¼ˆç¯å¢ƒå˜é‡ keyï¼‰</li>
<li><font style="color: rgba(64, 64, 64, 1)">å¼‚æ­¥I/Oæ¶æ„</font></li>
</ul>
<h3 id="2-æµç¨‹å›¾">2. æµç¨‹å›¾</h3>
<p><img src="https://img2024.cnblogs.com/blog/3373677/202504/3373677-20250407104023525-501184064.png" alt="image" loading="lazy"></p>
<p>browser-useï¼š<strong>è¯­è¨€æ¨¡å‹ -&gt; å†³ç­–/æ§åˆ¶ -&gt; æµè§ˆå™¨æ‰§è¡Œ -&gt; æ•°æ®å›ä¼  -&gt; æ¨¡å‹åå¤„ç†</strong></p>
<hr>
<h2 id="äºŒæ ¸å¿ƒç‰¹æ€§">äºŒã€æ ¸å¿ƒç‰¹æ€§</h2>
<h3 id="1-ç®€å•çš„-agent-æ¥å£">1. ç®€å•çš„ Agent æ¥å£</h3>
<p>é€šè¿‡ Agent ç±»å³å¯å¿«é€Ÿåˆ›å»ºå¸¦æµè§ˆå™¨äº¤äº’èƒ½åŠ›çš„æ™ºèƒ½ä½“ï¼Œèµ‹èƒ½ LLM ä¸ç½‘é¡µä¹‹é—´çš„å¤æ‚æ“ä½œã€‚</p>
<pre><code class="language-python">agent = Agent(
        task="æ‰“å¼€ https://cn.vuejs.org/guide/essentials/computedï¼Œè·å–é¡µé¢é‡Œæ‰€æœ‰çš„ h2 æ ‡ç­¾æ–‡æœ¬åŠæ‰€æœ‰çš„ a æ ‡ç­¾æ–‡æœ¬ï¼ˆä»¥åŠå®ƒçš„ hrefï¼‰",
        llm=llm,
    )
result = await agent.run()
</code></pre>
<h3 id="2-å¤šè¯­è¨€æ¨¡å‹æ”¯æŒ">2. å¤šè¯­è¨€æ¨¡å‹æ”¯æŒ</h3>
<p>å¯è½»æ¾é›†æˆ <a href="https://github.com/hwchase17/langchain" target="_blank" rel="noopener nofollow">LangChain</a> æä¾›çš„å„ç±» LLMï¼ˆå¦‚ OpenAIã€Anthropicã€Cohere ç­‰ï¼‰è¿›è¡Œé«˜çº§ä»»åŠ¡ç®¡ç†ã€‚</p>
<table>
<thead>
<tr>
<th><strong>æ¨¡å‹</strong></th>
<th><strong>æ‰€å±/ç±»å‹</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>GPT-4o</strong></td>
<td>OpenAI</td>
</tr>
<tr>
<td><strong>Claude</strong></td>
<td>Anthropic</td>
</tr>
<tr>
<td><strong>Azure</strong></td>
<td>Azure OpenAI</td>
</tr>
<tr>
<td><strong>Gemini</strong></td>
<td>Google Generative AI</td>
</tr>
<tr>
<td><strong>DeepSeek-V3</strong></td>
<td>DeepSeek</td>
</tr>
<tr>
<td><strong>DeepSeek-R1</strong></td>
<td>DeepSeek</td>
</tr>
<tr>
<td><strong>Ollama</strong></td>
<td>æœ¬åœ°æ¨¡å‹ (éœ€å®‰è£… Ollama)</td>
</tr>
</tbody>
</table>
<h3 id="3-åŸºäº-playwright">3. åŸºäº Playwright</h3>
<p>é»˜è®¤ä½¿ç”¨ <a href="https://playwright.dev" target="_blank" rel="noopener nofollow">Playwright</a> è¿›è¡Œæµè§ˆå™¨çš„æ— å¤´å¯åŠ¨ã€é¡µé¢æ“ä½œå’Œæ¸²æŸ“æ§åˆ¶ï¼›å¯¹å¸¸è§ç½‘é¡µäº¤äº’åœºæ™¯æä¾›å‹å¥½çš„æŠ½è±¡ã€‚</p>
<h3 id="4-äº‘ç«¯ç‰ˆ--æœ¬åœ°ç‰ˆ">4. äº‘ç«¯ç‰ˆ &amp; æœ¬åœ°ç‰ˆ</h3>
<p>é™¤äº†æœ¬åœ°å®‰è£…è¿è¡Œå¤–ï¼ŒBrowser-use ä¹Ÿæä¾›æ‰˜ç®¡ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥åœ¨äº‘ç«¯æ‰§è¡Œï¼Œæ— éœ€é…ç½®æœ¬åœ°ç¯å¢ƒã€‚</p>
<hr>
<h2 id="ä¸‰å®‰è£…ä¸ç¯å¢ƒé…ç½®">ä¸‰ã€å®‰è£…ä¸ç¯å¢ƒé…ç½®</h2>
<h3 id="1-python-ç‰ˆæœ¬">1. Python ç‰ˆæœ¬</h3>
<ul>
<li>éœ€è¦ <strong>Python 3.11</strong> æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li>
<li>æ¨èåœ¨ç‹¬ç«‹è™šæ‹Ÿç¯å¢ƒ(venv)æˆ–ç®¡ç†å·¥å…·ï¼ˆå¦‚ uvï¼‰ä¸­é…ç½®ç¯å¢ƒã€‚</li>
</ul>
<h4 id="11-æ¨èä½¿ç”¨-pyenv-ç®¡ç†-python">1.1. æ¨èä½¿ç”¨ pyenv ç®¡ç† python</h4>
<p>Githubï¼š<a href="https://github.com/pyenv/pyenv" target="_blank" rel="noopener nofollow">https://github.com/pyenv/pyenv</a></p>
<pre><code class="language-shell">brew install pyenv
pyenv install 3.11.9
</code></pre>
<pre><code class="language-shell"># pyenv æ ¹ç›®å½•
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"

# åˆå§‹åŒ–
eval "$(pyenv init -)"
</code></pre>
<p><img src="https://cdn.nlark.com/yuque/0/2025/tif/340359/1742885983218-f5e0fff5-9a01-4f9f-86aa-4143079f4bf0.tif?x-oss-process=image/format,png" alt="" loading="lazy"></p>
<h3 id="2-å®‰è£…æ–¹æ³•">2. å®‰è£…æ–¹æ³•</h3>
<h4 id="21-å®‰è£…-browser-use">2.1. å®‰è£… browser-use</h4>
<pre><code class="language-powershell">pip3 install browser-use
</code></pre>
<h4 id="22-å®‰è£…-playwright">2.2. å®‰è£… Playwright</h4>
<pre><code class="language-powershell">playwright install
</code></pre>
<ul>
<li>æ­¤æ“ä½œä¼šè‡ªåŠ¨ä¸‹è½½ Chromium æ— å¤´æµè§ˆå™¨ï¼Œç”¨äºåç»­çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€‚</li>
</ul>
<h4 id="23-é…ç½®-llm-api-keyså¯é€‰">2.3. é…ç½® LLM API Keysï¼ˆå¯é€‰ï¼‰</h4>
<ul>
<li>åœ¨ .env æ–‡ä»¶ä¸­å¡«å†™ç›¸åº”çš„ OPENAI_API_KEY=ã€ANTHROPIC_API_KEY= ç­‰ Keyã€‚</li>
</ul>
<pre><code class="language-plain">OPENAI_API_KEY=sk-xxxxxxx
</code></pre>
<ul>
<li>å¦‚æœä½¿ç”¨å…¶ä»– LLMï¼Œéœ€è¦å‚è€ƒ LangChain æ–‡æ¡£æˆ–å¯¹åº”æœåŠ¡æä¾›çš„è¯´æ˜è¿›è¡Œé…ç½®ã€‚</li>
</ul>
<hr>
<h2 id="å››åŸºç¡€é…ç½®">å››ã€åŸºç¡€é…ç½®</h2>
<h3 id="1-agent">1. Agent</h3>
<h4 id="11-agent-å‚æ•°">1.1. Agent å‚æ•°</h4>
<table>
<thead>
<tr>
<th><strong>å‚æ•°åç§°</strong></th>
<th><strong>ç±»å‹</strong></th>
<th><strong>é»˜è®¤å€¼</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>task</strong></td>
<td>str</td>
<td><em>æ— </em></td>
<td>ä»£ç†éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡æè¿°ã€‚ï¼ˆå¿…ä¼ ï¼‰</td>
</tr>
<tr>
<td><strong>llm</strong></td>
<td>BaseChatModel (LangChain Model)</td>
<td><em>æ— </em></td>
<td>ä¸»è¯­è¨€æ¨¡å‹ï¼Œæ‰§è¡Œå¯¹è¯å’Œå·¥å…·è°ƒç”¨ã€‚ï¼ˆå¿…ä¼ ï¼‰</td>
</tr>
<tr>
<td><strong>controller</strong></td>
<td>Controller å®ä¾‹</td>
<td>é»˜è®¤<br>Controller</td>
<td>è‡ªå®šä¹‰å‡½æ•°/å·¥å…·è°ƒç”¨çš„æ³¨å†Œè¡¨</td>
</tr>
<tr>
<td><strong>use_vision</strong></td>
<td>bool</td>
<td>True</td>
<td>æ˜¯å¦å¯ç”¨è§†è§‰èƒ½åŠ›ï¼ˆæˆªå›¾+åˆ†æï¼‰ã€‚å¦‚æ¨¡å‹æ”¯æŒå›¾åƒè¾“å…¥ï¼Œå¯æ˜¾è‘—æé«˜ç½‘é¡µç†è§£ï¼›ä¹Ÿä¼šäº§ç”Ÿé¢å¤– token æˆæœ¬ã€‚<br><strong>Deepseek éœ€è¦è®¾ç½®ä¸º False</strong></td>
</tr>
<tr>
<td><strong>save_conversation_path</strong></td>
<td>str</td>
<td><em>æ— </em></td>
<td>è‹¥æŒ‡å®šï¼Œåˆ™ä¼šå°†å¯¹è¯å†å²ä¿å­˜åœ¨è¯¥è·¯å¾„ä¸‹ï¼Œç”¨äºè°ƒè¯•æˆ–å®¡è®¡ã€‚</td>
</tr>
<tr>
<td><strong>system_prompt_class</strong></td>
<td>type (è‡ªå®šä¹‰ System Prompt ç±»)</td>
<td>é»˜è®¤Prompt</td>
<td>è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯é€»è¾‘</td>
</tr>
<tr>
<td><strong>browser</strong></td>
<td>Browser (Browser-use å®ä¾‹)</td>
<td><em>æ— </em></td>
<td>é‡ç”¨å·²åˆ›å»ºçš„ Browser å®ä¾‹ï¼›è‹¥ä¸æä¾›ï¼Œåˆ™ Agent æ¯æ¬¡ run() æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºå¹¶å…³é—­æ–°çš„æµè§ˆå™¨ã€‚</td>
</tr>
<tr>
<td><strong>browser_context</strong></td>
<td>BrowserContext (Playwright å®ä¾‹)</td>
<td><em>æ— </em></td>
<td>ä½¿ç”¨å·²æœ‰çš„æµè§ˆå™¨ä¸Šä¸‹æ–‡ (Context)ã€‚é€‚åˆéœ€è¦ç»´æŠ¤æŒä¹…ä¼šè¯ (cookies/localStorage) çš„åœºæ™¯ã€‚</td>
</tr>
<tr>
<td><strong>max_steps</strong></td>
<td>int</td>
<td>100</td>
<td>å…è®¸ Agent æ‰§è¡Œçš„æœ€å¤§æ­¥éª¤æ•°ï¼Œé˜²æ­¢æ­»å¾ªç¯æˆ–æ— é™æ“ä½œã€‚</td>
</tr>
<tr>
<td><strong>planner_llm</strong></td>
<td>BaseChatModel</td>
<td>__</td>
<td>è§„åˆ’ç”¨è¯­è¨€æ¨¡å‹ï¼Œä¸ä¸» LLM åˆ†å¼€ï¼›å¯ç”¨è¾ƒå°/ä¾¿å®œæ¨¡å‹å¤„ç†é«˜å±‚ç­–ç•¥ã€‚</td>
</tr>
<tr>
<td><strong>use_vision_for_planner</strong></td>
<td>bool</td>
<td>True</td>
<td>Planner æ˜¯å¦èƒ½ä½¿ç”¨è§†è§‰åŠŸèƒ½ï¼ˆè‹¥ä¸» LLM å·²å¼€å¯è§†è§‰ï¼Œè¿™é‡Œå¯ç‹¬ç«‹å…³é—­ä»¥èŠ‚çœèµ„æºï¼‰ã€‚</td>
</tr>
<tr>
<td><strong>planner_interval</strong></td>
<td>int</td>
<td>1</td>
<td>Planner æ¨¡å‹æ‰§è¡Œé—´éš”ã€‚å³æ¯å¤šå°‘æ­¥è°ƒç”¨ä¸€æ¬¡ Planner ä½œé‡æ–°è§„åˆ’ã€‚</td>
</tr>
<tr>
<td><strong>message_context</strong></td>
<td>str</td>
<td><em>æ— </em></td>
<td>é¢å¤–çš„ä»»åŠ¡/ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè¾…åŠ© LLM æ›´å¥½ç†è§£æˆ–æ‰§è¡Œä»»åŠ¡ã€‚<br>+ 03/28 æ–‡æ¡£å·²åˆ é™¤å­—æ®µ</td>
</tr>
<tr>
<td><strong>initial_actions</strong></td>
<td>list[dict]</td>
<td><em>æ— </em></td>
<td>åˆå§‹åŒ–æ—¶è¦æ‰§è¡Œçš„åŠ¨ä½œåˆ—è¡¨ï¼ˆæ— éœ€ç» LLM è°ƒç”¨ï¼‰ï¼Œæ ¼å¼ä¸º {action_name: {...}}ã€‚</td>
</tr>
<tr>
<td><strong>max_actions_per_step</strong></td>
<td>int</td>
<td>10</td>
<td>æ¯ä¸ªæ­¥éª¤é‡Œå¯æ‰§è¡Œçš„æœ€å¤§åŠ¨ä½œæ•°ï¼Œç”¨äºæ§åˆ¶ Agent è¿‡åº¦é¢‘ç¹æ“ä½œã€‚</td>
</tr>
<tr>
<td><strong>max_failures</strong></td>
<td>int</td>
<td>3</td>
<td>å…è®¸ Agent å¤±è´¥çš„æœ€å¤§æ¬¡æ•°ï¼Œè¶…è¿‡åˆ™åœæ­¢ä»»åŠ¡ã€‚</td>
</tr>
<tr>
<td><strong>retry_delay</strong></td>
<td>int (ç§’)</td>
<td>10</td>
<td>å½“é‡åˆ°é™æµ (rate limit) æˆ–å¯é‡è¯•çš„é”™è¯¯æ—¶ï¼Œç­‰å¾…å¤šå°‘ç§’åå†æ¬¡å°è¯•ã€‚</td>
</tr>
<tr>
<td><strong>generate_gif</strong></td>
<td>bool æˆ– str (è·¯å¾„)</td>
<td>False</td>
<td>æ˜¯å¦å½•åˆ¶æµè§ˆå™¨è¿‡ç¨‹ç”Ÿæˆ GIFã€‚ä¸º True æ—¶è‡ªåŠ¨ç”Ÿæˆéšæœºæ–‡ä»¶åï¼›ä¸ºå­—ç¬¦ä¸²æ—¶å°† GIF å­˜å‚¨åˆ°è¯¥è·¯å¾„ã€‚</td>
</tr>
</tbody>
</table>
<h4 id="12-agent-æ‰§è¡Œæµç¨‹å›¾">1.2. Agent æ‰§è¡Œæµç¨‹å›¾</h4>
<p><img src="https://cdn.nlark.com/yuque/__mermaid_v3/8e501c0288520870f5348ab7cfc72d1e.svg" alt="" loading="lazy"></p>
<h3 id="2-browser-é…ç½®">2. Browser é…ç½®</h3>
<p>Browser-use æä¾›ä¸¤ä¸ªä¸»è¦é…ç½®ç±»ï¼š</p>
<ul>
<li>BrowserConfigï¼šæ§åˆ¶æµè§ˆå™¨æ•´ä½“è¡Œä¸º</li>
<li>BrowserContextConfigï¼šæ§åˆ¶å•ä¸ªä¸Šä¸‹æ–‡ï¼ˆæµè§ˆå™¨æ ‡ç­¾é¡µ/ä¼šè¯ï¼‰çš„è¡Œä¸º</li>
</ul>
<p>å®˜æ–¹æ¨èï¼šã€Œ1 ä¸ª Agent å¯¹åº” 1 ä¸ª Browser å’Œ 1 ä¸ª Contextã€ï¼Œä»¥å¢å¼ºç¨³å®šæ€§å’Œå¼€å‘ä½“éªŒã€‚</p>
<h4 id="21-browserconfig">2.1. BrowserConfig</h4>
<pre><code class="language-python">from browser_use import BrowserConfig

config = BrowserConfig(
    headless=False,
    disable_security=True
)
browser = Browser(config=config)
</code></pre>
<table>
<thead>
<tr>
<th><strong>å‚æ•°åç§°</strong></th>
<th><strong>ç±»å‹</strong></th>
<th><strong>é»˜è®¤å€¼</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>headless</strong></td>
<td>bool</td>
<td>False</td>
<td>æ˜¯å¦å¯ç”¨æ— å¤´æ¨¡å¼ï¼ˆä¸æ˜¾ç¤º UIï¼‰</td>
</tr>
<tr>
<td><strong>disable_security</strong></td>
<td>bool</td>
<td>True</td>
<td>æ˜¯å¦ç¦ç”¨æµè§ˆå™¨å®‰å…¨åŠŸèƒ½ï¼ˆå¦‚è·¨åŸŸé™åˆ¶ï¼‰</td>
</tr>
<tr>
<td><strong>extra_browser_args</strong></td>
<td>list[str]</td>
<td>[]</td>
<td>å¯åŠ¨æµè§ˆå™¨æ—¶çš„é¢å¤–å‚æ•°</td>
</tr>
<tr>
<td><strong>proxy</strong></td>
<td>dict / str</td>
<td></td>
<td>è®¾ç½®ä»£ç†ï¼Œéµå¾ª Playwright è§„èŒƒ</td>
</tr>
<tr>
<td><strong>new_context_config</strong></td>
<td>BrowserContextConfig</td>
<td>æ–°å»º</td>
<td>é»˜è®¤çš„æ–°ä¸Šä¸‹æ–‡é…ç½®</td>
</tr>
<tr>
<td><strong>wss_url</strong></td>
<td>str</td>
<td></td>
<td>WebSocket è¿æ¥åœ°å€ï¼Œè¿æ¥äº‘ç«¯æµè§ˆå™¨æœåŠ¡ï¼ˆå¦‚ browserbaseã€steel.devï¼‰</td>
</tr>
<tr>
<td><strong>cdp_url</strong></td>
<td>str</td>
<td></td>
<td>Chrome DevTools åè®®åœ°å€ï¼Œè¿æ¥æœ¬åœ° Chrome å®ä¾‹</td>
</tr>
<tr>
<td><strong>chrome_instance_path</strong></td>
<td>str</td>
<td></td>
<td>æŒ‡å®šæœ¬åœ° Chrome å®‰è£…è·¯å¾„ï¼Œä¿ç•™ç™»å½•çŠ¶æ€å’Œ Cookie<br><strong>å…³é—­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ Chrome</strong></td>
</tr>
</tbody>
</table>
<h4 id="22-browsercontextconfig-é…ç½®">2.2. BrowserContextConfig é…ç½®</h4>
<pre><code class="language-python">from browser_use.browser.context import BrowserContextConfig

config = BrowserContextConfig(
    cookies_file="path/to/cookies.json",
    wait_for_network_idle_page_load_time=3.0,
    browser_window_size={'width': 1280, 'height': 1100},
    locale='en-US',
    user_agent='Mozilla/5.0...',
    highlight_elements=True,
    viewport_expansion=500,
    allowed_domains=['google.com', 'wikipedia.org'],
)
</code></pre>
<table>
<thead>
<tr>
<th><strong>å‚æ•°åç§°</strong></th>
<th><strong>ç±»å‹</strong></th>
<th><strong>é»˜è®¤å€¼</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>minimum_wait_page_load_time</strong></td>
<td>float</td>
<td>0.5</td>
<td>æ•è·ç½‘é¡µçŠ¶æ€å‰çš„æœ€å°ç­‰å¾…æ—¶é—´</td>
</tr>
<tr>
<td><strong>wait_for_network_idle_page_load_time</strong></td>
<td>float</td>
<td>1.0</td>
<td>ç­‰å¾…ç½‘ç»œç©ºé—²æ—¶é—´ï¼Œå¯æé«˜åˆ° 3-5s ä»¥å…¼å®¹æ…¢é€Ÿç½‘ç«™</td>
</tr>
<tr>
<td><strong>maximum_wait_page_load_time</strong></td>
<td>float</td>
<td>5.0</td>
<td>é¡µé¢åŠ è½½çš„æœ€é•¿ç­‰å¾…æ—¶é—´</td>
</tr>
<tr>
<td><strong>browser_window_size</strong></td>
<td>dict</td>
<td 1100="" 1280,=""></td>
<td>æµè§ˆå™¨çª—å£å¤§å°ï¼Œé€‚é…å¤§å¤šæ•° UI å’Œæ¨ªå¹…</td>
</tr>
<tr>
<td><strong>locale</strong></td>
<td>str</td>
<td></td>
<td>è®¾ç½®è¯­è¨€/åœ°åŒºï¼ˆå¦‚ zh-CN, en-GBï¼‰ï¼Œå½±å“è¯­è¨€å¤´å’Œæ ¼å¼</td>
</tr>
<tr>
<td><strong>user_agent</strong></td>
<td>str</td>
<td></td>
<td>è‡ªå®šä¹‰æµè§ˆå™¨ User-Agent</td>
</tr>
<tr>
<td><strong>highlight_elements</strong></td>
<td>bool</td>
<td>True</td>
<td>æ˜¯å¦é«˜äº®äº¤äº’å…ƒç´ ï¼ˆè°ƒè¯•ç”¨ï¼‰</td>
</tr>
<tr>
<td><strong>viewport_expansion</strong></td>
<td>int</td>
<td>500</td>
<td>é¡µé¢å†…å®¹æ‰©å±•èŒƒå›´ï¼ˆåƒç´ ï¼‰ï¼Œå½±å“å“ªäº›å…ƒç´ è¢« LLM çœ‹åˆ°ã€‚-1 ä¸ºå…¨éƒ¨ï¼Œ0 ä¸ºä»…è§†å£å†…</td>
</tr>
<tr>
<td><strong>allowed_domains</strong></td>
<td>list[str]</td>
<td></td>
<td>é™åˆ¶ä»£ç†è®¿é—®çš„åŸŸåï¼Œè‹¥ä¸ºç©ºåˆ™ä¸é™åˆ¶</td>
</tr>
<tr>
<td><strong>cookies_file</strong></td>
<td>str</td>
<td></td>
<td>åŠ è½½æŒä¹…åŒ– Cookie æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>save_recording_path</strong></td>
<td>str</td>
<td></td>
<td>ä¿å­˜æ“ä½œå½•åƒçš„ç›®å½•è·¯å¾„</td>
</tr>
<tr>
<td><strong>trace_path</strong></td>
<td>str</td>
<td></td>
<td>ä¿å­˜ Trace æ–‡ä»¶ç›®å½•ï¼Œå‘½åä¸º {trace_path}/{context_id}.zip</td>
</tr>
</tbody>
</table>
<h3 id="3-è¾“å‡ºå†…å®¹">3. è¾“å‡ºå†…å®¹</h3>
<h4 id="31-history-æ–¹æ³•">3.1. History æ–¹æ³•</h4>
<table>
<thead>
<tr>
<th><strong>æ–¹æ³•</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>urls()</strong></td>
<td>è®¿é—®è¿‡çš„ URL åˆ—è¡¨</td>
</tr>
<tr>
<td><strong>screenshots()</strong></td>
<td>æˆªå›¾è·¯å¾„åˆ—è¡¨</td>
</tr>
<tr>
<td><strong>action_names()</strong></td>
<td>æ‰§è¡Œçš„åŠ¨ä½œåç§°</td>
</tr>
<tr>
<td><strong>extracted_content()</strong></td>
<td>æŠ½å–åˆ°çš„å†…å®¹</td>
</tr>
<tr>
<td><strong>errors()</strong></td>
<td>æ‰§è¡Œä¸­å‡ºç°çš„é”™è¯¯</td>
</tr>
<tr>
<td><strong>model_actions()</strong></td>
<td>æ‰€æœ‰åŠ¨ä½œåŠå‚æ•°</td>
</tr>
<tr>
<td><strong>final_result()</strong></td>
<td>æœ€ç»ˆç»“æœ</td>
</tr>
<tr>
<td><strong>is_done()</strong></td>
<td>æ˜¯å¦æˆåŠŸå®Œæˆ</td>
</tr>
<tr>
<td><strong>has_errors()</strong></td>
<td>æ˜¯å¦æœ‰é”™è¯¯</td>
</tr>
<tr>
<td><strong>model_thoughts()</strong></td>
<td>LLM æ¨ç†è¿‡ç¨‹</td>
</tr>
<tr>
<td><strong>action_results()</strong></td>
<td>æ‰€æœ‰åŠ¨ä½œç»“æœ</td>
</tr>
</tbody>
</table>
<h4 id="32-ç¤ºä¾‹">3.2. ç¤ºä¾‹</h4>
<pre><code class="language-python">from pydantic import BaseModel
from typing import List
from dotenv import load_dotenv
from browser_use import Agent, Controller
from langchain_openai import ChatOpenAI
import asyncio

# Define the output format as a Pydantic model
class Post(BaseModel):
	post_title: str
	post_url: str


class Posts(BaseModel):
	posts: List[Post]


load_dotenv()
controller = Controller(output_model=Posts)


async def main():
	task = 'ä»æ˜é‡‘è·å– Vue / React / AI ç›¸å…³æ–‡ç« '
	model = ChatOpenAI(model='gpt-4o')
	agent = Agent(task=task, llm=model, controller=controller)
	history = await agent.run()
	result = history.final_result()
	print('result---&gt;', result)
	print('history.urls()---&gt;', history.urls())
	# print('history.screenshots()---&gt;', history.screenshots())
	print('history.action_names()---&gt;', history.action_names())
	print('history.extracted_content()---&gt;', history.extracted_content())
	print('history.errors()---&gt;', history.errors())
	print('history.model_actions()---&gt;', history.model_actions())
	print('history.is_done()---&gt;', history.is_done())
	print('history.has_errors()---&gt;', history.has_errors())
	print('history.model_thoughts()---&gt;', history.model_thoughts())
	print('history.action_results()---&gt;', history.action_results())
	if result:
		parsed: Posts = Posts.model_validate_json(result)

		for post in parsed.posts:
			print('\n--------------------------------')
			print(f'Title:            {post.post_title}')
			print(f'URL:              {post.post_url}')
	else:
		print('No result')


if __name__ == '__main__':
	asyncio.run(main())
</code></pre>
<pre><code class="language-python">result---&gt; {"posts": [{"post_title": "vue3.5+deepseek+arco+markdown\u642d\u5efaweb\u7248\u6d41\u5f0f\u8f93\u51faAI\u6a21\u677f", "post_url": "https://juejin.cn/post/7486369696738017321"}, {"post_title": "\ud83d\ude80\ud83d\ude80\ud83d\ude80\u5c24\u96e8\u6eaa\u8fde\u53d1\u4e24\u6761\u63a8\u7279\u5899\u88c2\u63a8\u8350\u7684\u8fd9\u4e9b\u5e93\u4f60\u4e00\u5b9a\u8981\u77e5\u9053\uff01", "post_url": "https://juejin.cn/post/7484131071569772595"}, {"post_title": "\u524d\u7aef\u4f6c\u4eec\uff01\u584c\u623f\u4e86\uff01\u7528\u8fc7Element-Plus\u7684\u8fdb\u6765~", "post_url": "https://juejin.cn/post/7485966905418760227"}, {"post_title": "\u548c\u540e\u7aef\u5927\u6218\u4e09\u767e\u56de\u5408\u540e\uff0c\u5351\u5fae\u524d\u7aef\u8fd8\u662f\u9009\u62e9\u4e86\u81ea\u5df1\u5199excel\u5bfc\u51fa", "post_url": "https://juejin.cn/post/7447368539936587776"}, {"post_title": "\u4ece DeepSeek \u770b25\u5e74\u524d\u7aef\u7684\u4e00\u4e2a\u5c0f\u8d8b\u52bf", "post_url": "https://juejin.cn/post/7468323178931879972"}, {"post_title": "\ud83d\ude80\ud83d\ude80\ud83d\ude80\u5c24\u96e8\u6eaa\u8fde\u53d1\u4e24\u6761\u63a8\u7279\u5899\u88c2\u63a8\u8350\u7684\u8fd9\u4e9b\u5e93\u4f60\u4e00\u5b9a\u8981\u77e5\u9053\uff01", "post_url": "https://juejin.cn/post/7484131071569772595"}, {"post_title": "\u524d\u7aef\u4f6c\u4eec\uff01\u584c\u623f\u4e86\uff01\u7528\u8fc7Element-Plus\u7684\u8fdb\u6765~", "post_url": "https://juejin.cn/post/7485966905418760227"}, {"post_title": "\u548c\u540e\u7aef\u5927\u6218\u4e09\u767e\u56de\u5408\u540e\uff0c\u5351\u5fae\u524d\u7aef\u8fd8\u662f\u9009\u62e9\u4e86\u81ea\u5df1\u5199excel\u5bfc\u51fa", "post_url": "https://juejin.cn/post/7447368539936587776"}, {"post_title": "vue3.5+deepseek+arco+markdown\u642d\u5efaweb\u7248\u6d41\u5f0f\u8f93\u51faAI\u6a21\u677f", "post_url": "https://juejin.cn/post/7486369696738017321"}, {"post_title": "\u4ece DeepSeek \u770b25\u5e74\u524d\u7aef\u7684\u4e00\u4e2a\u5c0f\u8d8b\u52bf", "post_url": "https://juejin.cn/post/7468323178931879972"}, {"post_title": "\u6709\u4e86Trae\uff0c\u4eba\u4eba\u90fd\u662f\u7a0b\u5e8f\u5458\u7684\u65f6\u4ee3\u6765\u4e86", "post_url": "https://juejin.cn/post/7463397212120973375"}, {"post_title": "\u6b63\u5f0f\u5ba3\u6218\uff0cDeepSeek \u9876\u5f97\u4f4f\u5417\uff1f", "post_url": "https://juejin.cn/post/7464848482987704329"}, {"post_title": "\u7528 DeepSeek \u6253\u9020\u4f60\u7684\u8d85\u5f3a\u4ee3\u7801\u52a9\u624b", "post_url": "https://juejin.cn/post/7454888708588945443"}, {"post_title": "\u521a\u521a\uff0cDeepSeek \u89e3\u7b54\u4e86\u56f0\u6270\u6211\u4e94\u5e74\u7684\u6280\u672f\u95ee\u9898\u3002\u65f6\u4ee3\u786e\u5b9e\u53d8\u4e86\uff01", "post_url": "https://juejin.cn/post/7472248441454018575"}, {"post_title": "\u653e\u5f03\u6ca1\u7528\u7684\u672c\u5730\u90e8\u7f72\u6b8b\u8840\u7248DeepSeek\u5427\uff0c\u6559\u4f60\u5982\u4f55\u767d\u5ad6\u6ee1\u8840\u7248DeepSeek", "post_url": "https://juejin.cn/post/7466832084486914083"}]}
history.urls()---&gt; ['about:blank', 'https://juejin.cn/', 'https://juejin.cn/', 'https://juejin.cn/', 'https://juejin.cn/', 'https://juejin.cn/', 'https://juejin.cn/', 'https://juejin.cn/']
history.action_names()---&gt; ['go_to_url', 'input_text', 'click_element', 'extract_content', 'input_text', 'click_element', 'extract_content', 'input_text', 'click_element', 'extract_content', 'done']
history.extracted_content()---&gt; ['ğŸ”—  Navigated to https://juejin.cn', 'âŒ¨ï¸  Input Vue into index 11', 'ğŸ–±ï¸  Clicked button with index 11: ', 'ğŸ“„  Extracted from page\n: ```json\n{\n  "top_5_vue_articles": [\n    {\n      "post_title": "vue3.5+deepseek+arco+markdownæ­å»ºwebç‰ˆæµå¼è¾“å‡ºAIæ¨¡æ¿",\n      "post_url": "https://juejin.cn/post/7486369696738017321"\n    },\n    {\n      "post_title": "ğŸš€ğŸš€ğŸš€å°¤é›¨æºªè¿å‘ä¸¤æ¡æ¨ç‰¹å¢™è£‚æ¨èçš„è¿™äº›åº“ä½ ä¸€å®šè¦çŸ¥é“ï¼",\n      "post_url": "https://juejin.cn/post/7484131071569772595"\n    },\n    {\n      "post_title": "å‰ç«¯ä½¬ä»¬ï¼å¡Œæˆ¿äº†ï¼ç”¨è¿‡Element-Plusçš„è¿›æ¥~",\n      "post_url": "https://juejin.cn/post/7485966905418760227"\n    },\n    {\n      "post_title": "å’Œåç«¯å¤§æˆ˜ä¸‰ç™¾å›åˆåï¼Œå‘å¾®å‰ç«¯è¿˜æ˜¯é€‰æ‹©äº†è‡ªå·±å†™excelå¯¼å‡º",\n      "post_url": "https://juejin.cn/post/7447368539936587776"\n    },\n    {\n      "post_title": "ä» DeepSeek çœ‹25å¹´å‰ç«¯çš„ä¸€ä¸ªå°è¶‹åŠ¿",\n      "post_url": "https://juejin.cn/post/7468323178931879972"\n    }\n  ]\n}\n```\n', 'âŒ¨ï¸  Input React into index 11', 'ğŸ–±ï¸  Clicked button with index 11: ', 'ğŸ“„  Extracted from page\n: ```json\n{\n  "top_5_react_articles": [\n    {\n      "post_title": "ğŸš€ğŸš€ğŸš€å°¤é›¨æºªè¿å‘ä¸¤æ¡æ¨ç‰¹å¢™è£‚æ¨èçš„è¿™äº›åº“ä½ ä¸€å®šè¦çŸ¥é“ï¼",\n      "post_url": "/post/7484131071569772595"\n    },\n    {\n      "post_title": "å‰ç«¯ä½¬ä»¬ï¼å¡Œæˆ¿äº†ï¼ç”¨è¿‡Element-Plusçš„è¿›æ¥~",\n      "post_url": "/post/7485966905418760227"\n    },\n    {\n      "post_title": "å’Œåç«¯å¤§æˆ˜ä¸‰ç™¾å›åˆåï¼Œå‘å¾®å‰ç«¯è¿˜æ˜¯é€‰æ‹©äº†è‡ªå·±å†™excelå¯¼å‡º",\n      "post_url": "/post/7447368539936587776"\n    },\n    {\n      "post_title": "vue3.5+deepseek+arco+markdownæ­å»ºwebç‰ˆæµå¼è¾“å‡ºAIæ¨¡æ¿",\n      "post_url": "/post/7486369696738017321"\n    },\n    {\n      "post_title": "ä» DeepSeek çœ‹25å¹´å‰ç«¯çš„ä¸€ä¸ªå°è¶‹åŠ¿",\n      "post_url": "/post/7468323178931879972"\n    }\n  ]\n}\n```\n', 'âŒ¨ï¸  Input AI into index 11', 'ğŸ–±ï¸  Clicked button with index 11: ', 'ğŸ“„  Extracted from page\n: ```json\n{\n  "top_5_ai_articles": [\n    {\n      "post_title": "æœ‰äº†Traeï¼Œäººäººéƒ½æ˜¯ç¨‹åºå‘˜çš„æ—¶ä»£æ¥äº†",\n      "post_url": "/post/7463397212120973375"\n    },\n    {\n      "post_title": "æ­£å¼å®£æˆ˜ï¼ŒDeepSeek é¡¶å¾—ä½å—ï¼Ÿ",\n      "post_url": "/post/7464848482987704329"\n    },\n    {\n      "post_title": "ç”¨ DeepSeek æ‰“é€ ä½ çš„è¶…å¼ºä»£ç åŠ©æ‰‹",\n      "post_url": "/post/7454888708588945443"\n    },\n    {\n      "post_title": "åˆšåˆšï¼ŒDeepSeek è§£ç­”äº†å›°æ‰°æˆ‘äº”å¹´çš„æŠ€æœ¯é—®é¢˜ã€‚æ—¶ä»£ç¡®å®å˜äº†ï¼",\n      "post_url": "/post/7472248441454018575"\n    },\n    {\n      "post_title": "æ”¾å¼ƒæ²¡ç”¨çš„æœ¬åœ°éƒ¨ç½²æ®‹è¡€ç‰ˆDeepSeekå§ï¼Œæ•™ä½ å¦‚ä½•ç™½å«–æ»¡è¡€ç‰ˆDeepSeek",\n      "post_url": "/post/7466832084486914083"\n    }\n  ]\n}\n```\n', '{"posts": [{"post_title": "vue3.5+deepseek+arco+markdown\\u642d\\u5efaweb\\u7248\\u6d41\\u5f0f\\u8f93\\u51faAI\\u6a21\\u677f", "post_url": "https://juejin.cn/post/7486369696738017321"}, {"post_title": "\\ud83d\\ude80\\ud83d\\ude80\\ud83d\\ude80\\u5c24\\u96e8\\u6eaa\\u8fde\\u53d1\\u4e24\\u6761\\u63a8\\u7279\\u5899\\u88c2\\u63a8\\u8350\\u7684\\u8fd9\\u4e9b\\u5e93\\u4f60\\u4e00\\u5b9a\\u8981\\u77e5\\u9053\\uff01", "post_url": "https://juejin.cn/post/7484131071569772595"}, {"post_title": "\\u524d\\u7aef\\u4f6c\\u4eec\\uff01\\u584c\\u623f\\u4e86\\uff01\\u7528\\u8fc7Element-Plus\\u7684\\u8fdb\\u6765~", "post_url": "https://juejin.cn/post/7485966905418760227"}, {"post_title": "\\u548c\\u540e\\u7aef\\u5927\\u6218\\u4e09\\u767e\\u56de\\u5408\\u540e\\uff0c\\u5351\\u5fae\\u524d\\u7aef\\u8fd8\\u662f\\u9009\\u62e9\\u4e86\\u81ea\\u5df1\\u5199excel\\u5bfc\\u51fa", "post_url": "https://juejin.cn/post/7447368539936587776"}, {"post_title": "\\u4ece DeepSeek \\u770b25\\u5e74\\u524d\\u7aef\\u7684\\u4e00\\u4e2a\\u5c0f\\u8d8b\\u52bf", "post_url": "https://juejin.cn/post/7468323178931879972"}, {"post_title": "\\ud83d\\ude80\\ud83d\\ude80\\ud83d\\ude80\\u5c24\\u96e8\\u6eaa\\u8fde\\u53d1\\u4e24\\u6761\\u63a8\\u7279\\u5899\\u88c2\\u63a8\\u8350\\u7684\\u8fd9\\u4e9b\\u5e93\\u4f60\\u4e00\\u5b9a\\u8981\\u77e5\\u9053\\uff01", "post_url": "https://juejin.cn/post/7484131071569772595"}, {"post_title": "\\u524d\\u7aef\\u4f6c\\u4eec\\uff01\\u584c\\u623f\\u4e86\\uff01\\u7528\\u8fc7Element-Plus\\u7684\\u8fdb\\u6765~", "post_url": "https://juejin.cn/post/7485966905418760227"}, {"post_title": "\\u548c\\u540e\\u7aef\\u5927\\u6218\\u4e09\\u767e\\u56de\\u5408\\u540e\\uff0c\\u5351\\u5fae\\u524d\\u7aef\\u8fd8\\u662f\\u9009\\u62e9\\u4e86\\u81ea\\u5df1\\u5199excel\\u5bfc\\u51fa", "post_url": "https://juejin.cn/post/7447368539936587776"}, {"post_title": "vue3.5+deepseek+arco+markdown\\u642d\\u5efaweb\\u7248\\u6d41\\u5f0f\\u8f93\\u51faAI\\u6a21\\u677f", "post_url": "https://juejin.cn/post/7486369696738017321"}, {"post_title": "\\u4ece DeepSeek \\u770b25\\u5e74\\u524d\\u7aef\\u7684\\u4e00\\u4e2a\\u5c0f\\u8d8b\\u52bf", "post_url": "https://juejin.cn/post/7468323178931879972"}, {"post_title": "\\u6709\\u4e86Trae\\uff0c\\u4eba\\u4eba\\u90fd\\u662f\\u7a0b\\u5e8f\\u5458\\u7684\\u65f6\\u4ee3\\u6765\\u4e86", "post_url": "https://juejin.cn/post/7463397212120973375"}, {"post_title": "\\u6b63\\u5f0f\\u5ba3\\u6218\\uff0cDeepSeek \\u9876\\u5f97\\u4f4f\\u5417\\uff1f", "post_url": "https://juejin.cn/post/7464848482987704329"}, {"post_title": "\\u7528 DeepSeek \\u6253\\u9020\\u4f60\\u7684\\u8d85\\u5f3a\\u4ee3\\u7801\\u52a9\\u624b", "post_url": "https://juejin.cn/post/7454888708588945443"}, {"post_title": "\\u521a\\u521a\\uff0cDeepSeek \\u89e3\\u7b54\\u4e86\\u56f0\\u6270\\u6211\\u4e94\\u5e74\\u7684\\u6280\\u672f\\u95ee\\u9898\\u3002\\u65f6\\u4ee3\\u786e\\u5b9e\\u53d8\\u4e86\\uff01", "post_url": "https://juejin.cn/post/7472248441454018575"}, {"post_title": "\\u653e\\u5f03\\u6ca1\\u7528\\u7684\\u672c\\u5730\\u90e8\\u7f72\\u6b8b\\u8840\\u7248DeepSeek\\u5427\\uff0c\\u6559\\u4f60\\u5982\\u4f55\\u767d\\u5ad6\\u6ee1\\u8840\\u7248DeepSeek", "post_url": "https://juejin.cn/post/7466832084486914083"}]}']
history.errors()---&gt; [None, None, None, None, None, None, None, None]
history.model_actions()---&gt; [{'go_to_url': {'url': 'https://juejin.cn'}, 'interacted_element': None}, {'input_text': {'index': 11, 'text': 'Vue'}, 'interacted_element': DOMHistoryElement(tag_name='input', xpath='html/body/div/div/div/div/div/div/header/div/nav/ul/ul/li/ul/li/form/input', highlight_index=11, entire_parent_branch_path=['div', 'div', 'div', 'div', 'div', 'div', 'header', 'div', 'nav', 'ul', 'ul', 'li', 'ul', 'li', 'form', 'input'], attributes={'type': 'search', 'maxlength': '64', 'placeholder': 'æ¢ç´¢ç¨€åœŸæ˜é‡‘', 'value': '', 'class': 'search-input', 'data-v-fdf9839c': ''}, shadow_root=False, css_selector='html &gt; body &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div &gt; header &gt; div &gt; nav &gt; ul &gt; ul &gt; li &gt; ul &gt; li &gt; form &gt; input.search-input[type="search"][placeholder="æ¢ç´¢ç¨€åœŸæ˜é‡‘"]', page_coordinates=None, viewport_coordinates=None, viewport_info=None)}, {'click_element': {'index': 11}, 'interacted_element': DOMHistoryElement(tag_name='input', xpath='html/body/div/div/div/div/div/div/header/div/nav/ul/ul/li/ul/li/form/input', highlight_index=11, entire_parent_branch_path=['div', 'div', 'div', 'div', 'div', 'div', 'header', 'div', 'nav', 'ul', 'ul', 'li', 'ul', 'li', 'form', 'input'], attributes={'type': 'search', 'maxlength': '64', 'placeholder': 'æ¢ç´¢ç¨€åœŸæ˜é‡‘', 'value': '', 'class': 'search-input', 'data-v-fdf9839c': ''}, shadow_root=False, css_selector='html &gt; body &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div &gt; header &gt; div &gt; nav &gt; ul &gt; ul &gt; li &gt; ul &gt; li &gt; form &gt; input.search-input[type="search"][placeholder="æ¢ç´¢ç¨€åœŸæ˜é‡‘"]', page_coordinates=None, viewport_coordinates=None, viewport_info=None)}, {'extract_content': {'goal': "Extract the top 5 articles for 'Vue' including post_title and post_url."}, 'interacted_element': None}, {'input_text': {'index': 11, 'text': 'React'}, 'interacted_element': DOMHistoryElement(tag_name='input', xpath='html/body/div/div/div/div/div/div/header/div/nav/ul/ul/li/ul/li/form/input', highlight_index=11, entire_parent_branch_path=['div', 'div', 'div', 'div', 'div', 'div', 'header', 'div', 'nav', 'ul', 'ul', 'li', 'ul', 'li', 'form', 'input'], attributes={'type': 'search', 'maxlength': '64', 'placeholder': 'æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·', 'value': '', 'class': 'search-input active', 'data-v-fdf9839c': '', 'style': ''}, shadow_root=False, css_selector='html &gt; body &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div &gt; header &gt; div &gt; nav &gt; ul &gt; ul &gt; li &gt; ul &gt; li &gt; form &gt; input.search-input.active[type="search"][placeholder="æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·"]', page_coordinates=None, viewport_coordinates=None, viewport_info=None)}, {'click_element': {'index': 11}, 'interacted_element': DOMHistoryElement(tag_name='input', xpath='html/body/div/div/div/div/div/div/header/div/nav/ul/ul/li/ul/li/form/input', highlight_index=11, entire_parent_branch_path=['div', 'div', 'div', 'div', 'div', 'div', 'header', 'div', 'nav', 'ul', 'ul', 'li', 'ul', 'li', 'form', 'input'], attributes={'type': 'search', 'maxlength': '64', 'placeholder': 'æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·', 'value': '', 'class': 'search-input active', 'data-v-fdf9839c': '', 'style': ''}, shadow_root=False, css_selector='html &gt; body &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div &gt; header &gt; div &gt; nav &gt; ul &gt; ul &gt; li &gt; ul &gt; li &gt; form &gt; input.search-input.active[type="search"][placeholder="æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·"]', page_coordinates=None, viewport_coordinates=None, viewport_info=None)}, {'extract_content': {'goal': "Extract the top 5 articles for 'React' including post_title and post_url."}, 'interacted_element': None}, {'input_text': {'index': 11, 'text': 'AI'}, 'interacted_element': DOMHistoryElement(tag_name='input', xpath='html/body/div/div/div/div/div/div/header/div/nav/ul/ul/li/ul/li/form/input', highlight_index=11, entire_parent_branch_path=['div', 'div', 'div', 'div', 'div', 'div', 'header', 'div', 'nav', 'ul', 'ul', 'li', 'ul', 'li', 'form', 'input'], attributes={'type': 'search', 'maxlength': '64', 'placeholder': 'æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·', 'value': '', 'class': 'search-input active', 'data-v-fdf9839c': '', 'style': ''}, shadow_root=False, css_selector='html &gt; body &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div &gt; header &gt; div &gt; nav &gt; ul &gt; ul &gt; li &gt; ul &gt; li &gt; form &gt; input.search-input.active[type="search"][placeholder="æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·"]', page_coordinates=None, viewport_coordinates=None, viewport_info=None)}, {'click_element': {'index': 11}, 'interacted_element': DOMHistoryElement(tag_name='input', xpath='html/body/div/div/div/div/div/div/header/div/nav/ul/ul/li/ul/li/form/input', highlight_index=11, entire_parent_branch_path=['div', 'div', 'div', 'div', 'div', 'div', 'header', 'div', 'nav', 'ul', 'ul', 'li', 'ul', 'li', 'form', 'input'], attributes={'type': 'search', 'maxlength': '64', 'placeholder': 'æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·', 'value': '', 'class': 'search-input active', 'data-v-fdf9839c': '', 'style': ''}, shadow_root=False, css_selector='html &gt; body &gt; div &gt; div &gt; div &gt; div &gt; div &gt; div &gt; header &gt; div &gt; nav &gt; ul &gt; ul &gt; li &gt; ul &gt; li &gt; form &gt; input.search-input.active[type="search"][placeholder="æœç´¢æ–‡ç« /å°å†Œ/æ ‡ç­¾/ç”¨æˆ·"]', page_coordinates=None, viewport_coordinates=None, viewport_info=None)}, {'extract_content': {'goal': "Extract the top 5 articles for 'AI' including post_title and post_url."}, 'interacted_element': None}, {'done': {'posts': [{'post_title': 'vue3.5+deepseek+arco+markdownæ­å»ºwebç‰ˆæµå¼è¾“å‡ºAIæ¨¡æ¿', 'post_url': 'https://juejin.cn/post/7486369696738017321'}, {'post_title': 'ğŸš€ğŸš€ğŸš€å°¤é›¨æºªè¿å‘ä¸¤æ¡æ¨ç‰¹å¢™è£‚æ¨èçš„è¿™äº›åº“ä½ ä¸€å®šè¦çŸ¥é“ï¼', 'post_url': 'https://juejin.cn/post/7484131071569772595'}, {'post_title': 'å‰ç«¯ä½¬ä»¬ï¼å¡Œæˆ¿äº†ï¼ç”¨è¿‡Element-Plusçš„è¿›æ¥~', 'post_url': 'https://juejin.cn/post/7485966905418760227'}, {'post_title': 'å’Œåç«¯å¤§æˆ˜ä¸‰ç™¾å›åˆåï¼Œå‘å¾®å‰ç«¯è¿˜æ˜¯é€‰æ‹©äº†è‡ªå·±å†™excelå¯¼å‡º', 'post_url': 'https://juejin.cn/post/7447368539936587776'}, {'post_title': 'ä» DeepSeek çœ‹25å¹´å‰ç«¯çš„ä¸€ä¸ªå°è¶‹åŠ¿', 'post_url': 'https://juejin.cn/post/7468323178931879972'}, {'post_title': 'ğŸš€ğŸš€ğŸš€å°¤é›¨æºªè¿å‘ä¸¤æ¡æ¨ç‰¹å¢™è£‚æ¨èçš„è¿™äº›åº“ä½ ä¸€å®šè¦çŸ¥é“ï¼', 'post_url': 'https://juejin.cn/post/7484131071569772595'}, {'post_title': 'å‰ç«¯ä½¬ä»¬ï¼å¡Œæˆ¿äº†ï¼ç”¨è¿‡Element-Plusçš„è¿›æ¥~', 'post_url': 'https://juejin.cn/post/7485966905418760227'}, {'post_title': 'å’Œåç«¯å¤§æˆ˜ä¸‰ç™¾å›åˆåï¼Œå‘å¾®å‰ç«¯è¿˜æ˜¯é€‰æ‹©äº†è‡ªå·±å†™excelå¯¼å‡º', 'post_url': 'https://juejin.cn/post/7447368539936587776'}, {'post_title': 'vue3.5+deepseek+arco+markdownæ­å»ºwebç‰ˆæµå¼è¾“å‡ºAIæ¨¡æ¿', 'post_url': 'https://juejin.cn/post/7486369696738017321'}, {'post_title': 'ä» DeepSeek çœ‹25å¹´å‰ç«¯çš„ä¸€ä¸ªå°è¶‹åŠ¿', 'post_url': 'https://juejin.cn/post/7468323178931879972'}, {'post_title': 'æœ‰äº†Traeï¼Œäººäººéƒ½æ˜¯ç¨‹åºå‘˜çš„æ—¶ä»£æ¥äº†', 'post_url': 'https://juejin.cn/post/7463397212120973375'}, {'post_title': 'æ­£å¼å®£æˆ˜ï¼ŒDeepSeek é¡¶å¾—ä½å—ï¼Ÿ', 'post_url': 'https://juejin.cn/post/7464848482987704329'}, {'post_title': 'ç”¨ DeepSeek æ‰“é€ ä½ çš„è¶…å¼ºä»£ç åŠ©æ‰‹', 'post_url': 'https://juejin.cn/post/7454888708588945443'}, {'post_title': 'åˆšåˆšï¼ŒDeepSeek è§£ç­”äº†å›°æ‰°æˆ‘äº”å¹´çš„æŠ€æœ¯é—®é¢˜ã€‚æ—¶ä»£ç¡®å®å˜äº†ï¼', 'post_url': 'https://juejin.cn/post/7472248441454018575'}, {'post_title': 'æ”¾å¼ƒæ²¡ç”¨çš„æœ¬åœ°éƒ¨ç½²æ®‹è¡€ç‰ˆDeepSeekå§ï¼Œæ•™ä½ å¦‚ä½•ç™½å«–æ»¡è¡€ç‰ˆDeepSeek', 'post_url': 'https://juejin.cn/post/7466832084486914083'}], 'success': True}, 'interacted_element': None}]
history.is_done()---&gt; True
history.has_errors()---&gt; False
history.model_thoughts()---&gt; [AgentBrain(evaluation_previous_goal='Unknown - No previous actions to evaluate.', memory="Starting the task. Need to open the Juejin website and search for 'Vue', 'React', and 'AI' keywords. Each search should yield at least 5 articles. Currently, 0 out of 3 keywords searched.", next_goal='Open the Juejin website.'), AgentBrain(evaluation_previous_goal='Success - Successfully navigated to the Juejin website.', memory="Task started. Currently, 0 out of 3 keywords searched ('Vue', 'React', 'AI'). Next, search for 'Vue' and extract the top 5 articles.", next_goal="Search for the keyword 'Vue' on Juejin."), AgentBrain(evaluation_previous_goal="Success - Successfully searched for the keyword 'Vue'.", memory="Task in progress. Searched for 'Vue' (1/3 keywords completed). Next, extract the top 5 articles for 'Vue'.", next_goal="Extract the top 5 articles for 'Vue'."), AgentBrain(evaluation_previous_goal="Success - Extracted the top 5 articles for 'Vue'.", memory="Task in progress. Searched for 'Vue' (1/3 keywords completed). Next, search for 'React' and extract the top 5 articles.", next_goal="Search for the keyword 'React' on Juejin."), AgentBrain(evaluation_previous_goal="Success - Successfully searched for the keyword 'React'.", memory="Task in progress. Searched for 'React' (2/3 keywords completed). Next, extract the top 5 articles for 'React'.", next_goal="Extract the top 5 articles for 'React'."), AgentBrain(evaluation_previous_goal="Success - Extracted the top 5 articles for 'React'.", memory="Task in progress. Searched for 'React' (2/3 keywords completed). Next, search for 'AI' and extract the top 5 articles.", next_goal="Search for the keyword 'AI' on Juejin."), AgentBrain(evaluation_previous_goal="Success - Successfully searched for the keyword 'AI'.", memory="Task in progress. Searched for 'AI' (3/3 keywords completed). Next, extract the top 5 articles for 'AI'.", next_goal="Extract the top 5 articles for 'AI'."), AgentBrain(evaluation_previous_goal="Success - Extracted the top 5 articles for 'AI'.", memory="Task completed. Searched for all 3 keywords ('Vue', 'React', 'AI') and extracted the top 5 articles for each. Total of 15 articles collected.", next_goal='Compile and return the final results.')]
history.action_results()---&gt; [ActionResult(is_done=False, success=None, extracted_content='ğŸ”—  Navigated to https://juejin.cn', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='âŒ¨ï¸  Input Vue into index 11', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='ğŸ–±ï¸  Clicked button with index 11: ', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='ğŸ“„  Extracted from page\n: ```json\n{\n  "top_5_vue_articles": [\n    {\n      "post_title": "vue3.5+deepseek+arco+markdownæ­å»ºwebç‰ˆæµå¼è¾“å‡ºAIæ¨¡æ¿",\n      "post_url": "https://juejin.cn/post/7486369696738017321"\n    },\n    {\n      "post_title": "ğŸš€ğŸš€ğŸš€å°¤é›¨æºªè¿å‘ä¸¤æ¡æ¨ç‰¹å¢™è£‚æ¨èçš„è¿™äº›åº“ä½ ä¸€å®šè¦çŸ¥é“ï¼",\n      "post_url": "https://juejin.cn/post/7484131071569772595"\n    },\n    {\n      "post_title": "å‰ç«¯ä½¬ä»¬ï¼å¡Œæˆ¿äº†ï¼ç”¨è¿‡Element-Plusçš„è¿›æ¥~",\n      "post_url": "https://juejin.cn/post/7485966905418760227"\n    },\n    {\n      "post_title": "å’Œåç«¯å¤§æˆ˜ä¸‰ç™¾å›åˆåï¼Œå‘å¾®å‰ç«¯è¿˜æ˜¯é€‰æ‹©äº†è‡ªå·±å†™excelå¯¼å‡º",\n      "post_url": "https://juejin.cn/post/7447368539936587776"\n    },\n    {\n      "post_title": "ä» DeepSeek çœ‹25å¹´å‰ç«¯çš„ä¸€ä¸ªå°è¶‹åŠ¿",\n      "post_url": "https://juejin.cn/post/7468323178931879972"\n    }\n  ]\n}\n```\n', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='âŒ¨ï¸  Input React into index 11', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='ğŸ–±ï¸  Clicked button with index 11: ', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='ğŸ“„  Extracted from page\n: ```json\n{\n  "top_5_react_articles": [\n    {\n      "post_title": "ğŸš€ğŸš€ğŸš€å°¤é›¨æºªè¿å‘ä¸¤æ¡æ¨ç‰¹å¢™è£‚æ¨èçš„è¿™äº›åº“ä½ ä¸€å®šè¦çŸ¥é“ï¼",\n      "post_url": "/post/7484131071569772595"\n    },\n    {\n      "post_title": "å‰ç«¯ä½¬ä»¬ï¼å¡Œæˆ¿äº†ï¼ç”¨è¿‡Element-Plusçš„è¿›æ¥~",\n      "post_url": "/post/7485966905418760227"\n    },\n    {\n      "post_title": "å’Œåç«¯å¤§æˆ˜ä¸‰ç™¾å›åˆåï¼Œå‘å¾®å‰ç«¯è¿˜æ˜¯é€‰æ‹©äº†è‡ªå·±å†™excelå¯¼å‡º",\n      "post_url": "/post/7447368539936587776"\n    },\n    {\n      "post_title": "vue3.5+deepseek+arco+markdownæ­å»ºwebç‰ˆæµå¼è¾“å‡ºAIæ¨¡æ¿",\n      "post_url": "/post/7486369696738017321"\n    },\n    {\n      "post_title": "ä» DeepSeek çœ‹25å¹´å‰ç«¯çš„ä¸€ä¸ªå°è¶‹åŠ¿",\n      "post_url": "/post/7468323178931879972"\n    }\n  ]\n}\n```\n', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='âŒ¨ï¸  Input AI into index 11', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='ğŸ–±ï¸  Clicked button with index 11: ', error=None, include_in_memory=True), ActionResult(is_done=False, success=None, extracted_content='ğŸ“„  Extracted from page\n: ```json\n{\n  "top_5_ai_articles": [\n    {\n      "post_title": "æœ‰äº†Traeï¼Œäººäººéƒ½æ˜¯ç¨‹åºå‘˜çš„æ—¶ä»£æ¥äº†",\n      "post_url": "/post/7463397212120973375"\n    },\n    {\n      "post_title": "æ­£å¼å®£æˆ˜ï¼ŒDeepSeek é¡¶å¾—ä½å—ï¼Ÿ",\n      "post_url": "/post/7464848482987704329"\n    },\n    {\n      "post_title": "ç”¨ DeepSeek æ‰“é€ ä½ çš„è¶…å¼ºä»£ç åŠ©æ‰‹",\n      "post_url": "/post/7454888708588945443"\n    },\n    {\n      "post_title": "åˆšåˆšï¼ŒDeepSeek è§£ç­”äº†å›°æ‰°æˆ‘äº”å¹´çš„æŠ€æœ¯é—®é¢˜ã€‚æ—¶ä»£ç¡®å®å˜äº†ï¼",\n      "post_url": "/post/7472248441454018575"\n    },\n    {\n      "post_title": "æ”¾å¼ƒæ²¡ç”¨çš„æœ¬åœ°éƒ¨ç½²æ®‹è¡€ç‰ˆDeepSeekå§ï¼Œæ•™ä½ å¦‚ä½•ç™½å«–æ»¡è¡€ç‰ˆDeepSeek",\n      "post_url": "/post/7466832084486914083"\n    }\n  ]\n}\n```\n', error=None, include_in_memory=True), ActionResult(is_done=True, success=True, extracted_content='{"posts": [{"post_title": "vue3.5+deepseek+arco+markdown\\u642d\\u5efaweb\\u7248\\u6d41\\u5f0f\\u8f93\\u51faAI\\u6a21\\u677f", "post_url": "https://juejin.cn/post/7486369696738017321"}, {"post_title": "\\ud83d\\ude80\\ud83d\\ude80\\ud83d\\ude80\\u5c24\\u96e8\\u6eaa\\u8fde\\u53d1\\u4e24\\u6761\\u63a8\\u7279\\u5899\\u88c2\\u63a8\\u8350\\u7684\\u8fd9\\u4e9b\\u5e93\\u4f60\\u4e00\\u5b9a\\u8981\\u77e5\\u9053\\uff01", "post_url": "https://juejin.cn/post/7484131071569772595"}, {"post_title": "\\u524d\\u7aef\\u4f6c\\u4eec\\uff01\\u584c\\u623f\\u4e86\\uff01\\u7528\\u8fc7Element-Plus\\u7684\\u8fdb\\u6765~", "post_url": "https://juejin.cn/post/7485966905418760227"}, {"post_title": "\\u548c\\u540e\\u7aef\\u5927\\u6218\\u4e09\\u767e\\u56de\\u5408\\u540e\\uff0c\\u5351\\u5fae\\u524d\\u7aef\\u8fd8\\u662f\\u9009\\u62e9\\u4e86\\u81ea\\u5df1\\u5199excel\\u5bfc\\u51fa", "post_url": "https://juejin.cn/post/7447368539936587776"}, {"post_title": "\\u4ece DeepSeek \\u770b25\\u5e74\\u524d\\u7aef\\u7684\\u4e00\\u4e2a\\u5c0f\\u8d8b\\u52bf", "post_url": "https://juejin.cn/post/7468323178931879972"}, {"post_title": "\\ud83d\\ude80\\ud83d\\ude80\\ud83d\\ude80\\u5c24\\u96e8\\u6eaa\\u8fde\\u53d1\\u4e24\\u6761\\u63a8\\u7279\\u5899\\u88c2\\u63a8\\u8350\\u7684\\u8fd9\\u4e9b\\u5e93\\u4f60\\u4e00\\u5b9a\\u8981\\u77e5\\u9053\\uff01", "post_url": "https://juejin.cn/post/7484131071569772595"}, {"post_title": "\\u524d\\u7aef\\u4f6c\\u4eec\\uff01\\u584c\\u623f\\u4e86\\uff01\\u7528\\u8fc7Element-Plus\\u7684\\u8fdb\\u6765~", "post_url": "https://juejin.cn/post/7485966905418760227"}, {"post_title": "\\u548c\\u540e\\u7aef\\u5927\\u6218\\u4e09\\u767e\\u56de\\u5408\\u540e\\uff0c\\u5351\\u5fae\\u524d\\u7aef\\u8fd8\\u662f\\u9009\\u62e9\\u4e86\\u81ea\\u5df1\\u5199excel\\u5bfc\\u51fa", "post_url": "https://juejin.cn/post/7447368539936587776"}, {"post_title": "vue3.5+deepseek+arco+markdown\\u642d\\u5efaweb\\u7248\\u6d41\\u5f0f\\u8f93\\u51faAI\\u6a21\\u677f", "post_url": "https://juejin.cn/post/7486369696738017321"}, {"post_title": "\\u4ece DeepSeek \\u770b25\\u5e74\\u524d\\u7aef\\u7684\\u4e00\\u4e2a\\u5c0f\\u8d8b\\u52bf", "post_url": "https://juejin.cn/post/7468323178931879972"}, {"post_title": "\\u6709\\u4e86Trae\\uff0c\\u4eba\\u4eba\\u90fd\\u662f\\u7a0b\\u5e8f\\u5458\\u7684\\u65f6\\u4ee3\\u6765\\u4e86", "post_url": "https://juejin.cn/post/7463397212120973375"}, {"post_title": "\\u6b63\\u5f0f\\u5ba3\\u6218\\uff0cDeepSeek \\u9876\\u5f97\\u4f4f\\u5417\\uff1f", "post_url": "https://juejin.cn/post/7464848482987704329"}, {"post_title": "\\u7528 DeepSeek \\u6253\\u9020\\u4f60\\u7684\\u8d85\\u5f3a\\u4ee3\\u7801\\u52a9\\u624b", "post_url": "https://juejin.cn/post/7454888708588945443"}, {"post_title": "\\u521a\\u521a\\uff0cDeepSeek \\u89e3\\u7b54\\u4e86\\u56f0\\u6270\\u6211\\u4e94\\u5e74\\u7684\\u6280\\u672f\\u95ee\\u9898\\u3002\\u65f6\\u4ee3\\u786e\\u5b9e\\u53d8\\u4e86\\uff01", "post_url": "https://juejin.cn/post/7472248441454018575"}, {"post_title": "\\u653e\\u5f03\\u6ca1\\u7528\\u7684\\u672c\\u5730\\u90e8\\u7f72\\u6b8b\\u8840\\u7248DeepSeek\\u5427\\uff0c\\u6559\\u4f60\\u5982\\u4f55\\u767d\\u5ad6\\u6ee1\\u8840\\u7248DeepSeek", "post_url": "https://juejin.cn/post/7466832084486914083"}]}', error=None, include_in_memory=False)]
</code></pre>
<h3 id="4-prompt">4. Prompt</h3>
<p><strong>ç”¨äº</strong> æ§åˆ¶ Agent çš„è¡Œä¸ºä¸èƒ½åŠ›ï¼Œå¯¹å…¶æ•´ä½“é€»è¾‘æœ‰æ·±å±‚å½±å“ã€‚</p>
<p>è‡ªå®šä¹‰æç¤ºä¼šæ˜¾è‘—å½±å“æ€§èƒ½ã€ç¨³å®šæ€§å’Œè¾“å‡ºé£æ ¼ã€‚</p>
<p>message_context å­—æ®µ</p>
<h3 id="5-æŒä¹…åŒ–ä¼šè¯">5. æŒä¹…åŒ–ä¼šè¯</h3>
<p>å¢åŠ  Cookie</p>
<pre><code class="language-python">context_config = BrowserContextConfig(cookies_file="cookies.json")
</code></pre>
<hr>
<h2 id="äº”demo-ç¤ºä¾‹">äº”ã€Demo ç¤ºä¾‹</h2>
<h3 id="1-ç®€å•ç¤ºä¾‹">1. ç®€å•ç¤ºä¾‹</h3>
<pre><code class="language-python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import asyncio
from dotenv import load_dotenv
from langchain_openai import ChatOpenAI
from browser_use import Agent

load_dotenv()

llm = ChatOpenAI(model="gpt-4o")

async def main():
    agent = Agent(
        task="æ‰“å¼€ https://cn.vuejs.org/guide/essentials/computedï¼Œè·å–é¡µé¢é‡Œæ‰€æœ‰çš„ h2 æ ‡ç­¾æ–‡æœ¬åŠæ‰€æœ‰çš„ a æ ‡ç­¾æ–‡æœ¬ï¼ˆä»¥åŠå®ƒçš„ hrefï¼‰",
        llm=llm,
    )
    result = await agent.run()
    print('result:',result)

if __name__ == "__main__":
    asyncio.run(main())
</code></pre>
<h4 id="11-æ ¸å¿ƒæµç¨‹">1.1. æ ¸å¿ƒæµç¨‹:</h4>
<ol>
<li>ä» .env ä¸­è¯»å– OPENAI_API_KEY ç­‰ä¿¡æ¯ï¼Œåˆå§‹åŒ– ChatOpenAIã€‚</li>
<li>åˆ›å»ºä¸€ä¸ª Agentï¼ŒæŒ‡å®š task å³æè¿°æ™ºèƒ½ä½“è¦å®Œæˆçš„ä»»åŠ¡ã€‚</li>
<li>è°ƒç”¨ agent.run() å‘èµ·æ‰§è¡Œï¼ŒåŒ…æ‹¬æµè§ˆå™¨è‡ªåŠ¨åŒ–ä¸ LLM ç»“åˆçš„æµç¨‹ã€‚</li>
</ol>
<h3 id="2-ä½¿ç”¨æœ¬åœ°çš„-chrome-æµè§ˆå™¨">2. ä½¿ç”¨æœ¬åœ°çš„ Chrome æµè§ˆå™¨</h3>
<pre><code class="language-python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-

from browser_use import Agent, Browser, BrowserConfig
from langchain_openai import ChatOpenAI
from dotenv import load_dotenv
import asyncio

load_dotenv()
browser = Browser(
    config=BrowserConfig(
        chrome_instance_path='/Applications/Google Chrome.app/Contents/MacOS/Google Chrome',
    )
)

llm = ChatOpenAI(model="gpt-4o")

agent = Agent(
    task="æ‰“å¼€ https://cn.vuejs.org/guide/essentials/computedï¼Œè·å–é¡µé¢é‡Œæ‰€æœ‰çš„ h2 æ ‡ç­¾æ–‡æœ¬åŠæ‰€æœ‰çš„ a æ ‡ç­¾æ–‡æœ¬ï¼ˆä»¥åŠå®ƒçš„ hrefï¼‰",
    llm=llm,
    browser=browser,
)

async def main():
    await agent.run()
    await browser.close()

if __name__ == '__main__':
    asyncio.run(main())
</code></pre>
<h3 id="3-prompt">3. Prompt</h3>
<pre><code class="language-python">from pydantic import BaseModel
from typing import List
from dotenv import load_dotenv
from browser_use import Agent, Controller, Browser, BrowserConfig
from langchain_openai import ChatOpenAI
import asyncio

class WikiResult(BaseModel):
    post_title: str
    post_url: str

class WikiResults(BaseModel):
    posts: List[WikiResult]


load_dotenv()

browser = Browser(
    config=BrowserConfig(
        chrome_instance_path='/Applications/Google Chrome.app/Contents/MacOS/Google Chrome',
    )
)

instruction_message = """
ä½ æ­£åœ¨è®¿é—®ä¸€ä¸ªå…¬å¸å†…éƒ¨ Wiki ç³»ç»Ÿï¼šhttp://wiki.xxx.com/pages/

ä½ çš„ç›®æ ‡æ˜¯ï¼š
1. æ‰“å¼€è¯¥é¡µé¢å¹¶ä½¿ç”¨æœç´¢åŠŸèƒ½ï¼Œè¾“å…¥å…³é”®è¯ï¼šRAP
2. ç­‰å¾…é¡µé¢åŠ è½½å®Œæ¯•ï¼Œæå–æ‰€æœ‰ä¸æœç´¢ç»“æœç›¸å…³çš„æ¡ç›®ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€ç®€è¦æè¿°å’Œå¯¹åº”é“¾æ¥ã€‚
3. ä¼˜å…ˆæå–æ¡ç›®ä¸­å‡ºç° "æ¥å£ç®¡ç†"ã€"Mock"ã€"æƒé™" ç­‰å…³é”®è¯çš„å†…å®¹ã€‚
4. å°†æ‰€æœ‰ç»“æœä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚

è¯·ç¡®ä¿ä½ çš„è¿”å›æ ¼å¼å¦‚ä¸‹ï¼š
{
  "posts": [
    {
      "post_title": "xxx",
      "post_url": "http://..."
    },
    ...
  ]
}
"""

controller = Controller(output_model=WikiResults)

async def main():
    task = "æœç´¢ Wiki ä¸­æœ‰å…³ RAP çš„å†…å®¹"
    model = ChatOpenAI(model='gpt-4o')

    agent = Agent(
        task=task,
        llm=model,
        controller=controller,
        browser=browser,
        message_context=instruction_message
    )

    history = await agent.run()
    result = history.final_result()

    if result:
        parsed: WikiResults = WikiResults.model_validate_json(result)

        for post in parsed.posts:
            print('\n--------------------------------')
            print(f'Title:  {post.post_title}')
            print(f'URL:    {post.post_url}')
    else:
        print('No result')


if __name__ == '__main__':
    asyncio.run(main())
</code></pre>
<h3 id="4-å¤šä¸ª-agent-æ‰§è¡Œ">4. å¤šä¸ª Agent æ‰§è¡Œ</h3>
<pre><code class="language-python">agent1 = Agent(
    task="æ‰“å¼€ https://cn.vuejs.org/guide/essentials/computedï¼Œè·å–é¡µé¢é‡Œæ‰€æœ‰çš„ h2 æ ‡ç­¾æ–‡æœ¬åŠæ‰€æœ‰çš„ a æ ‡ç­¾æ–‡æœ¬ï¼ˆä»¥åŠå®ƒçš„ hrefï¼‰",
    llm=llm,
    use_vision=False
)
result1 = await agent1.run()
agent2 = Agent(
    task="æ‰“å¼€ https://docs.browser-use.com/customize/custom-functionsï¼Œè·å–é¡µé¢é‡Œæ‰€æœ‰çš„ h2 æ ‡ç­¾æ–‡æœ¬åŠæ‰€æœ‰çš„ a æ ‡ç­¾æ–‡æœ¬ï¼ˆä»¥åŠå®ƒçš„ hrefï¼‰",
    llm=llm,
    use_vision=False
)
result2 = await agent2.run()
</code></pre>
<hr>
<h2 id="å…­å¸¸è§æ“ä½œ">å…­ã€å¸¸è§æ“ä½œ</h2>
<h3 id="1-ä¿®æ”¹-llm-æ¨¡å‹">1. ä¿®æ”¹ LLM æ¨¡å‹</h3>
<pre><code class="language-python">llm = ChatOpenAI(model="gpt-3.5-turbo")
</code></pre>
<p>æˆ–</p>
<pre><code class="language-python">llm = ChatOpenAI(model="gpt-4o")
</code></pre>
<h3 id="2-åœ¨-env-ä¸­è®¾ç½®-api-key">2. åœ¨ .env ä¸­è®¾ç½® API Key</h3>
<pre><code class="language-plain">OPENAI_API_KEY=sk-xxxx
ANTHROPIC_API_KEY=xxxxxx
</code></pre>
<p>å¦‚æœä½ è¿˜éœ€ä½¿ç”¨å…¶ä»–æ¨¡å‹ï¼ˆå¦‚ Cohereã€HuggingFace Hubï¼‰ï¼Œå¯ä¸€å¹¶é…ç½®å¯¹åº”çš„ Keyï¼Œå¹¶åœ¨ Python è„šæœ¬ä¸­åˆå§‹åŒ–ç›¸åº”çš„ LLM å¯¹è±¡ã€‚</p>
<h3 id="3-å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹">3. å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹</h3>
<p>åœ¨ <a href="https://docs.browser-use.com/introduction" target="_blank" rel="noopener nofollow">docs.browser-use.com/introduction</a> å¯ä»¥æ‰¾åˆ°æ›´å¤šåœºæ™¯ç¤ºä¾‹ï¼Œæ¯”å¦‚å¦‚ä½•å®šåˆ¶ browser-use çš„ Toolsã€é…åˆ PythonREPLTool æ‰©å±•æ‰§è¡Œ Python è„šæœ¬ç­‰ã€‚</p>
<hr>
<h2 id="ä¸ƒui-æµ‹è¯•æ–¹å¼">ä¸ƒã€UI æµ‹è¯•æ–¹å¼</h2>
<h3 id="1-å®‰è£…-gradio">1. å®‰è£… Gradio</h3>
<pre><code class="language-plain">pip3 install gradio
</code></pre>
<h3 id="2-è¿è¡Œç¤ºä¾‹">2. è¿è¡Œç¤ºä¾‹</h3>
<pre><code class="language-python">import asyncio

import gradio as gr
from dotenv import load_dotenv
from langchain_openai import ChatOpenAI

from browser_use import Agent

load_dotenv()


llm=ChatOpenAI(base_url='https://api.deepseek.com/v1', model='deepseek-chat', api_key="sk-XXX")

async def run_browser_task(
    task: str,
) -&gt; str:
    try:
        print('task', task)
        agent = Agent(
            task=task,
            llm=llm,
            use_vision=False
        )
        result = await agent.run()
        print('final_result()', result.final_result())
        return result
    except Exception as e:
        return f'Error: {str(e)}'


def create_ui():
    with gr.Blocks(title='Browser Use GUI') as interface:
        gr.Markdown('# Browser Use Task Automation')

        with gr.Row():
            with gr.Column():
                task = gr.Textbox(
                    label='Task Description',
                    placeholder='Task æè¿°',
                    lines=3,
                )
                model = gr.Dropdown(
                    choices=['gpt-4', 'gpt-3.5-turbo'], label='Model', value='gpt-4'
                )
                headless = gr.Checkbox(label='Run Headless', value=True)
                submit_btn = gr.Button('Run Task')

            with gr.Column():
                output = gr.Textbox(label='Output', lines=10, interactive=False)

        submit_btn.click(
            fn=lambda *args: asyncio.run(run_browser_task(task.value)),
            inputs=[task, model, headless],
            outputs=output,
        )

    return interface


if __name__ == '__main__':
    demo = create_ui()
    demo.launch()
</code></pre>
<p>æ‰“å¼€ç»ˆç«¯æç¤ºçš„åœ°å€ï¼Œå°±èƒ½çœ‹åˆ°ä¸€ä¸ªç®€æ˜“çš„ web ç•Œé¢ï¼Œåœ¨ç•Œé¢ä¸­è¾“å…¥ task ç­‰ä¿¡æ¯æµ‹è¯•æ™ºèƒ½ä½“ã€‚</p>
<p><img src="https://cdn.nlark.com/yuque/0/2025/png/340359/1743125772600-d32a1b90-c5fb-499c-a2f0-b6fae41eefba.png" alt="" loading="lazy"></p>
<hr>
<h2 id="å…«å¸¸è§é—®é¢˜--è§£å†³æ€è·¯">å…«ã€å¸¸è§é—®é¢˜ &amp; è§£å†³æ€è·¯</h2>
<ul>
<li><strong>æŠ¥é”™ï¼šplaywright not installed æˆ– executable path not found</strong>
<ul>
<li>è¯·ç¡®è®¤å·²æ‰§è¡Œ playwright install chromiumï¼Œä¸”å®‰è£…æˆåŠŸã€‚</li>
</ul>
</li>
<li><strong>Python ç‰ˆæœ¬è¿‡ä½</strong>
<ul>
<li>Browser-use è¦æ±‚ Python &gt;= 3.11ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ 3.10 æˆ–æ›´ä½ç‰ˆæœ¬ï¼Œéœ€è¦å‡çº§ç¯å¢ƒã€‚</li>
</ul>
</li>
<li><strong>LLM è°ƒç”¨å¤±è´¥</strong>
<ul>
<li>æ£€æŸ¥æ˜¯å¦åœ¨ .env ä¸­å¡«å†™äº†æ­£ç¡®çš„ API keyï¼Œæˆ–ä½ çš„ Key æ˜¯å¦ä»åœ¨æœ‰æ•ˆæœŸå†…ã€‚</li>
</ul>
</li>
<li><strong>ä¸€ç›´æ‰§è¡Œ Step1</strong>
<ul>
<li>Key æ²¡é’±äº†...</li>
</ul>
</li>
<li><strong>UI Demo å¯åŠ¨åæ— æ³•è®¿é—®</strong>
<ul>
<li>å¯èƒ½æ˜¯ç«¯å£å ç”¨ï¼Œæˆ–è€… Gradio ç‰ˆæœ¬è¿‡æ—§ã€‚å°è¯•æ›´æ–° gradio æˆ–æ¢ä¸€ä¸ªç«¯å£ã€‚</li>
</ul>
</li>
<li><strong>é•¿æ—¶é—´å¡ä½/è¶…æ—¶</strong>
<ul>
<li>æ£€æŸ¥ç½‘ç»œç¯å¢ƒï¼ŒLLM è¯·æ±‚æˆ–æµè§ˆå™¨åŠ è½½æ˜¯å¦è€—æ—¶è¿‡é•¿ã€‚</li>
</ul>
</li>
<li><strong>DeepSeek</strong>
<ul>
<li>éœ€è¦æ·»åŠ  use_vision=False å­—æ®µ</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ä¹æ€»ç»“">ä¹ã€æ€»ç»“</h2>
<p><strong>Browser-use</strong> è®© AI ä¸æµè§ˆå™¨çš„ç»“åˆå˜å¾—æ›´ä¾¿æ·ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ„å»ºå‡ºâ€œä¼šæµè§ˆç½‘é¡µã€æŠ“å–ä¿¡æ¯ã€è¿›è¡ŒåŠ¨æ€äº¤äº’â€çš„æ™ºèƒ½ä½“ã€‚åªéœ€ç®€å•çš„é…ç½®ä¸å‡ è¡Œä»£ç ï¼Œå°±èƒ½è®© LLM è‡ªåŠ¨å¤„ç†ç½‘é¡µæ“ä½œï¼Œä¸ºé¡¹ç›®å¸¦æ¥æ›´å¤šå¯èƒ½æ€§ã€‚</p>
<ul>
<li>ä½¿ç”¨ Python &gt;= 3.11ï¼›</li>
<li>å®‰è£…å¹¶é…ç½®å¥½ Playwrightï¼›</li>
<li>åœ¨ä¸»ä»£ç ä¸­åˆå§‹åŒ– Agent å¹¶æä¾› LLMï¼›</li>
<li>åœ¨ .env ä¸­å­˜æ”¾ API Keysï¼›</li>
</ul>
<hr>
<h2 id="åå‚è€ƒ">åã€å‚è€ƒ</h2>
<ul>
<li><strong>GitHub</strong>: <a href="https://github.com/browser-use/browser-use" target="_blank" rel="noopener nofollow">browser-use/browser-use</a></li>
<li><strong>å®˜ç½‘</strong>: <a href="https://browser-use.com/" target="_blank" rel="noopener nofollow">browser-use.com</a></li>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>: <a href="https://docs.browser-use.com/introduction" target="_blank" rel="noopener nofollow">docs.browser-use.com/introduction</a></li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.3174608768854167" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-07 10:41">2025-04-07 10:41</span>&nbsp;
<a href="https://www.cnblogs.com/risheng">æ—¥å‡_rs</a>&nbsp;
é˜…è¯»(<span id="post_view_count">14</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18812284" rel="nofollow">ç¼–è¾‘</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18812284);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18812284', targetLink: 'https://www.cnblogs.com/risheng/p/18812284', title: 'Browser-useï¼šåŸºäº Python çš„æ™ºèƒ½æµè§ˆå™¨è‡ªåŠ¨åŒ– AI å·¥å…·è°ƒç ”ä¸å®æˆ˜' })">ä¸¾æŠ¥</a>
</div>
        