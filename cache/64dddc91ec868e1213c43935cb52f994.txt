
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jackyfei/p/19047483" title="发布于 2025-08-20 09:09">
    <span role="heading" aria-level="2">如何做一个纯净版的ABP vNext 脚手架</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<blockquote>
<p>大家好，我是张飞洪，专注.NET开发十来年。感谢您的阅读，我会不定期分享我的学习心得和职场经验，希望我的文章能成为你成长路上的助力。让我们一起精进，共同进步。</p>
</blockquote>
<p><a href="https://www.bilibili.com/video/BV198eTzyEfC/?vd_source=7fc8082a3f70dec5f3b49c8eee0d4433" target="_blank" rel="noopener nofollow">视频</a></p>
<p>今天想和分享的是如何基于一套自定义的模版，用来快速搭建项目的脚手架。</p>
<h1 id="1各种搭建方式">1.各种搭建方式</h1>
<p>我们知道ABP 有提供了自己的脚手架搭建方式，有很多种方式，比如像下面这种操作：</p>
<h2 id="11命令行">1.1命令行</h2>
<ul>
<li>创建控制台项目</li>
</ul>
<pre><code>abp new Tota.Microservices -t console -o Tota.Microservices -v 9.3.0
</code></pre>
<ul>
<li>创建Module模板项目（Mysql+无界面）</li>
</ul>
<pre><code>abp new Tota.Gdpr -t module --no-ui --dbms mysql -cs "Server=192.168.11.11;Port=3306;Database=JackfeiDb;Uid=root;Pwd=JackfeiDb;"&nbsp; -v 9.3.0
</code></pre>
<ul>
<li>创建WebApi项目</li>
</ul>
<pre><code>abp new Tota.File --no-ui -dbms mysql -cs "Server=192.168.11.11;Port=3306;Database=JackfeiDb;Uid=root;Pwd=JackfeiDb;"&nbsp; --separate-auth-server -v 9.3.0
</code></pre>
<h2 id="12第三方工具">1.2第三方工具</h2>
<p>你也可以采用第三方工具，比如AbpHelper来快速搭建，比如下面这种操作：<br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819202629629-1108321136.png" alt="image" width="500" height="400" loading="lazy"></p>
<h2 id="13官网">1.3官网</h2>
<p>还有一种，就是你到<a href="https://abp.io/get-started" target="_blank" rel="noopener nofollow">官网</a>配置并下载</p>
<p><img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819202932227-1067281181.png" alt="image" width="500" height="400" loading="lazy"></p>
<h2 id="14其他">1.4其他</h2>
<p>当然，还有其他方式，比如基于老项目进行复制，采用abp studio进行创建等等</p>
<h1 id="2自定义搭建">2.自定义搭建</h1>
<p>以上搭建方式十分方便，但是我想实现的是结合公司自己的规范，希望脚手架能够包含更多自己的最佳实践，比如：</p>
<h2 id="21每个类都有完整的注释">2.1每个类都有完整的注释</h2>
<pre><code>/// &lt;summary&gt;
/// 数据集应用服务
/// &lt;para&gt;版 权：蓝略数字科技有限公司（https://www.lanlue.cn）&lt;/para&gt;
/// &lt;para&gt;作 者：张飞洪&lt;/para&gt;
/// &lt;/summary&gt;
public class DataSetAppService : ApplicationService, IDataSetAppService
</code></pre>
<h2 id="22给每个接口增加注释">2.2给每个接口增加注释</h2>
<pre><code>private static void ConfigureSwaggerServices(ServiceConfigurationContext context, IConfiguration configuration)
{
    context.Services.AddAbpSwaggerGenWithOAuth(
        configuration["AuthServer:Authority"]!,
        new Dictionary&lt;string, string&gt;
        {
                {"DataIntegration", "DataIntegration API"}
        },
        options =&gt;
        {
            options.SwaggerDoc("v1", new OpenApiInfo { Title = "DataIntegration API", Version = "v1" });
            options.DocInclusionPredicate((docName, description) =&gt; true);
            options.CustomSchemaIds(type =&gt; type.FullName);

            // 引入 XML 注释文件
            var xmlContractFile = $"Tota.DataIntegration.Application.Contracts.xml";
            var xmlHttpApiFile = $"Tota.DataIntegration.HttpApi.xml";
            if (File.Exists(Path.Combine(AppContext.BaseDirectory, xmlContractFile)))
                options.IncludeXmlComments(Path.Combine(AppContext.BaseDirectory, "Tota.DataIntegration.Application.Contracts.xml"));
            if (File.Exists(Path.Combine(AppContext.BaseDirectory, xmlHttpApiFile)))
                options.IncludeXmlComments(Path.Combine(AppContext.BaseDirectory, "Tota.DataIntegration.HttpApi.xml"));

        });
}
</code></pre>
<h2 id="23-给每个接口一个默认模版比如像下面这样">2.3 给每个接口一个默认模版，比如像下面这样</h2>
<pre><code>/// &lt;summary&gt;
/// 创建连接器
/// &lt;/summary&gt;
/// &lt;param name="input"&gt;创建连接器入参&lt;/param&gt;
/// &lt;returns&gt;创建后的连接器&lt;/returns&gt;
[HttpPost]
public async Task&lt;ConnectorOutput&gt; CreateAsync([FromBody] CreateConnectorOutput input)
{
    return await _connectorAppService.CreateAsync(input);
}
</code></pre>
<p>当然还有很多可能你想要预先内置的规范，这里不一一罗列了，重点来了，这里要怎么实现呢？</p>
<h1 id="3如何实现">3.如何实现</h1>
<h2 id="31-准备模版项目">3.1 准备模版项目</h2>
<p>这个工作还是不可避免的，因为没有人知道你的规范是什么，我这里简单介绍一下我们公司自己的规范，因为规范很多，下面截图只是冰山一角。<br>
比如 DDD 每层的规约：<br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819205903321-51996523.png" alt="image" width="195" height="379" loading="lazy"></p>
<p>又比如，DTO 内部的规约：<br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819210024163-2097505000.png" alt="image" width="600" height="500" loading="lazy"><br>
这些规约是一个公司十分重要的规范，但是你如果只是让新人看文档，可能不是很有感觉，如果这些规范能内置到脚手架里面，那就太好了。</p>
<h2 id="32-采用生成工具">3.2 采用生成工具</h2>
<ul>
<li>
<p>把我的模版项目和工具拷贝到你的目录下，比如叫 src目录：<br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819210715592-1474288545.png" alt="image" width="133" height="55" loading="lazy"></p>
</li>
<li>
<p>输入配置参数<br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819234917770-62969198.png" alt="image" width="587" height="286" loading="lazy"></p>
</li>
</ul>
<p>这个时候，下面会多出一个项目文件<br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819234701394-1443652330.png" alt="image" width="147" height="76" loading="lazy"></p>
<ul>
<li>打开并运行项目</li>
</ul>
<p><strong>新生成项目目录</strong><br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819234950622-923714690.png" alt="image" width="202" height="231" loading="lazy"><br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819235144586-907925295.png" alt="image" width="614" height="530" loading="lazy"></p>
<p><strong>对比模版项目目录</strong><br>
<img src="https://img2024.cnblogs.com/blog/127185/202508/127185-20250819235329710-1949340845.png" alt="image" width="228" height="227" loading="lazy"></p>
<p>关于生成小工具，也放在我的知识星球当中：</p>
<img src="https://images.cnblogs.com/cnblogs_com/jackyfei/1334006/o_250818073320_zsxq.jpg" width="150" height="150">

</div>
<div id="MySignature" role="contentinfo">
    <div style="padding: 10px 10px 10px 20px; border: 1px dashed #333; font-family: 微软雅黑; font-size: 12px" id="mySignature"> 
   <!-- <span style="font-size: 10pt">希望以上分享对你有所帮助，感谢您的捧场。</span>-->
<br> 
<strong><span style="font-size: 10pt">个人微信：</span></strong>沟通创造快乐，分享带来价值 <br> 
<img src="https://images.cnblogs.com/cnblogs_com/jackyfei/1334006/o_221116135151_WechatIMG37.jpeg" width="150" height="150"> <br>
<strong><span style="font-size: 10pt">知识星球：</span></strong>为您提供更多更全的增值服务 <br> 
<img src="https://images.cnblogs.com/cnblogs_com/jackyfei/1334006/o_250818073320_zsxq.jpg" width="150" height="150">
<!--<strong><span style="font-size: 10pt">我的视频：</span></strong><a target="_blank" href="https://ke.qq.com/course/3096934?tuin=27c3e37"><span style="color:#F39019">ABP vNext视频系列</span></a>    <br>-->
  <br>
    个人作品：
    <a target="_blank" href="https://dotnet.tota.lanlue.cn/login">数字基座</a> /
    <a target="_blank" href="https://auth.lanlue.cn/">云身份认证授权 </a>
   <!--<a target="_blank" href="https://appstv6elnt7382.h5.xiaoeknow.com">我的视频</a> <br/>--><br>
    <a target="_blank" href="http://wpa.qq.com/msgrd?v=3&amp;uin=996767213&amp;site=qq&amp;menu=yes">QQ交流群 |</a>
    <a target="_blank" href="https://t.zsxq.com/I2vNFub">知识星球</a>
   <br>
   <p></p>  <div class="reward-btn">
    <strong>打赏支持</strong>
   </div> 
 <p></p></div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.04722222222222222" data-date-updated="2025-08-20 10:17">2025-08-20 09:09</span>&nbsp;
<a href="https://www.cnblogs.com/jackyfei">张飞洪[厦门]</a>&nbsp;
阅读(<span id="post_view_count">177</span>)&nbsp;
评论(<span id="post_comment_count">2</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19047483);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19047483', targetLink: 'https://www.cnblogs.com/jackyfei/p/19047483', title: '如何做一个纯净版的ABP vNext 脚手架' })">举报</a>
</div>
        