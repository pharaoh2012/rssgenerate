
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/nogeek-cn/p/18720926" title="发布于 2025-02-17 22:10">
    <span role="heading" aria-level="2">百万架构师第三十九课：RabbitMq：Linux安装RabbitMq｜JavaGuide</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><a href="https://javaguide.net" target="_blank" rel="noopener nofollow">来源</a>：<a href="https://javaguide.net" target="_blank" rel="noopener nofollow">https://javaguide.net</a></p>
<h1 id="rpm包安装rabbitmq">RPM包安装RabbitMQ</h1>
<p>RabbitMQ的安装非常简单，由于RabbitMQ依赖于Erlang，所以需要先安装Erlang，解决依赖关系后，就可以安装RabbitMQ了。注意，在安装Erlang前，需要先安装socat</p>
<h4 id="安装socat">安装socat</h4>
<pre><code class="language-bash">[root@nogeek ]# yum -y install socat
</code></pre>
<h4 id="下载rpm包">下载RPM包</h4>
<h5 id="rabbitmq">RabbitMQ：</h5>
<p><a href="http://www.rabbitmq.com/install-rpm.html#downloads" target="_blank" rel="noopener nofollow">http://www.rabbitmq.com/install-rpm.html#downloads</a></p>
<p><img src="https://img2024.cnblogs.com/other/2396776/202502/2396776-20250217221036078-1777755161.png" alt="RabbitMQ_Linux安装_版本.png" loading="lazy"></p>
<h5 id="erlang">erlang：</h5>
<p><a href="https://www.erlang-solutions.com/resources/download.html" target="_blank" rel="noopener nofollow">https://www.erlang-solutions.com/resources/download.html</a></p>
<p><img src="https://img2024.cnblogs.com/other/2396776/202502/2396776-20250217221036322-1232831386.png" alt="RabbitMQ_Linux安装_erlang版本.png" loading="lazy"></p>
<h5 id="注意-erlang-和-rabbitmq-的对应版本">注意 erlang 和 RabbitMq 的对应版本</h5>
<pre><code class="language-bash">[root@localhost srv]# ll
总用量 23536
-rwxr-xr-x 1 root root 18579348 10月 31 23:33 erlang-19.0.4-1.el6.x86_64.rpm
-rwxr-xr-x 1 root root  5520417 10月 31 23:33 rabbitmq-server-3.6.5-1.noarch.rpm
</code></pre>
<p>3、安装Erlang</p>
<pre><code class="language-bash">[root@localhost srv]# rpm -ivh erlang-19.0.4-1.el6.x86_64.rpm
Preparing...                ########################################### [100%]
   1:erlang                 ########################################### [100%]
</code></pre>
<p>4、安装RabbitMQ</p>
<pre><code class="language-bash">[root@localhost srv]# rpm -ivh rabbitmq-server-3.6.5-1.noarch.rpm
warning: rabbitmq-server-3.6.5-1.noarch.rpm: Header V4 RSA/SHA1 Signature, key ID 6026dfca: NOKEY
Preparing...                ########################################### [100%]
   1:rabbitmq-server        ########################################### [100%]
</code></pre>
<h3 id="5配置">5、配置</h3>
<h5 id="a创建rabbitmq的配置文件并允许guest进行登录">a、创建rabbitmq的配置文件，并允许guest进行登录</h5>
<pre><code class="language-bash"># cat /etc/rabbitmq/rabbitmq.config
[{rabbit, [{loopback_users, []}]}].
# ll /etc/rabbitmq/rabbitmq.config 
-rw-r--r-- 1 rabbitmq rabbitmq 36 Nov 10 18:35 /etc/rabbitmq/rabbitmq.config
</code></pre>
<p>注意：后面有一个点 “ . ” , 并且将文件属主属组设置为rabbitmq</p>
<h5 id="b更改rabbitmq的环境变量">b、更改rabbitmq的环境变量</h5>
<pre><code class="language-bash"># cat /etc/rabbitmq/rabbitmq-env.conf
RABBITMQ_MNESIA_BASE=/data/rabbitmq/mnesia
RABBITMQ_LOG_BASE=/data/rabbitmq/log
#ll rabbitmq-env.conf 
-rw-r--r-- 1 rabbitmq rabbitmq 80 Nov 10 18:35 rabbitmq-env.conf
</code></pre>
<h5 id="c创建数据目录和log目录">c、创建数据目录和log目录</h5>
<pre><code class="language-bash"># mkdir -pv /data/rabbitmq/log
# chowm -R rabbitmq:rabbitmq /data/rabbitmq
</code></pre>
<h5 id="d启用management插件">d、启用management插件</h5>
<pre><code class="language-bash">rabbitmq-plugins enable rabbitmq_management
</code></pre>
<h5 id="e创建vhost">e、创建vhost</h5>
<pre><code class="language-bash">rabbitmqctl add_vhost 【Vhost_Name】
</code></pre>
<h5 id="f创建用户">f、创建用户</h5>
<pre><code class="language-bash">rabbitmqctl add_user 【username】 【password】
</code></pre>
<h5 id="g配置权限">g、配置权限</h5>
<p>rabbitmqctl set_permissions -p spms spms '.<em>' '.</em>' '.*'</p>
<p>rabbitmqctl set_user_tags spms administrator</p>
<h5 id="配置权限">配置权限</h5>
<pre><code class="language-bash">rabbitmqctl set_permissions -p 【Vhost_Name】 【username】 【conf】【write】【read】
</code></pre>
<p>Conf：一个正则表达式 match 哪些配置资源能够被该用户访问</p>
<p>Write：一个正则表达式 match 哪些配置资源能够被该用户读。</p>
<p>read：一个正则表达式 match 哪些配置资源能够被该用户访问</p>
<p>例如：</p>
<pre><code class="language-bash">rabbitmqctl set_permissions -p spms spms '.*' '.*' '.*'
rabbitmqctl set_user_tags spms administrator
</code></pre>
<p>来源于:  <a href="https://javaguide.net" target="_blank" rel="noopener nofollow">https://javaguide.net</a></p>
<p>微信公众号：不止极客</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0028875672291666667" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-17 22:11">2025-02-17 22:10</span>&nbsp;
<a href="https://www.cnblogs.com/nogeek-cn">nogeek_cn</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18720926" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18720926);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18720926', targetLink: 'https://www.cnblogs.com/nogeek-cn/p/18720926', title: '百万架构师第三十九课：RabbitMq：Linux安装RabbitMq｜JavaGuide' })">举报</a>
</div>
        