<!----> <meta itemprop="headline" content="ğŸ˜²æˆ‘åˆå†™å‡ºäº†è¢« Three.js å®˜æ¨è½¬å‘çš„é¡¹ç›®ï¼Ÿï¼ğŸ¥³ğŸ¥³(æºç åˆ†äº«)"> <meta itemprop="keywords" content="å‰ç«¯,å¼€æº,three.js"> <meta itemprop="datePublished" content="2025-05-30T05:56:17.000Z"> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä½•è´¤"> <meta itemprop="url" content="https://juejin.cn/user/277499952247869"></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"> <meta itemprop="width" content="180"> <meta itemprop="height" content="180"></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ˜²æˆ‘åˆå†™å‡ºäº†è¢« Three.js å®˜æ¨è½¬å‘çš„é¡¹ç›®ï¼Ÿï¼ğŸ¥³ğŸ¥³(æºç åˆ†äº«)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/277499952247869/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä½•è´¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-05-30T05:56:17.000Z" title="Fri May 30 2025 05:56:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-05-30
                  </time> <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""></path><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""></circle></svg> <span class="views-count" data-v-61fb5e44="">
                    8,994
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""></rect><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""></circle><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""></path></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""></div> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><h2 data-id="heading-0">0.ğŸ‘ï¸å‰ç½®æ¡ä»¶</h2>
<p>ğŸ‰ ğŸ‰ å¥½ä¹…ä¸è§ï¼Œäº²çˆ±çš„å°ä¼™ä¼´ä»¬ï¼æ¬¢è¿æ¥åˆ°è¿™ä¸ªå……æ»¡ç«¥è¶£çš„æŠ€æœ¯åˆ†äº«ï¼åœ¨å„¿ç«¥èŠ‚å³å°†åˆ°æ¥ä¹‹é™…ï¼Œæˆ‘ç‰¹åˆ«å‡†å¤‡äº†è¿™ç¯‡è½»æ¾æœ‰è¶£çš„<code> Three.js å®æˆ˜æŒ‡å—</code>ã€‚</p>
<h3 data-id="heading-1">ğŸ® ä½ å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li><code>Three.js</code> åŸºç¡€åº”ç”¨</li>
<li><code>3D</code> å®šåˆ¶åŒ–èµ„æºè·å–æŠ€å·§</li>
<li>ç®€æ˜“ <code>Three.js</code> æ¸¸æˆå¼€å‘æ€è·¯</li>
</ul>
<p>ğŸ’¡ æ— éœ€æ‹…å¿ƒéš¾åº¦ï¼æœ¬æ–‡ä¸“ä¸ºå„¿ç«¥èŠ‚è®¾è®¡ï¼ŒæŠ€æœ¯å†…å®¹ç®€å•æ˜“æ‡‚ï¼Œåªè¦æŒæ¡<code>Three.js </code>åŸºç¡€ç”¨æ³•å°±èƒ½è½»æ¾ä¸Šæ‰‹ï¼</p>
<h2 data-id="heading-2">1. ğŸš€Page é¢„è§ˆ</h2>
<p>ğŸ‚ åˆä¸€å¹´å„¿ç«¥èŠ‚å°†è‡³ï¼Œçœ‹ç€æ—¥å†ä¸Šè·³åŠ¨çš„æ•°å­—ï¼Œå¿½ç„¶æ„è¯†åˆ°è‡ªå·±æ—©å·²ä¸æ˜¯é‚£ä¸ªä¼šæ”¶åˆ°èŠ‚æ—¥ç¤¼ç‰©çš„å°æœ‹å‹äº†ã€‚ç°åœ¨çš„æˆ‘ï¼Œæ—¥å¤ä¸€æ—¥åœ°åœ¨å…¬å¸é‡Œï¼š</p>
<ul>
<li>æ•²ç€åå°ç®¡ç†ç³»ç»Ÿçš„<code>CURD</code></li>
<li>è°ƒè¯•ç€å¾®ä¿¡å°ç¨‹åºçš„æ¥å£</li>
<li>å¯¹ç€éœ€æ±‚æ–‡æ¡£å‘å‘†</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c88037cbd57419bb045ae64a18bbf32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=7amEmWk9wGV3%2FRcu3sM3XuFMeDw%3D" alt="1.jpg" loading="lazy"></p>
<p><strong>âš ï¸ ç³»ç»Ÿè­¦æŠ¥ï¼šæ£€æµ‹åˆ°å¼€å‘è€…å¿«ä¹æŒ‡æ•°è·Œç ´è­¦æˆ’çº¿ï¼</strong></p>
<p><strong>ğŸš€ æ­£åœ¨æ³¨å…¥ç«¥è¶£è¡¥ä¸...</strong></p>
<p><strong>ğŸ® å¼ºåˆ¶å¯åŠ¨å„¿ç«¥èŠ‚ç‰¹åˆ«æ¨¡å¼....</strong></p>
<h3 data-id="heading-3">ç”»é¢é¢„è§ˆ</h3>
<p>å°å¿ƒé£é©°çš„è½¦è¾†ï¼Œæ”¶é›†é“å…·ï¼Œåˆ›é€ ä½ çš„æœ€é«˜çºªå½•ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fdec904f44d438ab1205ef6cc15da4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=%2FF7PX%2FRvFqrmNTly5n8%2BfEnRd7U%3D" alt="2.png" loading="lazy"></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb9707d36a8446329d76ae31ee9f0081~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=QTSvOp3k916yOITDicLN84aN%2FrU%3D" alt="1.gif" loading="lazy"></p>
<h3 data-id="heading-4">æ–°æ‰‹æŒ‡å—</h3>
<ul>
<li>PCç«¯ï¼šä½¿ç”¨æ–¹å‘é”®æˆ–WASDæ§åˆ¶å°é¸¡ç§»åŠ¨</li>
<li>æ‰‹æœºç«¯ï¼šæ»‘åŠ¨å±å¹•å³å¯è½»æ¾æ“æ§ï¼ˆé€‚é…å®Œç¾ï¼ï¼‰</li>
<li>æ¸¸ç©çš„æ–°æ‰‹æŒ‡å—æ‚¨å¯ä»¥åœ¨ç‚¹å‡»å³ä¸Šè§’çš„æš‚åœæŒ‰é’®çœ‹åˆ°ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥å†æ­¤ä¸ºè‡ªå·±çš„è§’è‰²å–åï¼Œä»¥ä¾¿å¯ä»¥åœ¨æ’è¡Œæ¦œä¸Šæ‰¾åˆ°è‡ªå·±</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87692f7bc14a4161a0710847441ff845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=75GEurNxr4UUTzCS88bk2vG%2BoCE%3D" alt="3.png" loading="lazy"></p>
<h3 data-id="heading-5">ç›¸å…³åœ°å€</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcross-road-eight.vercel.app%2F" target="_blank" title="https://cross-road-eight.vercel.app/" ref="nofollow noopener noreferrer">ğŸ–¥ï¸ PCç«¯æ­£å¼ç‰ˆï¼ˆå»ºè®®ä½¿ç”¨é­”æ³•ä¸Šç½‘ï¼‰ </a> : <a href="https://link.juejin.cn?target=https%3A%2F%2Fcross-road-eight.vercel.app%2F" target="_blank" title="https://cross-road-eight.vercel.app/" ref="nofollow noopener noreferrer">cross-road-eight.vercel.app/</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcross-road-eight.vercel.app%2F" target="_blank" title="https://cross-road-eight.vercel.app/" ref="nofollow noopener noreferrer">ğŸ› ï¸ PCè°ƒè¯•æ¨¡å¼ï¼ˆå¼€å‘è€…ä¸“ç”¨ï¼Œè¯·å‹¿ä½œå¼Šå“¦ï¼‰</a>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fcross-road-eight.vercel.app%2F%23debug" target="_blank" title="https://cross-road-eight.vercel.app/#debug" ref="nofollow noopener noreferrer">cross-road-eight.vercel.app/#debug</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FhexianWeb%2FCrossRoad" target="_blank" title="https://github.com/hexianWeb/CrossRoad" ref="nofollow noopener noreferrer">ğŸ‘¨â€ğŸ’» GitHubæºç ï¼ˆæ¬¢è¿Starâ­ï¼‰ </a> :<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FhexianWeb%2FCrossRoad" target="_blank" title="https://github.com/hexianWeb/CrossRoad" ref="nofollow noopener noreferrer">github.com/hexianWeb/Câ€¦</a></li>
</ul>
<p>å¦å¤–å½“å‰å°æ¸¸æˆå·²ç»<a href="https://link.juejin.cn?target=https%3A%2F%2Fsynthgamer.com%2Fgame%2F34" target="_blank" title="https://synthgamer.com/game/34" ref="nofollow noopener noreferrer">å›½é™…çŸ¥åå°æ¸¸æˆå¹³å°æ”¶å½•</a>:<a href="https://link.juejin.cn?target=https%3A%2F%2Fsynthgamer.com%2Fgame%2F34" target="_blank" title="https://synthgamer.com/game/34" ref="nofollow noopener noreferrer">synthgamer.com/game/34</a> ï¼Œæ­¤ç½‘ç«™ä¸éœ€è¦é­”æ³•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f07d7187c32a4d81a97d597f1fcdba60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=ijeZzJzq%2FHOFrs1J%2Fsq7GRc0YoA%3D" alt="4.png" loading="lazy">
æ­¤å¤–å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨æ‰‹æœºæµè§ˆè¿™ç¯‡æ–‡ç« ï¼Œæˆ‘éå¸¸å»ºè®®æ‚¨ç›´æ¥ç‚¹å‡»è¿›å…¥æ¸¸ç©ï¼Œå› ä¸ºè¿™ä¸ªæ¸¸æˆæˆ‘å·²ç»åšäº†ç§»åŠ¨ç«¯é€‚é…ã€‚æ»‘åŠ¨å°†ä¼šä»¥æœ€ç¬¦åˆæ“çºµç›´è§‰çš„æ“æ§æ–¹å¼å‘ˆç°åœ¨æ‚¨é¢å‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c939e4aae0043dda20f7930fea09e97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=VIhnrbShM4msLuoDglGiyCjrvqE%3D" alt="2.gif" loading="lazy">
(<em>å°æç¤ºï¼š æ¸¸æˆä¼šè®°å½•ä½ çš„æœ€ä½³æˆç»©ï¼Œåœ¨æ­»äº¡æ—¶å°†æˆç»©å‘é€è‡³æ’è¡Œæ¦œå•ï¼å¿«æ¥æŒ‘æˆ˜å¥½å‹å§ï¼ğŸ£ğŸ’¨</em>)</p>
<p>æœ¬ç€å¼€æºç²¾ç¥ä¸è¯šå®åˆ›ä½œçš„åŸåˆ™ï¼Œæˆ‘å¿…é¡»è¯´æ˜ï¼šæœ¬é¡¹ç›®çš„æ ¸å¿ƒæœºåˆ¶çµæ„Ÿæ¥æºäºä¸šç•Œå‰è¾ˆçš„æ™ºæ…§ç»“æ™¶ã€‚ç‰¹åˆ«æ„Ÿè°¢ï¼š<strong>Hunor Borbely</strong> çš„ä¼˜ç§€æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascriptgametutorials.com%2Ftutorials%2Fthree-js%2Fcrossy-road" target="_blank" title="https://javascriptgametutorials.com/tutorials/three-js/crossy-road" ref="nofollow noopener noreferrer">ã€ŠCrossy Roadé£æ ¼æ¸¸æˆå¼€å‘æŒ‡å—ã€‹</a></p>
<p>å‚è€ƒå†…å®¹æœ‰ï¼š</p>
<ul>
<li>æ¸¸æˆå…ƒæ•°æ®(metadata)çš„ç»“æ„è®¾è®¡</li>
<li>è§’è‰²ä¸è½¦è¾†çš„ç¢°æ’æ£€æµ‹é€»è¾‘</li>
</ul>
<p>(æŒ‡è·¯åŸä½œè€…)
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4348f4520d44d3790a2af63e5486c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=5FC3P%2FHsd5Njtx1I6ufVQoUyNPQ%3D" alt="5.png" loading="lazy"></p>
<h3 data-id="heading-6">ğŸŒŸ å®˜æ–¹è®¤å¯</h3>
<p>å¾ˆè£å¹¸è¿™ä¸ªé¡¹ç›®åŒæ ·è·å¾—äº†Three.jså®˜æ¨çš„è½¬å‘è®¤å¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8575d5691c0455595bef77de8147a22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=SFEYdkqXNnlu6%2BI6rXtMs4DNaZA%3D" alt="6.png" loading="lazy"></p>
<p>( <em>Tips: ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œæˆ‘ä»¬æ‰èƒ½çœ‹å¾—æ›´è¿œï¼ğŸš€</em>)</p>
<h2 data-id="heading-7">2.ğŸ® Three.js æ¸¸æˆä¸‰è¦ç´ </h2>
<p>æˆ‘ä¹‹å‰åœ¨ <a href="https://juejin.cn/post/7472650702340046886" target="_blank" title="https://juejin.cn/post/7472650702340046886">2025 å¹´äº†ï¼Œæˆ‘ä¸å…è®¸æœ‰å‰ç«¯ä¸ä¼šç”¨ Trae è®©é¡µé¢ Hero Section å˜å¾—é«˜çº§ï¼ï¼ï¼(Threejs)</a> æåˆ°è¿‡ <code>Three.js</code>ä¸‰è¦ç´ ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯åœºæ™¯ã€ç›¸æœºä»¥åŠæ¸²æŸ“å™¨ã€‚</p>
<h3 data-id="heading-8">ä»€ä¹ˆæ˜¯æ¸¸æˆå¼€å‘ä¸‰è¦ç´ ï¼Ÿ</h3>
<p>è€Œåœ¨Three.jsæ¸¸æˆå¼€å‘ä¸­ï¼Œæˆ‘ä»¬åŒæ ·æœ‰ä¸‰å¤§æ ¸å¿ƒæ¶æ„ï¼š</p>

























<table><thead><tr><th>è¦ç´ </th><th>ä½œç”¨</th><th>ç±»æ¯”ç°å®</th></tr></thead><tbody><tr><td><strong>Scene</strong></td><td>æ¸¸æˆä¸–ç•Œçš„3Dç¯å¢ƒ</td><td>å°±åƒæ¸¸ä¹åœºçš„åœºåœ°</td></tr><tr><td><strong>Game UI</strong></td><td>ç”¨æˆ·ç•Œé¢å’Œäº¤äº’å±‚</td><td>ç›¸å½“äºæ¸¸ä¹åœºçš„æŒ‡ç¤ºç‰Œå’Œå”®ç¥¨å¤„</td></tr><tr><td><strong>Metadata</strong></td><td>æ¸¸æˆæ•°æ®å’Œé€»è¾‘</td><td>ç±»ä¼¼æ¸¸ä¹åœºçš„è¿è¥è§„åˆ™å’Œæ¸¸å®¢æ•°æ®</td></tr></tbody></table>
<h3 data-id="heading-9">ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</h3>
<p>ç†è§£è¿™ä¸‰ä¸ªè¦ç´ çš„å…³ç³»è‡³å…³é‡è¦ï¼š</p>
<ol>
<li><strong>Scene</strong>è´Ÿè´£"æ¼”ä»€ä¹ˆ" - å¤„ç†3Dæ¨¡å‹ã€å…‰ç…§ã€ç‰©ç†æ•ˆæœ</li>
<li><strong>UI</strong>è´Ÿè´£"æ€ä¹ˆçœ‹" - æ§åˆ¶åˆ†æ•°æ˜¾ç¤ºã€èœå•ç³»ç»Ÿ</li>
<li><strong>Metadata</strong>è´Ÿè´£"æ€ä¹ˆç©" - ç®¡ç†æ¸¸æˆçŠ¶æ€ã€å¾—åˆ†è§„åˆ™ã€è§’è‰²å±æ€§</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6205239b9fa4225ba3b0e9777ec5e00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=yIfTayyQDEVvQaMCDZo5Lb56orA%3D" alt="7.png" loading="lazy"></p>
<h2 data-id="heading-10">3.ğŸ“¦èµ„æºè·å–</h2>
<h3 data-id="heading-11">3D Model èµ„æºç”Ÿæˆ</h3>
<p>åœ¨<a href="https://juejin.cn/post/7498914140166799397#heading-3" target="_blank" title="https://juejin.cn/post/7498914140166799397#heading-3">ğŸ˜®ğŸ˜®ğŸ˜® æˆ‘å†™å‡ºäº†è¢« Threejs å®˜æ¨è½¬å‘çš„é¡¹ç›®ğŸš€âœ¨ï¼Ÿï¼</a> æ–‡ç« ä¸­æˆ‘æ›¾å†™è¿‡ <strong>3D å®¢åˆ¶åŒ–èµ„æºçš„è·å–ä¸å¤„ç†</strong>ï¼Œè¿™é‡Œæˆ‘ä¸åšè¿‡å¤šèµ˜è¿°ï¼Œåªåšç®€å•ä¸¾ä¾‹</p>
<p>å°±æ¯”å°é¸¡æ¨¡å‹çš„è·å–æˆ‘å…ˆé€šè¿‡<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fjamez-bondos%2Fawesome-gpt4o-images" target="_blank" title="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fjamez-bondos%2Fawesome-gpt4o-images">awesome-gpt4o-images</a> ç»™çš„æç¤ºå‚è€ƒå›¾ä»¥åŠç›¸åº”çš„æç¤ºè¯­ç”Ÿæˆä¸€å¼ èƒŒæ™¯å•ä¸€ï¼Œç»“æ„åˆç†çš„ <code>2.5D</code> å°é¸¡å›¾ç‰‡,</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc3c1b43e1ec4f4e9332d56d33afb240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=YeZgA34py6zSAYTxvi%2BbbAOb6dw%3D" alt="9.png" loading="lazy"></p>
<p>æˆ‘è¿™é‡Œå°†å‚è€ƒå›¾å¥‰ä¸Šï¼Œæ‚¨æœ‰ç©ºä¹Ÿå¯ä»¥è¯•è¯•è¿™äº›ç¥å¥‡çš„æç¤ºè¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20ada91dca1a4e16bbe23c2af2a3172c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=5QyvLwKdWWuOtHzYrqdFDQwiO%2Bk%3D" alt="8.jpeg" loading="lazy"></p>
<p>éšåå†å°†å›¾ç‰‡å¯¼å…¥ <code>AI 3D generation</code> å¹³å°ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢çš„æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fhyper3d.ai%2F%3Fgad_source%3D1%26gad_campaignid%3D21669797681%26gbraid%3D0AAAAA-LCI71i6HKVgF2iPaQFnFhMZFNp_%26gclid%3DCj0KCQjwxdXBBhDEARIsAAUkP6hF1byK_-pADzmrFbH7xI1w48l3sfcKxElJG4cPz4m3RCPG9BJis8UaAqcyEALw_wcB" target="_blank" title="https://hyper3d.ai/?gad_source=1&amp;gad_campaignid=21669797681&amp;gbraid=0AAAAA-LCI71i6HKVgF2iPaQFnFhMZFNp_&amp;gclid=Cj0KCQjwxdXBBhDEARIsAAUkP6hF1byK_-pADzmrFbH7xI1w48l3sfcKxElJG4cPz4m3RCPG9BJis8UaAqcyEALw_wcB" ref="nofollow noopener noreferrer">hyper3D</a>ã€‚ è¿‡30ç§’å³å¯ç”Ÿæˆå¯¹åº”çš„æ¨¡å‹ã€‚çœ‹èµ·æ¥è¿˜ä¸é”™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/287ba01f61bc493993229a0f6d1c4b54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=6mgdhAiHZssC6cx9zjG1Q9oDqYI%3D" alt="3.gif" loading="lazy"></p>
<h3 data-id="heading-12">æ¸¸æˆèƒŒæ™¯éŸ³ä¹èµ„æºè·å–</h3>
<p>æ¸¸æˆèƒŒæ™¯éŸ³ä¹åˆ™æ˜¯ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsuno.com%2F" target="_blank" title="https://suno.com/" ref="nofollow noopener noreferrer">Suno AI</a> è¿›è¡Œç”Ÿæˆçš„ã€‚è€å®è¯´æˆ‘è§‰å¾—è¿˜æŒºå¥½å¬çš„ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæƒ³è¦è·å–çœŸæ­£çš„æ¸¸æˆèƒŒæ™¯éŸ³ä¹ä»¥åŠå„ç§æ¸¸æˆéŸ³æ•ˆå¯ä»¥è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fopengameart.org%2Fart-search-advanced%3Fkeys%3D%26field_art_type_tid%255B%255D%3D12%26sort_by%3Dcount%26sort_order%3DDESC" target="_blank" title="https://opengameart.org/art-search-advanced?keys=&amp;field_art_type_tid%5B%5D=12&amp;sort_by=count&amp;sort_order=DESC" ref="nofollow noopener noreferrer">Opengameart çš„éŸ³ä¹æ¿å—</a></p>
<blockquote>
<p>è¾“å…¥é£æ ¼æè¿°ï¼š"8-bit retro game music with cheerful melody"</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a1f588cfedb42d88fa8fb7f93f8af2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=o3WpE8%2FHWfTaU3MLvVzZA7DHMWE%3D" alt="10.png" loading="lazy"></p>
<p>å¦‚æœå¯¹äºè¿™å—æ•™ç¨‹è¿˜æœ‰ç–‘æƒ‘å¯ä»¥<a href="https://juejin.cn/post/7498914140166799397#heading-3" target="_blank" title="https://juejin.cn/post/7498914140166799397#heading-3">ç‚¹å‡»è¿™é‡Œ</a>ï¼Œåœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­æˆ‘æœ‰ç€è¯¦ç»†çš„ä»‹ç»ã€‚</p>
<p>AIå·¥å…·è®©ç‹¬ç«‹å¼€å‘è€…ä¹Ÿèƒ½æ‹¥æœ‰ä¸“ä¸šçº§ç¾æœ¯èµ„æº, éšç€ AI æ•°å­—èµ„äº§çš„è·å–é—¨æ§›é™ä½ï¼Œæˆ‘ç›¸ä¿¡æœªæ¥å¯¹äºæˆ‘ä»¬ç½‘ç«™å¼€å‘äººå‘˜æ¥è¯´çœŸæ­£çš„ä¸Šé™åº”è¯¥æ˜¯<strong>è§†è§‰æƒ³è±¡åŠ›</strong>ä¸<strong>æ•°å­—ç¾æ„Ÿç´ å…»</strong>ã€‚</p>
<h2 data-id="heading-13">4.ğŸ¤–metadata &amp; åŸºç¡€åœºæ™¯æ­å»º</h2>
<p>ç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹åŸç‰ˆçš„å°é¸¡è¿‡é©¬è·¯æ¸¸æˆåœºæ™¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63bcc0a54159445c88c7b2b28d396072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=L0cu7n7P5MLcYAMNPUP1k1cg8jg%3D" alt="11.png" loading="lazy"></p>
<p>ç°åœ¨çš„é¦–è¦ç›®çš„æ˜¯åˆ†æå‡ºå½“å‰åœºæ™¯æ‰€éœ€çš„ <code>metadata</code>, åœ¨ä¸è€ƒè™‘åœºæ™¯è‡ªç”Ÿæˆçš„æƒ…å†µä¸‹åˆ©ç”¨<code>metadata</code>åœ¨ <code>Threejs</code>ä¸­æ­å»ºå‡ºæ¸¸æˆçš„åŸºæœ¬åœºæ™¯ã€‚</p>
<ul>
<li>é¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å›¾ä¸­å°é¸¡ä¸æ–­å‰è¿›ï¼Œåœºæ™¯ä¼šç”±æ•°ä¸ªä¸åŒçš„â€œè¡Œâ€æ‹¼æ¥è€Œæˆï¼Œä»–ä»¬å¯èƒ½æ˜¯â€œè‰åœ°â€œï¼Œä¹Ÿå¯èƒ½æ˜¯â€æŸæ²¹è·¯â€œ</li>
<li>ç„¶åæ¯ä¸ªè¡Œä¸Šéƒ½æœ‰ç€ç›¸åº”çš„ç‰©ä½“ï¼Œ"è‰åœ°"ä¸Šä¼šå‡ºç°é«˜çŸ®ä¸ä¸€çš„"æ ‘æœ¨"ï¼Œè€Œ"æŸæ²¹è·¯"ä¸Šä¼šå‡ºç°è¡Œé©¶æ–¹å‘å‘å·¦æˆ–è€…å‘å³çš„æ±½è½¦</li>
</ul>
<p>é‚£ä¹ˆ<code>metadata</code>åº”è¯¥å¦‚ä½•æ›´å¥½çš„å›Šæ‹¬è¿™äº›ä¿¡æ¯å‘¢ï¼Ÿæˆ‘æ˜¯è¿™æ ·åšçš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7520ea8fc8b49f2baf225773cf3c433~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=JRmHIlyNn%2FV0ZUrPll5z3Bd9pds%3D" alt="12.png" loading="lazy"></p>
<p>ç°åœ¨æˆ‘ä»¬å…ˆé‡‡ç”¨é™æ€<code>metadata</code>æ¥æ„å»ºåˆå§‹æ¸¸æˆåœºæ™¯ï¼Œé€šè¿‡æ¨¡å—åŒ–çš„è®¾è®¡å®ç°è‰åœ°ã€é“è·¯ã€æ ‘æœ¨å’Œè½¦è¾†çš„åŠ¨æ€ç”Ÿæˆã€‚</p>
<h3 data-id="heading-14">é™æ€ metadata ç»“æ„</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> metadata = [
  <span class="hljs-comment">// ç¬¬ä¸€è¡Œ </span>
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'forest'</span>,
    <span class="hljs-attr">trees</span>: [
      { <span class="hljs-attr">tileIndex</span>: -<span class="hljs-number">7</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'tree01'</span> },
      { <span class="hljs-attr">tileIndex</span>: -<span class="hljs-number">3</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'tree02'</span> },
    ],
  },
  <span class="hljs-comment">// ç¬¬äºŒè¡Œ </span>
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'road'</span>,
    <span class="hljs-attr">direction</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">speed</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">vehicles</span>: [
      {
        <span class="hljs-attr">initialTileIndex</span>: <span class="hljs-number">12</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'car04'</span>,
      },
      {
        <span class="hljs-attr">initialTileIndex</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'car08'</span>,
      },
      {
        <span class="hljs-attr">initialTileIndex</span>: -<span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'car01'</span>,
      },
    ],
  },
]
</code></pre>
<h3 data-id="heading-15">åœ°å½¢ç”Ÿæˆ</h3>
<p>è€Œé“ºè®¾è·¯é¢çš„å‡½æ•°å°±è¾ƒä¸ºç®€å•ï¼Œå°±æ˜¯å°†ä¼ å…¥çš„<code>mesh</code>åœ¨<code>scene</code>ä¸­æ’æˆä¸€æ’ï¼Œéšåæ ¹æ®å½“å‰è¡Œæ•°ä¸º <code>metadata</code>ä¸­çš„æ‰€å±è¡Œçš„æ•°ç»„ä¸‹æ ‡å¯¹å…¶ä½ç½®åœ¨è¿›è¡Œè°ƒæ•´ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Grass</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">scene, object3d, rowIndex = <span class="hljs-number">0</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> = scene
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">object3d</span> = object3d
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span> = rowIndex
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tiles</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createGrassRow</span>()
  }

  <span class="hljs-comment">// ç”Ÿæˆä¸€è¡Œè‰åœ°</span>
  <span class="hljs-title function_">createGrassRow</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// è·å– tile èµ„æºï¼ˆå‡è®¾èµ„æºåä¸º 'grass'ï¼Œå¦‚æœ‰ä¸åŒè¯·è°ƒæ•´ï¼‰</span>
    <span class="hljs-keyword">const</span> tileResource = <span class="hljs-variable language_">this</span>.<span class="hljs-property">object3d</span>
    tileResource.<span class="hljs-property">scene</span>.<span class="hljs-title function_">updateMatrixWorld</span>()
    <span class="hljs-keyword">if</span> (!tileResource) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'æœªæ‰¾åˆ° grass èµ„æº'</span>)
      <span class="hljs-keyword">return</span>
    }
   <span class="hljs-comment">// ç”Ÿæˆ16ä¸ªè¿ç»­çš„è‰åœ°ç“¦ç‰‡</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">16</span>; i++) {
      <span class="hljs-comment">// è®¡ç®—å½“å‰tileçš„åœ°å›¾ä¸‹æ ‡</span>
      <span class="hljs-keyword">const</span> tileIndex = <span class="hljs-variable constant_">MIN_TILE_INDEX</span> + i
      <span class="hljs-comment">// å…‹éš†tileæ¨¡å‹</span>
      <span class="hljs-keyword">const</span> tileMesh = tileResource.<span class="hljs-property">scene</span>.<span class="hljs-title function_">clone</span>()
      <span class="hljs-comment">// è®¾ç½®tileåœ¨ä¸–ç•Œåæ ‡ä¸­çš„ä½ç½®</span>
      tileMesh.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(tileIndex, <span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)	<span class="hljs-comment">// å°† tileMesh æ²¿ç€ X è½´æ’æˆä¸€æ’ï¼Œéšåæ ¹æ® this.rowIndex è°ƒæ•´ Z è½´ä½ç½®</span>
      <span class="hljs-comment">// æ·»åŠ åˆ°åœºæ™¯</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>.<span class="hljs-title function_">add</span>(tileMesh)
      <span class="hljs-comment">// å­˜å‚¨tileå¯¹è±¡</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">tiles</span>.<span class="hljs-title function_">push</span>(tileMesh)
    }
  }
}
</code></pre>
<p>è·¯é¢è¡Œç”Ÿæˆä¹Ÿæ˜¯åŒç†ï¼Œè¿™é‡Œå°±ä¸åå¤è´´ç±»ä¼¼åŠŸèƒ½çš„ä»£ç äº†ã€‚éšååœ¨åœºæ™¯ä¸­æ ¹æ® <code>metadata</code>ç”Ÿæˆå¯¹åº”ç±»å®ä¾‹</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">metadata</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">rowData</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>++
      <span class="hljs-comment">// å¦‚æœæ˜¯æ£®æ—è¡Œï¼Œæ·»åŠ æ ‘</span>
      <span class="hljs-keyword">if</span> (rowData &amp;&amp; rowData.<span class="hljs-property">type</span> === <span class="hljs-string">'forest'</span>) {
        <span class="hljs-comment">// å…ˆç”Ÿæˆè‰åœ°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addGrassRow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
      }
      <span class="hljs-keyword">if</span> (rowData &amp;&amp; rowData.<span class="hljs-property">type</span> === <span class="hljs-string">'road'</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addRoadRow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
      }
})


  <span class="hljs-comment">// æ·»åŠ ä¸€è¡Œè‰åœ°</span>
  <span class="hljs-title function_">addGrassRow</span>(<span class="hljs-params">rowIndex = <span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword">const</span> grass = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Grass</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">items</span>.<span class="hljs-property">grass</span>, rowIndex)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">grassRows</span>.<span class="hljs-title function_">push</span>(grass)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tiles</span>.<span class="hljs-title function_">push</span>(...grass.<span class="hljs-property">tiles</span>)
  }

  <span class="hljs-comment">// æ·»åŠ ä¸€è¡Œé“è·¯</span>
  <span class="hljs-title function_">addRoadRow</span>(<span class="hljs-params">rowIndex = <span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword">const</span> road = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Road</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>, rowIndex)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">roadRows</span>.<span class="hljs-title function_">push</span>(road)
  }
</code></pre>
<p>æˆ‘ä»¬å°±èƒ½å¾—åˆ°åœºæ™¯å¦‚å›¾( è¡Œä¸Šçš„æ•°å­—å¯¹åº”äº†å½“å‰è¡Œå¯¹åº”çš„ TileIndex )</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/855e9d9bc41f4c37aa082ab17968fc8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=o%2B%2FSGYwzza8nVMlhBQ33TvHQyrU%3D" alt="13.png" loading="lazy"></p>
<h3 data-id="heading-16">åŠ¨æ€å…ƒç´ ç”Ÿæˆ</h3>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦å‘æ£®æ—è¡Œå’Œé“è·¯è¡Œä¸Šæ·»åŠ å¯¹åº”çš„ç‰©ä½“ï¼Œè¿™äº›ç‰©ä½“å¹¶ä¸æ˜¯å›ºå®šçš„æŸä¸€è¡Œæœ‰å¤šå°‘å¤šå°‘ä¸ªï¼Œè€Œæ˜¯æ ¹æ®åœ¨<code>metadata</code>ç›¸å¯¹åº”çš„ç‰©ä½“æ•°ç»„å†³å®šï¼Œæ£®æ—è¡Œæ ¹æ®<code>tree</code>æ•°ç»„æ·»åŠ å¯¹åº”çš„æ ‘æœ¨ï¼Œé“è·¯ç±»æ ¹æ®<code>vehicles</code>æ·»åŠ å¯¹åº”çš„è½¦è¾†ã€‚</p>
<h4 data-id="heading-17">æ ‘æœ¨ç”Ÿæˆ</h4>
<p>å°±æ¯”å¦‚æ ‘æœ¨æ•°ç»„</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-attr">trees</span>: [
      { <span class="hljs-attr">tileIndex</span>: -<span class="hljs-number">7</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'tree01'</span> },
      { <span class="hljs-attr">tileIndex</span>: -<span class="hljs-number">3</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'tree02'</span> },
    ],
</code></pre>
<p>ä»–å°±åˆ†åˆ«ä»£è¡¨</p>
<ul>
<li>æ¨¡å‹åä¸º<code>tree01</code>çš„æ ‘æœ¨æ¨¡å‹åœ¨<code>tileIndex</code>ä½ç½®ä¸º -7 çš„ä½ç½®ã€‚</li>
<li>æ¨¡å‹åä¸º<code>tree02</code>çš„æ ‘æœ¨æ¨¡å‹åœ¨<code>tileIndex</code>ä½ç½®ä¸º -3 çš„ä½ç½®ã€‚</li>
</ul>
<p>(ps: æˆ‘å¯¹å•ä¸ªè·¯é¢å—å†å»ºæ¨¡è½¯ä»¶ä¸­è¿›è¡Œè¿‡é¢„å¤„ç†ï¼Œç¡®ä¿ä»–ä»¬å¼•å…¥åé•¿åº¦å¤§å°åˆšå¥½ä¸º1mï¼Œæ‰€ä»¥åç»­<code>tileIndex</code>ä¼šå’Œ<code>position</code>çš„ X è½´å¯¹åº”ï¼‰</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Tree</span> {
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">THREE.Scene</span>} <span class="hljs-variable">scene</span> - threejsåœºæ™¯
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">resources</span> - èµ„æºåŠ è½½å™¨å®ä¾‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">trees</span> - å½“å‰è¡Œçš„æ ‘æœ¨æ•°ç»„ï¼Œæ¯é¡¹åŒ…å«tileIndexå’Œtype
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">rowIndex</span> - å½“å‰è¡Œçš„zåæ ‡
   */</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">scene, resources, trees, rowIndex = <span class="hljs-number">0</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> = scene
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span> = resources
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trees</span> = trees
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span> = rowIndex
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">treeMeshes</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addTrees</span>()
  }

  <span class="hljs-comment">// æ·»åŠ æ‰€æœ‰æ ‘æœ¨åˆ°å½“å‰è¡Œ</span>
  <span class="hljs-title function_">addTrees</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">trees</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">treeData</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { tileIndex, type } = treeData
      <span class="hljs-comment">// è·å–å¯¹åº”ç±»å‹çš„æ ‘æ¨¡å‹</span>
      <span class="hljs-keyword">const</span> treeResource = <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">items</span>[type]
      <span class="hljs-comment">// å…‹éš†æ ‘æ¨¡å‹</span>
      <span class="hljs-keyword">const</span> treeMesh = treeResource.<span class="hljs-property">scene</span>.<span class="hljs-title function_">clone</span>()
      <span class="hljs-comment">// è®¾ç½®æ ‘çš„ä½ç½®ï¼ˆxè½´ä¸ºtileIndexï¼Œzè½´ä¸ºrowIndexï¼‰</span>
      treeMesh.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(tileIndex, <span class="hljs-number">0.2</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
      <span class="hljs-comment">// æ·»åŠ åˆ°åœºæ™¯</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>.<span class="hljs-title function_">add</span>(treeMesh)
      <span class="hljs-comment">// å­˜å‚¨æ ‘å¯¹è±¡ï¼Œä¾¿äºåç»­ç§»é™¤</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">treeMeshes</span>.<span class="hljs-title function_">push</span>(treeMesh)
    })
  }
}
</code></pre>
<h4 data-id="heading-18">è½¦è¾†ç”Ÿæˆ</h4>
<p>è½¦è¾†ç±»ç›¸æ¯”æ ‘æœ¨ç±»éœ€è¦å¤šä¸€å±‚â€œè°ƒæ•´è½¦è¾†æ–¹å‘é€»è¾‘â€ï¼Œè¿™ä¸ä»…éœ€è¦ä»£ç é…åˆï¼Œè¿˜éœ€è¦å¯¹é™æ€èµ„æºè¿›è¡Œé¢„å¤„ç†ï¼Œç¡®ä¿æ‰€æœ‰è½¦è¾†æœå‘ä¸€è‡´ã€‚</p>
<pre><code class="hljs language-js" lang="js">  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'road'</span>,
    <span class="hljs-attr">direction</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">speed</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">vehicles</span>: [
      {
        <span class="hljs-attr">initialTileIndex</span>: <span class="hljs-number">12</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'car04'</span>,
      },
      {
        <span class="hljs-attr">initialTileIndex</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'car08'</span>,
      },
      {
        <span class="hljs-attr">initialTileIndex</span>: -<span class="hljs-number">2</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'car01'</span>,
      },
    ],
  },
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> {
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">THREE.Scene</span>} <span class="hljs-variable">scene</span> - threejsåœºæ™¯
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">resources</span> - èµ„æºåŠ è½½å™¨å®ä¾‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">vehicles</span> - å½“å‰è¡Œçš„è½¦è¾†æ•°ç»„ï¼Œæ¯é¡¹åŒ…å« initialTileIndex å’Œ type
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">rowIndex</span> - å½“å‰è¡Œçš„zåæ ‡
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">boolean</span>} <span class="hljs-variable">direction</span> - è½¦è¾†æ–¹å‘ï¼Œtrue å‘å³ï¼Œfalse å‘å·¦
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">speed</span> - è½¦è¾†é€Ÿåº¦
   */</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">scene, resources, vehicles, rowIndex = <span class="hljs-number">0</span>, direction = <span class="hljs-literal">false</span>, speed = <span class="hljs-number">1</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">experience</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Experience</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> = scene
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span> = resources
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">time</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">experience</span>.<span class="hljs-property">time</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">vehicles</span> = vehicles
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span> = rowIndex
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">direction</span> = direction
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> = speed
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timeMultiplier</span> = <span class="hljs-number">1</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">carMeshes</span> = []
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCars</span>()
  }

  <span class="hljs-comment">// æ·»åŠ æ‰€æœ‰è½¦è¾†åˆ°å½“å‰è¡Œ</span>
  <span class="hljs-title function_">addCars</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">vehicles</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">carData, _idx</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { initialTileIndex, type } = carData
      <span class="hljs-comment">// è·å–å¯¹åº”ç±»å‹çš„è½¦è¾†æ¨¡å‹</span>
      <span class="hljs-keyword">const</span> carResource = <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">items</span>[type]
      <span class="hljs-keyword">if</span> (!carResource) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`æœªæ‰¾åˆ°èµ„æº: <span class="hljs-subst">${type}</span>`</span>)
        <span class="hljs-keyword">return</span>
      }
      <span class="hljs-comment">// å…‹éš†è½¦è¾†æ¨¡å‹</span>
      <span class="hljs-keyword">const</span> carMesh = carResource.<span class="hljs-property">scene</span>.<span class="hljs-title function_">clone</span>()
      carMesh.<span class="hljs-property">scale</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>)
      <span class="hljs-comment">// é€’å½’è®¾ç½®æ‰€æœ‰ mesh å¯æŠ•å°„é˜´å½±</span>
      carMesh.<span class="hljs-title function_">traverse</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (child.<span class="hljs-property">isMesh</span>) {
          child.<span class="hljs-property">castShadow</span> = <span class="hljs-literal">true</span> <span class="hljs-comment">// è½¦è¾†äº§ç”Ÿé˜´å½±</span>
        }
      })
      <span class="hljs-comment">// è®¾ç½®è½¦è¾†ä½ç½®ï¼ˆxè½´ä¸ºtileIndex*4ï¼Œzè½´ä¸ºrowIndexï¼‰</span>
      carMesh.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(initialTileIndex, <span class="hljs-number">0.35</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
      <span class="hljs-comment">// è®¾ç½®è½¦è¾†æœå‘</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">direction</span>) {
        carMesh.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> = <span class="hljs-number">0</span> <span class="hljs-comment">// å‘å³</span>
      }
      <span class="hljs-keyword">else</span> {
        carMesh.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> <span class="hljs-comment">// å‘å·¦</span>
      }
      <span class="hljs-comment">// æ·»åŠ åˆ°åœºæ™¯</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>.<span class="hljs-title function_">add</span>(carMesh)
      <span class="hljs-comment">// å­˜å‚¨è½¦è¾†å¯¹è±¡ï¼Œä¾¿äºåç»­ç§»é™¤å’ŒåŠ¨ç”»</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">carMeshes</span>.<span class="hljs-title function_">push</span>(carMesh)
    })
  }
}
</code></pre>
<h3 data-id="heading-19">åœºæ™¯ç»„è£…æ­å»º</h3>
<p>éšååœ¨å‰é¢éå†<code>metadata</code>çš„åœ°æ–¹å°†<code>tree</code> &amp; <code>car</code>çš„ç”Ÿæˆå‡½æ•°ä»¥åŒæ ·æ–¹å¼è°ƒç”¨</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">metadata</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">rowData</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>++
      <span class="hljs-comment">// å¦‚æœæ˜¯æ£®æ—è¡Œï¼Œæ·»åŠ æ ‘</span>
      <span class="hljs-keyword">if</span> (rowData &amp;&amp; rowData.<span class="hljs-property">type</span> === <span class="hljs-string">'forest'</span>) {
        <span class="hljs-comment">// å…ˆç”Ÿæˆè‰åœ°</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addGrassRow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addTreeRow</span>(rowData.<span class="hljs-property">trees</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
      }
      <span class="hljs-keyword">if</span> (rowData &amp;&amp; rowData.<span class="hljs-property">type</span> === <span class="hljs-string">'road'</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addRoadRow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCarRow</span>(rowData.<span class="hljs-property">vehicles</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>, rowData.<span class="hljs-property">direction</span>, rowData.<span class="hljs-property">speed</span>)
      }
    })
  }

  <span class="hljs-comment">// æ·»åŠ ä¸€è¡Œæ ‘</span>
  <span class="hljs-title function_">addTreeRow</span>(<span class="hljs-params">trees, rowIndex</span>) {
    <span class="hljs-keyword">const</span> treeRow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tree</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>, trees, rowIndex)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">treeRows</span>.<span class="hljs-title function_">push</span>(treeRow)
  }

  <span class="hljs-comment">// æ·»åŠ ä¸€è¡Œè½¦è¾†</span>
  <span class="hljs-title function_">addCarRow</span>(<span class="hljs-params">vehicles, rowIndex = <span class="hljs-number">0</span>, direction = <span class="hljs-literal">false</span>, speed = <span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword">const</span> carRow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>, vehicles, rowIndex, direction, speed)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">carRows</span>.<span class="hljs-title function_">push</span>(carRow)
    <span class="hljs-comment">// æ–°å¢ï¼šè®°å½•æ¯è¡Œè½¦è¾†mesh</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">carMeshDict</span>[rowIndex] = carRow.<span class="hljs-title function_">getCarMeshes</span>()
  }
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90fa72ba00ac4f5aa1affd1b3256f1e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=Cll0Sgg2Jfovm2e3%2F6uUIFef52Y%3D" alt="14.png" loading="lazy"></p>
<p>æœ€åæˆ‘ä»¬åªéœ€è¦åœ¨ç»™è½¦è¾†å¢åŠ ç§»åŠ¨æ•ˆæœï¼Œè®©è½¦è¾†éšç€<code>requestAnimationFrame</code>æ›´æ–°ä¸æ–­æ›´æ–°<code>mesh</code>çš„ä½ç§»ï¼Œ å‘æŒ‡å®šæ–¹å‘<code>direction</code>ç§»åŠ¨å³å¯ã€‚è®°å¾—åˆ«å¿˜äº†è¶…å‡ºè¾¹ç•Œè¦åŠæ—¶é‡ç½®è½¦è¾†ä½ç½®å“¦ã€‚</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-comment">// æ›´æ–°è½¦è¾†ä½ç½®ï¼ˆå¯ç”¨äºåŠ¨ç”»ï¼‰</span>
  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// è·å–å…¨å±€å·²ç”¨æ—¶é—´ï¼Œå•ä½msï¼Œè½¬ä¸ºç§’</span>
    <span class="hljs-keyword">const</span> t = <span class="hljs-variable language_">this</span>.<span class="hljs-property">time</span>.<span class="hljs-property">elapsed</span> * <span class="hljs-number">0.03</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">timeMultiplier</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">carMeshes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">car, idx</span>) =&gt;</span> {
      <span class="hljs-comment">// è½¦è¾†ç§»åŠ¨æ–¹å‘</span>
      <span class="hljs-keyword">const</span> dir = <span class="hljs-variable language_">this</span>.<span class="hljs-property">direction</span> ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>
      <span class="hljs-comment">// è¾¹ç•Œåˆ¤æ–­ä¸å¾ªç¯ é‡ç½®è½¦è¾†ä½ç½®</span>
      <span class="hljs-keyword">if</span> (dir === <span class="hljs-number">1</span> &amp;&amp; car.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> &gt; <span class="hljs-variable constant_">CAR_BOUNDARY_MAX</span>) {
        car.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> = <span class="hljs-variable constant_">CAR_BOUNDARY_MIN</span>
      }
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dir === -<span class="hljs-number">1</span> &amp;&amp; car.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> &lt; <span class="hljs-variable constant_">CAR_BOUNDARY_MIN</span>) {
        car.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> = <span class="hljs-variable constant_">CAR_BOUNDARY_MAX</span>
      }

      car.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> += dir * <span class="hljs-variable language_">this</span>.<span class="hljs-property">speed</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">time</span>.<span class="hljs-property">delta</span> * <span class="hljs-number">1</span> / <span class="hljs-number">60</span> * <span class="hljs-number">0.23</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">timeMultiplier</span>

      <span class="hljs-comment">// === è½¦èº«æŠ–åŠ¨ï¼šæ¨¡æ‹Ÿä¸å¹³è·¯é¢ ===</span>
      <span class="hljs-comment">// æŠ–åŠ¨å‚æ•°</span>
      <span class="hljs-keyword">const</span> shake = <span class="hljs-variable language_">this</span>.<span class="hljs-property">carShakeParams</span>[idx]
      <span class="hljs-comment">// å åŠ ä¸¤ç»„ä¸åŒé¢‘ç‡çš„æ­£å¼¦æ³¢ï¼Œå¹…åº¦å°</span>
      <span class="hljs-keyword">const</span> freq1 = <span class="hljs-number">2.5</span>
      <span class="hljs-keyword">const</span> amp1 = <span class="hljs-number">0.02</span>
      <span class="hljs-keyword">const</span> freq2 = <span class="hljs-number">4.3</span>
      <span class="hljs-keyword">const</span> amp2 = <span class="hljs-number">0.01</span>
      <span class="hljs-comment">// è®¡ç®—æŠ–åŠ¨åç§»</span>
      <span class="hljs-keyword">const</span> offsetY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(t * freq1 + shake.<span class="hljs-property">phase</span>) * amp1 + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(t * freq2 + shake.<span class="hljs-property">phase</span> * <span class="hljs-number">1.3</span>) * amp2
      car.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = shake.<span class="hljs-property">baseY</span> + offsetY
    })
  }
</code></pre>
<p>( æœ€åæ•ˆæœå›¾ )
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34eff9c68d10466e9059c6d09a530240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=8JRnr99PFOgxIhH6ZIa%2Ff3hmTJ8%3D" alt="4.gif" loading="lazy"></p>
<p>è¿™ä¸ªæˆ‘ä»¬å°±å·²ç»å®Œæˆäº†æ ¹æ® <code>metadata</code>ç”Ÿæˆå¯¹åº”çš„åœºæ™¯å†…å®¹çš„åŠŸèƒ½ï¼Œç°åœ¨æ‚¨å¯ä»¥ä¸ºç”¨æˆ·ç”Ÿæˆä¸€ä¸ªè¾ƒä¸ºç®€å•çš„åˆå§‹åœºæ™¯ï¼Œè™½ç„¶æˆ‘ä»¬åé¢ä¼šåˆ©ç”¨éšæœºç”Ÿæˆçš„<code>metadata</code>æ•°æ®ç”Ÿæˆåœ°å½¢ï¼Œä½†ç›¸ä¿¡æˆ‘ï¼Œæˆ‘æ›¾ç»ç”Ÿæˆè¿‡é™¤å»å‡ºç”Ÿç‚¹åé¢6ã€7è¡Œéƒ½æ˜¯é©¬è·¯ã€‚æ¯•ç«Ÿç©å®¶åˆšå¤æ´»ä¸‹ä¸€æ­¥å°±è¦å¼€å§‹è¿‡é©¬è·¯ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ¸¸æˆä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d12fb7755a7647f6901846cb34d48421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=%2Fd0xGaNEnJE00Ic%2Fw3YpncGW5p8%3D" alt="15.png" loading="lazy"></p>
<h2 data-id="heading-20">5.ğŸ¤è§’è‰²ç§»åŠ¨ä¸åœºæ™¯ç”Ÿæˆ</h2>
<h3 data-id="heading-21">å¼•å…¥è§’è‰²</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†å°é¸¡æ¨¡å‹æ·»åŠ åˆ°åœºæ™¯ä¸­å¹¶è¿›è¡Œé€‚å½“è°ƒæ•´ï¼š</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-comment">// åŠ è½½å¹¶æ”¾ç½®å°é¸¡æ¨¡å‹</span>
  <span class="hljs-title function_">initChicken</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// è·å– instance èµ„æº</span>
    <span class="hljs-keyword">const</span> chickenResource = <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">items</span>.<span class="hljs-property">bigChicken</span>
    <span class="hljs-keyword">if</span> (!chickenResource) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'æœªæ‰¾åˆ° instance èµ„æº'</span>)
      <span class="hljs-keyword">return</span>
    }
    <span class="hljs-comment">// å…‹éš†æ¨¡å‹ï¼Œé¿å…èµ„æºæ±¡æŸ“</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span> = chickenResource.<span class="hljs-property">scene</span>.<span class="hljs-title function_">clone</span>()
    <span class="hljs-comment">// æ˜¾ç¤ºé˜´å½±</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-title function_">traverse</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (child <span class="hljs-keyword">instanceof</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>) {
        child.<span class="hljs-property">castShadow</span> = <span class="hljs-literal">true</span>
      }
    })
    <span class="hljs-comment">// åªè®¾ç½® y æ–¹å‘åˆå§‹é«˜åº¦</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0.22</span>, <span class="hljs-number">0</span>)
    <span class="hljs-comment">// è®¾ç½®åˆå§‹ç­‰æ¯”ä¾‹ç¼©æ”¾</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">scale</span>.<span class="hljs-title function_">set</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scale</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">scale</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">scale</span>)
    <span class="hljs-comment">// æ·»åŠ åˆ° agentGroup</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">agentGroup</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>)
  }

</code></pre>
<h3 data-id="heading-22">è§’è‰²ç§»åŠ¨</h3>
<p>éšåéœ€è¦å¯¹å°é¸¡åŠ å…¥æŒ‰é”®ç›‘å¬ä»¥åŠç§»åŠ¨æ§åˆ¶ï¼Œåœ¨ä¹‹å‰çš„é¡¹ç›®<a href="https://juejin.cn/post/7498914140166799397#heading-9" target="_blank" title="https://juejin.cn/post/7498914140166799397#heading-9">ğŸ˜®ğŸ˜®ğŸ˜® æˆ‘å†™å‡ºäº†è¢« Threejs å®˜æ¨è½¬å‘çš„é¡¹ç›®ğŸš€âœ¨ï¼Ÿï¼</a>ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ¢è®¨è¿‡è§’è‰²ç§»åŠ¨çš„åŸºæœ¬åŸç†ã€‚è¿™ä¸ªé¡¹ç›®æˆ‘æ²¿ç”¨äº†å½“æ—¶çš„è§’è‰²æŒ‰é”®ç§»åŠ¨å“åº”å’Œè½¬å‘é€»è¾‘ï¼Œåœ¨è¿™é‡Œå°±ä¸ç‚’å†·é¥­å»è§£é‡Š<em>ä¸ºä»€ä¹ˆä½¿ç”¨event.code</em>æˆ–è€…<em>è§’è‰²è½¬å‘ BUG</em>ã€‚
<strong>ç›´æ¥é‡ç‚¹è§£é‡Šå½“å‰é¡¹ç›®å’Œä¸Šä¸€ä¸ªé¡¹ç›®ç§»åŠ¨çš„ä¸åŒç‚¹ï¼šå¼•å…¥å…¥äº†ç§»åŠ¨é˜Ÿåˆ—(<code>movesQueue</code>)æœºåˆ¶</strong></p>
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹åœ¨æ¸¸æˆä¸­æ­£å¸¸ç§»åŠ¨æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3f94117167242ad9aa75a2b22482e5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=UqymUpwbbElSohumnkhQ7%2BgOx0g%3D" alt="5.gif" loading="lazy"></p>
<p>å¯ä»¥çœ‹åˆ°å°é¸¡åœ¨åœºæ™¯ä¸­æ¯æ¬¡éƒ½æ˜¯<strong>æ¯æ¬¡æŒ‰é”®éƒ½å¯¹åº”ä¸€ä¸ªå®Œæ•´çš„ç§»åŠ¨å•ä½ï¼Œä¸ä¼šå› æŒ‰é”®æ—¶é—´é•¿çŸ­å½±å“ç§»åŠ¨è·ç¦»</strong>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ç›¸è¾ƒäºå‰ä½œçš„ç§»åŠ¨é€»è¾‘å¤šäº†ä¸€ä¸ª<code>movesQueue</code>ï¼Œ<code>movesQueue</code>çš„ä½œç”¨æ˜¯ä½œä¸ºç§»åŠ¨æŒ‡ä»¤é˜Ÿåˆ—ï¼Œå­˜å‚¨å¾…æ‰§è¡Œçš„ç§»åŠ¨æ–¹å‘ï¼ˆå¦‚ forwardã€leftï¼‰ã€‚ç”¨æˆ·å¯ä»¥è¿ç»­è¾“å…¥å¤šä¸ªç§»åŠ¨æŒ‡ä»¤ï¼Œä½¿åŠ¨ç”»æœªå®Œæˆï¼Œç”¨æˆ·çš„åç»­è¾“å…¥ä¹Ÿä¼šè¢«è®°å½•ã€‚é¿å…äº†çªç„¶å˜å‘ç­‰ä¸è‡ªç„¶ç°è±¡ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ <code>this.movesQueue</code> çš„ç›‘å¬é€»è¾‘</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-title function_">listenKeyboard</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'keydown'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">experience</span>.<span class="hljs-property">isPaused</span>) {
        <span class="hljs-keyword">return</span>
      }
      <span class="hljs-keyword">let</span> move = <span class="hljs-literal">null</span>
      <span class="hljs-keyword">switch</span> (event.<span class="hljs-property">code</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ArrowUp'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'KeyW'</span>:
          move = <span class="hljs-string">'forward'</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ArrowDown'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'KeyS'</span>:
          move = <span class="hljs-string">'backward'</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ArrowLeft'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'KeyA'</span>:
          move = <span class="hljs-string">'left'</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ArrowRight'</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">'KeyD'</span>:
          move = <span class="hljs-string">'right'</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-attr">default</span>:
          <span class="hljs-keyword">break</span>
      }
      <span class="hljs-comment">// åªåœ¨é¦–æ¬¡æŒ‰ä¸‹æ—¶ push</span>
      <span class="hljs-keyword">if</span> (move &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">pressedKeys</span>.<span class="hljs-title function_">has</span>(event.<span class="hljs-property">code</span>)) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>.<span class="hljs-title function_">push</span>(move)
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pressedKeys</span>.<span class="hljs-title function_">add</span>(event.<span class="hljs-property">code</span>)
      }
    })
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'keyup'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pressedKeys</span>.<span class="hljs-title function_">delete</span>(event.<span class="hljs-property">code</span>)
    })
  }
</code></pre>
<p>éšå<code>this.movesQueue</code> ä¼šåœ¨<code>requestAnimationFrame</code>ä¸­è¿›è¡Œç›¸åº”æŒ‡ä»¤çš„æ‰§è¡Œå’Œé‡Šæ”¾ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå…·ä½“çš„æµç¨‹å›¾å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆç§»åŠ¨æµç¨‹å›¾ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd1a94e7b8d44eb5b2f4ca56569c791d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=iaKOZ5w6Taywc9pO65hM5fnG42k%3D" alt="16.png" loading="lazy"></p>
<p>æ ¸å¿ƒé€»è¾‘å¯ç®€åŒ–ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>æ ¹æ®æŒ‡ä»¤è®¡ç®—ç›®æ ‡æ ¼å­</li>
<li>æ‰§è¡ŒåŠ¨ç”»æ’å€¼</li>
<li>ç§»é™¤å·²å®Œæˆçš„æŒ‡ä»¤</li>
</ol>
<p>ä»¥ä¸‹æ˜¯æ ¸å¿ƒä»£ç ç‰‡æ®µ</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>)
      <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>.<span class="hljs-property">length</span>)
      <span class="hljs-keyword">return</span>

    <span class="hljs-comment">// è®¡ç®—ä¸‹ä¸€æ­¥ç›®æ ‡æ ¼å­</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isMoving</span>) {
      <span class="hljs-keyword">const</span> dir = <span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>[<span class="hljs-number">0</span>]
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetTile</span> = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentTile</span> }
      <span class="hljs-keyword">switch</span> (dir) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'forward'</span>:
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetTile</span>.<span class="hljs-property">z</span> -= <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'backward'</span>:
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetTile</span>.<span class="hljs-property">z</span> += <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'left'</span>:
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetTile</span>.<span class="hljs-property">x</span> -= <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'right'</span>:
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetTile</span>.<span class="hljs-property">x</span> += <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
      }

      <span class="hljs-comment">// å…ˆè®¾ç½®æ—‹è½¬ï¼Œè®©å°é¸¡æœå‘å°è¯•æ–¹å‘</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">startRot</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">endRot</span> = <span class="hljs-title function_">getTargetRotation</span>(dir)

      <span class="hljs-comment">// å¯åŠ¨ç§»åŠ¨</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isMoving</span> = <span class="hljs-literal">true</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">moveClock</span>.<span class="hljs-title function_">start</span>()
      <span class="hljs-comment">// è®°å½•èµ·å§‹ä½ç½®</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">startPos</span> = {
        <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentTile</span>.<span class="hljs-property">x</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">stepLength</span>,
        <span class="hljs-attr">z</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentTile</span>.<span class="hljs-property">z</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">stepLength</span>,
      }
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">endPos</span> = {
        <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetTile</span>.<span class="hljs-property">x</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">stepLength</span>,
        <span class="hljs-attr">z</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetTile</span>.<span class="hljs-property">z</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">stepLength</span>,
      }
    }

    <span class="hljs-comment">// æ­¥è¿›åŠ¨ç”»</span>
    <span class="hljs-keyword">const</span> stepTime = <span class="hljs-variable language_">this</span>.<span class="hljs-property">isSpeedUp</span> ? <span class="hljs-variable constant_">SPEEDUP_STEP_TIME</span> : <span class="hljs-variable constant_">NORMAL_STEP_TIME</span> <span class="hljs-comment">// æ ¹æ®åŠ é€ŸçŠ¶æ€è°ƒæ•´æ­¥è¿›æ—¶é•¿</span>
    <span class="hljs-keyword">const</span> progress = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">1</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">moveClock</span>.<span class="hljs-title function_">getElapsedTime</span>() / stepTime)
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setPosition</span>(progress)
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setRotation</span>(progress)

    <span class="hljs-comment">// æ­¥è¿›ç»“æŸ</span>
    <span class="hljs-keyword">if</span> (progress &gt;= <span class="hljs-number">1</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">stepCompleted</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">moveClock</span>.<span class="hljs-title function_">stop</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isMoving</span> = <span class="hljs-literal">false</span>
      <span class="hljs-comment">// ç§»é™¤å·²å®Œæˆçš„æŒ‡ä»¤</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>.<span class="hljs-title function_">shift</span>()
    }
  }
</code></pre>
<p>è§’è‰²ç°åœ¨æ˜¯å¯ä»¥ç§»åŠ¨äº†ï¼Œä½†æ˜¯å½“ç©å®¶ç§»åŠ¨åˆ°åœºæ™¯è¾¹ç•Œæ—¶ä¼šå‡ºç°...</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c17d4ad394704372b3803b84d5268e91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=U2004sd0NUddg7q0kPptGVZwvjw%3D" alt="6.gif" loading="lazy"></p>
<p>ä¸‹é¢æˆ‘ä»¬éœ€è¦è§£å†³åœºæ™¯ç”Ÿæˆé—®é¢˜ï¼Ÿä¸èƒ½ä¸€æ¬¡ç”Ÿæˆå¤ªå¤šï¼Œä¹Ÿä¸èƒ½è®©ç”¨æˆ·çœ‹åˆ°åœºæ™¯è¾¹ç•Œï¼</p>
<h3 data-id="heading-23">åœºæ™¯ç”Ÿæˆ</h3>
<p>æˆ‘ä»¬éœ€è¦å®ç°åŠ¨æ€åœ°å½¢ç”Ÿæˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸»è¦è€ƒè™‘ä¸¤ä¸ªå…³é”®ç‚¹ï¼š</p>
<ol>
<li><strong>ç”Ÿæˆæ—¶æœº</strong>ï¼šä½•æ—¶è§¦å‘åœ°å½¢æ‰©å±•ï¼Ÿ</li>
<li><strong>ç”Ÿæˆæ–¹å¼</strong>ï¼šå¦‚ä½•ç”Ÿæˆæ–°çš„åœ°å½¢ï¼Ÿ</li>
</ol>
<h4 data-id="heading-24">ç”Ÿæˆæ—¶æœºåˆ¤å®š</h4>
<p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€å¼ å›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a18db3d2959440caaee9b95649d768a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=pGS%2FMWktsrqnTd5nV7syRsi%2Fttc%3D" alt="17.png" loading="lazy"></p>
<p>è¿™é‡Œæˆ‘å°†<strong>åˆ·æ–°æ—¶æœºå¯ä»¥è¢«è®¤å®šä¸ºå½“ç”¨æˆ·è·ç¦»åœ°å›¾æ¿è¾¹å°äºä¸€å®šè·ç¦»æ—¶è§¦å‘</strong>ï¼Œç”¨æˆ·çš„ä½ç½®æˆ‘ä»¬å¾ˆå®¹æ˜“è·å–åˆ°ï¼Œè€Œåœ°å›¾æ¿è¾¹å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥å°†<code>this.metadata.length</code>ä½œä¸ºåœ°å›¾æ¿è¾¹è·ç¦»ï¼Œæ¯•ç«Ÿåœ¨<code>scene</code>é‡Œï¼Œä¸€ä¸ª<code>row</code>çš„<code>Z</code>è½´é•¿åº¦å°±ä¸º <code>1</code></p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-comment">// æ£€æŸ¥ç©å®¶è·ç¦»åœ°å›¾æœ«å°¾è·ç¦»ï¼Œè‡ªåŠ¨æ‰©å±•</span>
  <span class="hljs-title function_">checkAndExtendMap</span>(<span class="hljs-params">userZ</span>) {
    <span class="hljs-comment">// userZ ä¸ºç©å®¶å½“å‰ z åæ ‡ï¼ˆè´Ÿæ•°ï¼Œè¶Šå°è¶Šè¿œï¼‰</span>
    <span class="hljs-keyword">const</span> remainRows = <span class="hljs-variable language_">this</span>.<span class="hljs-property">metadata</span>.<span class="hljs-property">length</span> - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(userZ) <span class="hljs-comment">//è·ç¦»æ¿è¾¹çš„è·ç¦»</span>
    <span class="hljs-keyword">if</span> (remainRows &lt; <span class="hljs-variable constant_">GENERATION_COUNT</span>) {
      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> æ‰©å……åœ°å½¢</span>
    }
  }
</code></pre>
<h4 data-id="heading-25">åœ°å½¢ç”Ÿæˆ</h4>
<p>åœ°å½¢ç”Ÿæˆé€»è¾‘å¦‚ä¸‹ï¼Œè€Œå¯¹äº<code>generateMetaRows</code>çš„é€»è¾‘æˆ‘ä¸æƒ³è¿‡å¤šèµ˜è¿°ï¼Œä½¿ç”¨<code>AI</code>å°†ç°æœ‰çš„<code>metadata</code>æ•°æ®è´´å…¥ä¸Šä¸‹æ–‡ï¼Œå¤§æ¦‚åŠåˆ†é’Ÿå°±èƒ½ç”Ÿæˆè¿™æ ·ä¸€ä¸ªå‡½æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-comment">// æ‰©å±•åœ°å›¾ï¼Œç”Ÿæˆå¹¶æ¸²æŸ“ N ä¸ªæ–°è¡Œ</span>
  <span class="hljs-title function_">extendMap</span>(<span class="hljs-params">N = <span class="hljs-number">10</span></span>) {
    <span class="hljs-keyword">const</span> startRowIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">metadata</span>.<span class="hljs-property">length</span>
    <span class="hljs-keyword">const</span> newRows = <span class="hljs-title function_">generateMetaRows</span>( N)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">metadata</span>.<span class="hljs-title function_">push</span>(...newRows)

    <span class="hljs-comment">// æ¸²æŸ“æ–°è¡Œ</span>
    newRows.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">rowData</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>++
      <span class="hljs-keyword">if</span> (rowData.<span class="hljs-property">type</span> === <span class="hljs-string">'forest'</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addGrassRow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addTreeRow</span>(rowData.<span class="hljs-property">trees</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
      }
      <span class="hljs-keyword">if</span> (rowData.<span class="hljs-property">type</span> === <span class="hljs-string">'road'</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addRoadRow</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>)
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addCarRow</span>(rowData.<span class="hljs-property">vehicles</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">rowIndex</span>, rowData.<span class="hljs-property">direction</span>, rowData.<span class="hljs-property">speed</span>)
      }
    })
  }

  <span class="hljs-comment">// æ£€æŸ¥ç©å®¶è·ç¦»åœ°å›¾æœ«å°¾è·ç¦»ï¼Œè‡ªåŠ¨æ‰©å±•</span>
  <span class="hljs-title function_">checkAndExtendMap</span>(<span class="hljs-params">userZ</span>) {
    <span class="hljs-comment">// userZ ä¸ºç©å®¶å½“å‰ z åæ ‡ï¼ˆè´Ÿæ•°ï¼Œè¶Šå°è¶Šè¿œï¼‰</span>
    <span class="hljs-keyword">const</span> remainRows = <span class="hljs-variable language_">this</span>.<span class="hljs-property">metadata</span>.<span class="hljs-property">length</span> - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(userZ)
    <span class="hljs-keyword">if</span> (remainRows &lt; <span class="hljs-variable constant_">GENERATION_COUNT</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">extendMap</span>(<span class="hljs-variable constant_">GENERATION_COUNT</span>)
    }
  }
</code></pre>
<p>æœ€ååœ¨è®©æˆ‘ä»¬è¿›å…¥æ¸¸æˆä¸­è¯•è¯•</p>
<p>( è¿™é‡Œç‰¹åœ°æŠŠè§†è§’è°ƒè¿œ )
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b9ff34b2e5c424f845e11a069a4aff3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=H3BfcMCCkNAq%2BT7Ca0axxK%2BGEhk%3D" alt="7.gif" loading="lazy"></p>
<h2 data-id="heading-26">6.ğŸš—ç”¨æˆ·ç¢°æ’æ£€æµ‹</h2>
<h3 data-id="heading-27">å½“å‰é—®é¢˜ï¼šæ— æ‰€ä¸èƒ½çš„å°é¸¡ï¼ï¼</h3>
<p>ç›®å‰æ¸¸æˆå®Œå…¨æ²¡æœ‰ç¢°æ’æ£€æµ‹ï¼Œç©å®¶å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°ç©¿è¿‡ä»»ä½•ç‰©ä½“ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/232319cd643748109f4a80504fbbed8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=wWKFZP78fPxWN%2FAeKYtkAoa5qrk%3D" alt="8.gif" loading="lazy"></p>
<p>æˆ‘åªèƒ½è¯´å°é¸¡æ˜¯æ‡‚åˆ·åˆ†è¿™ä¸€å—çš„ï¼</p>
<h3 data-id="heading-28">æ ‘æœ¨ç¢°æ’æ£€æµ‹</h3>
<p>æ ‘æœ¨ç¢°æ’å…¶å®è¦æ¯”æƒ³è±¡ä¸­çš„è¦ç®€å•ï¼Œè¿˜è®°å¾—åœ¨è§’è‰²ç§»åŠ¨å‰æˆ‘ä»¬ä¼šè®¡ç®—ä¸‹ä¸€ä¸ªç›®æ ‡æ ¼å¾—åˆ°ä¸€ä¸ª <code>this.targetTile</code>å—ï¼Ÿæˆ‘ä»¬å¯ä»¥æ ¹æ® <code>this.targetTile</code>åœ¨<code>metadata</code>ç›¸åº”ä½ç½®ä¸Šæ˜¯å¦å­˜åœ¨<code>tree</code>è€Œåˆ¤æ–­æ˜¯å¦è§¦å‘äº†æ ‘æœ¨ç¢°æ’ã€‚é‚£ä¹ˆæ­¤æ—¶åŸå…ˆæµç¨‹å›¾çš„ç›¸åº”éƒ¨åˆ†ç°åœ¨å˜æˆäº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef18317c974d486e8753be8f49c96ad3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=%2Bsk7oqXiISUIlzMB8S%2Fx97WF0ys%3D" alt="18.png" loading="lazy"></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * åˆ¤æ–­ç›®æ ‡æ ¼å­æ˜¯å¦ä¸ºæœ‰æ•ˆä½ç½®
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">{x:number, z:number</span>}} targetTile ç›®æ ‡æ ¼å­åæ ‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} metaData åœ°å›¾å…ƒæ•°æ®æ•°ç»„
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦ä¸ºæœ‰æ•ˆä½ç½®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">endsUpInValidPosition</span>(<span class="hljs-params">targetTile, metaData</span>) {
  <span class="hljs-comment">// 1. è¾¹ç•Œæ£€æŸ¥</span>
  <span class="hljs-keyword">if</span> (targetTile.<span class="hljs-property">x</span> &lt; <span class="hljs-variable constant_">MIN_TILE_INDEX</span> || targetTile.<span class="hljs-property">x</span> &gt; <span class="hljs-variable constant_">MAX_TILE_INDEX</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  <span class="hljs-keyword">if</span> (targetTile.<span class="hljs-property">z</span> &lt;= -<span class="hljs-number">5</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>

  <span class="hljs-comment">// 2. æ£€æŸ¥ metaData æ˜¯å¦æœ‰æ ‘</span>
  <span class="hljs-keyword">const</span> rowIndex = targetTile.<span class="hljs-property">z</span>
  <span class="hljs-keyword">const</span> row = metaData[rowIndex - <span class="hljs-number">1</span>]
  <span class="hljs-keyword">if</span> (row &amp;&amp; row.<span class="hljs-property">type</span> === <span class="hljs-string">'forest'</span>) {
    <span class="hljs-comment">// æ£€æŸ¥è¯¥è¡Œæ˜¯å¦æœ‰æ ‘åœ¨ç›®æ ‡ x</span>
    <span class="hljs-keyword">if</span> (row.<span class="hljs-property">trees</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">tree</span> =&gt;</span> tree.<span class="hljs-property">tileIndex</span> === targetTile.<span class="hljs-property">x</span>)) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}

  <span class="hljs-comment">// updateæ–¹æ³•ï¼šæ¯å¸§è°ƒç”¨ï¼Œå¤„ç†ç§»åŠ¨é€»è¾‘</span>
  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">instance</span>)
      <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>.<span class="hljs-property">length</span>)
      <span class="hljs-keyword">return</span>

    <span class="hljs-comment">// è®¡ç®—ä¸‹ä¸€æ­¥ç›®æ ‡æ ¼å­</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isMoving</span>) {
      <span class="hljs-keyword">const</span> dir = <span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>[<span class="hljs-number">0</span>]
      <span class="hljs-keyword">const</span> nextTarget = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentTile</span> }
      <span class="hljs-keyword">switch</span> (dir) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'forward'</span>:
          nextTarget.<span class="hljs-property">z</span> -= <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'backward'</span>:
          nextTarget.<span class="hljs-property">z</span> += <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'left'</span>:
          nextTarget.<span class="hljs-property">x</span> -= <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'right'</span>:
          nextTarget.<span class="hljs-property">x</span> += <span class="hljs-number">1</span>
          <span class="hljs-keyword">break</span>
      }
        
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦åˆæ³•</span>
      <span class="hljs-keyword">const</span> mapMetadata = <span class="hljs-variable language_">this</span>.<span class="hljs-property">experience</span>.<span class="hljs-property">world</span>.<span class="hljs-property">map</span>.<span class="hljs-property">metadata</span>
      <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">endsUpInValidPosition</span>(nextTarget, mapMetadata)) { <span class="hljs-comment">// ä¸åˆæ³•åˆ™ä¸¢å¼ƒæŒ‡ä»¤</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>.<span class="hljs-title function_">shift</span>()
        <span class="hljs-keyword">return</span>
      }
	<span class="hljs-comment">//åç»­é€»è¾‘ä¸å˜...</span>
  }
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df64d1a4eb8040129de7785b3c648215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=fzRiwdyEK0l9BopOBvLbS4fDVss%3D" alt="9.gif" loading="lazy"></p>
<h4 data-id="heading-29">å¢å¼ºç¢°æ’åé¦ˆ</h4>
<p>ä½†æ˜¯è¿™æ ·ç¢°æ’è™½ç„¶å‘ç”Ÿï¼Œä½†ç»™äººä¸€ç‚¹åé¦ˆæ²¡æœ‰ï¼Œä¸ºäº†è®©ç¢°æ’æ›´æœ‰æ„Ÿè§‰ï¼Œæˆ‘ä»¬å¢åŠ äº†ä¸¤ä¸ªæ•ˆæœï¼š</p>
<ul>
<li>è™½ç„¶æ’å¢™ä½†ä¹Ÿè½¬å‘è¡Œä¸º</li>
<li>åŸåœ°è¹¦è·¶ä¸¤ä¸‹æ„æ€æ„æ€è¡Œä¸º</li>
</ul>
<pre><code class="hljs language-js" lang="js">      <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">endsUpInValidPosition</span>(nextTarget, mapMetadata)) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setRotation</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">// è™½ç„¶æ’å¢™ä½†ä¹Ÿè½¬å‘è¡Œä¸º</span>
        <span class="hljs-comment">// ä¸åˆæ³•ï¼Œæ‰§è¡Œ yoyo åŠ¨ç”»å¹¶ä¸¢å¼ƒæœ¬æ¬¡æŒ‡ä»¤</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">playYoyoAnimation</span>(nextTarget) <span class="hljs-comment">//åŸåœ°è¹¦è·¶ä¸¤ä¸‹æ„æ€æ„æ€è¡Œä¸º</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">movesQueue</span>.<span class="hljs-title function_">shift</span>()åŸåœ°è¹¦è·¶ä¸¤ä¸‹æ„æ€æ„æ€è¡Œä¸º
        <span class="hljs-keyword">return</span>
      }
</code></pre>
<p><code>this.playYoyoAnimation</code>æ•ˆæœç±»ä¼¼ <code>gsap</code>çš„<code>yoyo</code>è¡Œä¸ºï¼Œè·³å‘ç›®æ ‡ç‚¹éšåè¿”å›åŸ<code>tile</code>ã€‚</p>
<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e7e35bf7bb048cfb47bb1d42c14eb24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=6vMS%2FiOKtgnDCjc28v6W%2BKAGmNU%3D" alt="10.gif" loading="lazy"></p>
<h3 data-id="heading-30">æ±½è½¦ç¢°æ’</h3>
<p>é‚£ä¹ˆæ±½è½¦ç¢°æ’æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿæ¯•ç«Ÿåœºæ™¯é‡ŒåŠ¨æ€å…ƒç´ è¿™ä¹ˆå¤šï¼Œä½¿ç”¨<code>octree</code>è‚¯å®šä¸è¡Œã€‚æˆ‘è¿™é‡Œä½¿ç”¨äº† <code>BOX3</code>ä¸ºè½¦è¾†å’Œç”¨æˆ·åˆ›å»ºäº†åŒ…å›´ç›’ï¼Œéšååˆ¤æ–­æ˜¯å¦è½¦è¾†å’Œç”¨æˆ·ç›¸äº¤è¿›è€Œç¡®å®šæ¸¸æˆè¿›ç¨‹æ˜¯å¦ç»§ç»­ã€‚</p>
<p><code>AABB</code>ï¼Ÿï¼è¿™åœºæ™¯è¿™ä¹ˆå¤šè½¦ä½ ç”¨è¿™æ–¹æ³•ï¼Ÿè¿™ä¸æ˜¯è¶Šç©è¶Šå¡ï¼Œå¼€å¤´ <code>120FPS</code>ï¼Œç»“å°¾å¡æˆ<code>PPT</code>ã€‚å¯æ˜¯ã€‚ã€‚ã€‚ã€‚ä¸ºä»€ä¹ˆä½ çš„ç”µè„‘è¿™ä¹ˆæµç•…ï¼Œéš¾é“ä½ ç”¨ <code>4090</code>æ¥ç©è¿™ä¸ª<code>4399</code>å°æ¸¸æˆï¼Ÿ</p>
<h4 data-id="heading-31"><strong>ç©ºé—´åˆ†åŒº</strong>ï¼šåªæ£€æµ‹ç©å®¶å½“å‰æ‰€åœ¨é“è·¯è¡Œçš„è½¦è¾†</h4>
<p><strong>å‚è€ƒæ–‡ç« : <a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascriptgametutorials.com%2Ftutorials%2Fthree-js%2Fcrossy-road%2Fhit-detection" target="_blank" title="https://javascriptgametutorials.com/tutorials/three-js/crossy-road/hit-detection" ref="nofollow noopener noreferrer">crossRoad æ’å‡»æ£€æµ‹ç« èŠ‚</a></strong></p>
<p>ç­”æ¡ˆæ˜¯åªå¯¹ç©å®¶å½“å‰æ‰€åœ¨çš„é“è·¯è¡Œè¿›è¡Œç¢°æ’æµ‹è¯•ï¼Œæ¯”å¦‚ç©å®¶ A åœ¨é“è·¯è¡Œ 31 è¡Œï¼Œé‚£ä¹ˆåªè¦æ±‚ç¬¬ 31 è¡Œçš„è½¦è¾†ç”ŸæˆåŒ…å›´ç›’å¹¶åˆ¤æ–­æ˜¯å¦ä¸ç”¨æˆ·ç›¸äº¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ba8c5179d5c4171a07023358f57fd57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=biRiYXrby4ZWupjPDKSItxExDRs%3D" alt="19.png" loading="lazy"></p>
<p>é‚£ä¹ˆé¦–å…ˆæˆ‘ä»¬éœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ å¦‚ä½•è·å–ç©å®¶å½“å‰æ‰€åœ¨è¡Œçš„æ‰€æœ‰æ±½è½¦<code>mesh</code>,è¿™å°±éœ€è¦æˆ‘ä»¬æå‰ç»´æŠ¤ä¸€ä¸ªæ±½è½¦å¿«è¡¨,å°†æ¯ä¸ªè¡Œçš„è¡Œæ•°ä»¥åŠå½“å‰æ±½è½¦mesh æ˜ å°„èµ·æ¥</p>
<p>è¿™é‡Œæˆ‘ä»¬å›åˆ°<strong>è½¦è¾†ç”Ÿæˆ</strong>ç›¸å…³ä»£ç ï¼Œåœ¨è¿™é‡Œç»´æŠ¤ä¸€ä¸ª<code>this.carMeshDict</code>å­—å…¸</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-comment">// æ–°å¢ï¼šè¡Œå·åˆ°è½¦è¾†meshæ•°ç»„çš„æ˜ å°„</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">carMeshDict</span> = {}

 <span class="hljs-comment">// åˆå§‹åŒ–åœ°å›¾å†…å®¹</span>
  <span class="hljs-title function_">initializeMap</span>(<span class="hljs-params"></span>) {
	<span class="hljs-comment">//....é€»è¾‘ä¸å˜</span>
  }

  <span class="hljs-comment">// æ·»åŠ ä¸€è¡Œè½¦è¾†</span>
  <span class="hljs-title function_">addCarRow</span>(<span class="hljs-params">vehicles, rowIndex = <span class="hljs-number">0</span>, direction = <span class="hljs-literal">false</span>, speed = <span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword">const</span> carRow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span>, vehicles, rowIndex, direction, speed)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">carRows</span>.<span class="hljs-title function_">push</span>(carRow)
    <span class="hljs-comment">// æ–°å¢ï¼šè®°å½•æ¯è¡Œè½¦è¾†mesh</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">carMeshDict</span>[rowIndex] = carRow.<span class="hljs-title function_">getCarMeshes</span>()
  }
</code></pre>
<p>éšåå°è£…ä¸€ä¸ªæ–¹æ³•æ¥å¸®åŠ©å¿«é€Ÿè·å–æŸè¡Œè½¦è¾†,å¹¶è§£å†³åˆ¤ç©ºé—®é¢˜ã€‚</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-comment">// æ–°å¢ï¼šè·å–æŒ‡å®šè¡Œçš„è½¦è¾†meshæ•°ç»„</span>
  <span class="hljs-title function_">getCarMeshesByRow</span>(<span class="hljs-params">rowIndex</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">carMeshDict</span>[rowIndex] || []
  }
</code></pre>
<p>æœ€åéå†æ¯è¾†æ±½è½¦ï¼Œé€ä¸€æ£€æµ‹ç¢°æ’</p>
<ul>
<li>
<p>å¯¹æ¯ä¸ªæ±½è½¦ Meshï¼Œåˆ†åˆ«æ„å»ºåŒ…å›´ç›’ï¼ˆTHREE.Box3ï¼‰ã€‚</p>
</li>
<li>
<p>æ„å»ºç©å®¶çš„åŒ…å›´ç›’ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ Box3.intersectsBox() åˆ¤æ–­ç©å®¶å’Œæ±½è½¦æ˜¯å¦æœ‰åŒ…å›´ç›’é‡å ï¼ˆå³å‘ç”Ÿç¢°æ’ï¼‰ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// å¦‚æœæ¸¸æˆå·²ç»“æŸï¼Œç›´æ¥è¿”å›ï¼Œé˜²æ­¢ç»§ç»­æ‰§è¡Œ update é€»è¾‘</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">update</span>()
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isGameOver</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">checkAndExtendMap</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">currentTile</span>.<span class="hljs-property">z</span>)
        <span class="hljs-comment">// === ç¢°æ’æ£€æµ‹ ===</span>
        <span class="hljs-comment">// è·å–ç©å®¶meshå’Œæ‰€åœ¨è¡Œ</span>
        <span class="hljs-keyword">const</span> playerMesh = <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">instance</span>
        <span class="hljs-keyword">if</span> (playerMesh) {
          <span class="hljs-keyword">const</span> playerRow = <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">currentTile</span>.<span class="hljs-property">z</span>
          <span class="hljs-keyword">const</span> carMeshes = <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">getCarMeshesByRow</span>(playerRow)
          <span class="hljs-keyword">if</span> (carMeshes.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// æ„å»ºç©å®¶åŒ…å›´ç›’</span>
            <span class="hljs-keyword">const</span> playerBox = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Box3</span>().<span class="hljs-title function_">setFromObject</span>(playerMesh)
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> carMesh <span class="hljs-keyword">of</span> carMeshes) {
              <span class="hljs-keyword">const</span> carBox = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Box3</span>().<span class="hljs-title function_">setFromObject</span>(carMesh)
              <span class="hljs-keyword">if</span> (playerBox.<span class="hljs-title function_">intersectsBox</span>(carBox)) {
                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onGameOver</span>() <span class="hljs-comment">//æ’°å†™ä½ æƒ³è¦çš„ç»“æŸæ•ˆæœ</span>
              }
            }
          }
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-title function_">update</span>()
      }
    }
  }
</code></pre>
<p>(é¡ºä¾¿åœ¨è¿™è´´ä¸Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscourse.threejs.org%2Ft%2Fhowto-dispose-box3%2F75299" target="_blank" title="https://discourse.threejs.org/t/howto-dispose-box3/75299" ref="nofollow noopener noreferrer"><code>BOX3</code>èµ„æºé‡Šæ”¾ç›¸å…³å¸–</a>)</p>
<p>ç®€å•çš„æ¸¸æˆç»“æŸæ•ˆæœåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç©å®¶ä½ç½®é‡ç½®</li>
<li>æ˜¾ç¤ºç»“æŸUI</li>
<li>ä¸Šä¼ åˆ†æ•°</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee1406f4066746079addd8fcb8d2b96e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=D3%2B%2BLXlIjjEDbxLlfGV1VOqVlcs%3D" alt="11.gif" loading="lazy"></p>
<p>è¿™ç§å®ç°æ–¹å¼æ—¢ä¿è¯äº†ç¢°æ’æ£€æµ‹çš„å‡†ç¡®æ€§ï¼Œåˆé€šè¿‡ç©ºé—´åˆ†åŒºä¼˜åŒ–ç¡®ä¿äº†æ¸¸æˆæ€§èƒ½ï¼Œå³ä½¿åœ¨ä½ç«¯è®¾å¤‡ä¸Šä¹Ÿèƒ½æµç•…è¿è¡Œã€‚</p>
<h2 data-id="heading-32">7.ğŸ“GAME UI é€šä¿¡</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a1e8e2f288e44428898e0656ceee609~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=EIwb1z7HTtIG5Gccf%2F9WF36KI4M%3D" alt="12.gif" loading="lazy"></p>
<p>åœ¨æ’°å†™<code>Threejs</code>é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´ä¸€ä¸ªå…³é”®æŒ‘æˆ˜ï¼šå¦‚ä½•å°†3Dåœºæ™¯(Scene)ä¸­çš„åŠ¨æ€ä¿¡æ¯æœ‰æ•ˆåœ°ä¼ é€’åˆ°2Dæ¸¸æˆç•Œé¢(Game UI)ã€‚å°±æ¯”å¦‚åœ¨è¿™ä¸ªæ¸¸æˆä¸­å½“ç”¨æˆ·è·å–ç‰¹æ®Šé“å…·æ—¶ï¼Œè™½ç„¶æ”¾æ…¢å‘¨å›´è½¦è¾†çš„ç‰¹æ•ˆå¾ˆç‚«é…·ï¼Œä½†å¦‚æœç¼ºå°‘æ¸…æ™°çš„é“å…·å€’è®¡æ—¶æç¤ºå’Œæ°›å›´å…‰æ™•æ•ˆæœï¼Œæ•´ä¸ªä½“éªŒå°±ä¼šæ˜¾å¾—ä¸å¤Ÿå®Œæ•´ã€‚</p>
<h3 data-id="heading-33">æ¡†æ¶è§£å†³æ–¹æ¡ˆçš„åˆ©ä¸å¼Š</h3>
<p>ç›®å‰å¸‚åœºä¸Šå·²æœ‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fr3f.docs.pmnd.rs%2Fgetting-started%2Fintroduction%3Ftrk%3Dpublic_post_comment-text" target="_blank" title="https://r3f.docs.pmnd.rs/getting-started/introduction?trk=public_post_comment-text" ref="nofollow noopener noreferrer">React Three Fiber</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Ftresjs.org%2F" target="_blank" title="https://tresjs.org/" ref="nofollow noopener noreferrer">Tresjs</a>ç­‰å“åº”å¼æ¡†æ¶ï¼Œå®ƒä»¬é€šè¿‡å†…ç½®æœºåˆ¶ç®€åŒ–äº†3Dåœºæ™¯ä¸UIä¹‹é—´çš„æ•°æ®äº¤äº’(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Forgs%2FTresjs%2Fdiscussions%2F578" target="_blank" title="https://github.com/orgs/Tresjs/discussions/578" ref="nofollow noopener noreferrer">ç±»ä¼¼çš„issue</a>)ã€‚è¿™äº›æ¡†æ¶ç¡®å®æä¾›äº†ä¾¿æ·çš„è§£å†³æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œæ¡†æ¶å­¦ä¹ æœ¬èº«éœ€è¦æ—¶é—´æˆæœ¬ï¼Œä¸”å¯èƒ½å¸¦æ¥é¡¹ç›®ä¾èµ–æ€§çš„é—®é¢˜ã€‚å¦‚æœç”¨æˆ·æ˜¯åœ¨ä¸€ä¸ªè€çš„<code>3D</code>é¡¹ç›®ä¸Šç»´æŠ¤åœºæ™¯å‘¢ï¼Ÿ</p>
<h3 data-id="heading-34">å›å½’æœ¬è´¨ï¼šäº‹ä»¶é©±åŠ¨æ¶æ„</h3>
<p>å½“æˆ‘ä»¬å¸Œæœ›ä¿æŒé¡¹ç›®è½»é‡çº§ï¼Œæˆ–è€…éœ€è¦æ›´çµæ´»çš„è§£å†³æ–¹æ¡ˆæ—¶ï¼Œå¯ä»¥å›å½’åˆ°äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆé£æ°´è½®æµè½¬äº†å±äºæ˜¯ï¼Œæ²¡å‡†å‰ç«¯çœŸçš„æ˜¯ä¸ªåœˆï¼‰ã€‚è¿™ç§å‘å¸ƒ-è®¢é˜…æ¨¡å¼(Pub-Sub)å®Œç¾é€‚ç”¨äºå¤„ç†äº‹ä»¶è§¦å‘å’ŒçŠ¶æ€å˜æ›´çš„åœºæ™¯ï¼š</p>
<p>é¦–å…ˆè®©æˆ‘ä»¬çœ‹<code>threejs</code>çš„å…¥å£æ–‡ä»¶<code>Experience</code>å®ä½“ç±»ï¼Œä»–è´Ÿè´£æ¥å—é¡µé¢<code>canvas</code>å…ƒç´ ï¼Œéšåå°†<code>Render</code>æŒ‚è½½åˆ°å¯¹åº”<code>canvas</code>ä¸Šï¼Œè¿™é‡Œæˆ‘ä»¬è®©Experience ç±»ç»§æ‰¿è‡ª EventEmitterï¼ˆäº‹ä»¶å‘å°„å™¨ï¼‰ï¼Œå…·å¤‡äº‹ä»¶æ³¨å†Œã€è§¦å‘ã€ç§»é™¤ç­‰èƒ½åŠ›ã€‚</p>
<ul>
<li>
<p>ç»„ä»¶/æ¨¡å—é€šè¿‡ on('äº‹ä»¶å', å›è°ƒ) è®¢é˜…äº‹ä»¶ã€‚</p>
</li>
<li>
<p>å…¶ä»–åœ°æ–¹é€šè¿‡ trigger('äº‹ä»¶å', [å‚æ•°]) è§¦å‘äº‹ä»¶ï¼Œæ‰€æœ‰è®¢é˜…è€…æ”¶åˆ°é€šçŸ¥ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'three'</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">Camera</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./camera.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Renderer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./renderer.js'</span>
<span class="hljs-keyword">import</span> sources <span class="hljs-keyword">from</span> <span class="hljs-string">'./sources.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Debug</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/debug.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">EventEmitter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/event-emitter.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">IMouse</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/imouse.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Resources</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/resources.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Sizes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/sizes.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Stats</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/stats.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Time</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/time.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PhysicsWorld</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./world/physics-world.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">World</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./world/world.js'</span>

<span class="hljs-keyword">let</span> instance

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Experience</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">EventEmitter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">canvas</span>) {
    <span class="hljs-comment">// ç¡®ä¿å•ä¸€å®ä¾‹</span>
    <span class="hljs-keyword">if</span> (instance) {
      <span class="hljs-keyword">return</span> instance
    }

    <span class="hljs-variable language_">super</span>()
    instance = <span class="hljs-variable language_">this</span>

    <span class="hljs-comment">// Global access</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">Experience</span> = <span class="hljs-variable language_">this</span>

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = canvas

    <span class="hljs-comment">// å®ä¾‹åŒ–æ‰€æœ‰ç±»ç»„ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">debug</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Debug</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stats</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sizes</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Sizes</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">time</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Time</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scene</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">camera</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Camera</span>(<span class="hljs-literal">true</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Renderer</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">resources</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resources</span>(sources)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">physics</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PhysicsWorld</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">iMouse</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IMouse</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">world</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">World</span>()

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sizes</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resize</span>()
    })

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">time</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'tick'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">update</span>()
    })

    <span class="hljs-comment">// äº‹ä»¶ç›‘å¬æµ‹è¯•</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pause'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPaused</span> = <span class="hljs-literal">true</span> <span class="hljs-comment">// è®¾ç½®ä¸ºæš‚åœ</span>
    })
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'resume'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isPaused</span> = <span class="hljs-literal">false</span>
    })
  }

  <span class="hljs-title function_">resize</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">camera</span>.<span class="hljs-title function_">resize</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderer</span>.<span class="hljs-title function_">resize</span>()
  }

  <span class="hljs-title function_">update</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isPaused</span>)
      <span class="hljs-keyword">return</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">camera</span>.<span class="hljs-title function_">update</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">world</span>.<span class="hljs-title function_">update</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderer</span>.<span class="hljs-title function_">update</span>() 
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-title function_">update</span>()
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">iMouse</span>.<span class="hljs-title function_">update</span>()
  }
}

</code></pre>
<h3 data-id="heading-35">é¡µé¢ UI æ“æ§ æ¸¸æˆåœºæ™¯</h3>
<p>å®Œæˆ<code>threejs</code>é¡¹ç›®å…¥å£æ–‡ä»¶ç»§æ‰¿äº†å‘å¸ƒè®¢é˜…ç±»ä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½åœ¨è·å–å”¯ä¸€å®ä¾‹å¹¶è°ƒç”¨<code>trigger</code>&amp;<code>on</code>æ–¹æ³•æ¥è¿›è¡Œ<code>Threejs scene</code> &amp; <code>game UI</code>ä¹‹é—´çš„ä¿¡æ¯ä¼ è¾“
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08a665dcfa67412b907dcba5eae03637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=ibTGb%2FYTe8xIdtqqu0rZ9rMWMrI%3D" alt="20.png" loading="lazy"></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a115d52e83ad4fe6807e81fe641cf006~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=QDwe77fJnG8WprFhPMdtCVkwKlo%3D" alt="13.gif" loading="lazy"></p>
<h3 data-id="heading-36">æ¸¸æˆåœºæ™¯æ“ä½œé¡µé¢UI</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a5d9319665c445ab0c953685d3e63e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=qVX%2BpzsU9fcyDBum9Hp0%2BAzV%2F00%3D" alt="21.png" loading="lazy"></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e18ad4235c9d453687d1a3ff130fe92a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=IQ8j9BFxUFDfBnx3A2nQ9efe2ko%3D" alt="14.gif" loading="lazy"></p>
<h2 data-id="heading-37">8.ğŸŠæœ‹å‹ï¼Œç«¯åˆèŠ‚å¿«ä¹ï¼å…­ä¸€å„¿ç«¥èŠ‚å¿«ä¹ï¼</h2>
<p>éšç€æœ€åä¸€ä¸ª<code>commit</code>è¢«<code>push</code>åˆ°è¿œç«¯ï¼Œè¿™ä¸ªæ‰¿è½½ç€å¿ƒæ„çš„å°é¡¹ç›®å®‰é™åœ°èººåœ¨GitHubä¸Šã€‚è¿˜è®°å¾—ç¬¬ä¸€æ¬¡æ•²ä¸‹å‰ç«¯ä»£ç æ—¶çš„çº¯ç²¹å—ï¼Ÿé‚£æ—¶çš„æˆ‘ï¼Œä¸åœ¨ä¹deadlineçš„å‚¬ä¿ƒï¼Œä¸å…³å¿ƒKPIçš„è€ƒæ ¸ï¼Œåªæƒ³è¦åˆ›é€ ä¸€ä¸ªèƒ½è®©äººçœ¼å‰ä¸€äº®çš„é¡µé¢ã€‚</p>
<p>æ˜¯æ—¶å€™å°†ä»–åˆ†äº«å‡ºå»äº†ï¼</p>
<p>**é¡¹ç›®çš„å¼€æºæ–¹ä¾¿ç»™ä½ çš„å°å­©ã€èº«è¾¹æœ‹å‹ã€æ‰€çˆ±ä¹‹äººåŸ‹ä¸‹å½©è›‹ï¼Œæˆ‘åªå¸Œæœ›è¿™ä¸ªæ¸¸æˆèƒ½å¸¦æ¥å•çº¯çš„å¿«ä¹ï¼Œæ‰€ä»¥å³ä¸Šè§’çš„æ’è¡Œæ¦œä¼šåœ¨æ¯å¤©å‡Œæ™¨åˆ·æ–°ï¼Œå¼±åŒ–ä»–çš„ç«æŠ€æ€§ã€‚**Work Life Balance`ä¸åªæ˜¯å£å·ï¼Œè¿™ä¸ªå°æ¸¸æˆå°±æ˜¯æˆ‘çš„è·µè¡Œæ–¹å¼ã€‚æ„¿è¿™äº›è·³åŠ¨çš„ä»£ç èƒ½ä¸ºä½ å’Œæ‰€çˆ±ä¹‹äººå¸¦æ¥æ¬¢ä¹ï¼
<strong>å„ä½æ˜å‹ï¼Œç«¯åˆèŠ‚å’Œå…­ä¸€å„¿ç«¥èŠ‚ èŠ‚æ—¥å¿«ä¹</strong>ï¼</p>
<p>æ„¿æˆ‘ä»¬æ°¸è¿œä¿æŒå¯¹ç”Ÿæ´»çš„çƒ­çˆ±ï¼Œå¯¹ä»£ç çš„æ¿€æƒ…ï¼Œå°±åƒç¬¬ä¸€æ¬¡å†™å‡º"Hello World"æ—¶é‚£æ ·æ»¡æ€€æ¬£å–œã€‚</p>
<p>ï¼ˆå°æç¤ºï¼šè¯•ç€åœ¨æ¸¸æˆé‡Œå¯»æ‰¾éšè—çš„ç²½å­å›¾æ¡ˆå“¦ï½ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e322127252a48209f90477d522bc215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=lH0Wr9ZwKkGpouUwpVWsZ%2FKEawU%3D" alt="22.png" loading="lazy"></p>
<h2 data-id="heading-38">9.æœ€åçš„ä¸€äº›è¯</h2>
<h3 data-id="heading-39">æŠ€æœ¯çš„æœªæ¥ä¸å‰ç«¯è¿ç§»</h3>
<p>éšç€ AI æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œå„ç±»æŠ€æœ¯çš„é—¨æ§›æ­£åœ¨å¤§å¹…é™ä½ï¼Œä»¥å¾€è¢«è§†ä¸ºé«˜é—¨æ§›çš„ <code>3D</code> æŠ€æœ¯ä¹Ÿä¸ä¾‹å¤–ã€‚ä¸æ­¤åŒæ—¶ï¼Œè¿‡å»å›°æ‰°å¼€å‘è€…çš„æ•°å­—èµ„äº§æ„å»ºæˆæœ¬é—®é¢˜ï¼Œä¹Ÿæ­£åœ¨è¢«æœ€æ–°çš„ <code>3D generation</code> æŠ€æœ¯æ‰€æ”»å…‹ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ä¸ä¹…çš„å°†æ¥ï¼Œå‰ç«¯å¼€å‘å°†è¿æ¥ä¸€æ¬¡æŠ€æœ¯è¿ç§»ï¼Œå¼€å‘è€…éœ€è¦æŒæ¡æ›´æ–°é¢–çš„äº¤äº’æ–¹å¼å’Œæ›´å‡ºè‰²çš„è§†è§‰æ•ˆæœã€‚</p>
<h3 data-id="heading-40">æœ¬ä¸“æ çš„æ„¿æ™¯</h3>
<p>æœ¬ä¸“æ çš„æ„¿æ™¯æ˜¯é€šè¿‡åˆ†äº« <code>Three.js</code> çš„ä¸­é«˜çº§åº”ç”¨å’Œå®æˆ˜æŠ€å·§ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°å°† <code>3D</code> æŠ€æœ¯åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­ï¼Œæ‰“é€ ä»¤äººå°è±¡æ·±åˆ»çš„ <code>Hero Section</code>ã€‚æˆ‘ä»¬å¸Œæœ›é€šè¿‡æœ¬ä¸“æ çš„å†…å®¹ï¼Œèƒ½å¤Ÿæ¿€å‘å¼€å‘è€…çš„åˆ›é€ åŠ›ï¼Œæ¨åŠ¨ <code>Web3D</code> æŠ€æœ¯çš„æ™®åŠå’Œåº”ç”¨ã€‚</p>
<h3 data-id="heading-41">åŠ å…¥ç¤¾åŒºï¼Œå…±åŒæˆé•¿</h3>
<p>å¦‚æœæ‚¨å¯¹ <code>Threejs</code> è¿™ä¸ª <code>3D</code> å›¾åƒæ¡†æ¶å¾ˆæ„Ÿå…´è¶£ï¼Œæˆ–è€…æ‚¨ä¹Ÿæ·±ä¿¡æœªæ¥å›½å†…ä¼šæ¶Œç°è¶Šæ¥è¶Šå¤š <code>3D</code> è®¾è®¡é£æ ¼çš„ç½‘ç«™ï¼Œæ¬¢è¿åŠ å…¥ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Ficegl.cn%2F" target="_blank" title="https://icegl.cn/" ref="nofollow noopener noreferrer">ice å›¾å½¢å­¦ç¤¾åŒº</a></strong>ã€‚è¿™é‡Œæ˜¯å›½å†… Web å›¾å½¢å­¦æœ€å…¨çš„çŸ¥è¯†åº“ï¼Œè‡´åŠ›äºæ‰“é€ ä¸€ä¸ªå…¨æ–°çš„å›¾å½¢å­¦ç”Ÿæ€ä½“ç³»ï¼æ‚¨å¯ä»¥åœ¨è®¤è¯è¾¾äººé‡Œæ‰¾åˆ°æˆ‘è¿™ä¸ª <code>Threejs</code> çˆ±å¥½è€…å’Œå…¶ä»–å¤§ä½¬ã€‚</p>
<p>æ­¤å¤–ï¼Œå¦‚æœæ‚¨å¾ˆå–œæ¬¢ <code>Threejs </code>åˆåœ¨çƒ¦æ¼å…¶åŸç”Ÿå¼€å‘çš„ç¹çï¼Œé‚£ä¹ˆæˆ‘è¯šé‚€æ‚¨å°è¯• <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Ftresjs.org%2F" target="_blank" title="https://tresjs.org/" ref="nofollow noopener noreferrer">Tresjs</a></strong> å’Œ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.icegl.cn%2F" target="_blank" title="https://docs.icegl.cn/" ref="nofollow noopener noreferrer">TvTjs</a></strong>, ä»–ä»¬éƒ½æ˜¯åŸºäº <code>Vue</code> çš„ <code>Threejs</code> æ¡†æ¶ã€‚ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.icegl.cn%2F" target="_blank" title="https://docs.icegl.cn/" ref="nofollow noopener noreferrer">TvTjs</a></strong> ä¹Ÿä¸ºæ‚¨æä¾›äº†å¤§é‡çš„å¯ä½¿ç”¨æ¡ˆä¾‹ï¼Œå¹¶ä¸”æ‹¥æœ‰è¾ƒä¸ºæ´»è·ƒçš„å¼€å‘ç¤¾åŒºï¼Œåœ¨è¿™é‡Œä½ èƒ½ç¢°åˆ°å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·åšå¼€æºï¼</p>
<h3 data-id="heading-42">ä¸ŠæœŸå›é¡¾ï¼š æˆ‘å†™å‡ºäº†è¢« Threejs å®˜æ¨è½¬å‘çš„é¡¹ç›®â€”â€”3D ä¸ªäººç®€å†</h3>
<p>æ˜é‡‘ç«™å†…é“¾æ¥: <a href="https://juejin.cn/post/7498914140166799397" target="_blank" title="https://juejin.cn/post/7498914140166799397">juejin.cn/post/749891â€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/123d8e2ea3054678a3119d5e6971e309~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=%2Bhn2PtAJR8NUw8Gl9iM7KtkuRrE%3D" alt="16.gif" loading="lazy"></p>
<h3 data-id="heading-43">ä¸‹æœŸé¢„å‘Šï¼š ğŸ˜²æˆ‘å†™å‡ºäº† Threejs ç‰ˆåŸå¸‚å¤©é™…çº¿ï¼Ÿï¼ï¼ˆå®˜æ¨è½¬å‘ğŸ¥³+ æºç åˆ†äº«ğŸš€</h3>
<p>æ–‡ç« å·²äº 8æœˆ15æ—¥æ’°å†™å®Œæ¯•ï¼Œæ˜é‡‘ç«™å†…é“¾æ¥ï¼š<a href="https://juejin.cn/post/7538715423534399534" target="_blank" title="https://juejin.cn/post/7538715423534399534">juejin.cn/post/753871â€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd3d1b3579784de4a820eee1f49c7d35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2V6LSk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1756688815&amp;x-signature=%2F87HTj%2F3P8fs8%2FqBG0%2FdAX4nHNM%3D" alt="01.gif" loading="lazy"></p></div></div>