
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/deali/p/18965374" title="å‘å¸ƒäº 2025-07-04 11:55">
    <span role="heading" aria-level="2">è§†é¢‘ä¸­å°è§£å†³æ–¹æ¡ˆï¼šç»„ç»‡æ ‘ç»„ä»¶+å¤šè·¯è§†é¢‘ç›´æ’­ç•Œé¢å¼€å‘</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>æœ€è¿‘å‡†å¤‡ææ–°é¡¹ç›®äº†</p>
<p>è¿™æ¬¡åº”è¯¥ä¸ä¼šå’•å’•å’•äº†ï¼Œæˆ‘ç¼–å†™äº†å®Œæ•´çš„è®¡åˆ’</p>
<p>å¦‚æœæŒ‰è®¡åˆ’æ¥çš„è¯ï¼Œåº”è¯¥å¯ä»¥åœ¨ä¸€ä¸ªæœˆå†…æå®š MVP ä¸Šçº¿</p>
<p>ä¸è¿‡åœ¨å¼€å§‹æ–°é¡¹ç›®ä¹‹å‰ï¼Œå¾—æŠŠæˆ‘ä¹‹å‰çš„å·¥ä½œæ•´ç†ä¸€ä¸‹ï¼Œè¾“å‡ºå‡ ç¯‡ç¬”è®°è®°å½•ä¸€ä¸‹</p>
<p><strong>åœ¨å…¬ä¼—å·åå°å›å¤ã€Œæ ‘ç»„ä»¶ã€å¯ä»¥è·å–æœ¬æ–‡æ ‘ç»„ä»¶çš„ç›¸å…³ä»£</strong></p>
<h2 id="ä»‹ç»">ä»‹ç»</h2>
<p>è¿™ä¸ªé¡¹ç›®æ˜¯ä¸­å°é‡Œçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œè§†é¢‘ä¸­å°</p>
<p>ä¸»è¦åŠŸèƒ½æ˜¯ç®¡ç†å„ä¸ªé¡¹ç›®çš„ç›‘æ§è®¾å¤‡ã€æ‘„åƒå¤´ï¼Œä»¥åŠæŸ¥çœ‹ç›‘æ§ç›´æ’­</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘åªç”¨ SRS éƒ¨ç½²äº†ç›´æ’­å¹³å°ï¼Œç„¶åä½¿ç”¨ RTMP åè®®æ¨æµå®ç°ç›´æ’­</p>
<p>ä½†è¿™ç§æ–¹å¼é€‚åˆçš„åœºæ™¯æ›´å¤šæ˜¯åƒ B ç«™ã€æŠ–éŸ³è¿™ç§ç›´æ’­å¹³å°</p>
<p>å¯¹äºè§†é¢‘ç›‘æ§ï¼Œä¸šå†…æœ‰ä¸ªæ›´ä¸“ä¸šçš„æ–¹å¼ï¼šGB28181-2016 æ ‡å‡†</p>
<p>ä¹Ÿå°±æ˜¯å¸¸è¯´çš„ 28181 åè®®</p>
<p>æœ€ç»ˆæˆ‘ä»¬é€‰æ‹©çš„ç›‘æ§åç«¯æ˜¯å¼€æºçš„ WVP (<a href="https://github.com/648540858/wvp-GB28181-pro" target="_blank" rel="noopener nofollow">https://github.com/648540858/wvp-GB28181-pro</a>)</p>
<p>åˆè§è¿™ä¸ªé¡¹ç›®ä¸»é¡µï¼Œä¸€è‚¡æµ“æµ“çš„å›½äº§ç²—çŠ·é£æ ¼æ‰‘é¢è€Œæ¥ï¼Œä¸»æ‰“ä¸€ä¸ªå‡‘åˆçœ‹çœ‹å¾—äº†ï¼Œç®€å•çš„æ–‡æ¡£åæ ‡æ˜äº†æ”¶è´¹å†…å®¹å’Œä»˜è´¹å’¨è¯¢æ¸ é“ã€‚</p>
<p>ä¸è¿‡ä¹Ÿå°±æ˜¯è¿™ä¹ˆä¸ªç²—çœ‹å…¶è²Œä¸æ‰¬çš„é¡¹ç›®ï¼Œå´æ„å¤–çš„â€¦èƒ½ç”¨ï¼Ÿ</p>
<p>æ€»ä¹‹å°±æ˜¯è¿™ä¹ˆä¸ªé¡¹ç›®ï¼Œæ”¯æ’‘èµ·å‡ åƒä¸ªè®¾å¤‡çš„è§†é¢‘ç›‘æ§æ’­æ”¾ã€‚</p>
<p>ä¸»è¦çš„è®¾å¤‡å°±æ˜¯æµ·åº·ã€å¤§åã€å®‡è§†ç­‰å“ç‰Œçš„ IPCã€NVRï¼Œä¸€å¼€å§‹æˆ‘è¿˜ NVRï¼ˆå½•åƒæœºï¼‰å’Œ IPCï¼ˆæ‘„åƒå¤´ï¼‰æ‹†åˆ†å¼€ï¼Œæ²¡æƒ³åˆ°è¿™ç³»ç»Ÿé‡Œæ˜¯ä¸æ‹†åˆ†çš„ï¼Œæˆ‘åé¢ä¹Ÿå‘ç°äº†ä¸æ‹†åˆ†æ›´å¥½ï¼Œä¸€å¾‹æŒ‰ç…§è®¾å¤‡æ¥è®°å½•ï¼Œç„¶åå®é™…è§†é¢‘æµå†æŒ‰ç…§é€šé“æ¥åŒºåˆ†ã€‚</p>
<h2 id="è§†é¢‘ä¸­å°">è§†é¢‘ä¸­å°</h2>
<p>è§†é¢‘ä¸­å°è¿™å—çš„æŠ€æœ¯æ–¹é¢å…¶å®ä¸ä¼šå¾ˆå¤æ‚</p>
<p>ä¸»è¦çš„å·¥ä½œé‡å’Œå¤æ‚åº¦è¿˜æ˜¯åœ¨æ²Ÿé€šã€åè°ƒç­‰æµç¨‹æ–¹é¢ï¼ŒåŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>ä¸å•å•æ˜¯åšè¿™ä¹ˆä¸€ä¸ªç³»ç»Ÿï¼Œè¿˜éœ€è¦è®©ç°åœºäººå‘˜å»é…ç½®æ‘„åƒå¤´ï¼Œè®©ç®¡ç†äººå‘˜å½•å…¥æ‘„åƒå¤´ä¿¡æ¯</li>
<li>ç°åœºäººå‘˜å¾ˆå¤šä¸ä¼šæ“ä½œç”µè„‘ï¼Œå¦‚ä½•æŒ‡å¯¼ä»–ä»¬é…ç½®æ‘„åƒå¤´ï¼ˆç±»ä¼¼é…ç½®è·¯ç”±å™¨ï¼‰</li>
<li>å­˜é‡è®¾å¤‡å’Œæ–°å¢è®¾å¤‡å¦‚ä½•ç®¡ç†ï¼Ÿ</li>
<li>æ‘„åƒå¤´å’Œå½•åƒæœºå¦‚ä½•ç¼–ç ï¼Ÿ</li>
<li>ç¼–ç å®Œæˆåå¦‚ä½•è®©ç°åœºäººå‘˜çŸ¥é“å“ªä¸ªç¼–ç å¯¹åº”å“ªä¸ªè®¾å¤‡ï¼Ÿ</li>
<li>â€¦â€¦</li>
</ul>
<p>è¿™é‡Œåªåˆ—ä¸¾ä¸€éƒ¨åˆ†ï¼Œå®é™…è¿è¡Œçš„é—®é¢˜åªä¼šæ›´å¤šã€‚</p>
<p>å…¶å®è¿™äº›éƒ½è¿˜å¥½ï¼Œåªè¦ç†æ¸…äº†æ•´ä¸ªæµç¨‹ï¼Œå®æ–½èµ·æ¥è¿˜æ˜¯æœ‰å¯è¡Œæ€§çš„ã€‚</p>
<p>ä½†ä¸€æ—¦æ¶‰åŠå¾—äººè¿‡å¤šï¼Œæ²¡æœ‰äººè´Ÿè´£æ¨åŠ¨ï¼Œæœ€ç»ˆå°±ä¼šå˜æˆäº’ç›¸æ¨è¯¿ï¼Œæ•ˆç‡ä½ä¸‹ï¼Œä¸€ä¸ªæœˆéƒ½ä¸ä¸€å®šèƒ½å®Œæˆä¸€å°è®¾å¤‡çš„æ¥å…¥ã€‚</p>
<p>OKï¼ŒåºŸè¯å¤ªå¤šäº†ï¼Œè¯´å›æ­£é¢˜ï¼Œå…ˆæ¥çœ‹çœ‹ç³»ç»Ÿç•Œé¢ã€‚</p>
<h3 id="ä¸»é¡µ">ä¸»é¡µ</h3>
<p>ç›´æ¥ä¸Šæˆªå›¾å§ï¼Œè¿™æ˜¯è§†é¢‘ä¸­å°çš„æˆªå›¾ï¼ˆæ•æ„Ÿä¿¡æ¯å’Œæ•°æ®å·²ç»å…¨éƒ¨ç”¨å‡æ•°æ®ä»£æ›¿ï¼Œè¯·æ”¾å¿ƒæŸ¥çœ‹ï¼‰</p>
<p><img src="https://img2024.cnblogs.com/blog/866942/202507/866942-20250704115443565-1425801843.png" alt="image" loading="lazy"></p>
<p>ä»ç•Œé¢å¯ä»¥çœ‹å‡ºï¼Œæ ¸å¿ƒåŠŸèƒ½å°±æ˜¯ç®¡ç†è§†é¢‘å’Œæ’­æ”¾è§†é¢‘</p>
<h3 id="è§†é¢‘æ’­æ”¾">è§†é¢‘æ’­æ”¾</h3>
<blockquote>
<p>PS: æ•æ„Ÿä¿¡æ¯å·²æ‰“ç ï¼Œè¯·æ”¾å¿ƒæŸ¥çœ‹</p>
</blockquote>
<p>è§†é¢‘æ’­æ”¾ç•Œé¢ï¼Œå°±æ˜¯æœ¬æ–‡è¦é‡ç‚¹ä»‹ç»çš„</p>
<p><img src="https://img2024.cnblogs.com/blog/866942/202507/866942-20250704115458020-998200209.png" alt="image" loading="lazy"></p>
<p>å¯ä»¥åˆ‡æ¢ 1 è·¯ã€4 è·¯ã€9 è·¯ã€16 è·¯æ’­æ”¾ï¼Œè¿™é‡Œå†æˆªä¸€ä¸ª 16 è·¯è§†é¢‘çš„æ’­æ”¾æˆªå›¾å§ï¼Œå…¶ä»–å°±ä¸æ”¾äº†ï¼Œç›¸ä¿¡èªæ˜çš„è¯»è€…ä»¬èƒ½ç†è§£çš„ ğŸ˜ƒ</p>
<p><img src="https://img2024.cnblogs.com/blog/866942/202507/866942-20250704115512516-377444003.png" alt="image" loading="lazy"></p>
<h2 id="æŠ€æœ¯å®ç°">æŠ€æœ¯å®ç°</h2>
<p>æŠ€æœ¯æ–¹é¢ï¼Œæˆ‘ç»§ç»­å‘æ‰¬ä¹‹å‰ã€ŒLess is moreã€çš„æ€è·¯: <a href="https://blog.deali.cn/Blog/Post/26937d87e821690c" target="_blank" rel="noopener nofollow">è¿”ç’å½’çœŸï¼ä½¿ç”¨ Alpine.js å¼€å‘äº¤äº’å¼ web åº”ç”¨ï¼ŒæŠ›å¼ƒ node_modules å’Œ webpack å§ï¼</a></p>
<p>ä½¿ç”¨ Alpine.js + HTMX æ¥å®ç°æ•´ä¸ªé¡µé¢</p>
<h2 id="ä»£ç ">ä»£ç </h2>
<h3 id="é¡µé¢å¸ƒå±€">é¡µé¢å¸ƒå±€</h3>
<p>é¡µé¢å¸ƒå±€ä½¿ç”¨ tailwindcss</p>
<p>äº¤äº’ä½¿ç”¨åˆšæ‰è¯´çš„ Alpine.js</p>
<pre><code class="language-html">&lt;main x-data="playApp()"&gt;
  &lt;div class="grid grid-cols-12 gap-4"&gt;
    {# å·¦ä¾§ç»„ç»‡/é¡¹ç›®æ ‘ #}
    &lt;div class="col-span-4" id="tree-list"&gt;
      &lt;div class="bg-white rounded-lg shadow h-full"&gt;
        &lt;div class="border-b border-gray-200 bg-[#f1f5fa] px-4 py-3"&gt;
          &lt;div class="flex items-center justify-between gap-2 h-8"&gt;
            &lt;div class="flex items-center"&gt;
              &lt;span class="w-1.5 h-4 bg-[#156bd2] rounded mr-2"&gt;&lt;/span&gt;
              &lt;h5 class="text-lg font-medium text-gray-900"&gt;ç»„ç»‡æ¶æ„&lt;/h5&gt;
            &lt;/div&gt;
            &lt;button
                    type="button"
                    class="inline-flex gap-2 items-center px-2 py-1 bg-transparent border border-[#0f5cb9] shadow-sm text-sm font-medium rounded-md text-[#0f5cb9] bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"
                    x-on:click="refreshTree()"
                    x-bind:disabled="isLoading"
                    &gt;
              &lt;i class="fa-solid fa-arrow-rotate-right"&gt;&lt;/i&gt;
              &lt;span x-text="isLoading ? 'åŠ è½½ä¸­...' : 'åˆ·æ–°'"&gt;&lt;/span&gt;
            &lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="p-4 h-full flex flex-col gap-4"&gt;
          &lt;!-- æœç´¢æ¡† --&gt;
          &lt;div x-show="!isLoading"&gt;
            &lt;div class="relative"&gt;
              &lt;input
                     type="text"
                     id="tree-search"
                     placeholder="æœç´¢ç»„ç»‡æˆ–é¡¹ç›®..."
                     class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                     x-on:input="tree &amp;&amp; tree.search($event.target.value)"
                     &gt;
              &lt;div class="absolute inset-y-0 right-0 flex items-center pr-3"&gt;
                &lt;svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor"
                     viewBox="0 0 24 24"&gt;
                  &lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"&gt;&lt;/path&gt;
                &lt;/svg&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- æœç´¢ç»“æœç»Ÿè®¡ --&gt;
            &lt;div id="search-stats" class="mt-2 text-sm text-gray-500" style="display: none;"&gt;&lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- åŠ è½½åŠ¨ç”»éª¨æ¶å± --&gt;
          &lt;div x-show="isLoading" class="space-y-3"&gt;
            &lt;div class="animate-pulse"&gt;
              &lt;div class="flex items-center space-x-3"&gt;
                &lt;div class="w-4 h-4 bg-gray-300 rounded"&gt;&lt;/div&gt;
                &lt;div class="h-4 bg-gray-300 rounded w-3/4"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="animate-pulse ml-6"&gt;
              &lt;div class="flex items-center space-x-3"&gt;
                &lt;div class="w-4 h-4 bg-gray-300 rounded"&gt;&lt;/div&gt;
                &lt;div class="h-4 bg-gray-300 rounded w-2/3"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="animate-pulse ml-12"&gt;
              &lt;div class="flex items-center space-x-3"&gt;
                &lt;div class="w-4 h-4 bg-gray-300 rounded"&gt;&lt;/div&gt;
                &lt;div class="h-4 bg-gray-300 rounded w-1/2"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="animate-pulse ml-6"&gt;
              &lt;div class="flex items-center space-x-3"&gt;
                &lt;div class="w-4 h-4 bg-gray-300 rounded"&gt;&lt;/div&gt;
                &lt;div class="h-4 bg-gray-300 rounded w-3/5"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="animate-pulse"&gt;
              &lt;div class="flex items-center space-x-3"&gt;
                &lt;div class="w-4 h-4 bg-gray-300 rounded"&gt;&lt;/div&gt;
                &lt;div class="h-4 bg-gray-300 rounded w-4/5"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="animate-pulse ml-6"&gt;
              &lt;div class="flex items-center space-x-3"&gt;
                &lt;div class="w-4 h-4 bg-gray-300 rounded"&gt;&lt;/div&gt;
                &lt;div class="h-4 bg-gray-300 rounded w-1/3"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;!-- æ ‘å½¢ç»“æ„å®¹å™¨ --&gt;
          &lt;div id="tree-container" class="tree-view" x-show="!isLoading"&gt;&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- æ’­æ”¾å™¨ --&gt;
    &lt;div class="col-span-8"&gt;
      &lt;div class="bg-white rounded-lg shadow h-full"&gt;
        &lt;div class="border-b border-gray-200 bg-[#f1f5fa] px-4 py-3"&gt;
          &lt;div class="flex items-center h-8"&gt;
            &lt;span class="w-1.5 h-4 bg-[#156bd2] rounded mr-2"&gt;&lt;/span&gt;
            &lt;h5 class="text-lg font-medium text-gray-900"&gt;è§†é¢‘æ’­æ”¾&lt;/h5&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="p-4"&gt;
          &lt;div class="bg-blue-50 text-blue-700 px-4 py-3 rounded-lg mb-2" x-show="!selectedProject"&gt;
            è¯·å…ˆé€‰æ‹©æ‘„åƒå¤´
          &lt;/div&gt;
          &lt;!-- åŠ è½½æ‘„åƒå¤´æç¤º --&gt;
          &lt;div class="bg-yellow-50 text-yellow-700 px-4 py-3 rounded-lg mb-2" x-show="isLoadingCameras"&gt;
            &lt;div class="flex items-center"&gt;
              &lt;i class="fas fa-spinner fa-spin mr-2"&gt;&lt;/i&gt;
              æ­£åœ¨åŠ è½½æ‘„åƒå¤´åˆ—è¡¨...
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="space-y-4"&gt;
            &lt;!-- è§†é¢‘æ’­æ”¾æ§åˆ¶æ  --&gt;
            &lt;div class="flex items-center justify-between bg-gray-50 px-4 py-3 rounded-lg"&gt;
              &lt;div class="flex items-center space-x-4"&gt;
                &lt;span class="text-sm font-medium text-gray-700"&gt;æ’­æ”¾æ¨¡å¼:&lt;/span&gt;
                &lt;select x-model="videoLayout" x-on:change="changeVideoLayout()"
                        class="px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"&gt;
                  &lt;option value="1"&gt;1è·¯æ’­æ”¾&lt;/option&gt;
                  &lt;option value="4"&gt;4è·¯æ’­æ”¾&lt;/option&gt;
                  &lt;option value="9"&gt;9è·¯æ’­æ”¾&lt;/option&gt;
                  &lt;option value="16"&gt;16è·¯æ’­æ”¾&lt;/option&gt;
                &lt;/select&gt;
              &lt;/div&gt;
              &lt;div class="flex items-center space-x-2"&gt;
                &lt;span class="text-sm text-gray-600"
                      x-text="`å·²æ’­æ”¾: ${activeVideos.filter(v =&gt; v).length}/${videoLayout}`"&gt;&lt;/span&gt;
                &lt;button x-on:click="clearAllVideos()"
                        class="px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500"&gt;
                  æ¸…ç©ºå…¨éƒ¨
                &lt;/button&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- è®©tailwindç”Ÿæˆæ ·å¼ --&gt;
            &lt;div class="hidden grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"&gt;&lt;/div&gt;

            &lt;!-- è§†é¢‘æ’­æ”¾ç½‘æ ¼ --&gt;
            &lt;div id="video-grid" class="grid gap-2" x-bind:class="getGridClass()"&gt;
              &lt;template x-for="(video, index) in activeVideos" :key="index"&gt;
                &lt;div class="relative bg-black rounded-lg overflow-hidden aspect-video"&gt;
                  &lt;template x-if="activeVideos[index]"&gt;
                    &lt;div class="relative w-full h-full"&gt;
                      &lt;video
                             x-bind:id="`video-player-${index}`"
                             class="w-full h-full object-cover"
                             controls
                             muted
                             x-bind:data-camera-guid="activeVideos[index].guid"
                             &gt;&lt;/video&gt;
                      &lt;!-- è§†é¢‘ä¿¡æ¯è¦†ç›–å±‚ --&gt;
                      &lt;div class="absolute top-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs"&gt;
                        &lt;span x-text="activeVideos[index].name"&gt;&lt;/span&gt;
                      &lt;/div&gt;
                      &lt;!-- æ§åˆ¶æŒ‰é’® --&gt;
                      &lt;div class="absolute top-2 right-2 flex space-x-1"&gt;
                        &lt;button x-on:click="fullscreenVideo(index)"
                                class="bg-black bg-opacity-70 text-white p-1 rounded hover:bg-opacity-90"&gt;
                          &lt;i class="fas fa-expand text-xs"&gt;&lt;/i&gt;
                        &lt;/button&gt;
                        &lt;button x-on:click="removeVideo(index)"
                                class="bg-red-500 bg-opacity-70 text-white p-1 rounded hover:bg-opacity-90"&gt;
                          &lt;i class="fas fa-times text-xs"&gt;&lt;/i&gt;
                        &lt;/button&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                  &lt;/template&gt;
                  &lt;template x-if="!activeVideos[index]"&gt;
                    &lt;div class="flex items-center justify-center h-full text-gray-400"&gt;
                      &lt;div class="text-center"&gt;
                        &lt;i class="fas fa-video text-4xl mb-2"&gt;&lt;/i&gt;
                        &lt;p class="text-sm"&gt;ç©ºé—²ä½ç½®&lt;/p&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                  &lt;/template&gt;
                &lt;/div&gt;
              &lt;/template&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/main&gt;
</code></pre>
<h3 id="æ’­æ”¾å™¨å®ç°">æ’­æ”¾å™¨å®ç°</h3>
<p>æ’­æ”¾å™¨æˆ‘é€‰æ‹©äº†  mpegts.js - <a href="https://github.com/xqq/mpegts.js" target="_blank" rel="noopener nofollow">https://github.com/xqq/mpegts.js</a></p>
<p>mpegts.js æ˜¯åœ¨ HTML5 ä¸Šç›´æ¥æ’­æ”¾ MPEG2-TS æµçš„æ’­æ”¾å™¨ï¼Œé’ˆå¯¹ä½å»¶è¿Ÿç›´æ’­ä¼˜åŒ–ï¼Œå¯ç”¨äº DVB/ISDB æ•°å­—ç”µè§†æµæˆ–ç›‘æ§æ‘„åƒå¤´ç­‰çš„ä½å»¶è¿Ÿå›æ”¾ã€‚</p>
<p>è¿™æ˜¯ B ç«™å¼€æºçš„ flv.js çš„ fork ç‰ˆæœ¬</p>
<p>B ç«™å’Œå›½å†…å…¶ä»–å¤§å‚çš„å°¿æ€§ä¸€æ ·ï¼Œç®¡ç”Ÿä¸ç®¡å…»ï¼Œflv.js é¡¹ç›®å·²ç»å››å¹´å¤šæ²¡æ›´æ–°äº†ï¼Œissues ä¸€å¤§å †ä¹Ÿä¸å¤„ç†ï¼ŒåŸºæœ¬å¤„äºåºŸå¼ƒçŠ¶æ€ã€‚</p>
<p>ä¼°è®¡è¿™ä¹Ÿæ˜¯ B ç«™çš„ä¸€ä¸ª KPI å¼€æºé¡¹ç›®å§â€¦</p>
<p>æˆ‘ä¸€å¼€å§‹çœ‹åˆ°æ˜¯ B ç«™å¼€æºçš„ï¼Œä»¥ä¸ºä¼šå¾ˆå¥½ç”¨ï¼Œç”¨ flv.js æ¥æ’­æ”¾ï¼Œç»“æœæ ¹æœ¬æ²¡æ³•æ’­æ”¾ï¼Œä¸€çœ‹æ‰çŸ¥é“ flv.js åªæ”¯æŒ H.264 ç¼–ç </p>
<p>è€Œç°åœ¨æ‘„åƒå¤´å¾ˆå¤šéƒ½æ˜¯ H.265 ç¼–ç äº†â€¦</p>
<p>WVP é¡¹ç›®çš„æ’­æ”¾ä½¿ç”¨çš„æ˜¯ Jessibuca è¿™ä¸ªæ’­æ”¾å™¨</p>
<p>ä¸è¿‡è¿™ä¸ªé¡¹ç›®çš„æ–‡æ¡£æ¯” WVP è¿˜ä¹±ï¼Œè®©äººæ ¹æœ¬æ²¡æœ‰æƒ³è¦ä½¿ç”¨çš„æ¬²æœ›â€¦ï¼ˆè™½è¯´è¿™ä¸ªé¡¹ç›®å¯èƒ½å…¼å®¹æ€§å’Œæ€§èƒ½éƒ½ä¼šå¥½ä¸€äº›ï¼Ÿï¼‰</p>
<p>è€Œä¸”å› ä¸ºç”¨äº† wasmï¼Œä¸èƒ½ä½¿ç”¨ npm å®‰è£…ï¼Œé›†æˆä¹Ÿéº»çƒ¦ï¼Œæˆ‘è¿˜æ˜¯é€‰æ‹©äº†çº¯ js å®ç°çš„æ–¹æ¡ˆã€‚</p>
<p>å®‰è£…ä¹Ÿç®€å•</p>
<pre><code class="language-bash">pnpm i mpegts.js
</code></pre>
<p>ç»è¿‡ gulp é…ç½®åé›†æˆåˆ°é™æ€æ–‡ä»¶é‡Œ</p>
<pre><code class="language-html">&lt;script src="{% static 'lib/mpegts.js/dist/mpegts.js' %}"&gt;&lt;/script&gt;
</code></pre>
<p>æ’­æ”¾è§†é¢‘æµçš„ä»£ç ä¹Ÿæ¯”è¾ƒç®€å•</p>
<pre><code class="language-javascript">console.log('æ’­æ”¾æ‘„åƒå¤´:', camera.name, 'GUID:', camera.guid);

// è·å–æ‘„åƒå¤´ç›´æ’­åœ°å€
const url = window.API_URLS.cameraStreamUrl.replace('__camera_guid__', camera.guid);
axios.get(url)
  .then(res =&gt; {
  if (res.data.success &amp;&amp; res.data.data &amp;&amp; res.data.data.stream_url) {
    const streamUrl = res.data.data.stream_url.trim();
    console.log('ç›´æ’­åœ°å€:', streamUrl);
    this.addVideoToGrid(camera, streamUrl);
  } else {
    alert('è·å–ç›´æ’­åœ°å€å¤±è´¥ï¼šæ— æ•ˆçš„å“åº”æ•°æ®');
  }
})
  .catch(err =&gt; {
  console.error('è·å–ç›´æ’­åœ°å€å¤±è´¥:', err);
  alert('è·å–ç›´æ’­åœ°å€å¤±è´¥ï¼Œè¯·é‡è¯•');
});
</code></pre>
<h3 id="çº¯-alpinejs-çš„æ ‘ç»„ä»¶å®ç°">çº¯ Alpine.js çš„æ ‘ç»„ä»¶å®ç°</h3>
<p>ä½¿ç”¨ react/vue æ—¶ï¼Œåº”è¯¥æœ‰æ¯”è¾ƒå¤šå¯é€‰çš„æ ‘ç»„ä»¶</p>
<p>ä¸è¿‡çº¯ js çš„æ ‘ç»„ä»¶å°±éƒ½æ˜¯çº¯ä¸€å¨ï¼Œæ ¹æœ¬æ²¡æœ‰èƒ½ç”¨çš„ï¼</p>
<p>åœ¨ä¸€ç•ªå°è¯•ä¹‹åï¼Œæˆ‘å†³å®šä½¿ç”¨ Alpine.js è‡ªå·±å†™ä¸€ä¸ªï¼</p>
<p>æ•ˆæœåœ¨å‰é¢çš„æˆªå›¾é‡Œä¹Ÿæœ‰äº†ï¼Œå¯ä»¥å®ç°æ ‘èŠ‚ç‚¹å±•å¼€ã€å®æ—¶æœç´¢è¿‡æ»¤ï¼Œéœ€è¦çš„åŠŸèƒ½éƒ½æœ‰ï¼Œå®Œç¾~</p>
<p>ä»£ç ç”±äºç¯‡å¹…å…³ç³»å°±ä¸æ”¾äº†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥åœ¨å…¬ä¼—å·åå°å›å¤ã€Œæ ‘ç»„ä»¶ã€è·å–ç›¸å…³ä»£ç ~</p>
<h2 id="å°ç»“">å°ç»“</h2>
<p>OKï¼Œå°±è¿™æ ·äº†ï¼Œå®Œæˆäº†ä¸€ç¯‡å·¥ä½œå†…å®¹çš„æ•´ç†ã€‚</p>
<p>è·ç¦»æˆ‘å¼€å¯æ–°é¡¹ç›®åˆè¿‘äº†ä¸€æ­¥ï¼</p>

</div>
<div id="MySignature" role="contentinfo">
    å¾®ä¿¡å…¬ä¼—å·ï¼šã€Œç¨‹åºè®¾è®¡å®éªŒå®¤ã€
ä¸“æ³¨äºäº’è”ç½‘çƒ­é—¨æ–°æŠ€æœ¯æ¢ç´¢ä¸å›¢é˜Ÿæ•æ·å¼€å‘å®è·µï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æœºå™¨å­¦ä¹ ä¸æ•°æ®åˆ†æç®—æ³•ã€ç§»åŠ¨ç«¯å¼€å‘ã€Linuxã€Webå‰åç«¯å¼€å‘ç­‰ï¼Œæ¬¢è¿ä¸€èµ·æ¢è®¨æŠ€æœ¯ï¼Œåˆ†äº«å­¦ä¹ å®è·µç»éªŒã€‚
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2025-07-04 11:56">2025-07-04 11:55</span>&nbsp;
<a href="https://www.cnblogs.com/deali">ç¨‹åºè®¾è®¡å®éªŒå®¤</a>&nbsp;
é˜…è¯»(<span id="post_view_count">112</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18965374);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18965374', targetLink: 'https://www.cnblogs.com/deali/p/18965374', title: 'è§†é¢‘ä¸­å°è§£å†³æ–¹æ¡ˆï¼šç»„ç»‡æ ‘ç»„ä»¶+å¤šè·¯è§†é¢‘ç›´æ’­ç•Œé¢å¼€å‘' })">ä¸¾æŠ¥</a>
</div>
        