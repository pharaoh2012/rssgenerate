
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/youlanjihua/p/18895769" title="发布于 2025-05-25 19:05">
    <span role="heading" aria-level="2">鸿蒙仓颉开发语言实战教程：页面跳转和传参</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-id="p124945a-J9JBSEMQ">前两天分别实现了商城应用的首页和商品详情页面，今天要分享新的内容，就是这两个页面之间的相互跳转和传递参数。</p>
<p data-id="p124945a-R1bWSwUJ">首先我们需要两个页面。如果你的项目中还没有第二个页面，可以右键cangjie文件夹新建仓颉文件：</p>
<p data-id="pa028eb2-Kqm3XrQh"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202505/e7a5ed9379b6d52e06b009c5949d9ad103b682.png" data-type="block"></p>
<p data-id="p124945a-TmC8QXt6">新建的文件里面没什么内容，我们给他添加上4个基础的引用，再简单添加个按钮：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>package ohos_app_cangjie_entry.page
import ohos.base.*
import ohos.component.*
import ohos.state_manage.*
import ohos.state_macro_manage.*
@Entry
@Component
public class testPage {
    func build() {
    	Column {
            Button('返回')
    	}
    }
}</code></pre>
</div>
<p data-id="p838747a-iWgwFawY">&nbsp;</p>
<p data-id="p124945a-orQ4Kjcd"><strong>页面跳转和返回</strong></p>
<p data-id="p124945a-IhNz2vw8">仓颉语言有和ArkTs相同的路由Router，不过用法不太一样。在跳转页面的时候，push使用的url，不再是路径，而是直接写页面名称,不用管的路径。比如我刚才新建了页面testPage，跳转的时候就是：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Router.push(url: 'testPage')</code></pre>
</div>
<p data-id="p124945a-b4w558b5">当页面需要返回，使用Router.back(),back中可以写url参数，也可以不写。</p>
<p data-id="p124945a-dkRawy32">要注意，这里我们说的页面名称，并不是文件的名字，而是页面的名称。比如index.cj文件，它的页面名称是EntryView而不是index。</p>
<p data-id="pa028eb2-Rdppr05Y"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202505/91929f4958a99c0cbba391b936cd23a5b4984a.png" data-type="block"></p>
<p data-id="p838747a-N0HMWaWh">&nbsp;</p>
<p data-id="p124945a-EmGSUc9j"><strong>传递参数</strong></p>
<p data-id="p124945a-g3bJ8ivT">页面跳转通常伴随着传递参数，在使用push跳转的时候能看到和url并列的还有一个params用来传递参数，它支持两种类型，string和JsonObject。</p>
<p data-id="p124945a-U2BT4xVM">只需传递一个参数的时候我们可以直接传递string类型的参数：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Router.push(url: 'testPage', params: '100')</code></pre>
</div>
<p data-id="p124945a-3ns6YYDy">在下一个页面接收的参数的时候也要使用Router：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Router.getParams()</code></pre>
</div>
<p data-id="p124945a-erSLZ5ZS">同样的，在返回上一级页面的时候也可以同样的方式传递参数，接收参数也是一样的。</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Router.back(url: 'EntryView',params:'参数2')</code></pre>
</div>
<p data-id="p124945a-DnIQXR5u">在需要传递多个参数的时候，我们需要使用JsonObject类型，这是一个全新的数据类型，幽蓝君使用它的时候颇费了一番周折。好在看了这篇文章的友友不用再浪费时间了，它是这样用的：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>var map = JsonObject()
map.put("name", JsonString("衬衫"))
map.put(“size”, JsonString(“xl”))
Router.push(url: 'testPage', params: map)</code></pre>
</div>
<p data-id="p124945a-y6VFq3z6">在下一个页面接收多个参数时，要使用Router.getParamsObject()：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>let obj =  Router.getParamsObject()
let a =  obj['name']</code></pre>
</div>
<p data-id="p838747a-YPT1nIf6">&nbsp;</p>
<div>
<pre class="language-plain highlighter-hljs"><code>AppLog.info('接收多个参数:' + a.toString())</code></pre>
</div>
<p data-id="p124945a-OXg2w1fL">以上就是仓颉开发语言中的页面跳转和传参。#HarmonyOS语言##仓颉##购物#</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.7205194074398148" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-25 19:05">2025-05-25 19:05</span>&nbsp;
<a href="https://www.cnblogs.com/youlanjihua">幽蓝计划</a>&nbsp;
阅读(<span id="post_view_count">69</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18895769);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18895769', targetLink: 'https://www.cnblogs.com/youlanjihua/p/18895769', title: '鸿蒙仓颉开发语言实战教程：页面跳转和传参' })">举报</a>
</div>
        