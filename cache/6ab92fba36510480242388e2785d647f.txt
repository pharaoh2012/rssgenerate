
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/aslanvon/p/18959951" title="å‘å¸ƒäº 2025-07-01 17:07">
    <span role="heading" aria-level="2">C++ æµ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>åœ¨ C++ æ ‡å‡†åº“ä¸­ï¼Œ<strong>streamï¼ˆæµï¼‰</strong>æ˜¯å¤„ç†è¾“å…¥è¾“å‡ºï¼ˆI/Oï¼‰çš„æ ¸å¿ƒæŠ½è±¡ï¼Œåˆ†ä¸ºè¾“å…¥æµï¼ˆ<code>istream</code>ï¼‰ã€è¾“å‡ºæµï¼ˆ<code>ostream</code>ï¼‰ã€è¾“å…¥è¾“å‡ºæµï¼ˆ<code>iostream</code>ï¼‰ç­‰å¤šç§ç±»å‹ï¼Œä¸”æ”¯æŒé¢å‘ä¸åŒè®¾å¤‡ï¼ˆæ–‡ä»¶ã€å­—ç¬¦ä¸²ã€æ§åˆ¶å°ç­‰ï¼‰çš„å…·ä½“æµç±»å‹ã€‚</p>
<hr>
<h1 id="stream-ç±»å‹">Stream ç±»å‹</h1>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>ä¸»è¦ç±»å‹åŠè¯´æ˜</th>
<th>å¤´æ–‡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>è¾“å…¥æµ</strong></td>
<td><code>std::istream</code>ï¼šé€šç”¨è¾“å…¥æµåŸºç±»</td>
<td><code>&lt;istream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::ifstream</code>ï¼šæ–‡ä»¶è¾“å…¥æµ</td>
<td><code>&lt;fstream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::istringstream</code>ï¼šå­—ç¬¦ä¸²è¾“å…¥æµ</td>
<td><code>&lt;sstream&gt;</code></td>
</tr>
<tr>
<td><strong>è¾“å‡ºæµ</strong></td>
<td><code>std::ostream</code>ï¼šé€šç”¨è¾“å‡ºæµåŸºç±»</td>
<td><code>&lt;ostream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::ofstream</code>ï¼šæ–‡ä»¶è¾“å‡ºæµ</td>
<td><code>&lt;fstream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::ostringstream</code>ï¼šå­—ç¬¦ä¸²è¾“å‡ºæµ</td>
<td><code>&lt;sstream&gt;</code></td>
</tr>
<tr>
<td><strong>è¾“å…¥è¾“å‡ºæµ</strong></td>
<td><code>std::iostream</code>ï¼šé€šç”¨è¾“å…¥è¾“å‡ºæµåŸºç±»</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::fstream</code>ï¼šæ–‡ä»¶è¾“å…¥è¾“å‡ºæµ</td>
<td><code>&lt;fstream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::stringstream</code>ï¼šå­—ç¬¦ä¸²è¾“å…¥è¾“å‡ºæµ</td>
<td><code>&lt;sstream&gt;</code></td>
</tr>
<tr>
<td><strong>æ ‡å‡†æµå¯¹è±¡</strong></td>
<td><code>std::cin</code>ï¼šæ ‡å‡†è¾“å…¥æµï¼ˆå…¨å±€å¯¹è±¡ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::cout</code>ï¼šæ ‡å‡†è¾“å‡ºæµï¼ˆå…¨å±€å¯¹è±¡ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::cerr</code>ï¼šæ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼ˆæ— ç¼“å†²ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
<tr>
<td></td>
<td><code>std::clog</code>ï¼šæ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼ˆå¸¦ç¼“å†²ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
</tbody>
</table>
<hr>
<p>ç»§æ‰¿å…³ç³»ç®€å›¾ï¼ˆç®€åŒ–ç‰ˆï¼‰</p>
<pre><code>std::ios_base
    â””â”€â”€ std::ios
           â”œâ”€â”€ std::istream
           â”‚      â”œâ”€â”€ std::ifstream
           â”‚      â””â”€â”€ std::istringstream
           â”œâ”€â”€ std::ostream
           â”‚      â”œâ”€â”€ std::ofstream
           â”‚      â””â”€â”€ std::ostringstream
           â””â”€â”€ std::iostream
                  â”œâ”€â”€ std::fstream
                  â””â”€â”€ std::stringstream
</code></pre>
<hr>
<hr>
<h2 id="ä¸€æ ‡å‡†æµ">ä¸€ã€æ ‡å‡†æµ</h2>
<p>C++ æ ‡å‡†åº“å®šä¹‰äº†å››ä¸ªä¸»è¦çš„æ ‡å‡†æµå¯¹è±¡ï¼š</p>
<table>
<thead>
<tr>
<th>å¯¹è±¡å</th>
<th>ç±»å‹</th>
<th>åŠŸèƒ½æè¿°</th>
<th>ç¼“å†²æœºåˆ¶</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::cin</code></td>
<td><code>std::istream</code></td>
<td>æ ‡å‡†è¾“å…¥æµï¼Œé€šå¸¸å…³è”é”®ç›˜è¾“å…¥</td>
<td>å¸¦ç¼“å†²</td>
<td>ä»é”®ç›˜æˆ–é‡å®šå‘è¾“å…¥è¯»å–æ•°æ®</td>
</tr>
<tr>
<td><code>std::cout</code></td>
<td><code>std::ostream</code></td>
<td>æ ‡å‡†è¾“å‡ºæµï¼Œé€šå¸¸å…³è”æ§åˆ¶å°æ˜¾ç¤º</td>
<td>å¸¦ç¼“å†²</td>
<td>å‘æ§åˆ¶å°æˆ–é‡å®šå‘è¾“å‡ºå†™æ•°æ®</td>
</tr>
<tr>
<td><code>std::cerr</code></td>
<td><code>std::ostream</code></td>
<td>æ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼Œå…³è”æ§åˆ¶å°æ˜¾ç¤º</td>
<td><strong>æ— ç¼“å†²</strong></td>
<td>ç”¨äºé”™è¯¯æˆ–å³æ—¶è¾“å‡ºæç¤º</td>
</tr>
<tr>
<td><code>std::clog</code></td>
<td><code>std::ostream</code></td>
<td>æ ‡å‡†æ—¥å¿—è¾“å‡ºæµï¼Œå…³è”æ§åˆ¶å°æ˜¾ç¤º</td>
<td>å¸¦ç¼“å†²</td>
<td>ç”¨äºç¨‹åºæ—¥å¿—ä¿¡æ¯è¾“å‡º</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="1-stdcin---æ ‡å‡†è¾“å…¥æµ">1. <code>std::cin</code> - æ ‡å‡†è¾“å…¥æµ</h3>
<ul>
<li>ç±»å‹ï¼š<code>std::istream</code></li>
<li>é»˜è®¤å…³è”è®¾å¤‡ï¼šé”®ç›˜ï¼ˆç»ˆç«¯è¾“å…¥ï¼‰</li>
<li>ç”¨æ³•ï¼š</li>
</ul>
<pre><code class="language-cpp">int x;
std::cin &gt;&gt; x;  // ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€ä¸ªæ•´æ•°
</code></pre>
<ul>
<li><strong>ç¼“å†²</strong>ï¼šå¸¦ç¼“å†²ã€‚è¾“å…¥æ—¶ä¼šå…ˆç¼“å†²ä¸€éƒ¨åˆ†æ•°æ®ï¼Œé€šå¸¸æ˜¯æ•´è¡Œè¯»å–åäº¤ç»™ç¨‹åºå¤„ç†ã€‚</li>
<li>æ”¯æŒæ ¼å¼åŒ–è¾“å…¥ï¼š<code>operator&gt;&gt;</code> ä¼šè‡ªåŠ¨è·³è¿‡ç©ºç™½ã€æ¢è¡Œï¼Œè¿›è¡Œç±»å‹è½¬æ¢ã€‚</li>
<li>æ”¯æŒé‡å®šå‘ï¼šä¾‹å¦‚ä»æ–‡ä»¶è¯»å–æ—¶ï¼Œå‘½ä»¤è¡Œé‡å®šå‘è¾“å…¥ <code>program &lt; input.txt</code>ã€‚</li>
</ul>
<hr>
<h3 id="2-stdcout---æ ‡å‡†è¾“å‡ºæµ">2. <code>std::cout</code> - æ ‡å‡†è¾“å‡ºæµ</h3>
<ul>
<li>ç±»å‹ï¼š<code>std::ostream</code></li>
<li>é»˜è®¤å…³è”è®¾å¤‡ï¼šæ§åˆ¶å°ï¼ˆç»ˆç«¯æ˜¾ç¤ºï¼‰</li>
<li>ç”¨æ³•ï¼š</li>
</ul>
<pre><code class="language-cpp">std::cout &lt;&lt; "Hello, world!" &lt;&lt; std::endl;
</code></pre>
<ul>
<li><strong>ç¼“å†²</strong>ï¼šå¸¦ç¼“å†²ã€‚ç¼“å†²åŒºæ»¡æˆ–è€…é‡åˆ° <code>std::endl</code> ä¼šåˆ·æ–°ç¼“å†²åŒºå†™åˆ°ç»ˆç«¯ã€‚</li>
<li>æ”¯æŒå„ç§ç±»å‹çš„æ ¼å¼åŒ–è¾“å‡ºï¼ˆæ•´å‹ã€æµ®ç‚¹ã€å­—ç¬¦ä¸²ã€è‡ªå®šä¹‰ç±»å‹é‡è½½ <code>operator&lt;&lt;</code>ï¼‰ã€‚</li>
<li>æ”¯æŒé‡å®šå‘ï¼šä¾‹å¦‚æŠŠè¾“å‡ºå†™å…¥æ–‡ä»¶ <code>program &gt; output.txt</code>ã€‚</li>
</ul>
<hr>
<h3 id="3-stdcerr---æ ‡å‡†é”™è¯¯è¾“å‡ºæµ">3. <code>std::cerr</code> - æ ‡å‡†é”™è¯¯è¾“å‡ºæµ</h3>
<ul>
<li>ç±»å‹ï¼š<code>std::ostream</code></li>
<li>é»˜è®¤å…³è”è®¾å¤‡ï¼šæ§åˆ¶å°ï¼ˆç»ˆç«¯æ˜¾ç¤ºï¼‰</li>
<li><strong>æ— ç¼“å†²</strong>è¾“å‡ºï¼šå†™å…¥æ—¶ç«‹å³å‘é€åˆ°ç»ˆç«¯ï¼Œé€‚åˆæ‰“å°é”™è¯¯æˆ–è­¦å‘Šä¿¡æ¯ï¼Œç¡®ä¿åŠæ—¶å¯è§ã€‚</li>
<li>ç”¨æ³•ï¼š</li>
</ul>
<pre><code class="language-cpp">std::cerr &lt;&lt; "Error: File not found!" &lt;&lt; std::endl;
</code></pre>
<ul>
<li>ä½œç”¨æ˜¯å’Œ <code>cout</code> åˆ†å¼€è¾“å‡ºï¼Œæ–¹ä¾¿ç»ˆç«¯æˆ–è„šæœ¬æ•è·é”™è¯¯ä¿¡æ¯ã€‚</li>
<li>ä¸å—ç¼“å†²å½±å“ï¼Œå³ä½¿ç¨‹åºå¼‚å¸¸é€€å‡ºä¹Ÿæ›´å®¹æ˜“ä¿è¯é”™è¯¯ä¿¡æ¯æ‰“å°å‡ºæ¥ã€‚</li>
</ul>
<hr>
<h3 id="4-stdclog---æ ‡å‡†æ—¥å¿—è¾“å‡ºæµ">4. <code>std::clog</code> - æ ‡å‡†æ—¥å¿—è¾“å‡ºæµ</h3>
<ul>
<li>ç±»å‹ï¼š<code>std::ostream</code></li>
<li>é»˜è®¤å…³è”è®¾å¤‡ï¼šæ§åˆ¶å°ï¼ˆç»ˆç«¯æ˜¾ç¤ºï¼‰</li>
<li><strong>å¸¦ç¼“å†²</strong>è¾“å‡ºï¼Œé€‚åˆå¤§é‡æ—¥å¿—ä¿¡æ¯ï¼Œæ•ˆç‡é«˜ã€‚</li>
<li>ç”¨æ³•ï¼š</li>
</ul>
<pre><code class="language-cpp">std::clog &lt;&lt; "Log: Starting the program..." &lt;&lt; std::endl;
</code></pre>
<ul>
<li>ç”¨äºæ—¥å¿—ä¿¡æ¯è¾“å‡ºï¼Œä¸åŒäº <code>cerr</code> ä¸»è¦æ˜¯â€œé”™è¯¯â€ï¼Œ<code>clog</code> ä¸»è¦æ˜¯â€œæ—¥å¿—â€ã€‚</li>
<li>å’Œ <code>cerr</code> åŒºåˆ«åœ¨äºç¼“å†²æ–¹å¼å’Œè¾“å‡ºè¯­ä¹‰ã€‚</li>
</ul>
<hr>
<h3 id="æ ‡å‡†æµå¯¹è±¡å¸¸ç”¨æ“ä½œå’Œç‰¹æ€§">æ ‡å‡†æµå¯¹è±¡å¸¸ç”¨æ“ä½œå’Œç‰¹æ€§</h3>
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¯»å–è¾“å…¥</td>
<td><code>std::cin &gt;&gt; x;</code></td>
<td>ä»é”®ç›˜è¯»å–æ ¼å¼åŒ–è¾“å…¥</td>
</tr>
<tr>
<td>è¾“å‡ºæ–‡æœ¬</td>
<td><code>std::cout &lt;&lt; "Hello\n";</code></td>
<td>å‘ç»ˆç«¯æ‰“å°æ–‡æœ¬</td>
</tr>
<tr>
<td>è¾“å‡ºé”™è¯¯ä¿¡æ¯</td>
<td><code>std::cerr &lt;&lt; "Error!\n";</code></td>
<td>ç«‹å³æ‰“å°é”™è¯¯ä¿¡æ¯</td>
</tr>
<tr>
<td>è¾“å‡ºæ—¥å¿—</td>
<td><code>std::clog &lt;&lt; "Log message\n";</code></td>
<td>ç¼“å†²å†™å…¥æ—¥å¿—ä¿¡æ¯</td>
</tr>
<tr>
<td>åˆ·æ–°ç¼“å†²åŒº</td>
<td><code>std::cout.flush();</code> æˆ– <code>std::cout &lt;&lt; std::flush;</code></td>
<td>ç«‹å³å°†ç¼“å†²å†…å®¹å†™å…¥è®¾å¤‡</td>
</tr>
<tr>
<td>æ“çºµç¬¦æ¢è¡Œ+åˆ·æ–°</td>
<td><code>std::cout &lt;&lt; std::endl;</code></td>
<td>è¾“å‡ºæ¢è¡Œå¹¶åˆ·æ–°ç¼“å†²</td>
</tr>
<tr>
<td>åˆ¤æ–­æµçŠ¶æ€</td>
<td><code>if (!std::cin) { /* è¯»å–å¤±è´¥ */ }</code></td>
<td>åˆ¤æ–­æµæ˜¯å¦å¤„äºé”™è¯¯çŠ¶æ€</td>
</tr>
<tr>
<td>é‡å®šå‘æµ</td>
<td>å‘½ä»¤è¡Œé‡å®šå‘ <code>program &lt; input.txt &gt; output.txt</code></td>
<td>æ”¹å˜æµçš„è¾“å…¥è¾“å‡ºè®¾å¤‡</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="æ ‡å‡†æµå¯¹è±¡çš„ç¼“å†²ç­–ç•¥">æ ‡å‡†æµå¯¹è±¡çš„ç¼“å†²ç­–ç•¥</h3>
<table>
<thead>
<tr>
<th>æµå¯¹è±¡</th>
<th>ç¼“å†²ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::cin</code></td>
<td>å¸¦ç¼“å†²</td>
<td>è¯»å–æ—¶å…ˆç¼“å†²ï¼Œä¼˜åŒ–è¾“å…¥æ•ˆç‡</td>
</tr>
<tr>
<td><code>std::cout</code></td>
<td>å¸¦ç¼“å†²</td>
<td>è¾“å‡ºæ—¶ç¼“å­˜ï¼Œé‡æ¢è¡Œæˆ–ç¼“å†²æ»¡æ—¶åˆ·æ–°</td>
</tr>
<tr>
<td><code>std::cerr</code></td>
<td>æ— ç¼“å†²</td>
<td>é”™è¯¯ä¿¡æ¯ç«‹å³è¾“å‡ºï¼Œä¸ç­‰å¾…ç¼“å†²åˆ·æ–°</td>
</tr>
<tr>
<td><code>std::clog</code></td>
<td>å¸¦ç¼“å†²</td>
<td>æ—¥å¿—è¾“å‡ºç¼“å†²ï¼Œæé«˜æ•ˆç‡</td>
</tr>
</tbody>
</table>
<h2 id="äºŒè¾“å…¥è¾“å‡ºæµ">äºŒã€è¾“å…¥è¾“å‡ºæµ</h2>
<p>åœ¨C++ä¸­ï¼Œ<strong>è¾“å…¥è¾“å‡ºæµï¼ˆInput/Output Streamï¼‰</strong>æ˜¯å¯¹æ•°æ®æµåŠ¨æ–¹å‘çš„æŠ½è±¡ï¼Œç”¨äºä»æŸä¸ªè®¾å¤‡ï¼ˆå¦‚é”®ç›˜ã€æ–‡ä»¶ã€å†…å­˜ï¼‰è¯»å–æ•°æ®æˆ–å‘å…¶å†™å…¥æ•°æ®ã€‚è¾“å…¥æµè´Ÿè´£è¯»å–ï¼Œè¾“å‡ºæµè´Ÿè´£å†™å…¥ã€‚<strong>è¾“å…¥è¾“å‡ºæµ</strong>å³åŒæ—¶æ”¯æŒ<strong>è¾“å…¥å’Œè¾“å‡º</strong>çš„æµï¼Œèƒ½æ—¢ä»ä¸­è¯»å–æ•°æ®ï¼Œä¹Ÿå‘å…¶ä¸­å†™å…¥æ•°æ®ã€‚</p>
<h3 id="åŸºæœ¬æµå±‚çº§å’Œå…·ä½“å®ç°ç±»">åŸºæœ¬æµå±‚çº§å’Œå…·ä½“å®ç°ç±»</h3>
<h3 id="stdiostream"><code>std::iostream</code></h3>
<ul>
<li>ç»§æ‰¿è‡ª <code>std::istream</code> å’Œ <code>std::ostream</code>ã€‚æ”¯æŒæ ‡å‡†è¾“å…¥è¾“å‡ºæµçš„æ‰€æœ‰æ“ä½œã€‚æ—¢å¯ä»¥ç”¨ä½œè¾“å…¥æµï¼Œä¹Ÿå¯ä»¥ç”¨ä½œè¾“å‡ºæµã€‚</li>
<li>åº•å±‚ä¾èµ–äºç¼“å†²åŒºï¼ˆbufferï¼‰ç®¡ç†ï¼Œé¿å…é¢‘ç¹ç³»ç»Ÿè°ƒç”¨ï¼Œæå‡æ•ˆç‡ã€‚<code>iostream</code> å¯¹è±¡æ‹¥æœ‰ä¸€ä¸ª<code>streambuf</code>ç¼“å†²åŒºæŒ‡é’ˆï¼Œé€šè¿‡å®ƒå®ç°å…·ä½“è¯»å†™ã€‚<code>iostream</code> ç»§æ‰¿äº†æ ¼å¼åŒ–è¾“å…¥è¾“å‡ºçš„èƒ½åŠ›ï¼Œæ¯”å¦‚æ”¯æŒ<code>operator&gt;&gt;</code>ã€<code>operator&lt;&lt;</code>å¯¹å„ç§ç±»å‹çš„é‡è½½ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th>ç±»å</th>
<th>åŠŸèƒ½æè¿°</th>
<th>å¤´æ–‡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::ios_base</code></td>
<td>I/O åº“çš„åŸºç¡€ç±»ï¼Œç®¡ç†æ ¼å¼åŒ–å’ŒçŠ¶æ€</td>
<td><code>&lt;ios&gt;</code></td>
</tr>
<tr>
<td><code>std::ios</code></td>
<td>ç»§æ‰¿è‡ª <code>ios_base</code>ï¼Œå¢åŠ ç¼“å†²ç­‰æ”¯æŒ</td>
<td><code>&lt;ios&gt;</code></td>
</tr>
<tr>
<td><code>std::istream</code></td>
<td>è¾“å…¥æµåŸºç±»</td>
<td><code>&lt;istream&gt;</code></td>
</tr>
<tr>
<td><code>std::ostream</code></td>
<td>è¾“å‡ºæµåŸºç±»</td>
<td><code>&lt;ostream&gt;</code></td>
</tr>
<tr>
<td><code>std::iostream</code></td>
<td>è¾“å…¥è¾“å‡ºæµåŸºç±»ï¼ˆç»§æ‰¿è‡ª <code>istream</code> å’Œ <code>ostream</code>ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
</tbody>
</table>
<p><code>iostream</code>ç»§æ‰¿äº†è¾“å…¥æµå’Œè¾“å‡ºæµçš„åŠŸèƒ½ï¼Œå› æ­¤å¯åŒæ—¶è¯»å†™ã€‚</p>
<hr>
<p>å…·ä½“å®ç°ç±»ï¼š</p>
<table>
<thead>
<tr>
<th>ç±»å</th>
<th>ç”¨é€”</th>
<th>å¤´æ–‡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::fstream</code></td>
<td>æ–‡ä»¶è¾“å…¥è¾“å‡ºæµ</td>
<td><code>&lt;fstream&gt;</code></td>
</tr>
<tr>
<td><code>std::stringstream</code></td>
<td>å†…å­˜å­—ç¬¦ä¸²è¾“å…¥è¾“å‡ºæµ</td>
<td><code>&lt;sstream&gt;</code></td>
</tr>
</tbody>
</table>
<h4 id="1-æ–‡ä»¶è¯»å†™ä½¿ç”¨-stdfstream">1. æ–‡ä»¶è¯»å†™ï¼ˆä½¿ç”¨ <code>std::fstream</code>ï¼‰</h4>
<pre><code class="language-cpp">#include &lt;fstream&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;

int main() {
    std::fstream file("example.txt", std::ios::in | std::ios::out | std::ios::trunc);
    if (!file) {
        std::cerr &lt;&lt; "æ–‡ä»¶æ‰“å¼€å¤±è´¥\n";
        return 1;
    }

    // å†™å…¥æ•°æ®
    file &lt;&lt; "Hello, iostream!\n";

    // é‡ç½®æ–‡ä»¶è¯»å–ä½ç½®åˆ°å¼€å¤´
    file.seekg(0);

    // è¯»å–æ•°æ®
    std::string line;
    std::getline(file, line);
    std::cout &lt;&lt; "æ–‡ä»¶å†…å®¹: " &lt;&lt; line &lt;&lt; std::endl;

    file.close();
    return 0;
}
</code></pre>
<hr>
<h4 id="2-å†…å­˜å­—ç¬¦ä¸²è¯»å†™ä½¿ç”¨-stdstringstream">2. å†…å­˜å­—ç¬¦ä¸²è¯»å†™ï¼ˆä½¿ç”¨ <code>std::stringstream</code>ï¼‰</h4>
<pre><code class="language-cpp">#include &lt;sstream&gt;
#include &lt;iostream&gt;

int main() {
    std::stringstream ss;

    // å†™å…¥
    ss &lt;&lt; "123 456";

    int a, b;
    // è¯»å–
    ss &gt;&gt; a &gt;&gt; b;

    std::cout &lt;&lt; "è¯»å–åˆ°çš„æ•°å­—ï¼š" &lt;&lt; a &lt;&lt; ", " &lt;&lt; b &lt;&lt; std::endl;
}
//è¾“å‡ºï¼š è¯»å–åˆ°çš„æ•°å­—ï¼š123, 456
</code></pre>
<hr>
<h3 id="å¸¸ç”¨æˆå‘˜å‡½æ•°éƒ¨åˆ†">å¸¸ç”¨æˆå‘˜å‡½æ•°ï¼ˆéƒ¨åˆ†ï¼‰</h3>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>operator&gt;&gt;</code></td>
<td>æ ¼å¼åŒ–è¾“å…¥ï¼ˆè¯»å–ï¼‰</td>
</tr>
<tr>
<td><code>operator&lt;&lt;</code></td>
<td>æ ¼å¼åŒ–è¾“å‡ºï¼ˆå†™å…¥ï¼‰</td>
</tr>
<tr>
<td><code>read(char*, size_t)</code></td>
<td>è¯»å–åŸå§‹å­—èŠ‚æµ</td>
</tr>
<tr>
<td><code>write(char*, size_t)</code></td>
<td>å†™å…¥åŸå§‹å­—èŠ‚æµ</td>
</tr>
<tr>
<td><code>get()</code></td>
<td>è¯»å–ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td><code>put(char)</code></td>
<td>å†™å…¥ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td><code>seekg(pos)</code></td>
<td>è®¾ç½®è¾“å…¥ä½ç½®</td>
</tr>
<tr>
<td><code>seekp(pos)</code></td>
<td>è®¾ç½®è¾“å‡ºä½ç½®</td>
</tr>
<tr>
<td><code>tellg()</code></td>
<td>è·å–å½“å‰è¾“å…¥ä½ç½®</td>
</tr>
<tr>
<td><code>tellp()</code></td>
<td>è·å–å½“å‰è¾“å‡ºä½ç½®</td>
</tr>
<tr>
<td><code>good()</code>, <code>fail()</code>, <code>eof()</code></td>
<td>æ£€æŸ¥æµçŠ¶æ€</td>
</tr>
<tr>
<td><code>flush()</code></td>
<td>åˆ·æ–°ç¼“å†²åŒº</td>
</tr>
</tbody>
</table>
<h2 id="æµçŠ¶æ€åŠé”™è¯¯å¤„ç†">æµçŠ¶æ€åŠé”™è¯¯å¤„ç†</h2>
<p>åœ¨ C++ ä¸­ï¼Œè¾“å…¥è¾“å‡ºæµï¼ˆ<code>iostream</code>ï¼‰æä¾›äº†çŠ¶æ€æ ‡å¿—å’Œé”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç”¨äºæ£€æµ‹å’Œå¤„ç† I/O æ“ä½œä¸­çš„å¼‚å¸¸æˆ–é”™è¯¯æƒ…å†µã€‚ç†è§£è¿™äº›æœºåˆ¶å¯¹äºç¼–å†™å¥å£®çš„ I/O ä»£ç éå¸¸é‡è¦ã€‚</p>
<hr>
<h3 id="æµçš„çŠ¶æ€æ ‡å¿—stream-state-flags">æµçš„çŠ¶æ€æ ‡å¿—ï¼ˆStream State Flagsï¼‰</h3>
<p>C++ çš„æµå¯¹è±¡ï¼ˆå¦‚ <code>std::ifstream</code>, <code>std::ofstream</code>, <code>std::cin</code>, <code>std::cout</code> ç­‰ï¼‰éƒ½ç»§æ‰¿è‡ª <code>std::ios_base</code> ç±»ï¼Œå¹¶ç»´æŠ¤ä¸€ç»„çŠ¶æ€æ ‡å¿—æ¥è¡¨ç¤ºæµå½“å‰çš„çŠ¶æ€ã€‚è¿™äº›çŠ¶æ€æ ‡å¿—æ˜¯é€šè¿‡æˆå‘˜å‡½æ•° <code>rdstate()</code> è·å–çš„ï¼Œå…¶ç±»å‹ä¸º <code>std::ios_base::iostate</code>ã€‚</p>
<p>å¸¸è§çš„çŠ¶æ€æ ‡å¿—åŒ…æ‹¬ï¼š</p>
<table>
<thead>
<tr>
<th>æ ‡å¿—</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>goodbit</code></td>
<td>æ²¡æœ‰å‘ç”Ÿé”™è¯¯ï¼ˆä¸€åˆ‡æ­£å¸¸ï¼‰</td>
</tr>
<tr>
<td><code>badbit</code></td>
<td>å‘ç”Ÿäº†ä¸å¯æ¢å¤çš„è¯»å†™é”™è¯¯ï¼ˆä¾‹å¦‚åº•å±‚è®¾å¤‡å‡ºé”™ï¼‰</td>
</tr>
<tr>
<td><code>failbit</code></td>
<td>è¾“å…¥/è¾“å‡ºæ“ä½œå¤±è´¥ï¼ˆä½†æµä»å¯ç”¨ï¼Œä¾‹å¦‚ç±»å‹ä¸åŒ¹é…ï¼‰</td>
</tr>
<tr>
<td><code>eofbit</code></td>
<td>åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼ˆEOFï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="ç¤ºä¾‹">ç¤ºä¾‹ï¼š</h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;

int main() {
    std::ifstream file("example.txt");
    if (!file) {
        std::cerr &lt;&lt; "Failed to open file.\n";
    }

    int value;
    file &gt;&gt; value;

    if (file.fail()) {
        std::cerr &lt;&lt; "Input failed: type mismatch or bad input.\n";
    }
    if (file.bad()) {
        std::cerr &lt;&lt; "Serious I/O error occurred.\n";
    }
    if (file.eof()) {
        std::cerr &lt;&lt; "End of file reached.\n";
    }
    if (file.good()) {
        std::cout &lt;&lt; "Everything is fine.\n";
    }

    return 0;
}
</code></pre>
<hr>
<h3 id="çŠ¶æ€æ£€æŸ¥å‡½æ•°">çŠ¶æ€æ£€æŸ¥å‡½æ•°</h3>
<p>é™¤äº†ç›´æ¥ä½¿ç”¨ <code>rdstate()</code> æ¥è·å–çŠ¶æ€ä½å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æˆå‘˜å‡½æ•°è¿›è¡ŒçŠ¶æ€åˆ¤æ–­ï¼š</p>
<table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>è¿”å›å€¼è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>good()</code></td>
<td>æ˜¯å¦å¤„äºè‰¯å¥½çŠ¶æ€ï¼ˆæ²¡æœ‰è®¾ç½®ä»»ä½•é”™è¯¯æ ‡å¿—ï¼‰</td>
</tr>
<tr>
<td><code>bad()</code></td>
<td>æ˜¯å¦å‘ç”Ÿäº†ä¸å¯æ¢å¤çš„é”™è¯¯</td>
</tr>
<tr>
<td><code>fail()</code></td>
<td>æ˜¯å¦å‘ç”Ÿäº†å¯æ¢å¤çš„é”™è¯¯ï¼ˆåŒ…æ‹¬ <code>eofbit</code>ï¼‰</td>
</tr>
<tr>
<td><code>eof()</code></td>
<td>æ˜¯å¦åˆ°è¾¾æ–‡ä»¶æœ«å°¾</td>
</tr>
<tr>
<td><code>operator!()</code></td>
<td>æ˜¯å¦å¤„äºå¤±è´¥çŠ¶æ€ï¼ˆå³ <code>fail()</code> ä¸ºçœŸï¼‰</td>
</tr>
<tr>
<td><code>operator bool()</code></td>
<td>æ˜¯å¦å¤„äºéå¤±è´¥çŠ¶æ€ï¼ˆå³ <code>!fail()</code> ä¸ºçœŸï¼‰</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="æ¸…é™¤çŠ¶æ€æ ‡å¿—">æ¸…é™¤çŠ¶æ€æ ‡å¿—</h2>
<p>å¦‚æœä½ å¸Œæœ›ç»§ç»­ä½¿ç”¨ä¸€ä¸ªå·²ç»å‡ºé”™çš„æµå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>clear()</code> æˆ– <code>clear(iostate)</code> å‡½æ•°æ¥æ¸…é™¤çŠ¶æ€æ ‡å¿—ã€‚</p>
<h3 id="ç¤ºä¾‹-1">ç¤ºä¾‹ï¼š</h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
    int num;
    std::cin &gt;&gt; num;

    if (std::cin.fail()) {
        std::cin.clear(); // æ¸…é™¤ failbit
        std::cin.ignore(10000, '\n'); // å¿½ç•¥ç¼“å†²åŒºä¸­çš„éæ³•è¾“å…¥
        std::cout &lt;&lt; "Invalid input. Please enter an integer: ";
        std::cin &gt;&gt; num;
    }

    std::cout &lt;&lt; "You entered: " &lt;&lt; num &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<hr>
<h2 id="é”™è¯¯å¤„ç†ä¸å¼‚å¸¸æœºåˆ¶exception-handling">é”™è¯¯å¤„ç†ä¸å¼‚å¸¸æœºåˆ¶ï¼ˆException Handlingï¼‰</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒC++ æµä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯é€šè¿‡çŠ¶æ€æ ‡å¿—æ¥æŠ¥å‘Šé”™è¯¯ã€‚ä½†ä½ å¯ä»¥é€šè¿‡ <code>exceptions()</code> å‡½æ•°å¯ç”¨å¼‚å¸¸å¤„ç†ã€‚</p>
<h3 id="ç¤ºä¾‹å¯ç”¨å¼‚å¸¸">ç¤ºä¾‹ï¼šå¯ç”¨å¼‚å¸¸</h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;

int main() {
    std::ifstream file("nonexistent.txt");

    // å¯ç”¨å¼‚å¸¸ï¼šå½“æµçŠ¶æ€å˜ä¸º badbit æˆ– failbit æ—¶æŠ›å‡ºå¼‚å¸¸
    file.exceptions(std::ifstream::failbit | std::ifstream::badbit);

    try {
        int value;
        file &gt;&gt; value; // å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ³•è¯»å–ï¼Œå°†æŠ›å‡ºå¼‚å¸¸
    } catch (const std::ios_base::failure&amp; e) {
        std::cerr &lt;&lt; "Caught an exception: " &lt;&lt; e.what() &lt;&lt; '\n';
    }

    return 0;
}
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¯ç”¨å¼‚å¸¸åï¼ŒæŸäº›æ“ä½œï¼ˆå¦‚æ„é€ å¤±è´¥ï¼‰å¯èƒ½ä¸ä¼šè§¦å‘å¼‚å¸¸ã€‚å»ºè®®ç»“åˆ <code>if (!file)</code> è¿›è¡Œæ£€æŸ¥ã€‚</p>
</blockquote>
<h2 id="ä¸‰è¾“å…¥æµ">ä¸‰ã€è¾“å…¥æµ</h2>
<p>åœ¨ C++ ä¸­ï¼Œ<strong>è¾“å…¥æµï¼ˆInput Streamï¼‰</strong> æ˜¯ä¸€ç§ç”¨äºä»æ•°æ®æºè¯»å–æ•°æ®çš„æœºåˆ¶ã€‚C++ çš„æ ‡å‡†åº“æä¾›äº†å¼ºå¤§çš„ I/O æµç±»åº“ï¼Œå…¶ä¸­ä¸è¾“å…¥ç›¸å…³çš„ç±»ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>std::istream</code>ï¼šåŸºæœ¬è¾“å…¥æµç±»ã€‚</li>
<li><code>std::ifstream</code>ï¼šç”¨äºä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚</li>
<li><code>std::istringstream</code>ï¼šç”¨äºä»å­—ç¬¦ä¸²ä¸­è¯»å–æ•°æ®ã€‚</li>
<li><code>std::cin</code>ï¼šæ ‡å‡†è¾“å…¥æµå¯¹è±¡ï¼ˆé€šå¸¸æ¥è‡ªé”®ç›˜ï¼‰ã€‚</li>
</ul>
<p>æ‰€æœ‰è¾“å…¥æµéƒ½ç»§æ‰¿è‡ª <code>std::istream</code> ç±»ã€‚å®ƒçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æä¾›è¯»å–æ“ä½œç¬¦ <code>&gt;&gt;</code> å’Œæˆå‘˜å‡½æ•°å¦‚ <code>get()</code>, <code>getline()</code>, <code>read()</code> ç­‰ã€‚</p>
<h3 id="å¸¸ç”¨è¾“å…¥æµå¯¹è±¡">å¸¸ç”¨è¾“å…¥æµå¯¹è±¡ï¼š</h3>
<table>
<thead>
<tr>
<th>å¯¹è±¡/ç±»</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::cin</code></td>
<td>æ ‡å‡†è¾“å…¥æµï¼Œé»˜è®¤ä»æ§åˆ¶å°è¯»å–</td>
</tr>
<tr>
<td><code>std::ifstream</code></td>
<td>æ–‡ä»¶è¾“å…¥æµ</td>
</tr>
<tr>
<td><code>std::istringstream</code></td>
<td>å­—ç¬¦ä¸²è¾“å…¥æµ</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="å¸¸ç”¨è¾“å…¥æ–¹æ³•">å¸¸ç”¨è¾“å…¥æ–¹æ³•</h3>
<h3 id="1-ä½¿ç”¨-operator-æå–è¿ç®—ç¬¦">1. ä½¿ç”¨ <code>operator &gt;&gt;</code>ï¼ˆæå–è¿ç®—ç¬¦ï¼‰</h3>
<p>è¿™æ˜¯æœ€å¸¸ç”¨çš„è¾“å…¥æ–¹å¼ï¼Œç”¨äºæŒ‰ç±»å‹è¯»å–æ•°æ®ã€‚</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
    int age;
    std::cout &lt;&lt; "Enter your age: ";
    std::cin &gt;&gt; age;
    std::cout &lt;&lt; "You are " &lt;&lt; age &lt;&lt; " years old.\n";
    return 0;
}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>å®ƒä¼šè‡ªåŠ¨è·³è¿‡å‰å¯¼ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€æ¢è¡Œã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰ã€‚</li>
<li>å¦‚æœè¾“å…¥ç±»å‹ä¸åŒ¹é…ï¼ˆæ¯”å¦‚è¾“å…¥å­—æ¯è€Œéæ•°å­—ï¼‰ï¼Œå°†è®¾ç½® <code>failbit</code> æ ‡å¿—ã€‚</li>
</ul>
</blockquote>
<hr>
<h3 id="2-ä½¿ç”¨-get-å‡½æ•°">2. ä½¿ç”¨ <code>get()</code> å‡½æ•°</h3>
<p>ç”¨äºé€ä¸ªæˆ–æ‰¹é‡è¯»å–å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºç™½å­—ç¬¦ï¼‰ã€‚</p>
<h4 id="å•å­—ç¬¦è¯»å–">å•å­—ç¬¦è¯»å–ï¼š</h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
    char ch;
    while (std::cin.get(ch)) {
        std::cout &lt;&lt; ch;
    }
    return 0;
}
</code></pre>
<h4 id="å¤šå­—ç¬¦è¯»å–å¸¦ç¼“å†²åŒº">å¤šå­—ç¬¦è¯»å–ï¼ˆå¸¦ç¼“å†²åŒºï¼‰ï¼š</h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
    char buffer[100];
    std::cin.get(buffer, 100);
    std::cout &lt;&lt; "You entered: " &lt;&lt; buffer &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<blockquote>
<p><code>get()</code> ä¸ä¼šè·³è¿‡ç©ºç™½å­—ç¬¦ï¼Œå¹¶ä¸”ä¸ä¼šè‡ªåŠ¨æ·»åŠ  <code>\0</code> ç»“å°¾ã€‚</p>
</blockquote>
<hr>
<h3 id="3-ä½¿ç”¨-getline-å‡½æ•°">3. ä½¿ç”¨ <code>getline()</code> å‡½æ•°</h3>
<p>ç”¨äºè¯»å–æ•´è¡Œè¾“å…¥ï¼Œç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ã€‚</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
    char buffer[100];
    std::cin.get(buffer, 100);
    std::cout &lt;&lt; "You entered: " &lt;&lt; buffer &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<p>æˆ–è€…ä½¿ç”¨ <code>std::string</code> ç‰ˆæœ¬ï¼š</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;string&gt;

int main() {
    std::string line;
    std::getline(std::cin, line);
    std::cout &lt;&lt; "You entered: " &lt;&lt; line &lt;&lt; std::endl;
    return 0;
}
</code></pre>
<blockquote>
<p><code>getline()</code> æ›´é€‚åˆè¯»å–åŒ…å«ç©ºæ ¼çš„å®Œæ•´å¥å­ã€‚</p>
</blockquote>
<hr>
<h3 id="4-ä½¿ç”¨-read-å‡½æ•°äºŒè¿›åˆ¶æ¨¡å¼">4. ä½¿ç”¨ <code>read()</code> å‡½æ•°ï¼ˆäºŒè¿›åˆ¶æ¨¡å¼ï¼‰</h3>
<p>ç”¨äºä¸€æ¬¡æ€§è¯»å–æŒ‡å®šæ•°é‡çš„å­—èŠ‚ï¼Œå¸¸ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶å¤„ç†ã€‚</p>
<pre><code class="language-cpp">char buffer[100];
std::cin.read(buffer, sizeof(buffer));
std::streamsize count = std::cin.gcount();
std::cout.write(buffer, count); // è¾“å‡ºå·²è¯»å–çš„å†…å®¹
</code></pre>
<h3 id="æ–‡ä»¶è¾“å…¥æµifstream">æ–‡ä»¶è¾“å…¥æµ<code>ifstream</code></h3>
<p><code>std::ifstream</code>ï¼ˆ<strong>input file stream</strong>ï¼‰æ˜¯<strong>æ–‡ä»¶è¾“å…¥æµ</strong>ï¼Œç”¨äºä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œå°±åƒ <code>std::cin</code> ç”¨äºä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€æ ·ã€‚</p>
<p>å®ƒæ˜¯ C++ çš„ IO åº“ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå®šä¹‰åœ¨å¤´æ–‡ä»¶ <code>&lt;fstream&gt;</code> ä¸­ã€‚</p>
<pre><code class="language-cpp">#include &lt;fstream&gt;
</code></pre>
<p>ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼š</p>
<pre><code>std::ios_base
    â†‘
std::ios
    â†‘
std::istream
    â†‘
std::ifstream
</code></pre>
<hr>
<h4 id="å¸¸ç”¨æ„é€ å‡½æ•°">å¸¸ç”¨æ„é€ å‡½æ•°</h4>
<table>
<thead>
<tr>
<th>æ„é€ å‡½æ•°å½¢å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ifstream()</code></td>
<td>åˆ›å»ºæœªæ‰“å¼€ä»»ä½•æ–‡ä»¶çš„æµå¯¹è±¡</td>
</tr>
<tr>
<td><code>ifstream(const char* filename)</code></td>
<td>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å–ï¼Œä½¿ç”¨é»˜è®¤æ¨¡å¼ï¼ˆæ–‡æœ¬æ¨¡å¼ï¼‰</td>
</tr>
<tr>
<td><code>ifstream(const char* filename, ios::openmode mode)</code></td>
<td>æŒ‡å®šæ¨¡å¼æ‰“å¼€æ–‡ä»¶</td>
</tr>
<tr>
<td><code>ifstream(const std::string&amp; filename, ios::openmode mode)</code></td>
<td>ä½¿ç”¨ <code>std::string</code> ä½œä¸ºæ–‡ä»¶å</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="å¸¸è§æ‰“å¼€æ¨¡å¼stdiosopenmode">å¸¸è§æ‰“å¼€æ¨¡å¼ï¼ˆ<code>std::ios::openmode</code>ï¼‰</h4>
<p>ä½ å¯ä»¥ä¼ ç»™ <code>ifstream</code> æ„é€ å‡½æ•°æˆ–è€… <code>open()</code> æ–¹æ³•çš„æ¨¡å¼ï¼š</p>
<table>
<thead>
<tr>
<th>æ¨¡å¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ios::in</code></td>
<td>ä»¥è¯»æ¨¡å¼æ‰“å¼€ï¼ˆé»˜è®¤ï¼‰</td>
</tr>
<tr>
<td><code>ios::binary</code></td>
<td>ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€</td>
</tr>
<tr>
<td><code>ios::ate</code></td>
<td>æ‰“å¼€æ–‡ä»¶å¹¶å®šä½åˆ°æ–‡ä»¶å°¾</td>
</tr>
<tr>
<td><code>ios::app</code></td>
<td>è¿½åŠ æ¨¡å¼ï¼ˆifstream å¾ˆå°‘ç”¨ï¼‰</td>
</tr>
<tr>
<td><code>ios::trunc</code></td>
<td>æ¸…ç©ºæ–‡ä»¶ï¼ˆä»…ç”¨äº ofstreamï¼‰</td>
</tr>
</tbody>
</table>
<p>âš ï¸ æ³¨æ„ï¼š<code>ifstream</code> é»˜è®¤è‡ªå¸¦ <code>ios::in</code>ï¼Œæ‰€ä»¥ä½ ä¸ç”¨æ˜¾å¼åŠ  unless å’Œå…¶ä»–æ¨¡å¼ç»„åˆã€‚</p>
<h4 id="å¸¸è§ç”¨æ³•ç¤ºä¾‹">å¸¸è§ç”¨æ³•ç¤ºä¾‹</h4>
<p>ğŸ”¸ 1. åŸºæœ¬è¯»å–ä¸€æ•´è¡Œ</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;

int main() {
    std::ifstream infile("example.txt");

    if (!infile.is_open()) {
        std::cerr &lt;&lt; "Failed to open file.\n";
        return 1;
    }

    std::string line;
    while (std::getline(infile, line)) {
        std::cout &lt;&lt; "Line: " &lt;&lt; line &lt;&lt; '\n';
    }

    infile.close();
    return 0;
}
</code></pre>
<hr>
<p>ğŸ”¸ 2. æŒ‰å•è¯è¯»å–</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;

int main() {
    std::ifstream infile("example.txt");

    if (!infile.is_open()) {
        std::cerr &lt;&lt; "Failed to open file.\n";
    }

    std::string word;
    while (infile &gt;&gt; word) {
        std::cout &lt;&lt; "Word: " &lt;&lt; word &lt;&lt; '\n';
    }

    infile.close();
    return 0;
}
</code></pre>
<hr>
<p>ğŸ”¸ 3. æŒ‰æ•°å­—è¯»å–</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;

int main() {
    try {
        std::ifstream infile("/home/fxq/untitled3/example.txt");

        if (!infile.is_open()) {
            std::cerr &lt;&lt; "Failed to open file.\n";
        }

        int num;
        while (infile &gt;&gt; num) {
            std::cout &lt;&lt; "Read number: " &lt;&lt; num &lt;&lt; '\n';
        }

        infile.close();
    } catch (const std::runtime_error&amp; e) {
         std::cerr &lt;&lt; "å‘ç”Ÿå¼‚å¸¸: " &lt;&lt; e.what() &lt;&lt;  std::endl;
    }
    return 0;
}
</code></pre>
<hr>
<p>ğŸ”¸ 4. ç”¨ <code>.open()</code> å»¶è¿Ÿæ‰“å¼€</p>
<pre><code class="language-cpp">std::ifstream infile;
infile.open("data.txt");

if (!infile) {
    std::cerr &lt;&lt; "Failed to open.\n";
}
</code></pre>
<h4 id="ç¼“å†²åŒº">ç¼“å†²åŒº</h4>
<p>C++ çš„ <code>std::ifstream</code> é»˜è®¤æ˜¯<strong>å¸¦ç¼“å†²çš„</strong>ï¼Œå…¶åº•å±‚ä½¿ç”¨äº†ä¸€ä¸ª<strong>ç¼“å†²åŒºï¼ˆbufferï¼‰*<em>æ¥ä¼˜åŒ–æ–‡ä»¶è¯»å–æ•ˆç‡ã€‚ä½†ä½ å¯ä»¥*</em>è‡ªå®šä¹‰ç¼“å†²åŒºå¤§å°å’Œå†…å­˜</strong>ï¼Œç”šè‡³è®¾ç½®æˆ<strong>æ— ç¼“å†²</strong>ã€‚ä¸‹é¢æ˜¯è¯¦ç»†è®²è§£ã€‚</p>
<hr>
<h5 id="é»˜è®¤æƒ…å†µä¸‹ifstream-è‡ªå¸¦ç¼“å†²">é»˜è®¤æƒ…å†µä¸‹ï¼š<code>ifstream</code> è‡ªå¸¦ç¼“å†²</h5>
<ul>
<li><code>ifstream</code> ä¼šä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„ç¼“å†²åŒºï¼ˆé€šå¸¸æ˜¯ 4KB æˆ– 8KBï¼‰ã€‚</li>
<li>å½“ä½ è°ƒç”¨ <code>read()</code>ã€<code>getline()</code>ã€<code>operator&gt;&gt;</code> ç­‰å‡½æ•°æ—¶ï¼Œ<strong>æ•°æ®å…ˆè¿›å…¥ç¼“å†²åŒºï¼Œå†ä»ä¸­è§£ææˆ–è¿”å›ç»™ç”¨æˆ·ç¨‹åº</strong>ã€‚</li>
<li>å¥½å¤„æ˜¯ï¼šå‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼Œæé«˜è¯»å–æ€§èƒ½ã€‚</li>
</ul>
<hr>
<h5 id="è‡ªå®šä¹‰ç¼“å†²åŒºrdbuf-pubsetbuf">è‡ªå®šä¹‰ç¼“å†²åŒºï¼š<code>rdbuf()-&gt;pubsetbuf()</code></h5>
<p>ä½ å¯ä»¥è®¾ç½®è‡ªå·±çš„ç¼“å†²åŒºæˆ–å–æ¶ˆç¼“å†²åŒºï¼š</p>
<pre><code class="language-cpp">std::ifstream file("example.txt");
char buffer[4096];  // è‡ªå®šä¹‰ç¼“å†²åŒº

file.rdbuf()-&gt;pubsetbuf(buffer, sizeof(buffer));
</code></pre>
<ul>
<li><code>pubsetbuf(buffer, size)</code>ï¼šè®¾ç½®ç¼“å†²åŒºèµ·å§‹åœ°å€å’Œå¤§å°</li>
<li>åªèƒ½åœ¨ <code>open()</code> ä¹‹å‰è°ƒç”¨ï¼ˆå¯¹å·²æ‰“å¼€æ–‡ä»¶æ— æ•ˆï¼‰</li>
</ul>
<hr>
<h5 id="è®¾ç½®æ— ç¼“å†²æ¨¡å¼å¼ºçƒˆä¸æ¨èé™¤éç‰¹æ®Šéœ€æ±‚">è®¾ç½®æ— ç¼“å†²æ¨¡å¼ï¼ˆ<strong>å¼ºçƒˆä¸æ¨èé™¤éç‰¹æ®Šéœ€æ±‚</strong>ï¼‰</h5>
<pre><code class="language-cpp">file.rdbuf()-&gt;pubsetbuf(nullptr, 0); // ç¦ç”¨ç¼“å†²
</code></pre>
<p>âš ï¸ è¿™ä¼šè®©æ¯ä¸€æ¬¡ <code>read()</code> æˆ– <code>getline()</code> éƒ½å˜æˆç³»ç»Ÿè°ƒç”¨ï¼Œ<strong>æ€§èƒ½ä¼šå¤§å¹…ä¸‹é™</strong>ï¼Œåªåœ¨éœ€è¦æä½å»¶è¿Ÿçš„æ•°æ®äº¤äº’ä¸­æ‰ä½¿ç”¨ï¼ˆå¦‚ä¸²å£é€šä¿¡ç­‰ï¼‰ã€‚</p>
<hr>
<h5 id="å®Œæ•´ç¤ºä¾‹è‡ªå®šä¹‰ç¼“å†²åŒºè¯»å–å¤§æ–‡ä»¶">å®Œæ•´ç¤ºä¾‹ï¼šè‡ªå®šä¹‰ç¼“å†²åŒºè¯»å–å¤§æ–‡ä»¶</h5>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;

int main() {
    // æœ‰é—®é¢˜è¯•ä¸€ä¸‹å…¨è·¯å¾„
    std::ifstream file("example.txt");

    // è‡ªå®šä¹‰ç¼“å†²åŒº
    char custom_buffer[8192];  // 8KB
    file.rdbuf()-&gt;pubsetbuf(custom_buffer, sizeof(custom_buffer));

    if (!file) {
        std::cerr &lt;&lt; "æ‰“å¼€æ–‡ä»¶å¤±è´¥\n";
        return 1;
    }

    std::string line;
    size_t count = 0;
    while (std::getline(file, line)) {
        std::cout &lt;&lt; line &lt;&lt; std::endl;
        ++count;
    }

    std::cout &lt;&lt; "å…±è¯»å–è¡Œæ•°ï¼š" &lt;&lt; count &lt;&lt; "\n";
    file.close();
    return 0;
}
</code></pre>
<hr>
<h5 id="æ¨èåœºæ™¯">æ¨èåœºæ™¯</h5>
<table>
<thead>
<tr>
<th>åœºæ™¯</th>
<th>ç¼“å†²è®¾ç½®å»ºè®®</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤§æ–‡ä»¶ï¼ˆå‡ ç™¾ MB ä»¥ä¸Šï¼‰</td>
<td>è‡ªå®šä¹‰å¤§ç¼“å†²åŒºï¼ˆå¦‚ 64KBï¼‰</td>
</tr>
<tr>
<td>å°æ–‡ä»¶ / ä¸€æ¬¡æ€§è¯»å–</td>
<td>é»˜è®¤ç¼“å†²å³å¯</td>
</tr>
<tr>
<td>å®æ—¶è¯»å–ï¼ˆå¦‚ä¸²å£ï¼‰</td>
<td><code>pubsetbuf(nullptr, 0)</code></td>
</tr>
<tr>
<td>å¤šçº¿ç¨‹è¯»å–ï¼ˆå°‘è§ï¼‰</td>
<td>æ¯çº¿ç¨‹ç‹¬ç«‹ç¼“å†²åŒº</td>
</tr>
</tbody>
</table>
<h2 id="å­—ç¬¦ä¸²è¾“å…¥æµistringstream">å­—ç¬¦ä¸²è¾“å…¥æµï¼ˆistringstreamï¼‰</h2>
<p>ç”¨äºä»å­—ç¬¦ä¸²ä¸­è§£ææ•°æ®ï¼Œå¸¸ç”¨äºå­—ç¬¦ä¸²æ‹†åˆ†å’Œæ ¼å¼è½¬æ¢ã€‚</p>
<pre><code class="language-cpp">#include &lt;sstream&gt;
#include &lt;iostream&gt;

int main() {
    std::string data = "John 25 85.5";
    std::istringstream iss(data);

    std::string name;
    int age;
    double score;

    iss &gt;&gt; name &gt;&gt; age &gt;&gt; score;
    std::cout &lt;&lt; name &lt;&lt; ", " &lt;&lt; age &lt;&lt; ", " &lt;&lt; score &lt;&lt; std::endl;

    return 0;
}
</code></pre>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&gt;&gt;</code></td>
<td>æå–æ•°æ®ï¼Œè‡ªåŠ¨è·³è¿‡ç©ºç™½ï¼Œç±»å‹å®‰å…¨</td>
</tr>
<tr>
<td><code>get()</code></td>
<td>è¯»å–å­—ç¬¦ï¼ˆå«ç©ºç™½ï¼‰</td>
</tr>
<tr>
<td><code>getline()</code></td>
<td>è¯»å–ä¸€è¡Œï¼ˆæ¨èç”¨äºæ•´è¡Œè¾“å…¥ï¼‰</td>
</tr>
<tr>
<td><code>read()</code></td>
<td>è¯»å–äºŒè¿›åˆ¶æ•°æ®</td>
</tr>
<tr>
<td><code>gcount()</code></td>
<td>è·å–æœ€åä¸€æ¬¡è¯»å–çš„å­—ç¬¦æ•°</td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>æ¸…é™¤é”™è¯¯çŠ¶æ€</td>
</tr>
<tr>
<td><code>ignore()</code></td>
<td>å¿½ç•¥ç¼“å†²åŒºä¸­çš„æ— æ•ˆå­—ç¬¦</td>
</tr>
</tbody>
</table>
<h2 id="å››è¾“å‡ºæµ">å››ã€è¾“å‡ºæµ</h2>
<p>è¾“å‡ºæµæ˜¯ C++ I/O åº“ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œç”¨äº<strong>å‘å¤–éƒ¨ç›®æ ‡è¾“å‡ºæ•°æ®</strong>ï¼Œç›®æ ‡å¯ä»¥æ˜¯ï¼š</p>
<ul>
<li>æ§åˆ¶å°ï¼ˆæ ‡å‡†è¾“å‡º <code>std::cout</code>ï¼‰</li>
<li>æ–‡ä»¶ï¼ˆ<code>std::ofstream</code>ï¼‰</li>
<li>å­—ç¬¦ä¸²ï¼ˆ<code>std::ostringstream</code>ï¼‰</li>
<li>è‡ªå®šä¹‰è®¾å¤‡ï¼ˆå¦‚ç½‘ç»œã€GUI ç­‰ï¼‰</li>
</ul>
<pre><code class="language-cpp">std::ios_base
  â””â”€â”€ std::ios
        â””â”€â”€ std::ostream      // è¾“å‡ºæµåŸºç±»
              â”œâ”€â”€ std::ofstream       // æ–‡ä»¶è¾“å‡ºæµ
              â”œâ”€â”€ std::ostringstream  // å­—ç¬¦ä¸²è¾“å‡ºæµ
              â””â”€â”€ std::iostream       // åŒæ—¶æ”¯æŒè¾“å…¥è¾“å‡º
</code></pre>
<hr>
<h3 id="å¸¸è§è¾“å‡ºæµç±»å‹">å¸¸è§è¾“å‡ºæµç±»å‹</h3>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>åŠŸèƒ½</th>
<th>å¤´æ–‡ä»¶</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::ostream</code></td>
<td>æ‰€æœ‰è¾“å‡ºæµçš„åŸºç±»</td>
<td><code>&lt;ostream&gt;</code></td>
</tr>
<tr>
<td><code>std::cout</code></td>
<td>æ ‡å‡†è¾“å‡ºæµï¼ˆæ§åˆ¶å°ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
<tr>
<td><code>std::cerr</code></td>
<td>é”™è¯¯è¾“å‡ºæµï¼ˆæ— ç¼“å†²ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
<tr>
<td><code>std::clog</code></td>
<td>æ—¥å¿—è¾“å‡ºæµï¼ˆæœ‰ç¼“å†²ï¼‰</td>
<td><code>&lt;iostream&gt;</code></td>
</tr>
<tr>
<td><code>std::ofstream</code></td>
<td>æ–‡ä»¶è¾“å‡ºæµ</td>
<td><code>&lt;fstream&gt;</code></td>
</tr>
<tr>
<td><code>std::ostringstream</code></td>
<td>å­—ç¬¦ä¸²è¾“å‡ºæµ</td>
<td><code>&lt;sstream&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="å¸¸è§è¾“å‡ºå‡½æ•°">å¸¸è§è¾“å‡ºå‡½æ•°</h3>
<table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>åŠŸèƒ½è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>operator&lt;&lt;</code></td>
<td>æ ¼å¼åŒ–è¾“å‡º</td>
<td><code>os &lt;&lt; x</code></td>
</tr>
<tr>
<td><code>put(char)</code></td>
<td>è¾“å‡ºä¸€ä¸ªå­—ç¬¦</td>
<td><code>os.put('A')</code></td>
</tr>
<tr>
<td><code>write(char*, size_t)</code></td>
<td>è¾“å‡ºå­—èŠ‚æµï¼ˆé€šå¸¸ç”¨äºäºŒè¿›åˆ¶ï¼‰</td>
<td><code>os.write(buf, n)</code></td>
</tr>
<tr>
<td><code>flush()</code></td>
<td>åˆ·æ–°ç¼“å†²åŒºï¼Œå¼ºåˆ¶è¾“å‡º</td>
<td><code>os.flush()</code></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="æ ¼å¼åŒ–æ§åˆ¶ä½¿ç”¨-stdiomanip">æ ¼å¼åŒ–æ§åˆ¶ï¼ˆä½¿ç”¨ <code>std::iomanip</code>ï¼‰</h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;iomanip&gt;
int main() {
    double pi = 3.14159265;
    std::cout &lt;&lt; std::fixed &lt;&lt; std::setprecision(2) &lt;&lt; pi &lt;&lt; std::endl; // è¾“å‡º 3.14
}
</code></pre>
<table>
<thead>
<tr>
<th>æ§åˆ¶ç¬¦</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::setw(n)</code></td>
<td>è®¾ç½®å­—æ®µå®½åº¦</td>
</tr>
<tr>
<td><code>std::setfill(c)</code></td>
<td>è®¾ç½®å¡«å……å­—ç¬¦</td>
</tr>
<tr>
<td><code>std::setprecision(n)</code></td>
<td>è®¾ç½®æµ®ç‚¹æ•°ç²¾åº¦</td>
</tr>
<tr>
<td><code>std::fixed</code></td>
<td>å›ºå®šå°æ•°ä½æ ¼å¼</td>
</tr>
<tr>
<td><code>std::scientific</code></td>
<td>ç§‘å­¦è®¡æ•°æ³•æ ¼å¼</td>
</tr>
<tr>
<td><code>std::hex</code>/<code>std::dec</code>/<code>std::oct</code></td>
<td>è®¾ç½®æ•´æ•°è¿›åˆ¶</td>
</tr>
<tr>
<td><code>std::left</code> / <code>std::right</code> / <code>std::internal</code></td>
<td>å¯¹é½æ–¹å¼</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="æ–‡ä»¶è¾“å‡ºæµstdofstreamç¤ºä¾‹">æ–‡ä»¶è¾“å‡ºæµï¼ˆ<code>std::ofstream</code>ï¼‰ç¤ºä¾‹</h3>
<pre><code class="language-cpp">#include &lt;fstream&gt;
int main() {
    std::ofstream ofs("output.txt");
    if (!ofs) {
        std::cerr &lt;&lt; "æ— æ³•æ‰“å¼€æ–‡ä»¶ï¼" &lt;&lt; std::endl;
        return 1;
    }
    ofs &lt;&lt; "å†™å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡Œ" &lt;&lt; std::endl;
    ofs.close();
}
</code></pre>
<hr>
<h3 id="å­—ç¬¦ä¸²è¾“å‡ºæµstdostringstream">å­—ç¬¦ä¸²è¾“å‡ºæµï¼ˆ<code>std::ostringstream</code>ï¼‰</h3>
<pre><code class="language-cpp">#include &lt;sstream&gt;
#include &lt;iostream&gt;
int main() {
    std::ostringstream oss;
    oss &lt;&lt; "Name: " &lt;&lt; "Alice" &lt;&lt; ", Age: " &lt;&lt; 30;

    std::string result = oss.str(); // è·å–å†™å…¥çš„å­—ç¬¦ä¸²
    std::cout &lt;&lt; "å­—ç¬¦ä¸²æµç»“æœ: " &lt;&lt; result &lt;&lt; std::endl;
}
</code></pre>
<h3 id="è¾“å‡ºæµçš„ç¼“å†²åˆ·æ–°æœºåˆ¶">è¾“å‡ºæµçš„ç¼“å†²åˆ·æ–°æœºåˆ¶</h3>
<ul>
<li>ä¼šè‡ªåŠ¨åˆ·æ–°ç¼“å†²åŒºçš„æƒ…å†µï¼š
<ul>
<li><code>std::endl</code>ï¼šè¾“å‡ºæ¢è¡Œå¹¶åˆ·æ–°</li>
<li><code>flush()</code> æ‰‹åŠ¨åˆ·æ–°</li>
<li>ç¼“å†²åŒºæ»¡æ—¶è‡ªåŠ¨åˆ·æ–°</li>
<li>ç¨‹åºæ­£å¸¸é€€å‡ºæ—¶è‡ªåŠ¨åˆ·æ–°</li>
<li><code>std::cerr</code> æ˜¯<strong>æ— ç¼“å†²</strong>çš„</li>
</ul>
</li>
</ul>
<h2 id="äº”é‡å®šå‘æµ">äº”ã€é‡å®šå‘æµ</h2>
<p>C++ ä¸­æµçš„é‡å®šå‘ï¼ˆredirectï¼‰æ˜¯æŒ‡æ”¹å˜æ ‡å‡†è¾“å…¥è¾“å‡ºæµï¼ˆå¦‚ <code>std::cout</code>ã€<code>std::cin</code>ï¼‰çš„ç›®æ ‡ï¼Œ<strong>ä½¿å®ƒä»¬æŒ‡å‘å…¶ä»–è®¾å¤‡ï¼ˆå¦‚æ–‡ä»¶ã€å­—ç¬¦ä¸²ã€ç½‘ç»œç­‰ï¼‰</strong>ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„æ§åˆ¶å°ï¼ˆç»ˆç«¯ï¼‰ã€‚è¿™å¯¹äºæ—¥å¿—ä¿å­˜ã€æµ‹è¯•ã€æ•è·è¾“å‡ºéƒ½éå¸¸æœ‰ç”¨ã€‚</p>
<hr>
<h3 id="é‡å®šå‘-stdcoutstdcerr-åˆ°æ–‡ä»¶">é‡å®šå‘ <code>std::cout</code>ã€<code>std::cerr</code> åˆ°æ–‡ä»¶</h3>
<p>æ–¹æ³•ï¼šä¿®æ”¹æµç¼“å†²åŒºï¼ˆ<code>streambuf</code>ï¼‰</p>
<p><code>std::cout</code> ç­‰æµå¯¹è±¡å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªç¼“å†²åŒºæŒ‡é’ˆ <code>rdbuf()</code>ï¼Œé€šè¿‡æ›¿æ¢å®ƒï¼Œæˆ‘ä»¬å¯ä»¥è®©è¾“å‡ºå†™åˆ°åˆ«å¤„ã€‚</p>
<hr>
<h4 id="ä»£ç ç¤ºä¾‹æŠŠ-stdcout-é‡å®šå‘åˆ°æ–‡ä»¶">ä»£ç ç¤ºä¾‹ï¼šæŠŠ <code>std::cout</code> é‡å®šå‘åˆ°æ–‡ä»¶</h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;

int main() {
    std::ofstream file("example.txt");
    if (!file) {
        std::cerr &lt;&lt; "æ‰“å¼€æ–‡ä»¶å¤±è´¥ï¼" &lt;&lt; std::endl;
        return 1;
    }

    // å¤‡ä»½åŸ cout ç¼“å†²åŒºæŒ‡é’ˆ
    std::streambuf* old_cout_buf = std::cout.rdbuf();

    // å°† cout ç¼“å†²åŒºæŒ‡å‘æ–‡ä»¶æµçš„ç¼“å†²åŒº
    std::cout.rdbuf(file.rdbuf());

    // ç°åœ¨æ‰€æœ‰ cout è¾“å‡ºå†™å…¥æ–‡ä»¶
    std::cout &lt;&lt; "è¿™è¡Œå†™å…¥äº† example.txt æ–‡ä»¶" &lt;&lt; std::endl;

    // æ¢å¤åŸæ¥çš„ç¼“å†²åŒºï¼ˆè¾“å‡ºå›ç»ˆç«¯ï¼‰
    std::cout.rdbuf(old_cout_buf);

    std::cout &lt;&lt; "è¿™è¡Œåˆè¾“å‡ºåˆ°ç»ˆç«¯äº†" &lt;&lt; std::endl;

    return 0;
}
</code></pre>
<hr>
<h3 id="é‡å®šå‘-stdcin-ä»æ–‡ä»¶è¯»å–">é‡å®šå‘ <code>std::cin</code> ä»æ–‡ä»¶è¯»å–</h3>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;

int main() {
    std::ifstream file("/home/fxq/untitled3/example.txt");
    if (!file) {
        std::cerr &lt;&lt; "æ‰“å¼€æ–‡ä»¶å¤±è´¥ï¼" &lt;&lt; std::endl;
        return 1;
    }

    // å¤‡ä»½åŸ cin ç¼“å†²åŒºæŒ‡é’ˆ
    std::streambuf* old_cin_buf = std::cin.rdbuf();

    // å°† cin ç¼“å†²åŒºæŒ‡å‘æ–‡ä»¶æµ
    std::cin.rdbuf(file.rdbuf());

    std::string line;
    std::getline(std::cin, line);
    std::cout &lt;&lt; "ä»æ–‡ä»¶è¯»å–çš„å†…å®¹: " &lt;&lt; line &lt;&lt; std::endl;

    // æ¢å¤åŸç¼“å†²åŒº
    std::cin.rdbuf(old_cin_buf);

    return 0;
}
</code></pre>
<hr>
<h3 id="é‡å®šå‘æµåˆ°å­—ç¬¦ä¸²å†…å­˜">é‡å®šå‘æµåˆ°å­—ç¬¦ä¸²ï¼ˆå†…å­˜ï¼‰</h3>
<p>å¯ä»¥ç”¨ <code>std::stringstream</code>ï¼š</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;sstream&gt;

int main() {
    std::stringstream ss;
    
    // é‡å®šå‘ cout åˆ° stringstream
    std::streambuf* old_buf = std::cout.rdbuf(ss.rdbuf());

    std::cout &lt;&lt; "Hello, å†…å­˜æµï¼" &lt;&lt; std::endl;

    // æ¢å¤ cout
    std::cout.rdbuf(old_buf);

    // è·å–å†™å…¥çš„å­—ç¬¦ä¸²
    std::string captured = ss.str();
    std::cout &lt;&lt; "æ•è·çš„å­—ç¬¦ä¸²å†…å®¹æ˜¯: " &lt;&lt; captured &lt;&lt; std::endl;

    return 0;
}
</code></pre>
<hr>
<h3 id="æ€»ç»“é‡å®šå‘å…³é”®ç‚¹">æ€»ç»“é‡å®šå‘å…³é”®ç‚¹</h3>
<table>
<thead>
<tr>
<th>æ“ä½œæ­¥éª¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¿å­˜æ—§ç¼“å†²åŒºæŒ‡é’ˆ</td>
<td><code>std::streambuf* old_buf = stream.rdbuf();</code></td>
</tr>
<tr>
<td>æ›¿æ¢ç¼“å†²åŒºæŒ‡é’ˆ</td>
<td><code>stream.rdbuf(new_stream.rdbuf());</code></td>
</tr>
<tr>
<td>ä½¿ç”¨æ–°çš„æµè¿›è¡Œè¾“å…¥è¾“å‡º</td>
<td>è¾“å‡ºä¼šé‡å®šå‘åˆ°æ–°æµ</td>
</tr>
<tr>
<td>æ¢å¤åŸç¼“å†²åŒºæŒ‡é’ˆ</td>
<td><code>stream.rdbuf(old_buf);</code></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="è¡¥å……å‘½ä»¤è¡Œé‡å®šå‘">è¡¥å……ï¼šå‘½ä»¤è¡Œé‡å®šå‘</h3>
<p>æ“ä½œç³»ç»Ÿå±‚é¢ä¹Ÿæ”¯æŒé‡å®šå‘ï¼Œä¸ç”¨ä»£ç å®ç°ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="language-bash">./program &gt; output.txt  # é‡å®šå‘ stdout
./program &lt; input.txt   # é‡å®šå‘ stdin
./program 2&gt; error.log  # é‡å®šå‘ stderr
</code></pre>
<hr>
<h2 id="_"></h2>

</div>
<div id="MySignature" role="contentinfo">
    <p>æœªç»ä½œè€…åŒæ„è¯·å‹¿è½¬è½½</p>
<p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ä½œè€…ï¼š<a href="https://www.cnblogs.com/aslanvon/" target="_blank">aixueforever</a>ï¼ŒåŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/aslanvon/p/18959951" target="_blank">https://www.cnblogs.com/aslanvon/p/18959951</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-07-01 17:08">2025-07-01 17:07</span>&nbsp;
<a href="https://www.cnblogs.com/aslanvon">aixueforever</a>&nbsp;
é˜…è¯»(<span id="post_view_count">61</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18959951);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18959951', targetLink: 'https://www.cnblogs.com/aslanvon/p/18959951', title: 'C++ æµ' })">ä¸¾æŠ¥</a>
</div>
        