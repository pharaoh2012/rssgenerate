
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/aslanvon/p/18944922" title="å‘å¸ƒäº 2025-06-23 19:22">
    <span role="heading" aria-level="2">STLï¼šè¿­ä»£å™¨ä¸å¸¸ç”¨ç®—æ³•</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="è¿­ä»£å™¨">è¿­ä»£å™¨</h1>
<p>C++ STLï¼ˆStandard Template Libraryï¼Œæ ‡å‡†æ¨¡æ¿åº“ï¼‰ä¸­<strong>è¿­ä»£å™¨</strong>ä¸<strong>å¸¸ç”¨ç®—æ³•</strong>æ˜¯æ³›å‹ç¼–ç¨‹çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚å®ƒä»¬é…åˆä½¿ç”¨ï¼Œå¯ä»¥å¯¹å®¹å™¨è¿›è¡Œé«˜æ•ˆã€ç»Ÿä¸€çš„æ“ä½œã€‚ä¸‹é¢æ˜¯å¯¹å®ƒä»¬çš„ç³»ç»Ÿæ€§æ€»ç»“ã€‚</p>
<hr>
<h2 id="ä¸€ä»€ä¹ˆæ˜¯è¿­ä»£å™¨iterator">ä¸€ã€ä»€ä¹ˆæ˜¯è¿­ä»£å™¨ï¼ˆIteratorï¼‰</h2>
<p><strong>è¿­ä»£å™¨</strong>æ˜¯ STL çš„æ ¸å¿ƒï¼Œç”¨äºè®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ã€‚è¿­ä»£å™¨æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§â€œå¹¿ä¹‰çš„æŒ‡é’ˆâ€ï¼Œå®ƒæä¾›äº†ç»Ÿä¸€çš„æ–¹å¼æ¥è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ã€‚</p>
<h3 id="åŠŸèƒ½åŒ…æ‹¬">åŠŸèƒ½åŒ…æ‹¬ï¼š</h3>
<ul>
<li><strong>è®¿é—®</strong>å…ƒç´ ï¼šé€šè¿‡ <code>*it</code> è¯»å–å…ƒç´ </li>
<li><strong>éå†</strong>å…ƒç´ ï¼šä½¿ç”¨ <code>++it</code>ã€<code>--it</code>ã€<code>it + n</code> ç­‰</li>
<li><strong>ä¿®æ”¹</strong>å…ƒç´ ï¼ˆå¯¹äºé const è¿­ä»£å™¨ï¼‰</li>
</ul>
<hr>
<h2 id="äºŒè¿­ä»£å™¨çš„åˆ†ç±»äº”ç§ç±»å‹">äºŒã€è¿­ä»£å™¨çš„åˆ†ç±»ï¼ˆäº”ç§ç±»å‹ï¼‰</h2>
<p>STL ä¸­çš„è¿­ä»£å™¨æŒ‰åŠŸèƒ½åˆ†ä¸ºäº”ç§ç±»å‹ï¼Œå®šä¹‰åœ¨ <code>&lt;iterator&gt;</code> ä¸­ï¼š</p>
<ol>
<li><strong>è¾“å…¥è¿­ä»£å™¨ï¼ˆInput Iteratorï¼‰</strong>ï¼šåªèƒ½è¿›è¡Œå•æ¬¡è¯»å–æ“ä½œï¼Œä¸èƒ½è¿›è¡Œå†™å…¥æ“ä½œã€‚</li>
<li><strong>è¾“å‡ºè¿­ä»£å™¨ï¼ˆOutput Iteratorï¼‰</strong>ï¼šåªèƒ½è¿›è¡Œå•æ¬¡å†™å…¥æ“ä½œï¼Œä¸èƒ½è¿›è¡Œè¯»å–æ“ä½œã€‚</li>
<li><strong>æ­£å‘è¿­ä»£å™¨ï¼ˆForward Iteratorï¼‰</strong>ï¼šå¯ä»¥è¿›è¡Œè¯»å–å’Œå†™å…¥æ“ä½œï¼Œå¹¶ä¸”å¯ä»¥å‘å‰ç§»åŠ¨ã€‚</li>
<li><strong>åŒå‘è¿­ä»£å™¨ï¼ˆBidirectional Iteratorï¼‰</strong>ï¼šé™¤äº†å¯ä»¥è¿›è¡Œæ­£å‘è¿­ä»£å™¨çš„æ‰€æœ‰æ“ä½œå¤–ï¼Œè¿˜å¯ä»¥å‘åç§»åŠ¨ã€‚</li>
<li><strong>éšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆRandom Access Iteratorï¼‰</strong>ï¼šé™¤äº†å¯ä»¥è¿›è¡ŒåŒå‘è¿­ä»£å™¨çš„æ‰€æœ‰æ“ä½œå¤–ï¼Œè¿˜å¯ä»¥è¿›è¡Œéšæœºè®¿é—®ï¼Œä¾‹å¦‚é€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç´ ã€‚</li>
</ol>
<p>ğŸ“Œ <strong>è®°å¿†æŠ€å·§</strong>ï¼šæ¯ç±»è¿­ä»£å™¨æ˜¯å¯¹ä¸Šä¸€çº§çš„æ‰©å±•ã€‚</p>
<h2 id="ä¸‰è¿­ä»£å™¨åŸºæœ¬æ“ä½œ">ä¸‰ã€è¿­ä»£å™¨åŸºæœ¬æ“ä½œ</h2>
<p>ä»¥ <code>vector&lt;int&gt;</code> ä¸ºä¾‹ï¼š</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;

int main() {
    // åˆ›å»ºä¸€ä¸ª vector å®¹å™¨å¹¶åˆå§‹åŒ–
    std::vector&lt;int&gt; vec = {1, 2, 3, 4, 5};

    // ä½¿ç”¨è¿­ä»£å™¨éå† vector
    for (std::vector&lt;int&gt;::iterator it = vec.begin(); it != vec.end(); ++it) {
        std::cout &lt;&lt; *it &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl;

    // ä½¿ç”¨ auto å…³é”®å­—ç®€åŒ–è¿­ä»£å™¨ç±»å‹
    for (auto it = vec.begin(); it != vec.end(); ++it) {
        std::cout &lt;&lt; *it &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl;

    // ä½¿ç”¨ C++11 èŒƒå›´ for å¾ªç¯
    for (int elem : vec) {
        std::cout &lt;&lt; elem &lt;&lt; " ";
    }
    std::cout &lt;&lt; std::endl;

    return 0;
}
</code></pre>
<hr>
<h2 id="å››const_iterator-ä¸-reverse_iterator">å››ã€const_iterator ä¸ reverse_iterator</h2>
<p><code>const_iterator</code> å’Œ <code>reverse_iterator</code> æ˜¯C++æ ‡å‡†åº“ä¸­æä¾›çš„ä¸¤ç§è¿­ä»£å™¨ç±»å‹ï¼Œå®ƒä»¬ç”¨äºéå†å®¹å™¨ï¼ˆå¦‚vectorã€listã€mapç­‰ï¼‰ä¸­çš„å…ƒç´ ï¼Œä½†å„è‡ªæœ‰ä¸åŒçš„ç”¨é€”å’Œè¡Œä¸ºã€‚</p>
<h3 id="const_iterator">const_iterator</h3>
<p><code>const_iterator</code> æ˜¯ä¸€ç§ä¸èƒ½ç”¨æ¥ä¿®æ”¹å…¶æ‰€æŒ‡å‘å…ƒç´ å€¼çš„è¿­ä»£å™¨ã€‚</p>
<ul>
<li>
<p><strong>å£°æ˜æ–¹å¼</strong>ï¼šé€šå¸¸ï¼Œå®¹å™¨ç±»æä¾›äº†ä¸€ä¸ªåä¸º <code>cbegin()</code> å’Œ <code>cend()</code> çš„æˆå‘˜å‡½æ•°æ¥è¿”å›ä¸€ä¸ª <code>const_iterator</code>ï¼Œå³ä½¿åœ¨éconstå¯¹è±¡ä¸Šè°ƒç”¨è¿™äº›æ–¹æ³•ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; vec = {1, 2, 3, 4};
for (std::vector&lt;int&gt;::const_iterator it = vec.cbegin(); it != vec.cend(); ++it) {
    // *it = 10; // é”™è¯¯ï¼Œæ— æ³•é€šè¿‡ const_iterator ä¿®æ”¹å€¼
    std::cout &lt;&lt; *it &lt;&lt; " ";
}
</code></pre>
</li>
</ul>
<h3 id="reverse_iterator">reverse_iterator</h3>
<p><code>reverse_iterator</code> åˆ™æ˜¯ä¸€ç§å…è®¸ä»å®¹å™¨æœ«å°¾å‘å¤´éƒ¨è¿›è¡Œéå†çš„è¿­ä»£å™¨ã€‚</p>
<ul>
<li>
<p><strong>å£°æ˜æ–¹å¼</strong>ï¼šå®¹å™¨ç±»æä¾›äº†åä¸º <code>rbegin()</code> å’Œ <code>rend()</code> çš„æˆå‘˜å‡½æ•°æ¥è·å– <code>reverse_iterator</code>ï¼Œåˆ†åˆ«æŒ‡å‘å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ å’Œç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰çš„ä½ç½®ã€‚</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; vec = {1, 2, 3, 4};
for (std::vector&lt;int&gt;::reverse_iterator rit = vec.rbegin(); rit != vec.rend(); ++rit) {
    std::cout &lt;&lt; *rit &lt;&lt; " "; // è¾“å‡ºå°†æ˜¯ 4 3 2 1
}

for (std::vector&lt;int&gt;::const_reverse_iterator rit = vec.rbegin(); rit != vec.rend(); ++rit) {
    std::cout &lt;&lt; *rit &lt;&lt; " "; // è¾“å‡ºå°†æ˜¯ 4 3 2 1
}
</code></pre>
</li>
</ul>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<ul>
<li>ä½¿ç”¨ <code>const_iterator</code> æ¥ç¡®ä¿ä½ åªèƒ½è¯»å–è€Œä¸èƒ½ä¿®æ”¹å®¹å™¨ä¸­çš„æ•°æ®ã€‚</li>
<li>ä½¿ç”¨ <code>reverse_iterator</code> å½“ä½ éœ€è¦ä»¥é€†åºçš„æ–¹å¼éå†å®¹å™¨çš„å†…å®¹æ—¶ã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œè¿˜æœ‰ <code>const_reverse_iterator</code> ç±»å‹ï¼Œå®ƒæ˜¯ <code>reverse_iterator</code> çš„å¸¸é‡ç‰ˆæœ¬ï¼Œæ—¢ä¸å…è®¸ä¿®æ”¹å®¹å™¨ä¸­çš„å…ƒç´ ä¹Ÿä¸å…è®¸é€šè¿‡å®ƒæ”¹å˜å®¹å™¨çš„å¤§å°ã€‚è¿™ç§ç±»å‹çš„è¿­ä»£å™¨å¯ä»¥é€šè¿‡å®¹å™¨çš„ <code>crbegin()</code> å’Œ <code>crend()</code> æˆå‘˜å‡½æ•°è·å¾—ã€‚</p>
<h2 id="äº”ä¸-stl-ç®—æ³•ç»“åˆä½¿ç”¨">äº”ã€ä¸ STL ç®—æ³•ç»“åˆä½¿ç”¨</h2>
<p>æ‰€æœ‰ <code>&lt;algorithm&gt;</code> ç®—æ³•éƒ½åŸºäºè¿­ä»£å™¨è®¾è®¡ï¼š</p>
<pre><code class="language-cpp">#include &lt;algorithm&gt;
std::vector&lt;int&gt; v = {5, 2, 8, 1};

std::sort(v.begin(), v.end());  // ä»å°åˆ°å¤§æ’åº
auto it = std::find(v.begin(), v.end(), 2);  // æŸ¥æ‰¾å€¼ä¸º2çš„å…ƒç´ 
std::reverse(v.begin(), v.end());  // åè½¬
</code></pre>
<hr>
<h2 id="å…­è¿­ä»£å™¨å¤±æ•ˆinvalidation">å…­ã€è¿­ä»£å™¨å¤±æ•ˆï¼ˆInvalidationï¼‰</h2>
<p>è¿­ä»£å™¨å¤±æ•ˆï¼ˆ<strong>Iterator Invalidation</strong>ï¼‰æ˜¯ C++ ç¼–ç¨‹ä¸­ä¸€ä¸ªéå¸¸é‡è¦ä½†å¸¸è¢«å¿½è§†çš„æ¦‚å¿µã€‚å¦‚æœå¯¹å®ƒä¸äº†è§£ï¼Œç¨‹åº<strong>å¯èƒ½ç¼–è¯‘é€šè¿‡ä½†è¿è¡Œå´©æºƒæˆ–è¡Œä¸ºå¼‚å¸¸</strong>ï¼Œæ˜¯è°ƒè¯•ä¸­éå¸¸æ£˜æ‰‹çš„ä¸€ç±»é”™è¯¯ã€‚<strong>STL è¿­ä»£å™¨æ˜¯å¯¹åœ°å€çš„å°è£…ï¼Œåœ°å€å˜äº†ï¼Œè¿­ä»£å™¨å°±å¤±æ•ˆäº†</strong>ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<h3 id="ä»€ä¹ˆæ˜¯è¿­ä»£å™¨å¤±æ•ˆ">ä»€ä¹ˆæ˜¯è¿­ä»£å™¨å¤±æ•ˆ</h3>
<blockquote>
<p><strong>è¿­ä»£å™¨å¤±æ•ˆ</strong>æŒ‡çš„æ˜¯ï¼šå½“ä½ å¯¹å®¹å™¨åšæŸäº›æ“ä½œï¼ˆå¦‚æ’å…¥ã€åˆ é™¤ã€é‡æ’ï¼‰ä¹‹åï¼Œ<strong>å·²æœ‰çš„è¿­ä»£å™¨ã€å¼•ç”¨æˆ–æŒ‡é’ˆå˜å¾—ä¸å†æœ‰æ•ˆ</strong>ï¼Œå†ä½¿ç”¨å®ƒä»¬å°±ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼ˆUBï¼‰ã€‚</p>
<p>è¿­ä»£å™¨æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªâ€œå°è£…äº†è®¿é—®å®¹å™¨ä¸­æŸä¸ªå…ƒç´ ä¿¡æ¯â€çš„å¯¹è±¡ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªè£¸æŒ‡é’ˆã€ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå°è£…æŒ‡é’ˆå’ŒçŠ¶æ€çš„ç±»ã€‚</p>
<p>å¦‚æœå…ƒç´ è¢«<strong>é”€æ¯</strong>äº†ï¼ˆå¦‚ <code>erase()</code>ï¼‰ é‚£ä¹ˆè¿­ä»£å™¨å°±æŒ‡å‘ä¸€å—<strong>æ— æ•ˆå†…å­˜</strong>ï¼›<br>
å¦‚æœå…ƒç´ è¢«<strong>æ¬ç§»äº†</strong>ï¼ˆå¦‚ <code>vector::insert()</code>ï¼‰é‚£ä¹ˆè¿­ä»£å™¨é‡Œçš„åœ°å€å°±<strong>è¿‡æ—¶äº†ï¼›</strong><br>
å¦‚æœç»“æ„è¢«<strong>é‡æ„</strong>ï¼ˆå¦‚ <code>unordered_map</code> çš„ rehashï¼‰ é‚£ä¹ˆè¿­ä»£å™¨æŒ‡å‘çš„æ¡¶æˆ–èŠ‚ç‚¹è¢«æ¢æ‰äº†ï¼›</p>
<p>æ¢å¥è¯è¯´ï¼š</p>
<p><strong>å¤±æ•ˆçš„è¿­ä»£å™¨ = ä»ç„¶ä¿å­˜ç€åŸå§‹è®¿é—®ä¿¡æ¯ï¼Œä½†è¿™ä¸ªä¿¡æ¯å·²ç»ä¸å†ä¸å®¹å™¨åŒæ­¥</strong></p>
</blockquote>
<h3 id="å“ªäº›å®¹å™¨å®¹æ˜“å¤±æ•ˆ">å“ªäº›å®¹å™¨å®¹æ˜“å¤±æ•ˆ</h3>
<table>
<thead>
<tr>
<th>å®¹å™¨</th>
<th>å¢åˆ å…ƒç´ æ˜¯å¦å¯èƒ½å¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vector</code>, <code>deque</code>, <code>string</code></td>
<td><strong>æ’å…¥ã€åˆ é™¤ã€realloc åè¿­ä»£å™¨ä¼šå¤±æ•ˆ</strong></td>
</tr>
<tr>
<td><code>list</code>, <code>forward_list</code></td>
<td>æ’å…¥ä¸ä¼šå¤±æ•ˆï¼Œ<strong>åˆ é™¤å¯¹åº”å…ƒç´ ä¼šå¯¼è‡´è¯¥å…ƒç´ çš„è¿­ä»£å™¨å¤±æ•ˆ</strong></td>
</tr>
<tr>
<td><code>set</code>, <code>map</code>, <code>unordered_set</code>, <code>unordered_map</code></td>
<td>æ’å…¥ä¸ä¼šä½¿å·²æœ‰è¿­ä»£å™¨å¤±æ•ˆï¼Œä½†<strong>åˆ é™¤æŸä¸ªå…ƒç´ ä¼šä½¿è¯¥å…ƒç´ è¿­ä»£å™¨å¤±æ•ˆ</strong></td>
</tr>
</tbody>
</table>
<h3 id="å„å®¹å™¨å¸¸è§æ“ä½œçš„è¿­ä»£å™¨å¤±æ•ˆè¡¨">å„å®¹å™¨å¸¸è§æ“ä½œçš„è¿­ä»£å™¨å¤±æ•ˆè¡¨</h3>
<table>
<thead>
<tr>
<th>å®¹å™¨</th>
<th><code>insert</code></th>
<th><code>erase</code></th>
<th><code>push_back</code> / <code>push_front</code></th>
<th><code>clear</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>vector</code></td>
<td>å¯èƒ½å¤±æ•ˆ reallocation å¯¼è‡´åœ°å€å˜æ›´</td>
<td>åˆ é™¤ç‚¹ä¹‹åå¤±æ•ˆ</td>
<td>å¯èƒ½å¤±æ•ˆ reallocation å¯¼è‡´åœ°å€å˜æ›´</td>
<td>æ‰€æœ‰å¤±æ•ˆ</td>
</tr>
<tr>
<td><code>list</code></td>
<td>ä¸å¤±æ•ˆ</td>
<td>ä»…åˆ é™¤ç‚¹å¤±æ•ˆ</td>
<td>ä¸å¤±æ•ˆ</td>
<td>æ‰€æœ‰å¤±æ•ˆ</td>
</tr>
<tr>
<td><code>deque</code></td>
<td>å¯èƒ½å¤±æ•ˆ</td>
<td>åˆ é™¤ç‚¹ä¹‹åå¤±æ•ˆ</td>
<td>å¯èƒ½å¤±æ•ˆ</td>
<td>æ‰€æœ‰å¤±æ•ˆ</td>
</tr>
<tr>
<td><code>set</code> / <code>map</code></td>
<td>ä¸å¤±æ•ˆ</td>
<td>åˆ é™¤ç‚¹å¤±æ•ˆ</td>
<td>ä¸é€‚ç”¨</td>
<td>æ‰€æœ‰å¤±æ•ˆ</td>
</tr>
<tr>
<td><code>unordered_set</code> / <code>unordered_map</code></td>
<td>æ’å…¥å¯èƒ½å¤±æ•ˆï¼ˆrehashï¼‰</td>
<td>åˆ é™¤ç‚¹å¤±æ•ˆ</td>
<td>æ’å…¥å¯èƒ½å¤±æ•ˆ</td>
<td>æ‰€æœ‰å¤±æ•ˆ</td>
</tr>
</tbody>
</table>
<h3 id="å¸¸è§è¿­ä»£å™¨å¤±æ•ˆåœºæ™¯è¯¦è§£">å¸¸è§è¿­ä»£å™¨å¤±æ•ˆåœºæ™¯è¯¦è§£</h3>
<h4 id="1-vector-æˆ–-string-çš„æ’å…¥åˆ é™¤æ‰©å®¹">1. <code>vector</code> æˆ– <code>string</code> çš„æ’å…¥/åˆ é™¤/æ‰©å®¹</h4>
<ul>
<li>æ‰©å®¹æ’å…¥ï¼š<code>vector</code> ä¼šåœ¨å®¹é‡ä¸è¶³æ—¶å‘ç”Ÿ<strong>realloc</strong>æ‰©å®¹ï¼ˆé‡æ–°åˆ†é…å†…å­˜ï¼‰ï¼Œåœ°å€å˜æ›´ï¼Œæ‰€æœ‰æ—§çš„è¿­ä»£å™¨/æŒ‡é’ˆ/å¼•ç”¨ä¼šå¤±æ•ˆã€‚</li>
<li><code>vector::erase</code> ä¼šä½¿<strong>è¢«åˆ é™¤ä½ç½®åŠå…¶åçš„æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆ</strong>ã€‚å› ä¸º <code>vector</code> çš„åº•å±‚å®ç°æ˜¯<strong>è¿ç»­å†…å­˜æ•°ç»„</strong>ï¼Œåˆ é™¤ä¸€ä¸ªå…ƒç´ åï¼š
<ul>
<li>æ‰€æœ‰<strong>åç»­å…ƒç´ </strong>éƒ½ä¼š<strong>å‘å‰æ¬ç§»ä¸€ä¸ªä½ç½®</strong></li>
<li>æ‰€ä»¥è¿™äº›å…ƒç´ çš„åŸå§‹åœ°å€å…¨éƒ¨å˜åŒ–</li>
<li>è€Œ STL è¿­ä»£å™¨æ˜¯å¯¹åœ°å€çš„å°è£…ï¼Œ<strong>åœ°å€å˜äº†ï¼Œè¿­ä»£å™¨å°±å¤±æ•ˆäº†</strong></li>
</ul>
</li>
</ul>
<p>é”™è¯¯ç¤ºä¾‹ ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1, 2, 3};
auto it = v.begin();
v.push_back(4);  // å¦‚æœè§¦å‘äº†æ‰©å®¹ï¼Œit å¤±æ•ˆ
std::cout &lt;&lt; *it;  // æœªå®šä¹‰è¡Œä¸ºï¼

std::vector&lt;int&gt; v = {1,2,3,4};
for (auto it = v.begin(); it != v.end(); ++it) {
    if (*it == 2) v.erase(it);  // âŒ ä¹‹åçš„ ++it å·²å¤±æ•ˆ
}
</code></pre>
<p>âœ… <strong>å®‰å…¨åšæ³•ï¼šæ¯æ¬¡æ“ä½œåé‡ç½®è¿­ä»£å™¨</strong></p>
<p>æ­£ç¡®ç”¨æ³•ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1,2,3,4,5};
for (auto it = v.begin(); it != v.end(); ) {
    if (*it % 2 == 0)
        it = v.erase(it);  // å®‰å…¨å†™æ³•ï¼šç”¨è¿”å›å€¼æ›´æ–° it
    else
        ++it;
}
</code></pre>
<h4 id="2-list-çš„æ’å…¥æ˜¯å®‰å…¨çš„ä½†åˆ é™¤æŸå…ƒç´ åè¯¥è¿­ä»£å™¨å¤±æ•ˆ">2. <code>list</code> çš„æ’å…¥æ˜¯å®‰å…¨çš„ï¼Œä½†<strong>åˆ é™¤æŸå…ƒç´ åè¯¥è¿­ä»£å™¨å¤±æ•ˆ</strong></h4>
<pre><code class="language-cpp">std::list&lt;int&gt; l = {1, 2, 3};
auto it = l.begin();
l.erase(it);   // it å¤±æ•ˆ
// std::cout &lt;&lt; *it;  // âŒ UB
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ <code>std::list</code> çš„æ’å…¥æ˜¯â€œå®‰å…¨â€çš„ï¼Ÿ</strong></p>
<p><code>std::list</code> æ˜¯ä¸€ä¸ª <strong>åŒå‘é“¾è¡¨</strong>ï¼Œå…¶å…ƒç´ åœ¨å†…å­˜ä¸­<strong>ä¸è¿ç»­</strong>ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆé“¾æ¥ï¼šæ’å…¥æ—¶ï¼Œåªæ˜¯ä¿®æ”¹èŠ‚ç‚¹çš„ <code>next</code> / <code>prev</code> æŒ‡é’ˆï¼Œä¸éœ€è¦ç§»åŠ¨å·²æœ‰èŠ‚ç‚¹æˆ–é‡æ–°åˆ†é…å†…å­˜ã€‚</p>
<ul>
<li><strong>å·²æœ‰è¿­ä»£å™¨ä»ç„¶æŒ‡å‘åŸèŠ‚ç‚¹</strong></li>
<li>æ’å…¥ä¸ä¼šç ´åæ—§èŠ‚ç‚¹ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´åœ°å€å˜åŒ–</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆåˆ é™¤æŸä¸ªå…ƒç´ åè¯¥è¿­ä»£å™¨ä¼šå¤±æ•ˆ</strong>ï¼Ÿ</p>
<p>å½“ä½ è°ƒç”¨ <code>l.erase(it)</code> åˆ é™¤æŸä¸ªèŠ‚ç‚¹æ—¶ï¼š</p>
<ul>
<li>è¯¥èŠ‚ç‚¹çš„å†…å­˜è¢«é‡Šæ”¾</li>
<li>è¯¥è¿­ä»£å™¨å†…éƒ¨çš„æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜è¢«é”€æ¯äº†</li>
</ul>
<pre><code>std::list&lt;int&gt; l = {1, 2, 3};
auto it = std::next(l.begin()); // æŒ‡å‘ 2
l.erase(it); // åˆ é™¤ 2
std::cout &lt;&lt; *it &lt;&lt; "\n"; // âŒ it å·²å¤±æ•ˆï¼ŒUB
</code></pre>
<p>åœ¨å¼€å¯è°ƒè¯•çš„ç¼–è¯‘å™¨ä¸­ï¼ˆå¦‚ <code>-D_GLIBCXX_DEBUG</code>ï¼‰ï¼Œè¿™å¥ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<hr>
<h4 id="4-set--map-çš„åˆ é™¤ä¼šä½¿è¯¥å…ƒç´ çš„è¿­ä»£å™¨å¤±æ•ˆunordered_-å®¹å™¨çš„æ’å…¥æˆ–-rehash-å¯èƒ½ä½¿æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆ">4. <code>set</code> / <code>map</code> çš„åˆ é™¤ä¼šä½¿<strong>è¯¥å…ƒç´ çš„è¿­ä»£å™¨å¤±æ•ˆ</strong>ï¼Œ<code>unordered_*</code> å®¹å™¨çš„æ’å…¥æˆ– rehash å¯èƒ½ä½¿æ‰€æœ‰è¿­ä»£å™¨å¤±æ•ˆ</h4>
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th><code>std::set</code> / <code>std::map</code></th>
<th><code>std::unordered_set</code> / <code>unordered_map</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>æ’å…¥æ˜¯å¦å¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆï¼Ÿ</td>
<td>âŒ ä¸ä¼šå¤±æ•ˆ âœ…</td>
<td>âœ… å¯èƒ½å…¨éƒ¨å¤±æ•ˆï¼ˆrehashï¼‰</td>
</tr>
<tr>
<td>åˆ é™¤æ˜¯å¦å¯¼è‡´è¿­ä»£å™¨å¤±æ•ˆï¼Ÿ</td>
<td>âœ… è¢«åˆ çš„å¤±æ•ˆ</td>
<td>âœ… è¢«åˆ çš„å¤±æ•ˆ</td>
</tr>
</tbody>
</table>
<h5 id="åŸå› å®¹å™¨åº•å±‚ç»“æ„ä¸åŒ">åŸå› ï¼šå®¹å™¨åº•å±‚ç»“æ„ä¸åŒï¼š</h5>
<p><strong><code>std::set</code> / <code>std::map</code> åº•å±‚ç»“æ„ï¼šçº¢é»‘æ ‘ï¼ˆçº¢é»‘å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼‰</strong>ï¼š</p>
<ul>
<li>æ’å…¥/åˆ é™¤æ“ä½œéƒ½åªæ˜¯<strong>å±€éƒ¨æ—‹è½¬æˆ–é“¾è°ƒæ•´</strong></li>
<li><strong>èŠ‚ç‚¹åœ°å€ä¸å˜</strong>ï¼Œä¸æ¬å®¶ã€ä¸åˆ†æ¡¶</li>
<li>æ‰€ä»¥ï¼š<strong>é™¤è¢«åˆ èŠ‚ç‚¹å¤–ï¼Œå…¶ä»–èŠ‚ç‚¹ä½ç½®ç¨³å®š</strong>ï¼Œè¿­ä»£å™¨ä¸å¤±æ•ˆ</li>
</ul>
<pre><code class="language-cpp">std::set&lt;int&gt; s = {1,2,3};
auto it = s.begin();  // æŒ‡å‘1
s.insert(4);          // æ ‘ä¸­æ·»åŠ æ–°èŠ‚ç‚¹
std::cout &lt;&lt; *it;     // âœ… å®‰å…¨ï¼Œä»è¾“å‡º1
</code></pre>
<hr>
<p><strong><code>std::unordered_set</code> / <code>unordered_map</code> åº•å±‚ç»“æ„ï¼šå“ˆå¸Œè¡¨ï¼ˆå¸¦é“¾å¼æˆ–æ¡¶æ•°ç»„ï¼‰</strong>ï¼š</p>
<ul>
<li>æ’å…¥ä¼šå¯¼è‡´ <strong>rehash</strong>ï¼ˆå“ˆå¸Œæ¡¶é‡åˆ†é…ï¼‰</li>
<li><strong>æ‰€æœ‰å…ƒç´ ä¼šæ¬åˆ°æ–°æ¡¶ä¸­</strong>ï¼Œåœ°å€å˜åŒ–</li>
<li>æ‰€ä»¥ï¼š<strong>æ‰€æœ‰è¿­ä»£å™¨éƒ½å¤±æ•ˆ</strong></li>
<li>å¦‚æœä½ æå‰è°ƒç”¨ <code>.reserve(å®¹é‡)</code>ï¼Œå°±å¯ä»¥é¿å… rehashï¼Œä»è€Œä¿è¯æ’å…¥ä¸å¤±æ•ˆã€‚</li>
</ul>
<blockquote>
<p>è¿™ä¸ªé—®é¢˜è§¦åŠäº† <strong>å“ˆå¸Œè¡¨ç»“æ„çš„æœ¬è´¨</strong>ï¼Œæˆ‘ä»¬æ¥æ·±å…¥è§£é‡Šï¼š</p>
<p><strong><code>unordered_map</code> rehash ä¼šé‡æ–°åˆ†é…å“ˆå¸Œæ¡¶å¹¶æ¬ç§»å…ƒç´ ä½ç½®</strong>ï¼Œæ‰€ä»¥æ‰€æœ‰è¿­ä»£å™¨ï¼ˆåŒ…æ‹¬æŒ‡å‘å…ƒç´ çš„ï¼‰éƒ½<strong>å¤±æ•ˆ</strong>ã€‚</p>
<p><strong>å“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰</strong> å…¸å‹ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code>å“ˆå¸Œæ¡¶æ•°ç»„ï¼ˆbucket arrayï¼‰ï¼š
+--------+--------+--------+--------+--------+
| bucket0| bucket1| bucket2| bucket3| bucket4|
+--------+--------+--------+--------+--------+
     |        |        |        |        |
     â†“        â†“        â†“        â†“        â†“
   nodeA    nodeB    NULL     nodeC     nodeD
</code></pre>
<p>æ¯ä¸ªæ¡¶æ˜¯ä¸€ä¸ª<strong>é“¾è¡¨ï¼ˆæˆ–é“¾å¼ç»“æ„ï¼‰</strong>ï¼Œç”¨äºå­˜æ”¾å“ˆå¸Œå€¼è½åœ¨è¯¥æ¡¶çš„å…ƒç´ ã€‚</p>
<p>å½“æ’å…¥å¤ªå¤šå…ƒç´ ï¼Œ<strong>è´Ÿè½½å› å­ Î± = å…ƒç´ æ•° / æ¡¶æ•°</strong>è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶ï¼š</p>
<p>STL ä¼š <strong>è‡ªåŠ¨æ‰©å®¹æ¡¶æ•°ç»„ï¼ˆrehashï¼‰</strong>ï¼Œæ¯”å¦‚å°†æ¡¶æ•°ç¿»å€ï¼Œä» 8 â†’ 16 â†’ 32...</p>
<hr>
<p>rehash ä¼šï¼š</p>
<ul>
<li>åˆ†é… <strong>æ–°çš„æ¡¶æ•°ç»„</strong>ï¼ˆæ–°çš„å†…å­˜ç©ºé—´ï¼‰</li>
<li>éå†æ—§å…ƒç´ ï¼Œ<strong>é‡æ–°è®¡ç®—å“ˆå¸Œå€¼ % æ–°æ¡¶æ•°</strong>ï¼Œå°†å®ƒä»¬<strong>é‡æ–°åˆ†é…åˆ°æ–°æ¡¶</strong>ä¸­</li>
<li>æ¯ä¸ªå…ƒç´ çš„ä½ç½®ã€æ‰€å±æ¡¶ã€é“¾è¡¨ç»“æ„éƒ½<strong>å…¨éƒ¨å˜äº†</strong></li>
</ul>
</blockquote>
<pre><code class="language-cpp">std::unordered_set&lt;int&gt; us = {1,2,3};
auto it = us.begin();
us.insert(1000);  // æ’å…¥è¿‡å¤šå…ƒç´ è§¦å‘ rehash
std::cout &lt;&lt; *it;  // âŒ UBï¼Œåœ°å€å¯èƒ½å·²å˜åŒ–
</code></pre>
<hr>
<h5 id="ä¸ºä»€ä¹ˆåˆ é™¤æ“ä½œä¸€å®šä¼šå¯¼è‡´è¯¥å…ƒç´ è¿­ä»£å™¨å¤±æ•ˆ">ä¸ºä»€ä¹ˆåˆ é™¤æ“ä½œä¸€å®šä¼šå¯¼è‡´è¯¥å…ƒç´ è¿­ä»£å™¨å¤±æ•ˆï¼Ÿ</h5>
<p>ä¸ç®¡æ˜¯çº¢é»‘æ ‘ï¼ˆæœ‰åºå®¹å™¨ï¼‰è¿˜æ˜¯å“ˆå¸Œè¡¨ï¼ˆæ— åºå®¹å™¨ï¼‰ï¼Œ<code>erase(it)</code> éƒ½ä¼šé”€æ¯è¯¥èŠ‚ç‚¹ â†’ è¿™ä¸ªåœ°å€å¤±æ•ˆï¼Œ<code>it</code> å¤±æ•ˆï¼š</p>
<pre><code class="language-cpp">std::set&lt;int&gt; s = {1, 2, 3};
auto it = s.find(2);
s.erase(it);
std::cout &lt;&lt; *it;  // âŒ it å¤±æ•ˆï¼ˆæŒ‡å‘è¢«é‡Šæ”¾çš„èŠ‚ç‚¹ï¼‰
</code></pre>
<hr>
<h5 id="è¡¥å……æ’å…¥æ—¶ä¸ºä»€ä¹ˆ-setmap-å¯ä»¥ä¿è¯å…¶ä»–è¿­ä»£å™¨ç¨³å®š">è¡¥å……ï¼šæ’å…¥æ—¶ï¼Œä¸ºä»€ä¹ˆ <code>set/map</code> å¯ä»¥ä¿è¯å…¶ä»–è¿­ä»£å™¨ç¨³å®šï¼Ÿ</h5>
<p>å› ä¸º <strong>æ–°èŠ‚ç‚¹æ°¸è¿œæ˜¯â€œæ–°åˆ†é…çš„â€ï¼Œä¸ä¼šå¹²æ‰°æ—§èŠ‚ç‚¹ä½ç½®</strong>ï¼Œè€Œè¿­ä»£å™¨åªè¦æŒ‡å‘æ—§èŠ‚ç‚¹ï¼Œå°±ä¸ä¼šå¤±æ•ˆã€‚</p>
<h3 id="å¦‚ä½•é¿å…è¿­ä»£å™¨å¤±æ•ˆé—®é¢˜">å¦‚ä½•é¿å…è¿­ä»£å™¨å¤±æ•ˆé—®é¢˜ï¼Ÿ</h3>
<ol>
<li>æ¯æ¬¡æ’å…¥/åˆ é™¤/å˜æ›´ç»“æ„å<strong>ä¸è¦ç»§ç»­ä½¿ç”¨åŸè¿­ä»£å™¨</strong></li>
</ol>
<ul>
<li>ç‰¹åˆ«æ˜¯ <code>vector</code> çš„ <code>push_back</code>ã€<code>insert</code>ã€<code>erase</code> ç­‰æ“ä½œ</li>
</ul>
<ol start="2">
<li>è‹¥ç®—æ³•ä¸­è¦è¾¹éå†è¾¹ä¿®æ”¹ç»“æ„ï¼Œè¯·ç”¨ï¼š</li>
</ol>
<pre><code class="language-cpp">it = container.erase(it);  // ä½¿ç”¨è¿”å›å€¼
</code></pre>
<ol start="3">
<li>è‹¥éœ€è¦ä¿æŒè¿­ä»£å™¨ç¨³å®šï¼Œå¯è€ƒè™‘ç”¨ï¼š</li>
</ol>
<ul>
<li><code>std::list</code>ï¼ˆæ’å…¥å®‰å…¨ï¼‰</li>
<li><code>std::map</code> / <code>std::set</code>ï¼ˆæ’å…¥å®‰å…¨ï¼‰</li>
</ul>
<h2 id="ä¸ƒè¿­ä»£å™¨é€‚é…å™¨iterator-adapter">ä¸ƒã€è¿­ä»£å™¨é€‚é…å™¨ï¼ˆIterator Adapterï¼‰</h2>
<p>C++ STL æä¾›äº†ä¸‰ç§éå¸¸å®ç”¨çš„<strong>è¿­ä»£å™¨é€‚é…å™¨ï¼ˆiterator adaptersï¼‰</strong>ï¼Œç”¨äºå°† STL ç®—æ³•çš„è¾“å‡ºâ€œé€‚é…â€åˆ°å®¹å™¨çš„ä¸åŒæ’å…¥æ–¹å¼ã€‚</p>
<hr>
<h3 id="è¿­ä»£å™¨é€‚é…å™¨æ€»è§ˆ">è¿­ä»£å™¨é€‚é…å™¨æ€»è§ˆ</h3>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>æ’å…¥æ–¹å¼</th>
<th>é€‚ç”¨å®¹å™¨</th>
<th>åŸç†</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::back_inserter</code></td>
<td>è°ƒç”¨ <code>push_back</code></td>
<td><code>vector</code>, <code>deque</code>, <code>list</code></td>
<td>æœ«å°¾æ’å…¥</td>
</tr>
<tr>
<td><code>std::front_inserter</code></td>
<td>è°ƒç”¨ <code>push_front</code></td>
<td><code>deque</code>, <code>list</code></td>
<td>å¤´éƒ¨æ’å…¥</td>
</tr>
<tr>
<td><code>std::inserter</code></td>
<td>è°ƒç”¨ <code>insert(pos, val)</code></td>
<td><code>set</code>, <code>map</code>, <code>list</code>, <code>vector</code></td>
<td>åœ¨æŒ‡å®šä½ç½®æ’å…¥æˆ–æ ¹æ®è§„åˆ™</td>
</tr>
</tbody>
</table>
<p>å®ƒä»¬éƒ½å®šä¹‰åœ¨å¤´æ–‡ä»¶ï¼š</p>
<pre><code class="language-cpp">#include &lt;iterator&gt;
</code></pre>
<h3 id="1-stdback_inserter">1. <code>std::back_inserter</code></h3>
<pre><code class="language-cpp">std::back_inserter(container)
</code></pre>
<p>é€‚ç”¨äºæ”¯æŒ <code>push_back()</code> çš„å®¹å™¨ï¼Œå¦‚ <code>vector</code>, <code>deque</code>, <code>list</code>ã€‚</p>
<h4 id="ç¤ºä¾‹">ç¤ºä¾‹ï¼š</h4>
<pre><code class="language-cpp">std::vector&lt;int&gt; src = {1, 2, 3};
std::vector&lt;int&gt; dst;

std::copy(src.begin(), src.end(), std::back_inserter(dst));
// dst = {1, 2, 3}
</code></pre>
<hr>
<h3 id="2-stdfront_inserter">2. <code>std::front_inserter</code></h3>
<pre><code class="language-cpp">std::front_inserter(container)
</code></pre>
<p>é€‚ç”¨äºæ”¯æŒ <code>push_front()</code> çš„å®¹å™¨ï¼Œå¦‚ <code>list</code>, <code>deque</code>ï¼ˆâš ï¸ <code>vector</code> ä¸æ”¯æŒï¼‰ã€‚</p>
<h4 id="ç¤ºä¾‹-1">ç¤ºä¾‹ï¼š</h4>
<pre><code class="language-cpp">std::vector&lt;int&gt; src = {1, 2, 3};
std::vector&lt;int&gt; dst;

std::copy(src.begin(), src.end(), std::front_inserter(dst));
// dst = {3, 2, 1}ï¼Œç›¸å½“äºååºæ’å…¥
</code></pre>
<hr>
<h3 id="3-stdinserter">3. <code>std::inserter</code></h3>
<pre><code class="language-cpp">std::inserter(container, pos)
</code></pre>
<p>é€‚ç”¨äºæ”¯æŒ <code>insert(pos, val)</code> æˆ– <code>insert(val)</code> çš„å®¹å™¨ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>é¡ºåºå®¹å™¨ï¼š<code>list</code>, <code>vector</code>, <code>deque</code></li>
<li>å…³è”å®¹å™¨ï¼š<code>set</code>, <code>map</code>, <code>unordered_set</code>, <code>unordered_map</code></li>
</ul>
<p>å®ƒçš„å·¥ä½œæ–¹å¼æ˜¯ï¼šæ¯æ¬¡è°ƒç”¨ <code>*it = val</code>ï¼Œä¼šå˜æˆ <code>container.insert(pos, val)</code> æˆ– <code>container.insert(val)</code>ï¼Œæ ¹æ®å®¹å™¨ç±»å‹è‡ªåŠ¨å¤„ç†ã€‚</p>
<h4 id="ç¤ºä¾‹vector">ç¤ºä¾‹ï¼ˆvectorï¼‰ï¼š</h4>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1, 4, 5};
std::vector&lt;int&gt; to_insert = {2, 3};

std::copy(to_insert.begin(), to_insert.end(), std::inserter(v, v.begin() + 1));
// v = {1, 2, 3, 4, 5}
</code></pre>
<h4 id="ç¤ºä¾‹set">ç¤ºä¾‹ï¼ˆsetï¼‰ï¼š</h4>
<pre><code class="language-cpp">std::set&lt;int&gt; s;
std::vector&lt;int&gt; v = {3, 1, 4};

std::copy(v.begin(), v.end(), std::inserter(s, s.begin()));
// s = {1, 3, 4}ï¼ˆè‡ªåŠ¨å»é‡ + æ’åºï¼‰
</code></pre>
<hr>
<h2 id="ç¤ºä¾‹å¯¹æ¯”">ç¤ºä¾‹å¯¹æ¯”</h2>
<pre><code class="language-cpp">#include &lt;vector&gt;
#include &lt;list&gt;
#include &lt;set&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;
#include &lt;iostream&gt;

int main() {
    std::vector&lt;int&gt; src = {1, 2, 3};

    // back_inserter
    std::vector&lt;int&gt; v;
    std::copy(src.begin(), src.end(), std::back_inserter(v));  // v = 1 2 3

    // front_inserter
    std::list&lt;int&gt; l;
    std::copy(src.begin(), src.end(), std::front_inserter(l));  // l = 3 2 1

    // inserter (middle insert into vector)
    std::vector&lt;int&gt; a = {0, 4};
    std::copy(src.begin(), src.end(), std::inserter(a, a.begin() + 1));  // a = 0 1 2 3 4

    // inserter (into set)
    std::set&lt;int&gt; s;
    std::copy(src.begin(), src.end(), std::inserter(s, s.begin()));  // s = 1 2 3
}
</code></pre>
<h2 id="å…«è¿­ä»£å™¨çš„ç°ä»£æ›¿ä»£å“">å…«ã€è¿­ä»£å™¨çš„ç°ä»£æ›¿ä»£å“</h2>
<h3 id="c11--èŒƒå›´-for-å¾ªç¯range-based-for-loop">C++11  èŒƒå›´ for å¾ªç¯ï¼ˆrange-based for loopï¼‰</h3>
<p>åœ¨ C++11 ä¸­ï¼Œå¼•å…¥äº†â€œ<strong>èŒƒå›´ for å¾ªç¯ï¼ˆrange-based for loopï¼‰</strong>â€è¯­æ³•ï¼Œå®ƒæ˜¯å¯¹ä¼ ç»Ÿè¿­ä»£å™¨éå†çš„ä¸€ç§ç®€åŒ–å°è£…ã€‚å®ƒæœ¬è´¨ä¸Šä»ç„¶ä¾èµ–äº<strong>è¿­ä»£å™¨æ¥å£</strong>ï¼Œåªæ˜¯æŠŠç¼–å†™è¿­ä»£å™¨çš„æ¨¡æ¿ä»£ç è—åœ¨äº†è¯­æ³•ç³–åé¢ã€‚</p>
<hr>
<h4 id="1è¯­æ³•ç¤ºä¾‹">1ã€è¯­æ³•ç¤ºä¾‹</h4>
<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>for (int x : v)</code></td>
<td>æ‹·è´å…ƒç´ ï¼ˆæ— æ³•ä¿®æ”¹åŸå§‹å®¹å™¨ï¼‰</td>
</tr>
<tr>
<td><code>for (int&amp; x : v)</code></td>
<td>å¼•ç”¨è®¿é—®å…ƒç´ ï¼ˆå¯ä¿®æ”¹ï¼‰</td>
</tr>
<tr>
<td><code>for (const int&amp; x : v)</code></td>
<td>å¸¸é‡å¼•ç”¨ï¼ˆèŠ‚çœæ‹·è´æˆæœ¬ï¼Œæ— æ³•ä¿®æ”¹ï¼‰</td>
</tr>
</tbody>
</table>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;

int main() {
    std::vector&lt;int&gt; vec = {1, 2, 3, 4};
    // ä½¿ç”¨èŒƒå›´ for å¾ªç¯
    for (int x : vec) {
        std::cout &lt;&lt; x &lt;&lt; " ";
    }
    std::cout&lt;&lt; std::endl;
    // ç­‰ä»·äº
    for (auto it = vec.begin(); it != vec.end(); ++it) {
        int x = *it;
        std::cout &lt;&lt; x &lt;&lt; " ";
    }
}

</code></pre>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;

int main() {
    std::vector&lt;int&gt; vec1 = {1, 2, 3, 4};
    std::vector&lt;int&gt; vec2 = {1, 2, 3, 4};

    // å¦‚æœä½¿ç”¨å¼•ç”¨æˆ–å¼•ç”¨ä¿®æ”¹
    for (int&amp; x : vec1) {
        x *= 2;  // ä¿®æ”¹å…ƒç´ å€¼
    }
    for (int x : vec1) {
        std::cout &lt;&lt; x &lt;&lt; " ";
    }
    
    std::cout&lt;&lt; std::endl;
    // ç­‰ä»·äº
    for (auto it = vec2.begin(); it != vec2.end(); ++it) {
        *it *= 2;
    }
    for (int x : vec2) {
        std::cout &lt;&lt; x &lt;&lt; " ";
    }
}

</code></pre>
<h4 id="2å·¥ä½œåŸç†ä½¿ç”¨-begin-å’Œ-end">2ã€å·¥ä½œåŸç†ï¼šä½¿ç”¨ <code>begin()</code> å’Œ <code>end()</code></h4>
<p>ç¼–è¯‘å™¨åœ¨å¤„ç† <code>for (auto x : container)</code> æ—¶ä¼šï¼š</p>
<pre><code class="language-cpp">{
    auto __begin = std::begin(container);
    auto __end = std::end(container);
    for (; __begin != __end; ++__begin) {
        auto x = *__begin;
        // å¾ªç¯ä½“
    }
}
</code></pre>
<p>å³ï¼š</p>
<ul>
<li>ä½¿ç”¨å®¹å™¨çš„ <code>begin()</code> å’Œ <code>end()</code> å‡½æ•°è·å–è¿­ä»£å™¨èŒƒå›´</li>
<li>ä½¿ç”¨è¿­ä»£å™¨ <code>*</code> è®¿é—®å…ƒç´ ï¼Œ<code>++</code> è¿›è¡Œéå†</li>
</ul>
<p>æ”¯æŒ <code>range-based for</code> çš„å…³é”®ï¼šå®¹å™¨å¿…é¡»æœ‰ <code>begin()</code> å’Œ <code>end()</code> æ–¹æ³•ï¼ˆæˆå‘˜æˆ–éæˆå‘˜ï¼‰è¿”å›è¿­ä»£å™¨ã€‚</p>
<h3 id="c20-ranges">C++20 Ranges</h3>
<p>C++20 å¼•å…¥ <code>ranges</code>ï¼Œç®€åŒ–è¿­ä»£å™¨å’Œç®—æ³•ç»“åˆçš„å†™æ³•ï¼š</p>
<p>C++20 å¼•å…¥çš„ <strong>Ranges</strong> æ˜¯å¯¹ä¼ ç»Ÿ STL ç®—æ³•ä¸è¿­ä»£å™¨ä½“ç³»çš„é‡å¤§å‡çº§ï¼Œå®ƒè®©å®¹å™¨æ“ä½œæ›´åŠ <strong>ç›´è§‚ã€å¯ç»„åˆã€å‡½æ•°å¼ã€æ‡’æƒ°ï¼ˆlazyï¼‰</strong>ï¼Œæ˜¯ C++ æ³›å‹ç¼–ç¨‹çš„ä¸€å¤§è¿›æ­¥ã€‚</p>
<hr>
<h4 id="1ä»€ä¹ˆæ˜¯-ranges">1ã€ä»€ä¹ˆæ˜¯ Rangesï¼Ÿ</h4>
<p>æ›´ <strong>ç®€æ´</strong>ï¼Œæ›´ <strong>å¯è¯»</strong> ï¼Œ<strong>æ‡’æƒ°æ±‚å€¼</strong>ï¼ˆåªæœ‰éå†æ—¶æ‰è®¡ç®—ï¼‰ï¼Œæ›´ <strong>æ˜“ç»„åˆ</strong></p>
<p>å¯¹ä¸€ä¸ªvector<strong>å–å¥‡æ•°ï¼Œä¹˜2ï¼Œå‰3ä¸ª</strong>çš„æ“ä½œï¼š</p>
<pre><code class="language-cpp">#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;ranges&gt;
#include &lt;vector&gt;

int main() {
    std::vector&lt;int&gt; v = {1, 2, 3, 4, 5};

    // å–å¥‡æ•°ï¼Œæ’åºï¼Œåªä¿ç•™å‰ä¸¤ä¸ªå…ƒç´ 
    // ç¬¬ä¸€æ­¥ï¼šfilter - ç­›é€‰å¥‡æ•°
    std::vector&lt;int&gt; filtered;
    std::copy_if(v.begin(), v.end(), std::back_inserter(filtered),
                 [](int x) { return x % 2 == 1; });

    // ç¬¬äºŒæ­¥ï¼štransform - ä¹˜2
    std::vector&lt;int&gt; transformed;
    std::transform(filtered.begin(), filtered.end(), std::back_inserter(transformed),
                   [](int x) { return x * 10; });

    // ç¬¬ä¸‰æ­¥ï¼štake 3 - å–å‰3ä¸ª
    std::vector&lt;int&gt; result;
    std::copy_n(transformed.begin(),
                std::min&lt;size_t&gt;(3, transformed.size()),
                std::back_inserter(result));

    // è¾“å‡ºç»“æœ
    for (int x : result) {
        std::cout &lt;&lt; x &lt;&lt; " ";
    }

    // c++20 ç®¡é“å¼ç»„åˆï¼šå–å¥‡æ•°ï¼Œä¹˜2ï¼Œå‰3ä¸ª
    auto view = v
                | std::views::filter([](int x){ return x % 2 == 1; })
                | std::views::transform([](int x){ return x * 10; })
                | std::views::take(3);

    for (int x : view) {
        std::cout &lt;&lt; x &lt;&lt; " ";
    }

}

</code></pre>
<h4 id="2æ ¸å¿ƒç»„æˆ">2ã€æ ¸å¿ƒç»„æˆ</h4>
<p>Ranges å¤´æ–‡ä»¶</p>
<pre><code class="language-cpp">#include &lt;ranges&gt;  // æ‰€æœ‰ ranges ç»„ä»¶
</code></pre>
<hr>
<p>Viewsï¼ˆè§†å›¾ï¼‰ - æ ¸å¿ƒç‰¹æ€§</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>views::filter</code></td>
<td>è¿‡æ»¤å…ƒç´ </td>
<td><code>x % 2 == 0</code></td>
</tr>
<tr>
<td><code>views::transform</code></td>
<td>å…ƒç´ å˜æ¢</td>
<td><code>x * 2</code></td>
</tr>
<tr>
<td><code>views::take(n)</code></td>
<td>å–å‰ n ä¸ªå…ƒç´ </td>
<td><code>take(5)</code></td>
</tr>
<tr>
<td><code>views::drop(n)</code></td>
<td>è·³è¿‡å‰ n ä¸ªå…ƒç´ </td>
<td><code>drop(3)</code></td>
</tr>
<tr>
<td><code>views::reverse</code></td>
<td>åè½¬è§†å›¾</td>
<td></td>
</tr>
<tr>
<td><code>views::iota(start, end)</code></td>
<td>ç”Ÿæˆæ•°åˆ—</td>
<td><code>iota(1, 10)</code></td>
</tr>
<tr>
<td><code>views::enumerate</code></td>
<td>å¸¦ç´¢å¼•</td>
<td>C++23 å¼•å…¥</td>
</tr>
</tbody>
</table>
<h4 id="3range-ä¸å®¹å™¨çš„åŒºåˆ«">3ã€Range ä¸å®¹å™¨çš„åŒºåˆ«</h4>
<table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>å®¹å™¨ï¼ˆå¦‚ vectorï¼‰</th>
<th>Ranges View</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ˜¯å¦æŒæœ‰æ•°æ®</td>
<td>æ˜¯ï¼ˆæ‹¥æœ‰æ‰€æœ‰æƒï¼‰</td>
<td>å¦ï¼ˆå¼•ç”¨æˆ–åŒ…è£…ï¼‰</td>
</tr>
<tr>
<td>æ˜¯å¦æ‡’æƒ°æ±‚å€¼</td>
<td>å¦ï¼ˆç«‹å³è®¡ç®—ï¼‰</td>
<td>æ˜¯ï¼ˆæŒ‰éœ€è®¡ç®—ï¼‰</td>
</tr>
<tr>
<td>æ˜¯å¦å¯ç»„åˆ</td>
<td>éœ€è¦ä¸´æ—¶å˜é‡</td>
<td>å¯ä»¥é“¾å¼ç»„åˆ</td>
</tr>
<tr>
<td>å¼€é”€</td>
<td>å¤åˆ¶å†…å­˜</td>
<td>å‡ ä¹ä¸ºé›¶å¼€é”€ï¼ˆæŒ‰éœ€ç”Ÿæˆï¼‰</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="4ä¸ç®—æ³•ç»“åˆranges">4ã€ä¸ç®—æ³•ç»“åˆï¼ˆ<code>ranges::</code>ï¼‰</h4>
<p>C++20 å¼•å…¥ <code>std::ranges::</code> ä¸‹çš„ç®—æ³•ï¼Œæ›¿ä»£ä¼ ç»Ÿ <code>&lt;algorithm&gt;</code> ç‰ˆæœ¬ï¼Œæ”¯æŒ<strong>range</strong> ä½œä¸ºè¾“å…¥ã€‚</p>
<pre><code class="language-cpp">#include &lt;ranges&gt;
#include &lt;algorithm&gt;

std::vector&lt;int&gt; v = {3, 1, 4, 1, 5};

// æ›´ç®€æ´çš„å†™æ³•ï¼š
std::ranges::sort(v);  // ä¸éœ€è¦æ‰‹åŠ¨ä¼  begin/end
</code></pre>
<ul>
<li>è®¸å¤šç®—æ³•æ¥å— range æˆ– iteratorï¼š
<ul>
<li><code>ranges::find(range, value)</code></li>
<li><code>ranges::count(range, pred)</code></li>
<li><code>ranges::for_each(range, fn)</code></li>
<li><code>ranges::all_of(range, pred)</code></li>
</ul>
</li>
</ul>
<h1 id="stl-å¸¸ç”¨ç®—æ³•">STL å¸¸ç”¨ç®—æ³•<algorithm></algorithm></h1>
<p>C++ STLï¼ˆæ ‡å‡†æ¨¡æ¿åº“ï¼‰æä¾›äº†å¤§é‡<strong>æ³›å‹ç®—æ³•</strong>ï¼Œä½äºå¤´æ–‡ä»¶ <code>&lt;algorithm&gt;</code> å’Œ <code>&lt;numeric&gt;</code> ä¸­ã€‚å®ƒä»¬åŸºäºè¿­ä»£å™¨è®¾è®¡ï¼Œæ”¯æŒå‡ ä¹æ‰€æœ‰ STL å®¹å™¨ï¼ˆå¦‚ <code>vector</code>, <code>list</code>, <code>set</code>, <code>map</code> ç­‰ï¼‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¯¹ STL <strong>å¸¸ç”¨ç®—æ³•åˆ†ç±»åŠç”¨æ³•</strong>çš„ç³»ç»Ÿæ€»ç»“ï¼Œå¹¶é™„ä¸Šç¤ºä¾‹ã€‚</p>
<hr>
<h2 id="ä¸€å¤´æ–‡ä»¶è¯´æ˜">ä¸€ã€å¤´æ–‡ä»¶è¯´æ˜</h2>
<pre><code class="language-cpp">#include &lt;algorithm&gt;  // ç»å¤§å¤šæ•° STL ç®—æ³•
#include &lt;numeric&gt;    // accumulate, inner_product ç­‰
</code></pre>
<hr>
<h2 id="äºŒstl-ç®—æ³•åˆ†ç±»æ€»è§ˆ">äºŒã€STL ç®—æ³•åˆ†ç±»æ€»è§ˆ</h2>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>å¸¸ç”¨ç®—æ³•</th>
<th>åŠŸèƒ½æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>éå†ç±»</td>
<td><code>for_each</code>, <code>transform</code></td>
<td>å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œ</td>
</tr>
<tr>
<td>æŸ¥æ‰¾ç±»</td>
<td><code>find</code>, <code>find_if</code>, <code>count</code>, <code>binary_search</code></td>
<td>æŸ¥æ‰¾å…ƒç´ </td>
</tr>
<tr>
<td>ä¿®æ”¹ç±»</td>
<td><code>copy</code>, <code>replace</code>, <code>fill</code>, <code>remove</code></td>
<td>ä¿®æ”¹æˆ–ç”Ÿæˆæ–°æ•°æ®</td>
</tr>
<tr>
<td>æ’åºç±»</td>
<td><code>sort</code>, <code>stable_sort</code>, <code>reverse</code>, <code>partial_sort</code></td>
<td>æ’åºä¸é‡æ’</td>
</tr>
<tr>
<td>æ¯”è¾ƒç±»</td>
<td><code>equal</code>, <code>mismatch</code>, <code>lexicographical_compare</code></td>
<td>æ¯”è¾ƒåŒºé—´å†…å®¹</td>
</tr>
<tr>
<td>æ•°å€¼ç±»</td>
<td><code>accumulate</code>, <code>inner_product</code>, <code>iota</code></td>
<td>æ•°å€¼è®¡ç®—</td>
</tr>
<tr>
<td>é›†åˆç±»</td>
<td><code>set_union</code>, <code>set_intersection</code>, <code>set_difference</code></td>
<td>éœ€è¦æ’åº</td>
</tr>
<tr>
<td>åˆ†åŒºç±»</td>
<td><code>partition</code>, <code>stable_partition</code>, <code>is_partitioned</code></td>
<td>åˆ†ç»„å…ƒç´ </td>
</tr>
<tr>
<td>è¾…åŠ©ç±»</td>
<td><code>min</code>, <code>max</code>, <code>swap</code>, <code>iter_swap</code></td>
<td>è¾…åŠ©æ“ä½œ</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="ä¸‰å¸¸ç”¨ç®—æ³•è¯¦è§£ä¸ç¤ºä¾‹">ä¸‰ã€å¸¸ç”¨ç®—æ³•è¯¦è§£ä¸ç¤ºä¾‹</h2>
<h3 id="1-éå†ç±»">1. éå†ç±»</h3>
<p><code>std::for_each</code> å’Œ <code>std::transform</code> æ˜¯ C++ STL ä¸­ä¸¤ä¸ªéå¸¸å¸¸ç”¨çš„ç®—æ³•å‡½æ•°ï¼Œå®ƒä»¬éƒ½ç”¨äº<strong>éå†å®¹å™¨å…ƒç´ å¹¶å¯¹å…¶åº”ç”¨æŸç§æ“ä½œ</strong>ï¼Œä½†ç”¨é€”ç•¥æœ‰ä¸åŒã€‚</p>
<h4 id="stdfor_each"><code>std::for_each</code></h4>
<p>å¯¹æŒ‡å®šèŒƒå›´å†…çš„<strong>æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŸä¸ªæ“ä½œ</strong>ï¼Œ<strong>ä¸è¿”å›æ–°å®¹å™¨</strong>ã€‚åŸå‹ï¼š</p>
<pre><code class="language-cpp">template&lt;class InputIterator, class Function&gt;
Function for_each(InputIterator first, InputIterator last, Function f);
</code></pre>
<ul>
<li>å¯¹å®¹å™¨ä¸­å…ƒç´ åº”ç”¨ <code>f(x)</code></li>
<li>å¸¸ç”¨äºæ‰“å°ã€ç´¯åŠ ç­‰å‰¯ä½œç”¨æ“ä½œ</li>
<li>ä¸ä¼šæ”¹å˜å®¹å™¨å†…å®¹ï¼ˆé™¤é <code>f</code> ä¿®æ”¹å¼•ç”¨ï¼‰</li>
</ul>
<p>ğŸ“¦ ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

int main() {
    std::vector&lt;int&gt; v = {1, 2, 3, 4};
    std::for_each(v.begin(), v.end(), [](int x) {
        std::cout &lt;&lt; x &lt;&lt; " ";
    });
    std::cout &lt;&lt; std::endl; 
    // ğŸ’¡ å¦‚æœä½ ç”¨å¼•ç”¨å‚æ•°ï¼Œå¯ä»¥ä¿®æ”¹å®¹å™¨å…ƒç´ ï¼š
    std::for_each(v.begin(), v.end(), [](int &amp;x) { x *= 2; });
    std::for_each(v.begin(), v.end(), [](int x) {
        std::cout &lt;&lt; x &lt;&lt; " ";
    });
}
//è¾“å‡º
1 2 3 4 
2 4 6 8 
Process finished with exit code 0
</code></pre>
<hr>
<h4 id="stdtransform"><code>std::transform</code></h4>
<p>å¯¹ä¸€ä¸ªï¼ˆæˆ–ä¸¤ä¸ªï¼‰åŒºé—´ä¸­çš„å…ƒç´ åº”ç”¨å‡½æ•°ï¼Œå¹¶å°†ç»“æœ<strong>å†™å…¥å¦ä¸€ä¸ªåŒºé—´</strong>ï¼Œ<strong>è¿”å›çš„æ˜¯ç»“æœè¿­ä»£å™¨</strong>ã€‚</p>
<p>åŸå‹ï¼ˆå•è¾“å…¥ï¼‰ï¼š</p>
<pre><code class="language-cpp">template&lt;class InputIterator, class OutputIterator, class UnaryOperation&gt;
OutputIterator transform(InputIterator first1, InputIterator last1,
                         OutputIterator result, UnaryOperation op);
</code></pre>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è¾“å…¥ä¸€ä¸ªæˆ–ä¸¤ä¸ªåŒºé—´ï¼Œè¾“å‡ºä¸€ä¸ªæ–°ç»“æœåŒºé—´</li>
<li>ä¸ä¿®æ”¹åŸå§‹å®¹å™¨</li>
<li>å¸¸ç”¨äºâ€œæ˜ å°„â€ï¼ˆmapï¼‰æ“ä½œ</li>
</ul>
<p>ç¤ºä¾‹ï¼ˆå•è¾“å…¥ï¼‰ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1, 2, 3};
std::vector&lt;int&gt; result;

std::transform(v.begin(), v.end(), std::back_inserter(result),
               [](int x){ return x * 2; });  // result = {2, 4, 6}
</code></pre>
<p>ç¤ºä¾‹ï¼ˆåŒè¾“å…¥ï¼‰ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; a = {1, 2, 3};
std::vector&lt;int&gt; b = {4, 5, 6};
std::vector&lt;int&gt; result;

std::transform(a.begin(), a.end(), b.begin(), std::back_inserter(result),
               [](int x, int y){ return x + y; });  // result = {5, 7, 9}
</code></pre>
<hr>
<h4 id="æ€»ç»“å¯¹æ¯”">æ€»ç»“å¯¹æ¯”</h4>
<table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th><code>std::for_each</code></th>
<th><code>std::transform</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>æ˜¯å¦æœ‰è¾“å‡ºå®¹å™¨</td>
<td>å¦</td>
<td>æ˜¯ï¼Œç»“æœå†™å…¥æ–°å®¹å™¨</td>
</tr>
<tr>
<td>ç”¨é€”</td>
<td>éå†æ‰“å°/ä¿®æ”¹/ç»Ÿè®¡</td>
<td>æ˜ å°„ç”Ÿæˆæ–°æ•°æ®</td>
</tr>
<tr>
<td>æ˜¯å¦èƒ½ä¿®æ”¹åŸå®¹å™¨</td>
<td>æ˜¯ï¼ˆé€šè¿‡å¼•ç”¨ï¼‰</td>
<td>å¦ï¼ˆé»˜è®¤å†™å…¥æ–°å®¹å™¨ï¼‰</td>
</tr>
<tr>
<td>æ˜¯å¦æ‡’æƒ°æ±‚å€¼</td>
<td>å¦</td>
<td>å¦</td>
</tr>
<tr>
<td>ç­‰ä»·äº</td>
<td>Python çš„ <code>for x in</code></td>
<td>Python çš„ <code>map()</code></td>
</tr>
</tbody>
</table>
<hr>
<h4 id="é€‰æ‹©å»ºè®®">é€‰æ‹©å»ºè®®ï¼š</h4>
<ul>
<li>éœ€è¦<strong>å¯¹å…ƒç´ è¿›è¡Œå¤„ç†æˆ–æ”¶é›†</strong> â†’ ä½¿ç”¨ <code>std::transform</code></li>
<li>åªæƒ³<strong>å¯¹æ¯ä¸ªå…ƒç´ åšæ“ä½œï¼ˆå¦‚æ‰“å°ã€ä¿®æ”¹ï¼‰</strong> â†’ ä½¿ç”¨ <code>std::for_each</code></li>
</ul>
<h3 id="2-æŸ¥æ‰¾ç±»">2. æŸ¥æ‰¾ç±»</h3>
<p>å½“ç„¶ï¼Œä¸‹é¢æ˜¯å¯¹ C++ STL ä¸­ <strong>æŸ¥æ‰¾ç±»ç®—æ³•</strong> çš„ç³»ç»Ÿæ•´ç†å’Œè¯¦ç»†è®²è§£ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€ä½¿ç”¨æ–¹å¼ã€é€‚ç”¨åœºæ™¯å’Œç¤ºä¾‹ä»£ç ã€‚ä½ å°†äº†è§£å¦‚ä½•ç”¨æ ‡å‡†åº“é«˜æ•ˆåœ°åœ¨å„ç§å®¹å™¨ä¸­æŸ¥æ‰¾ã€å®šä½å’Œåˆ¤æ–­å…ƒç´ ã€‚</p>
<hr>
<h4 id="æŸ¥æ‰¾ç±»ç®—æ³•æ€»è§ˆ">æŸ¥æ‰¾ç±»ç®—æ³•æ€»è§ˆ</h4>
<table>
<thead>
<tr>
<th>ç®—æ³•å</th>
<th>åŠŸèƒ½</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::find</code></td>
<td>æŸ¥æ‰¾ç­‰äºæŸå€¼çš„å…ƒç´ </td>
<td>çº¿æ€§æŸ¥æ‰¾</td>
</tr>
<tr>
<td><code>std::find_if</code> / <code>find_if_not</code></td>
<td>æŸ¥æ‰¾æ»¡è¶³ï¼ˆæˆ–ä¸æ»¡è¶³ï¼‰æŸæ¡ä»¶çš„å…ƒç´ </td>
<td>å¯è‡ªå®šä¹‰è°“è¯</td>
</tr>
<tr>
<td><code>std::count</code> / <code>count_if</code></td>
<td>ç»Ÿè®¡ç­‰äºæŸå€¼ï¼ˆæˆ–æ»¡è¶³æ¡ä»¶ï¼‰çš„å…ƒç´ ä¸ªæ•°</td>
<td>çº¿æ€§ç»Ÿè®¡</td>
</tr>
<tr>
<td><code>std::any_of</code> / <code>all_of</code> / <code>none_of</code></td>
<td>åˆ¤æ–­æ˜¯å¦å­˜åœ¨ã€å…¨éƒ¨ã€å…¨éƒ¨ä¸æ»¡è¶³æŸæ¡ä»¶</td>
<td>å¿«é€Ÿåˆ¤æ–­</td>
</tr>
<tr>
<td><code>std::search</code> / <code>search_n</code></td>
<td>æŸ¥æ‰¾å­åºåˆ—æˆ–é‡å¤å€¼</td>
<td>åŒºé—´æŸ¥æ‰¾</td>
</tr>
<tr>
<td><code>std::adjacent_find</code></td>
<td>æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ </td>
<td>è¿ç»­åˆ¤æ–­</td>
</tr>
<tr>
<td><code>std::binary_search</code></td>
<td>äºŒåˆ†æŸ¥æ‰¾</td>
<td>æœ‰åºåŒºé—´</td>
</tr>
<tr>
<td><code>std::lower_bound</code> / <code>upper_bound</code></td>
<td>æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸å°äº / å¤§äºæŒ‡å®šå€¼çš„ä½ç½®</td>
<td>æœ‰åºåŒºé—´</td>
</tr>
<tr>
<td><code>std::equal_range</code></td>
<td>åŒæ—¶è¿”å› <code>lower_bound</code> å’Œ <code>upper_bound</code></td>
<td>èŒƒå›´æŸ¥æ‰¾</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="1-stdfind">1. <code>std::find</code></h4>
<p>åœ¨çº¿æ€§åºåˆ—ä¸­æŸ¥æ‰¾â€œç­‰äºæŸå€¼â€çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<pre><code class="language-cpp">template&lt;class InputIt, class T&gt;
InputIt find(InputIt first, InputIt last, const T&amp; value);
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1, 2, 3, 4};
auto it = std::find(v.begin(), v.end(), 3);
if (it != v.end()) std::cout &lt;&lt; "Found: " &lt;&lt; *it;
</code></pre>
<hr>
<h4 id="2-stdfind_if--find_if_not">2. <code>std::find_if</code> / <code>find_if_not</code></h4>
<p>æŸ¥æ‰¾<strong>æ»¡è¶³ï¼ˆæˆ–ä¸æ»¡è¶³ï¼‰è°“è¯æ¡ä»¶</strong>çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<pre><code class="language-cpp">template&lt;class InputIt, class UnaryPredicate&gt;
InputIt find_if(InputIt first, InputIt last, UnaryPredicate p);
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">auto it = std::find_if(v.begin(), v.end(), [](int x){ return x % 2 == 0; });  // ç¬¬ä¸€ä¸ªå¶æ•°
</code></pre>
<hr>
<h4 id="3-stdcount--count_if">3. <code>std::count</code> / <code>count_if</code></h4>
<p>ç»Ÿè®¡ç­‰äºæŸå€¼ï¼Œæˆ–æ»¡è¶³æŸæ¡ä»¶çš„å…ƒç´ ä¸ªæ•°ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">int n1 = std::count(v.begin(), v.end(), 5);  // æœ‰å‡ ä¸ª 5
int n2 = std::count_if(v.begin(), v.end(), [](int x){ return x &gt; 3; });  // æœ‰å‡ ä¸ªå¤§äº3
</code></pre>
<hr>
<h4 id="4-stdany_of--all_of--none_of">4. <code>std::any_of</code> / <code>all_of</code> / <code>none_of</code></h4>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>any_of</code></td>
<td>æœ‰ä»»æ„ä¸€ä¸ªæ»¡è¶³</td>
</tr>
<tr>
<td><code>all_of</code></td>
<td>æ‰€æœ‰éƒ½æ»¡è¶³</td>
</tr>
<tr>
<td><code>none_of</code></td>
<td>å…¨éƒ¨éƒ½ä¸æ»¡è¶³</td>
</tr>
</tbody>
</table>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">bool any_even = std::any_of(v.begin(), v.end(), [](int x){ return x % 2 == 0; });
bool all_positive = std::all_of(v.begin(), v.end(), [](int x){ return x &gt; 0; });
bool none_negative = std::none_of(v.begin(), v.end(), [](int x){ return x &lt; 0; });
</code></pre>
<hr>
<h4 id="5-stdadjacent_find">5. <code>std::adjacent_find</code></h4>
<p>æŸ¥æ‰¾<strong>ç›¸é‚»çš„ä¸¤ä¸ªç›¸ç­‰å…ƒç´ </strong>æˆ–æ»¡è¶³æŸè‡ªå®šä¹‰æ¡ä»¶çš„ä¸€å¯¹ç›¸é‚»å…ƒç´ ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1, 2, 2, 3, 4};
auto it = std::adjacent_find(v.begin(), v.end());  // æ‰¾åˆ°ç¬¬ä¸€ä¸ª 2,2
</code></pre>
<hr>
<h4 id="6-stdsearch--search_n">6. <code>std::search</code> / <code>search_n</code></h4>
<p>åœ¨åºåˆ—ä¸­æŸ¥æ‰¾æŸä¸ª<strong>å­åºåˆ—</strong> æˆ– <strong>è¿ç»­ n ä¸ªå€¼</strong> å‡ºç°çš„ä½ç½®ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<p><strong><code>std::search</code> â€“ æŸ¥æ‰¾å­åºåˆ—</strong></p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1,2,3,4,5};
std::vector&lt;int&gt; pattern = {3,4};
auto it = std::search(v.begin(), v.end(), pattern.begin(), pattern.end());
</code></pre>
<p><strong><code>std::search_n</code> â€“ æŸ¥æ‰¾ n è¿ç»­å€¼</strong></p>
<pre><code class="language-cpp">auto it = std::search_n(v.begin(), v.end(), 3, 7);  // è¿ç»­3ä¸ª7
</code></pre>
<hr>
<h4 id="7-äºŒåˆ†æŸ¥æ‰¾ç±»-éœ€è¦å·²æ’åº">7. äºŒåˆ†æŸ¥æ‰¾ç±»ï¼ˆâš  éœ€è¦å·²æ’åºï¼‰</h4>
<p>å¸¸ç”¨äºï¼š<code>vector</code>, <code>array</code>, æˆ– <code>set</code> ä¸­ï¼Œå…ƒç´ æŒ‰å‡åºæ’åˆ—</p>
<p><strong><code>std::binary_search</code>ï¼ˆåªè¿”å›æ˜¯å¦å­˜åœ¨ï¼‰</strong></p>
<pre><code class="language-cpp">std::sort(v.begin(), v.end());  // å¿…é¡»æ’åº
bool found = std::binary_search(v.begin(), v.end(), 5);
</code></pre>
<p><strong><code>std::lower_bound</code> / <code>upper_bound</code></strong></p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¿”å›</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>lower_bound</code></td>
<td>ç¬¬ä¸€ä¸ª â‰¥ val çš„ä½ç½®</td>
</tr>
<tr>
<td><code>upper_bound</code></td>
<td>ç¬¬ä¸€ä¸ª &gt; val çš„ä½ç½®</td>
</tr>
</tbody>
</table>
<pre><code class="language-cpp">auto lb = std::lower_bound(v.begin(), v.end(), 5);
auto ub = std::upper_bound(v.begin(), v.end(), 5);
</code></pre>
<p><strong><code>std::equal_range</code></strong></p>
<pre><code class="language-cpp">auto [low, up] = std::equal_range(v.begin(), v.end(), 5);  // ä¸€æ¬¡æŸ¥ä¸¤ä¸ª
</code></pre>
<hr>
<p>ç¤ºä¾‹ï¼šè®¡æ•°æœ‰å‡ ä¸ªç­‰äº 5 çš„å…ƒç´ ï¼ˆå·²æ’åºå®¹å™¨ï¼‰</p>
<pre><code class="language-cpp">int count = std::upper_bound(v.begin(), v.end(), 5) -
            std::lower_bound(v.begin(), v.end(), 5);
</code></pre>
<hr>
<h4 id="æŸ¥æ‰¾ç±»ç®—æ³•ä½¿ç”¨å»ºè®®">æŸ¥æ‰¾ç±»ç®—æ³•ä½¿ç”¨å»ºè®®</h4>
<table>
<thead>
<tr>
<th>åœºæ™¯</th>
<th>æ¨èç®—æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç²¾ç¡®æŸ¥æ‰¾</td>
<td><code>std::find</code></td>
</tr>
<tr>
<td>æ¡ä»¶æŸ¥æ‰¾</td>
<td><code>std::find_if</code></td>
</tr>
<tr>
<td>è®¡æ•°å€¼å‡ºç°æ¬¡æ•°</td>
<td><code>std::count</code></td>
</tr>
<tr>
<td>åˆ¤æ–­æ˜¯å¦æœ‰æŸç§å…ƒç´ </td>
<td><code>std::any_of</code></td>
</tr>
<tr>
<td>ç›¸é‚»é‡å¤æŸ¥æ‰¾</td>
<td><code>std::adjacent_find</code></td>
</tr>
<tr>
<td>æŸ¥æ‰¾å­åºåˆ—</td>
<td><code>std::search</code></td>
</tr>
<tr>
<td>äºŒåˆ†æŸ¥æ‰¾ï¼ˆæœ‰åºï¼‰</td>
<td><code>std::binary_search</code>, <code>lower_bound</code></td>
</tr>
</tbody>
</table>
<hr>
<h4 id="æ€§èƒ½">æ€§èƒ½</h4>
<table>
<thead>
<tr>
<th>ç®—æ³•</th>
<th>æ—¶é—´å¤æ‚åº¦</th>
<th>è¦æ±‚</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>find</code>, <code>count</code> ç­‰çº¿æ€§æŸ¥æ‰¾</td>
<td>O(n)</td>
<td>æ— éœ€æ’åº</td>
</tr>
<tr>
<td><code>binary_search</code>, <code>lower_bound</code></td>
<td>O(log n)</td>
<td><strong>å¿…é¡»æ’åº</strong>ï¼Œæ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="3-ä¿®æ”¹ç±»">3. ä¿®æ”¹ç±»</h3>
<hr>
<h4 id="ä¿®æ”¹ç±»ç®—æ³•æ€»è§ˆ">ä¿®æ”¹ç±»ç®—æ³•æ€»è§ˆ</h4>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>ç®—æ³•å</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ‹·è´ç±»</td>
<td><code>std::copy</code>, <code>copy_n</code>, <code>copy_if</code>, <code>move</code></td>
<td>æ‹·è´å…ƒç´ æˆ–ç§»åŠ¨å…ƒç´ </td>
</tr>
<tr>
<td>æ›¿æ¢ç±»</td>
<td><code>std::replace</code>, <code>replace_if</code>, <code>replace_copy</code></td>
<td>æ›¿æ¢æ»¡è¶³æ¡ä»¶çš„å…ƒç´ </td>
</tr>
<tr>
<td>å¡«å……ç±»</td>
<td><code>std::fill</code>, <code>fill_n</code>, <code>generate</code>, <code>generate_n</code>, <code>iota</code></td>
<td>å¡«å……æˆ–ç”Ÿæˆå…ƒç´ </td>
</tr>
<tr>
<td>åˆ é™¤ç±»</td>
<td><code>std::remove</code>, <code>remove_if</code>, <code>unique</code></td>
<td>ç§»é™¤æˆ–å‹ç¼©å…ƒç´ ï¼ˆæƒ°æ€§ï¼‰</td>
</tr>
<tr>
<td>äº¤æ¢ç±»</td>
<td><code>std::swap</code>, <code>iter_swap</code>, <code>swap_ranges</code></td>
<td>äº¤æ¢å…ƒç´ æˆ–èŒƒå›´</td>
</tr>
<tr>
<td>åè½¬ç±»</td>
<td><code>std::reverse</code>, <code>reverse_copy</code>, <code>rotate</code>, <code>shuffle</code></td>
<td>è°ƒæ•´å…ƒç´ é¡ºåº</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="1-æ‹·è´ç±»">1. æ‹·è´ç±»</h4>
<h5 id="stdcopy--å¤åˆ¶æ•´ä¸ªåŒºé—´"><code>std::copy</code> â€“ å¤åˆ¶æ•´ä¸ªåŒºé—´</h5>
<pre><code class="language-cpp">std::copy(src.begin(), src.end(), dest.begin());
</code></pre>
<ul>
<li>æ³¨æ„ <code>dest</code> å¿…é¡»æœ‰è¶³å¤Ÿç©ºé—´ï¼Œæˆ–ç”¨ <code>back_inserter</code> å¢é•¿å®¹å™¨ã€‚</li>
</ul>
<h5 id="stdcopy_if--æ¡ä»¶å¤åˆ¶"><code>std::copy_if</code> â€“ æ¡ä»¶å¤åˆ¶</h5>
<pre><code class="language-cpp">std::copy_if(v.begin(), v.end(), std::back_inserter(result),
             [](int x){ return x % 2 == 0; });
</code></pre>
<h5 id="stdcopy_n--å¤åˆ¶å›ºå®šæ•°é‡å…ƒç´ "><code>std::copy_n</code> â€“ å¤åˆ¶å›ºå®šæ•°é‡å…ƒç´ </h5>
<pre><code class="language-cpp">std::copy_n(src.begin(), 5, std::back_inserter(result));
</code></pre>
<hr>
<h4 id="2-æ›¿æ¢ç±»">2. æ›¿æ¢ç±»</h4>
<h5 id="stdreplace--æ›¿æ¢å€¼"><code>std::replace</code> â€“ æ›¿æ¢å€¼</h5>
<pre><code class="language-cpp">std::replace(v.begin(), v.end(), 3, 99);  // æŠŠ 3 æ›¿æ¢æˆ 99
</code></pre>
<h5 id="stdreplace_if--æ»¡è¶³æ¡ä»¶çš„å…ƒç´ è¢«æ›¿æ¢"><code>std::replace_if</code> â€“ æ»¡è¶³æ¡ä»¶çš„å…ƒç´ è¢«æ›¿æ¢</h5>
<pre><code class="language-cpp">std::replace_if(v.begin(), v.end(), [](int x){ return x &lt; 0; }, 0);
</code></pre>
<h5 id="stdreplace_copy--æ›¿æ¢å¹¶å†™å…¥å¦ä¸€ä¸ªå®¹å™¨"><code>std::replace_copy</code> â€“ æ›¿æ¢å¹¶å†™å…¥å¦ä¸€ä¸ªå®¹å™¨</h5>
<pre><code class="language-cpp">std::replace_copy(v.begin(), v.end(), std::back_inserter(result), 3, 100);
</code></pre>
<hr>
<h4 id="3-å¡«å……ç±»">3. å¡«å……ç±»</h4>
<h5 id="stdfill--å°†åŒºé—´å¡«å……ä¸ºæŸä¸ªå€¼"><code>std::fill</code> â€“ å°†åŒºé—´å¡«å……ä¸ºæŸä¸ªå€¼</h5>
<pre><code class="language-cpp">std::fill(v.begin(), v.end(), 0);
</code></pre>
<h5 id="stdfill_n--ä»èµ·ç‚¹å¡«å……-n-ä¸ªå€¼"><code>std::fill_n</code> â€“ ä»èµ·ç‚¹å¡«å…… n ä¸ªå€¼</h5>
<pre><code class="language-cpp">std::fill_n(v.begin(), 5, 1);
</code></pre>
<h5 id="stdgenerate--ç”¨å‡½æ•°å¡«å……åŒºé—´"><code>std::generate</code> â€“ ç”¨å‡½æ•°å¡«å……åŒºé—´</h5>
<pre><code class="language-cpp">int n = 0;
std::generate(v.begin(), v.end(), [&amp;](){ return ++n; });  // v = {1,2,3,...}
</code></pre>
<h5 id="stdgenerate_n"><code>std::generate_n</code></h5>
<pre><code class="language-cpp">std::generate_n(std::back_inserter(v), 5, [](){ return rand(); });
</code></pre>
<h5 id="stdiotaåœ¨-numeric-ä¸­-é€’å¢å¡«å……"><code>std::iota</code>ï¼ˆåœ¨ <code>&lt;numeric&gt;</code> ä¸­ï¼‰â€“ é€’å¢å¡«å……</h5>
<pre><code class="language-cpp">std::iota(v.begin(), v.end(), 1);  // v = {1, 2, 3, ...}
</code></pre>
<hr>
<h4 id="4-åˆ é™¤ç±»æƒ°æ€§åˆ é™¤éœ€è¦é…åˆ-erase">4. åˆ é™¤ç±»ï¼ˆæƒ°æ€§åˆ é™¤ï¼Œéœ€è¦é…åˆ <code>erase</code>ï¼‰</h4>
<h5 id="stdremove--ç§»é™¤æŸä¸ªå€¼ä¸æ”¹å˜å®¹å™¨å¤§å°"><code>std::remove</code> â€“ ç§»é™¤æŸä¸ªå€¼ï¼ˆä¸æ”¹å˜å®¹å™¨å¤§å°ï¼‰</h5>
<pre><code class="language-cpp">auto it = std::remove(v.begin(), v.end(), 3);
v.erase(it, v.end());  // ç‰©ç†åˆ é™¤
</code></pre>
<h5 id="stdremove_if--æŒ‰æ¡ä»¶ç§»é™¤å…ƒç´ "><code>std::remove_if</code> â€“ æŒ‰æ¡ä»¶ç§»é™¤å…ƒç´ </h5>
<pre><code class="language-cpp">auto it = std::remove_if(v.begin(), v.end(), [](int x){ return x &lt; 0; });
v.erase(it, v.end());
</code></pre>
<h5 id="stdunique--ç§»é™¤ç›¸é‚»é‡å¤å…ƒç´ "><code>std::unique</code> â€“ ç§»é™¤ç›¸é‚»é‡å¤å…ƒç´ </h5>
<pre><code class="language-cpp">std::sort(v.begin(), v.end());
auto it = std::unique(v.begin(), v.end());
v.erase(it, v.end());  // åªä¿ç•™å”¯ä¸€å€¼
</code></pre>
<hr>
<h4 id="5-äº¤æ¢ç±»">5. äº¤æ¢ç±»</h4>
<h5 id="stdswap--äº¤æ¢ä¸¤ä¸ªå˜é‡"><code>std::swap</code> â€“ äº¤æ¢ä¸¤ä¸ªå˜é‡</h5>
<pre><code class="language-cpp">std::swap(a, b);
</code></pre>
<h5 id="stditer_swap--äº¤æ¢ä¸¤ä¸ªè¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ "><code>std::iter_swap</code> â€“ äº¤æ¢ä¸¤ä¸ªè¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ </h5>
<pre><code class="language-cpp">std::iter_swap(it1, it2);
</code></pre>
<h5 id="stdswap_ranges--äº¤æ¢ä¸¤ä¸ªåŒºé—´å…ƒç´ "><code>std::swap_ranges</code> â€“ äº¤æ¢ä¸¤ä¸ªåŒºé—´å…ƒç´ </h5>
<pre><code class="language-cpp">std::swap_ranges(a.begin(), a.end(), b.begin());
</code></pre>
<hr>
<h4 id="6-åè½¬ç±»--é‡æ’ç±»">6. åè½¬ç±» / é‡æ’ç±»</h4>
<h5 id="stdreverse--åŸåœ°åè½¬åŒºé—´"><code>std::reverse</code> â€“ åŸåœ°åè½¬åŒºé—´</h5>
<pre><code class="language-cpp">std::reverse(v.begin(), v.end());
</code></pre>
<h5 id="stdreverse_copy"><code>std::reverse_copy</code></h5>
<pre><code class="language-cpp">std::reverse_copy(v.begin(), v.end(), std::back_inserter(result));
</code></pre>
<h5 id="stdrotate--å·¦æ—‹æˆ–å³æ—‹"><code>std::rotate</code> â€“ å·¦æ—‹æˆ–å³æ—‹</h5>
<pre><code class="language-cpp">std::rotate(v.begin(), v.begin() + 2, v.end());  // å·¦æ—‹ 2 ä½
</code></pre>
<h5 id="stdshufflec11-èµ·"><code>std::shuffle</code>ï¼ˆC++11 èµ·ï¼‰</h5>
<pre><code class="language-cpp">std::random_device rd;
std::mt19937 g(rd());
std::shuffle(v.begin(), v.end(), g);
</code></pre>
<hr>
<h4 id="ç¤ºä¾‹ä»å®¹å™¨ä¸­åˆ å»æ‰€æœ‰è´Ÿæ•°å¹¶å°†å‰©ä¸‹çš„æ•°å…¨éƒ¨ç¿»å€">ç¤ºä¾‹ï¼šä»å®¹å™¨ä¸­åˆ å»æ‰€æœ‰è´Ÿæ•°ï¼Œå¹¶å°†å‰©ä¸‹çš„æ•°å…¨éƒ¨ç¿»å€</h4>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {-1, 2, -3, 4, 5};

// 1. åˆ é™¤è´Ÿæ•°
v.erase(std::remove_if(v.begin(), v.end(), [](int x){ return x &lt; 0; }), v.end());

// 2. ç¿»å€ï¼ˆç”¨ transform ä¿®æ”¹åŸå®¹å™¨ï¼‰
std::transform(v.begin(), v.end(), v.begin(), [](int x){ return x * 2; });
</code></pre>
<hr>
<h4 id="æ€»ç»“å¯¹æ¯”è¡¨">æ€»ç»“å¯¹æ¯”è¡¨</h4>
<table>
<thead>
<tr>
<th>ç®—æ³•</th>
<th>åŠŸèƒ½</th>
<th>æ³¨æ„äº‹é¡¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>copy</code>, <code>copy_if</code>, <code>copy_n</code></td>
<td>æ‹·è´åŒºé—´å…ƒç´ </td>
<td>è¾“å‡ºå®¹å™¨è¦é¢„ç•™ç©ºé—´</td>
</tr>
<tr>
<td><code>replace</code>, <code>replace_if</code></td>
<td>æ›¿æ¢å…ƒç´ </td>
<td>æ”¹å˜åŸå®¹å™¨å†…å®¹</td>
</tr>
<tr>
<td><code>fill</code>, <code>generate</code>, <code>iota</code></td>
<td>æ‰¹é‡å¡«å……</td>
<td>å¸¸ç”¨äºåˆå§‹åŒ–å®¹å™¨</td>
</tr>
<tr>
<td><code>remove</code>, <code>remove_if</code></td>
<td>ç§»é™¤å…ƒç´ ï¼ˆæƒ°æ€§ï¼‰</td>
<td>éœ€ <code>erase</code> æ‰çœŸæ­£åˆ é™¤</td>
</tr>
<tr>
<td><code>reverse</code>, <code>rotate</code>, <code>shuffle</code></td>
<td>è°ƒæ•´é¡ºåº</td>
<td>å¯ç”¨äºæ‰“ä¹±ã€ç§»åŠ¨ã€ç¿»è½¬</td>
</tr>
<tr>
<td><code>swap</code>, <code>iter_swap</code></td>
<td>å…ƒç´ äº’æ¢</td>
<td>å¸¸ç”¨äºæ’åºå†…éƒ¨å®ç°</td>
</tr>
</tbody>
</table>
<h3 id="4-æ’åºç±»">4. æ’åºç±»</h3>
<p>å½“ç„¶ï¼Œä¸‹é¢æ˜¯å¯¹ C++ STL ä¸­ <strong>æ’åºç±»ç®—æ³•ï¼ˆSorting Algorithmsï¼‰</strong> çš„<strong>è¯¦ç»†ä»‹ç»</strong>ï¼ŒåŒ…æ‹¬å¸¸ç”¨å‡½æ•°ã€åŠŸèƒ½å·®å¼‚ã€é€‚ç”¨åœºæ™¯ã€æ€§èƒ½ï¼Œä»¥åŠä½¿ç”¨ç¤ºä¾‹ã€‚</p>
<hr>
<h4 id="æ’åºç±»ç®—æ³•æ€»è§ˆ">æ’åºç±»ç®—æ³•æ€»è§ˆ</h4>
<table>
<thead>
<tr>
<th>ç®—æ³•åç§°</th>
<th>åŠŸèƒ½</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::sort</code></td>
<td>å¿«é€Ÿæ’åºï¼Œé»˜è®¤å‡åº</td>
<td><strong>æœ€å¿«</strong>ï¼Œä¸ç¨³å®šæ’åº</td>
</tr>
<tr>
<td><code>std::stable_sort</code></td>
<td>ç¨³å®šæ’åºï¼ˆå½’å¹¶ï¼‰</td>
<td>ä¿ç•™ç›¸ç­‰å…ƒç´ ç›¸å¯¹é¡ºåº</td>
</tr>
<tr>
<td><code>std::partial_sort</code></td>
<td>åªæ’åºå‰ <code>k</code> ä¸ªå…ƒç´ </td>
<td>éƒ¨åˆ†æ’åº</td>
</tr>
<tr>
<td><code>std::nth_element</code></td>
<td>å°†ç¬¬ n å°å…ƒç´ æ”¾åˆ°ç¬¬ n ä½</td>
<td>éå®Œå…¨æ’åºï¼Œé€‚åˆæ‰¾ä¸­ä½æ•°</td>
</tr>
<tr>
<td><code>std::is_sorted</code></td>
<td>åˆ¤æ–­æ˜¯å¦æœ‰åº</td>
<td>å¸ƒå°”è¿”å›å€¼</td>
</tr>
<tr>
<td><code>std::is_sorted_until</code></td>
<td>æ‰¾åˆ°æœªæ’åºçš„ä½ç½®</td>
<td>è¿”å›è¿­ä»£å™¨</td>
</tr>
<tr>
<td><code>std::reverse</code></td>
<td>åè½¬åºåˆ—</td>
<td>éæ’åºï¼Œä½†å¸¸ç»“åˆä½¿ç”¨</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="1-stdsort--å¿«é€Ÿæ’åºé»˜è®¤">1. <code>std::sort</code> â€“ å¿«é€Ÿæ’åºï¼ˆé»˜è®¤ï¼‰</h4>
<p>å°†å®¹å™¨å†…çš„å…ƒç´ <strong>æŒ‰å‡åº</strong>æˆ–è‡ªå®šä¹‰è§„åˆ™<strong>æ’åº</strong>ï¼ŒåŸå‹ï¼š</p>
<pre><code class="language-cpp">template &lt;class RandomIt&gt;
void sort(RandomIt first, RandomIt last);

template &lt;class RandomIt, class Compare&gt;
void sort(RandomIt first, RandomIt last, Compare comp);
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>ä»…é€‚ç”¨äº<strong>éšæœºè®¿é—®è¿­ä»£å™¨</strong>ï¼šå¦‚ <code>vector</code>, <code>array</code>, <code>deque</code></li>
<li>å¹³å‡æ—¶é—´å¤æ‚åº¦ <strong>O(n log n)</strong>ï¼Œæœ€å <strong>O(nÂ²)</strong>ï¼ˆä½†å®ç°åšäº†ä¼˜åŒ–ï¼‰</li>
<li><strong>ä¸ç¨³å®šæ’åº</strong>ï¼ˆç›¸ç­‰å…ƒç´ ç›¸å¯¹ä½ç½®å¯èƒ½å˜åŒ–ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {5, 3, 1, 4};
std::sort(v.begin(), v.end());  // å‡åº
std::sort(v.begin(), v.end(), std::greater&lt;&gt;());  // é™åº
</code></pre>
<hr>
<h4 id="2-stdstable_sort--ç¨³å®šæ’åº">2. <code>std::stable_sort</code> â€“ ç¨³å®šæ’åº</h4>
<p>æ’åºå<strong>ä¿ç•™ç›¸ç­‰å…ƒç´ çš„åŸå§‹é¡ºåº</strong>ï¼ŒåŸå‹</p>
<pre><code class="language-cpp">template &lt;class RandomIt&gt;
void stable_sort(RandomIt first, RandomIt last);

template &lt;class RandomIt, class Compare&gt;
void stable_sort(RandomIt first, RandomIt last, Compare comp);
</code></pre>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>å½’å¹¶æ’åº</strong>å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦ <strong>O(n logÂ² n)</strong> æˆ– <strong>O(n log n)</strong>ï¼ˆéƒ¨åˆ†å®ç°ä¼˜åŒ–ï¼‰</li>
<li>å¯¹äºæ’åºåä»éœ€ä¾èµ–åŸå§‹é¡ºåºçš„æƒ…å†µéå¸¸æœ‰ç”¨</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">struct Person { std::string name; int age; };

std::vector&lt;Person&gt; people = {{"Alice", 30}, {"Bob", 25}, {"Amy", 30}};
std::stable_sort(people.begin(), people.end(), 
    [](const Person&amp; a, const Person&amp; b){ return a.age &lt; b.age; });
</code></pre>
<hr>
<h4 id="3-stdpartial_sort--éƒ¨åˆ†æ’åº">3. <code>std::partial_sort</code> â€“ éƒ¨åˆ†æ’åº</h4>
<p>åªå¯¹<strong>å‰ k ä¸ªå…ƒç´ æ’åº</strong></p>
<pre><code class="language-cpp">template &lt;class RandomIt&gt;
void partial_sort(RandomIt first, RandomIt middle, RandomIt last);

template &lt;class RandomIt, class Compare&gt;
void partial_sort(RandomIt first, RandomIt middle, RandomIt last, Compare comp);
</code></pre>
<p>åŸç†ï¼š</p>
<ul>
<li>å¯¹ <code>first</code> åˆ° <code>last</code> åŒºé—´æ’åº</li>
<li>æ’å¥½åºçš„å‰ <code>middle - first</code> ä¸ªå…ƒç´ æ”¾åœ¨ <code>[first, middle)</code></li>
</ul>
<p>ç¤ºä¾‹ï¼šæ‰¾å‰ 3 å°ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {9, 2, 7, 4, 1, 5};
std::partial_sort(v.begin(), v.begin() + 3, v.end());  // v[0..2] æ˜¯æœ€å°çš„ 3 ä¸ªå…ƒç´ 
</code></pre>
<hr>
<h4 id="4-stdnth_element--æ‰¾ç¬¬-n-å°çš„å…ƒç´ ">4. <code>std::nth_element</code> â€“ æ‰¾ç¬¬ n å°çš„å…ƒç´ </h4>
<p>å°†ç¬¬ <code>n</code> å°çš„å…ƒç´ æ”¾åˆ°æ­£ç¡®ä½ç½®ï¼Œå·¦è¾¹æ¯”å®ƒå°ï¼Œå³è¾¹æ¯”å®ƒå¤§ï¼Œä½†å·¦å³<strong>ä¸ä¿è¯æ’åº</strong></p>
<pre><code class="language-cpp">template &lt;class RandomIt&gt;
void nth_element(RandomIt first, RandomIt nth, RandomIt last);

template &lt;class RandomIt, class Compare&gt;
void nth_element(RandomIt first, RandomIt nth, RandomIt last, Compare comp);
</code></pre>
<ul>
<li>å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º <strong>O(n)</strong>ï¼ˆé€‚åˆå¤§æ•°æ®åœºæ™¯ï¼‰</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {7, 2, 4, 8, 1, 5};
std::nth_element(v.begin(), v.begin() + 2, v.end());  // ç¬¬ 3 å°çš„æ•°æ”¾åœ¨ v[2]
</code></pre>
<hr>
<h4 id="5-stdis_sorted--is_sorted_until">5. <code>std::is_sorted</code> / <code>is_sorted_until</code></h4>
<p><code>std::is_sorted</code>ï¼š</p>
<p>åˆ¤æ–­åŒºé—´æ˜¯å¦å·²ç»æ’åº</p>
<pre><code class="language-cpp">bool ok = std::is_sorted(v.begin(), v.end());
</code></pre>
<p><code>std::is_sorted_until</code>ï¼š</p>
<p>è¿”å›ç¬¬ä¸€ä¸ª<strong>ä¸æ»¡è¶³æ’åºè§„åˆ™</strong>çš„è¿­ä»£å™¨</p>
<pre><code class="language-cpp">auto it = std::is_sorted_until(v.begin(), v.end());
</code></pre>
<hr>
<h4 id="6-stdreverse--åè½¬">6. <code>std::reverse</code> â€“ åè½¬</h4>
<p>å°†å®¹å™¨å†…æ•°æ®åè½¬</p>
<pre><code class="language-cpp">std::reverse(v.begin(), v.end());
</code></pre>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

int main() {
    std::vector&lt;int&gt; v = {9, 2, 7, 4, 1, 5};
    std::reverse(v.begin(), v.end());
    for (int v1: v) {
        std::cout &lt;&lt; v1 &lt;&lt; " ";
    }
    //è¾“å‡º 5 1 4 7 2 9
}
</code></pre>
<h4 id="åº”ç”¨å®ä¾‹å¯¹æ¯”">åº”ç”¨å®ä¾‹å¯¹æ¯”</h4>
<p>âœ” æ‰¾å‡ºå‰ 5 ä¸ªæœ€å¤§å€¼ï¼ˆé™åºï¼‰</p>
<pre><code class="language-cpp">std::partial_sort(v.begin(), v.begin() + 5, v.end(), std::greater&lt;&gt;());
</code></pre>
<p>âœ” æ’åºè‡ªå®šä¹‰å¯¹è±¡ï¼ˆæŒ‰å¤šä¸ªå­—æ®µï¼‰</p>
<pre><code class="language-cpp">struct Student { std::string name; int score; int age; };

std::sort(v.begin(), v.end(), [](const Student&amp; a, const Student&amp; b){
    return std::tie(a.score, a.age) &gt; std::tie(b.score, b.age);  // scoreä¼˜å…ˆé™åºï¼Œageé™åº
});
</code></pre>
<hr>
<h4 id="é€‰æ‹©å»ºè®®-1">é€‰æ‹©å»ºè®®</h4>
<table>
<thead>
<tr>
<th>éœ€æ±‚</th>
<th>æ¨èç®—æ³•</th>
</tr>
</thead>
<tbody>
<tr>
<td>å®Œæ•´æ’åºï¼Œé€Ÿåº¦ä¼˜å…ˆ</td>
<td><code>std::sort</code></td>
</tr>
<tr>
<td>å®Œæ•´æ’åºï¼Œé¡ºåºç¨³å®š</td>
<td><code>std::stable_sort</code></td>
</tr>
<tr>
<td>æ‰¾ç¬¬ n å°ï¼ˆæˆ–å‰ k å°ï¼‰</td>
<td><code>std::nth_element</code></td>
</tr>
<tr>
<td>æ’å‰å‡ é¡¹å³å¯</td>
<td><code>std::partial_sort</code></td>
</tr>
<tr>
<td>åˆ¤æ–­æ˜¯å¦å·²æ’åº</td>
<td><code>std::is_sorted</code></td>
</tr>
</tbody>
</table>
<h3 id="5-æ¯”è¾ƒç±»">5. æ¯”è¾ƒç±»</h3>
<h4 id="stdequal"><code>std::equal</code></h4>
<p>åˆ¤æ–­ä¸¤ä¸ªåºåˆ—çš„æ‰€æœ‰å¯¹åº”å…ƒç´ æ˜¯å¦ç›¸ç­‰ã€‚</p>
<pre><code class="language-cpp">// ç¬¬ä¸€ç§ï¼šä¸¤ä¸ªèŒƒå›´ [first1, last1) å’Œ ä» first2 å¼€å§‹çš„åºåˆ—
template&lt;class InputIt1, class InputIt2&gt;
bool equal(InputIt1 first1, InputIt1 last1, InputIt2 first2);

// ç¬¬äºŒç§ï¼šè‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°
template&lt;class InputIt1, class InputIt2, class BinaryPredicate&gt;
bool equal(InputIt1 first1, InputIt1 last1, InputIt2 first2, BinaryPredicate p);

</code></pre>
<p>è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼š</p>
<pre><code class="language-cpp">#include &lt;string&gt;
#include &lt;algorithm&gt;
#include &lt;cctype&gt;

bool char_equal_ignore_case(char a, char b) {
    return std::tolower(a) == std::tolower(b);
}

int main() {
    std::string s1 = "Hello";
    std::string s2 = "hELLo";

    if (std::equal(s1.begin(), s1.end(), s2.begin(), char_equal_ignore_case)) {
        std::cout &lt;&lt; "Equal ignoring case\n";
    }
}

</code></pre>
<h4 id="stdlexicographical_compare"><code>std::lexicographical_compare</code></h4>
<p><code>std::lexicographical_compare</code> æ˜¯ä¸€ä¸ª STL ç®—æ³•ï¼Œç”¨äºåˆ¤æ–­ä¸¤ä¸ªåºåˆ—çš„<strong>å­—å…¸åºï¼ˆlexicographical orderï¼‰å¤§å°å…³ç³»</strong>ã€‚</p>
<pre><code class="language-cpp">bool smaller = std::lexicographical_compare(a.begin(), a.end(), b.begin(), b.end());
</code></pre>
<hr>
<h3 id="6-æ•°å€¼ç±»éœ€-numeric">6. æ•°å€¼ç±»ï¼ˆéœ€ <code>&lt;numeric&gt;</code>ï¼‰</h3>
<p>æ•°å€¼ç±»ç®—æ³•æ˜¯ <code>&lt;numeric&gt;</code> å¤´æ–‡ä»¶ä¸­å®šä¹‰çš„ STL ç®—æ³•ï¼Œä¸»è¦ç”¨äº<strong>å¯¹å®¹å™¨ä¸­çš„æ•°å€¼æ•°æ®è¿›è¡Œæ•°å­¦è®¡ç®—</strong>ã€‚è¿™äº›ç®—æ³•æ˜¯å¯¹â€œæ•°å€¼åºåˆ—â€çš„å¸¸è§å¤„ç†æ¨¡å¼çš„æŠ½è±¡ï¼Œä¾‹å¦‚æ±‚å’Œã€æ±‚ç§¯ã€ç”Ÿæˆæ•°åˆ—ç­‰ã€‚</p>
<table>
<thead>
<tr>
<th>ç®—æ³•</th>
<th>ä½œç”¨</th>
<th>å¸¸è§ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::accumulate</code></td>
<td>æ±‚åŒºé—´å…ƒç´ çš„ç´¯åŠ æˆ–å…¶ä»–äºŒå…ƒæ“ä½œçš„ç»“æœ</td>
<td>æ±‚å’Œã€æ‹¼æ¥å­—ç¬¦ä¸²ã€è‡ªå®šä¹‰ç´¯ç§¯</td>
</tr>
<tr>
<td><code>std::inner_product</code></td>
<td>æ±‚ä¸¤ä¸ªåŒºé—´çš„<strong>å†…ç§¯</strong>ï¼ˆç‚¹ç§¯ï¼‰</td>
<td>å‘é‡ç›¸ä¹˜ã€ç›¸ä¼¼åº¦è®¡ç®—ç­‰</td>
</tr>
<tr>
<td><code>std::iota</code></td>
<td>ç”¨é¡ºåºå€¼å¡«å……å®¹å™¨</td>
<td>åˆå§‹åŒ–ã€ç¼–å·ç­‰</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="stdaccumulateç´¯åŠ --ç´¯ç§¯å€¼"><code>std::accumulate</code>ï¼šç´¯åŠ  / ç´¯ç§¯å€¼</h4>
<ul>
<li>å¯¹åŒºé—´ <code>[first, last)</code> ä¸­çš„å…ƒç´ è¿›è¡Œç´¯è®¡å¤„ç†</li>
<li>é»˜è®¤æ˜¯æ‰§è¡Œ <code>init + x1 + x2 + ...</code></li>
</ul>
<pre><code class="language-cpp">template&lt;class InputIt, class T&gt;
T accumulate(InputIt first, InputIt last, T init);

// å¯è‡ªå®šä¹‰æ“ä½œ
template&lt;class InputIt, class T, class BinaryOperation&gt;
T accumulate(InputIt first, InputIt last, T init, BinaryOperation op);
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1, 2, 3, 4};
int sum = std::accumulate(v.begin(), v.end(), 0);  // 10

std::string s = std::accumulate(v.begin(), v.end(), std::string(),
                                [](std::string acc, int x) {
                                    return acc + std::to_string(x);
                                });  // s = "1234"
</code></pre>
<hr>
<h4 id="stdinner_productå†…ç§¯--ç‚¹ç§¯"><code>std::inner_product</code>ï¼šå†…ç§¯ / ç‚¹ç§¯</h4>
<ul>
<li>å¯¹ä¸¤ä¸ªåºåˆ—æ‰§è¡Œï¼š<code>init + a1*b1 + a2*b2 + ...</code></li>
<li>å¯è‡ªå®šä¹‰åŠ æ³•å’Œä¹˜æ³•æ“ä½œ</li>
</ul>
<pre><code class="language-cpp">template&lt;class InputIt1, class InputIt2, class T&gt;
T inner_product(InputIt1 first1, InputIt1 last1, InputIt2 first2, T init);

// è‡ªå®šä¹‰æ“ä½œ
template&lt;class InputIt1, class InputIt2, class T,
         class BinaryOperation1, class BinaryOperation2&gt;
T inner_product(InputIt1 first1, InputIt1 last1,
                InputIt2 first2, T init,
                BinaryOperation1 add_op,
                BinaryOperation2 mul_op);
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; a = {1, 2, 3};
std::vector&lt;int&gt; b = {4, 5, 6};

int dot = std::inner_product(a.begin(), a.end(), b.begin(), 0);  // 1Ã—4 + 2Ã—5 + 3Ã—6 = 32
</code></pre>
<h4 id="stdiotaå¡«å……é¡ºåºå€¼"><code>std::iota</code>ï¼šå¡«å……é¡ºåºå€¼</h4>
<ul>
<li>å°†å®¹å™¨ä¸­çš„å…ƒç´ ä»èµ·å§‹å€¼å¼€å§‹ï¼Œé€ä¸ªé€’å¢å¡«å……ï¼ˆé»˜è®¤+1ï¼‰</li>
</ul>
<pre><code class="language-cpp">template&lt;class ForwardIt, class T&gt;
void iota(ForwardIt first, ForwardIt last, T value);
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v(5);
std::iota(v.begin(), v.end(), 100);  // v = {100, 101, 102, 103, 104}
</code></pre>
<h3 id="7-é›†åˆç±»å®¹å™¨å¿…é¡»æœ‰åº">7. é›†åˆç±»ï¼ˆå®¹å™¨å¿…é¡»æœ‰åºï¼‰</h3>
<h4 id="stdset_union-set_intersection-set_difference"><code>std::set_union</code>, <code>set_intersection</code>, <code>set_difference</code></h4>
<p>é›†åˆç±»ç®—æ³•æ˜¯ STL <code>&lt;algorithm&gt;</code> ä¸­ç”¨äº<strong>å¤„ç†ä¸¤ä¸ªæœ‰åºå®¹å™¨ä¹‹é—´é›†åˆå…³ç³»</strong>çš„ä¸€ç»„ç®—æ³•ã€‚å®ƒä»¬æ¨¡æ‹Ÿäº†é›†åˆçš„å¹¶é›†ã€äº¤é›†ã€å·®é›†ç­‰æ“ä½œã€‚</p>
<table>
<thead>
<tr>
<th>ç®—æ³•å</th>
<th>ä½œç”¨</th>
<th>è¿”å›èŒƒå›´</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>std::set_union</code></td>
<td>å¹¶é›†ï¼šA âˆª B</td>
<td>æ‰€æœ‰åœ¨ A æˆ– B ä¸­çš„å…ƒç´ </td>
</tr>
<tr>
<td><code>std::set_intersection</code></td>
<td>äº¤é›†ï¼šA âˆ© B</td>
<td>åªå‡ºç°åœ¨ A å’Œ B ä¸­çš„å…ƒç´ </td>
</tr>
<tr>
<td><code>std::set_difference</code></td>
<td>å·®é›†ï¼šA - B</td>
<td>åªå‡ºç°åœ¨ A ä¸­ã€ä¸åœ¨ B ä¸­çš„å…ƒç´ </td>
</tr>
<tr>
<td><code>std::set_symmetric_difference</code></td>
<td>å¯¹ç§°å·®é›†ï¼šA â–³ B</td>
<td>A æˆ– B ä¸­å‡ºç°ä½†ä¸éƒ½å‡ºç°çš„å…ƒç´ </td>
</tr>
</tbody>
</table>
<ul>
<li><strong>å®¹å™¨å¿…é¡»æœ‰åº</strong>ï¼ˆå¦‚ <code>std::set</code>, <code>std::vector</code> æ’å¥½åºï¼‰</li>
<li>é€šå¸¸è¾“å‡ºç»“æœæ”¾åˆ°å¦ä¸€ä¸ªå®¹å™¨ï¼Œç”¨ <code>std::back_inserter</code></li>
</ul>
<hr>
<h4 id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </h4>
<ol>
<li>å¹¶é›† <code>std::set_union</code></li>
</ol>
<pre><code class="language-cpp">std::vector&lt;int&gt; a = {1, 2, 4};
std::vector&lt;int&gt; b = {2, 3, 5};
std::vector&lt;int&gt; result;

std::set_union(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));
// result = {1, 2, 3, 4, 5}
</code></pre>
<hr>
<ol start="2">
<li>äº¤é›† <code>std::set_intersection</code></li>
</ol>
<pre><code class="language-cpp">std::set_intersection(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));
// result = {2}
</code></pre>
<hr>
<ol start="3">
<li>å·®é›† <code>std::set_difference</code>ï¼ˆA - Bï¼‰</li>
</ol>
<pre><code class="language-cpp">std::set_difference(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));
// result = {1, 4}
</code></pre>
<hr>
<ol start="4">
<li>å¯¹ç§°å·®é›† <code>std::set_symmetric_difference</code></li>
</ol>
<pre><code class="language-cpp">std::set_symmetric_difference(a.begin(), a.end(), b.begin(), b.end(), std::back_inserter(result));
// result = {1, 3, 4, 5}
</code></pre>
<h3 id="8-åˆ†åŒºç±»">8. åˆ†åŒºç±»</h3>
<h4 id="stdpartition-stable_partition"><code>std::partition</code>, <code>stable_partition</code></h4>
<p><code>std::partition</code> å’Œ <code>std::stable_partition</code> æ˜¯ STL ä¸­çš„<strong>åˆ†åŒºç±»ç®—æ³•</strong>ï¼Œç”¨äºæ ¹æ®æŸä¸ªæ¡ä»¶ï¼ˆè°“è¯ï¼‰å°†ä¸€ä¸ªåºåˆ—<strong>åˆ’åˆ†æˆä¸¤éƒ¨åˆ†</strong>ï¼š</p>
<blockquote>
<p>æŒ‰ç…§æŒ‡å®šæ¡ä»¶ï¼ŒæŠŠå®¹å™¨ä¸­çš„å…ƒç´ <strong>åˆ†æˆä¸¤ç»„</strong>ï¼šä¸€ç»„æ»¡è¶³æ¡ä»¶ï¼Œå¦ä¸€ç»„ä¸æ»¡è¶³ã€‚</p>
</blockquote>
<ul>
<li><code>std::partition</code>ï¼š<strong>ä¸ä¿è¯ç›¸å¯¹é¡ºåº</strong></li>
<li><code>std::stable_partition</code>ï¼š<strong>ä¿æŒç›¸å¯¹é¡ºåºç¨³å®š</strong></li>
</ul>
<pre><code class="language-cpp">// ä¸ç¨³å®šåˆ†åŒº
template&lt;class BidirIt, class UnaryPredicate&gt;
BidirIt partition(BidirIt first, BidirIt last, UnaryPredicate p);

// ç¨³å®šåˆ†åŒº
template&lt;class BidirIt, class UnaryPredicate&gt;
BidirIt stable_partition(BidirIt first, BidirIt last, UnaryPredicate p);
</code></pre>
<p>è¿”å›å€¼éƒ½æ˜¯ <strong>æ–°çš„â€œä¸­é—´â€è¿­ä»£å™¨</strong>ï¼š</p>
<ul>
<li><code>[first, new_iter)</code> æ˜¯æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†</li>
<li><code>[new_iter, last)</code> æ˜¯ä¸æ»¡è¶³çš„éƒ¨åˆ†</li>
</ul>
<hr>
<h4 id="ç¤ºä¾‹ä»£ç åˆ†åŒºå¥‡å¶">ç¤ºä¾‹ä»£ç ï¼ˆåˆ†åŒºå¥‡å¶ï¼‰</h4>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

bool is_odd(int x) { return x % 2 != 0; }

int main() {
    std::vector&lt;int&gt; v = {1, 2, 3, 4, 5, 6};

    // std::partitionï¼ˆä¸ç¨³å®šï¼‰
    auto it = std::partition(v.begin(), v.end(), is_odd);

    std::cout &lt;&lt; "Partition result: ";
    for (int n : v) std::cout &lt;&lt; n &lt;&lt; " ";
    std::cout &lt;&lt; "\nFirst even: " &lt;&lt; *it &lt;&lt; "\n";
}
</code></pre>
<p><strong>å¯èƒ½è¾“å‡ºï¼š</strong>ï¼ˆé¡ºåºä¸ä¿è¯ï¼‰</p>
<pre><code>Partition result: 5 3 1 4 2 6
First even: 4
</code></pre>
<hr>
<h4 id="ç¨³å®šç‰ˆæœ¬stdstable_partition">ç¨³å®šç‰ˆæœ¬ï¼š<code>std::stable_partition</code></h4>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1, 2, 3, 4, 5, 6};

auto it = std::stable_partition(v.begin(), v.end(), is_odd);

// è¾“å‡ºï¼š1 3 5 2 4 6
</code></pre>
<p>ç¨³å®šåˆ†åŒº<strong>ä¿ç•™äº†åŸå§‹é¡ºåº</strong>ï¼Œå³å¥‡æ•°ä»ç„¶æ˜¯åŸæ¥çš„é¡ºåº 1, 3, 5ï¼Œå¶æ•°ä»ç„¶æ˜¯ 2, 4, 6ã€‚</p>
<h3 id="å››å¸¸è§ç»„åˆç¤ºä¾‹">å››ã€å¸¸è§ç»„åˆç¤ºä¾‹</h3>
<p>å–å¥‡æ•° â†’ ä¹˜2 â†’ æ’åº â†’ å–å‰ 3 ä¸ª</p>
<pre><code class="language-cpp">std::vector&lt;int&gt; v = {1,2,3,4,5,6,7,8};
std::vector&lt;int&gt; filtered, mapped, result;

std::copy_if(v.begin(), v.end(), std::back_inserter(filtered),
             [](int x){ return x % 2 == 1; });
std::transform(filtered.begin(), filtered.end(), std::back_inserter(mapped),
               [](int x){ return x * 2; });
std::sort(mapped.begin(), mapped.end());
std::copy_n(mapped.begin(), std::min&lt;size_t&gt;(3, mapped.size()), std::back_inserter(result));
</code></pre>

</div>
<div id="MySignature" role="contentinfo">
    <p>æœªç»ä½œè€…åŒæ„è¯·å‹¿è½¬è½½</p>
<p>æœ¬æ–‡æ¥è‡ªåšå®¢å›­ä½œè€…ï¼š<a href="https://www.cnblogs.com/aslanvon/" target="_blank">aixueforever</a>ï¼ŒåŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/aslanvon/p/18944922" target="_blank">https://www.cnblogs.com/aslanvon/p/18944922</a></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2025-06-23 19:23">2025-06-23 19:22</span>&nbsp;
<a href="https://www.cnblogs.com/aslanvon">aixueforever</a>&nbsp;
é˜…è¯»(<span id="post_view_count">32</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18944922);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18944922', targetLink: 'https://www.cnblogs.com/aslanvon/p/18944922', title: 'STLï¼šè¿­ä»£å™¨ä¸å¸¸ç”¨ç®—æ³•' })">ä¸¾æŠ¥</a>
</div>
        