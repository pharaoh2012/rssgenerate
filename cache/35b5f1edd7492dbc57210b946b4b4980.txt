
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18853514" title="发布于 2025-04-29 13:21">
    <span role="heading" aria-level="2">Uniapp-DeepSeek跨三端AI助手|uniapp+vue3+deepseek-v3流式ai聊天模板</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><span style="font-size: 18px; font-family: 宋体, &quot;Songti SC&quot;; color: rgba(180, 54, 243, 1)">原创AI实战<span style="background-color: rgba(255, 255, 0, 1)">uniapp+deepseek+vue3</span><strong>跨三端</strong><span style="background-color: rgba(204, 255, 204, 1)">仿DeepSeek/豆包app</span>流式ai对话助手。</span></p>
<p><span style="font-size: 12px"><strong>uniapp-vue3-deepseek</strong> 实战2025<span style="color: rgba(51, 51, 153, 1)">对话ai大模型</span>，基于<span style="background-color: rgba(204, 255, 255, 1)">Uniapp+Vue3+Markdown接入DeepSeek-V3聊天会话</span>大模型，支持<strong>编译到H5+小程序+App端</strong>。实现<span style="background-color: rgba(254, 194, 249, 1)">流式输出、支持亮色/暗黑主题、代码高亮、会话本地存储</span>等功能。</span></p>
<h3>三端预览</h3>
<p><span style="font-size: 12px">编译到<strong>H5+小程序端+App端</strong>运行效果。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429113610851-1979673296.png" alt=""></p>
<h3>技术栈</h3>
<ul>
<li><span style="font-size: 12px">开发工具：Hbuilder X 4.57</span></li>
<li><span style="font-size: 12px">技术框架：Uniapp+Vue3+Pinia2+Vite5.x</span></li>
<li><span style="font-size: 12px">大模型框架：DeepSeek-V3</span></li>
<li><span style="font-size: 12px">UI组件库：uni-ui+uv-ui</span></li>
<li><span style="font-size: 12px">高亮插件：highlight.js</span></li>
<li><span style="font-size: 12px">markdown解析：ua-markdown</span></li>
<li><span style="font-size: 12px">本地缓存：pinia-plugin-unistorage</span></li>
<li><span style="font-size: 12px">支持编译：H5+小程序+APP端</span></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429114300048-888730334.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429115026003-1581086015.gif" alt=""></p>
<p><span style="font-size: 12px">deepseek-uniapp使用最新跨端技术uniapp接入deepseek-v3对话模型，支持编译h5/小程序/app端。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429115042973-368408229.gif" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429115307110-820999877.gif" alt=""></p>
<h3>项目特点</h3>
<ol>
<li><span style="font-size: 12px">基于Uniapp+Vue3构建，对接DeepSeek-V3实现流式输出效果</span></li>
<li><span style="font-size: 12px">支持编译到H5/小程序端/App端</span></li>
<li><span style="font-size: 12px">支持各种代码高亮、上下文多轮对话/本地会话存储</span></li>
<li><span style="font-size: 12px">支持代码块横向滚动、行号、代码复制功能(h5/app端)</span></li>
<li><span style="font-size: 12px">支持图片渲染宽度100%、图片预览功能(h5/app端)</span></li>
<li><span style="font-size: 12px">支持链接跳转功能(h5/app端)</span></li>
<li><span style="font-size: 12px">修复小程序端表格边框线及各类标签选择器样式失效</span></li>
</ol>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429121804494-355384238.gif" alt=""></p>
<h3>项目框架结构</h3>
<p><span style="font-size: 12px">uni-deepseek使用&nbsp;<span class="cnblogs_code">uniapp</span>&nbsp;搭建项目模板，采用&nbsp;<span class="cnblogs_code">vue3 setup</span>&nbsp;语法开发。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429121226298-1328846087.png" alt=""></p>
<blockquote>
<h4><em>uniapp-deepseek跨端ai助手已经同步到我的原创作品集，感谢支持与鼓励~</em></h4>
<p><span style="font-size: 12px"><a href="https://mall.bilibili.com/neul-next/detailuniversal/detail.html?isMerchant=1&amp;page=detailuniversal_detail&amp;saleType=10&amp;itemsId=12307813&amp;loadingShow=1&amp;noTitleBar=1&amp;msource=merchant_share" target="_blank" rel="noopener nofollow">uniapp+deepseek+vue3跨端AI流式输出对话模板</a></span></p>
</blockquote>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429120730931-741118784.gif" alt=""></p>
<p><span style="font-size: 12px">支持h5在pc端以<strong>750px宽度</strong>显示布局。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429122804655-791745464.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429122832706-988812657.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429122845405-42365838.png" alt=""></p>
<h3>uniapp环境变量.env配置</h3>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429123238198-208491377.png" alt="" loading="lazy"></p>
<p><span style="font-size: 12px">在uniapp+vue3项目中，支持.env环境变量配置。</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)"># 项目名称
VITE_APPNAME </span>= 'Uniapp-DeepSeek'<span style="color: rgba(0, 0, 0, 1)">

# 运行端口
VITE_PORT </span>= 5173<span style="color: rgba(0, 0, 0, 1)">

# DeepSeek API配置
VITE_DEEPSEEK_API_KEY </span>=<span style="color: rgba(0, 0, 0, 1)"> 替换为你的APIKey
VITE_DEEPSEEK_BASE_URL </span>= https:<span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">api.deepseek.com</span></pre>
</div>
<h3>入口文件main.js</h3>
<div class="cnblogs_code">
<pre>import App from './App'<span style="color: rgba(0, 0, 0, 1)">
import { createSSRApp } from </span>'vue'

<span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 引入pinia状态管理</span>
import pinia from '@/pinia'<span style="color: rgba(0, 0, 0, 1)">

export </span><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> createApp() {
    const app </span>=<span style="color: rgba(0, 0, 0, 1)"> createSSRApp(App)
    app.use(pinia)
    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> {
        app,
        pinia
    }
}</span></pre>
</div>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429123442926-1943442124.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429123644004-1888010046.png" alt=""></p>
<h3>项目布局结构</h3>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429123918114-670451265.png" alt="" loading="lazy"></p>
<p><span style="font-size: 12px">整个项目布局分为<strong>顶部自定义导航栏+会话内容区+底部编辑区</strong>三个大模块。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429124238620-248568351.png" alt="" loading="lazy"></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">uv3-layout</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 128, 0, 1)">&lt;!--</span><span style="color: rgba(0, 128, 0, 1)"> 导航栏 </span><span style="color: rgba(0, 128, 0, 1)">--&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">template </span><span style="color: rgba(255, 0, 0, 1)">#header</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">Toolbar </span><span style="color: rgba(255, 0, 0, 1)">:title</span><span style="color: rgba(0, 0, 255, 1)">="chatSession?.title"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">v-if</span><span style="color: rgba(0, 0, 255, 1)">="chatSession &amp;&amp; !isEmpty(chatSession.data)"</span><span style="color: rgba(255, 0, 0, 1)"> class</span><span style="color: rgba(0, 0, 255, 1)">="vu__chatview flexbox flex-col"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">scroll-view</span><span style="color: rgba(255, 0, 0, 1)"> :scroll-into-view</span><span style="color: rgba(0, 0, 255, 1)">="scrollIntoView"</span><span style="color: rgba(255, 0, 0, 1)"> scroll-y</span><span style="color: rgba(0, 0, 255, 1)">="true"</span><span style="color: rgba(255, 0, 0, 1)"> @scrolltolower</span><span style="color: rgba(0, 0, 255, 1)">="onScrollToLower"</span><span style="color: rgba(255, 0, 0, 1)"> @scroll</span><span style="color: rgba(0, 0, 255, 1)">="onScroll"</span><span style="color: rgba(255, 0, 0, 1)"> style</span><span style="color: rgba(0, 0, 255, 1)">="height: 100%;"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="vu__chatbot"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span><span style="color: rgba(0, 0, 0, 1)">
                    ...
                </span><span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">id</span><span style="color: rgba(0, 0, 255, 1)">="scrollbottom-placeholder"</span><span style="color: rgba(255, 0, 0, 1)"> style</span><span style="color: rgba(0, 0, 255, 1)">="height: 1px;"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">scroll-view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 128, 0, 1)">&lt;!--</span><span style="color: rgba(0, 128, 0, 1)"> 滚动到底部 </span><span style="color: rgba(0, 128, 0, 1)">--&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="vu__scrollbottom"</span><span style="color: rgba(255, 0, 0, 1)"> @click</span><span style="color: rgba(0, 0, 255, 1)">="scrollToBottom"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;</span><span style="color: rgba(128, 0, 0, 1)">text </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="iconfont ai-arrD fw-700"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">text</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 128, 0, 1)">&lt;!--</span><span style="color: rgba(0, 128, 0, 1)"> 欢迎信息 </span><span style="color: rgba(0, 128, 0, 1)">--&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">v-else class</span><span style="color: rgba(0, 0, 255, 1)">="vu__welcomeinfo"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="intro flex-c flex-col"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="logo flex-c"</span><span style="color: rgba(255, 0, 0, 1)"> style</span><span style="color: rgba(0, 0, 255, 1)">="gap: 15px;"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="iconfont ai-deepseek"</span><span style="color: rgba(255, 0, 0, 1)"> style</span><span style="color: rgba(0, 0, 255, 1)">="font-size: 40px;"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">text </span><span style="color: rgba(255, 0, 0, 1)">style</span><span style="color: rgba(0, 0, 255, 1)">="color: #999; font-size: 20px;"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>+<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">text</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">image </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="/static/uni.png"</span><span style="color: rgba(255, 0, 0, 1)"> mode</span><span style="color: rgba(0, 0, 255, 1)">="widthFix"</span><span style="color: rgba(255, 0, 0, 1)"> style</span><span style="color: rgba(0, 0, 255, 1)">="height: 30px; width: 30px;"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="name"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;</span><span style="color: rgba(128, 0, 0, 1)">text </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="txt text-gradient"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>嘿~ Uniapp-DeepSeek<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">text</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="desc"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>我可以帮你写代码、答疑解惑、写作各种创意内容，请把你的任务交给我吧~<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="prompt"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="tip flex-c"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;</span><span style="color: rgba(128, 0, 0, 1)">text </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="flex1"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>试试这样问<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">text</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="flex-c"</span><span style="color: rgba(255, 0, 0, 1)"> @click</span><span style="color: rgba(0, 0, 255, 1)">="refreshPrompt"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>换一换<span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">uni-icons </span><span style="color: rgba(255, 0, 0, 1)">type</span><span style="color: rgba(0, 0, 255, 1)">="refreshempty"</span><span style="color: rgba(255, 0, 0, 1)"> color</span><span style="color: rgba(0, 0, 255, 1)">="#999"</span><span style="color: rgba(255, 0, 0, 1)"> size</span><span style="color: rgba(0, 0, 255, 1)">="14"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">v-for</span><span style="color: rgba(0, 0, 255, 1)">="(item,index) in promptList"</span><span style="color: rgba(255, 0, 0, 1)"> :key</span><span style="color: rgba(0, 0, 255, 1)">="index"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="option"</span><span style="color: rgba(255, 0, 0, 1)"> @click</span><span style="color: rgba(0, 0, 255, 1)">="changePrompt(item.prompt)"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>{{item.emoji}} {{item.prompt}} <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">text </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="arrow iconfont ai-arrR c-999"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">text</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">template </span><span style="color: rgba(255, 0, 0, 1)">#footer</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">view </span><span style="color: rgba(255, 0, 0, 1)">:style</span><span style="color: rgba(0, 0, 255, 1)">="{'padding-bottom': keyboardHeight + 'px'}"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
                <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">ChatEditor </span><span style="color: rgba(255, 0, 0, 1)">ref</span><span style="color: rgba(0, 0, 255, 1)">="editorRef"</span><span style="color: rgba(255, 0, 0, 1)"> v-model</span><span style="color: rgba(0, 0, 255, 1)">="promptValue"</span><span style="color: rgba(255, 0, 0, 1)"> :scrollBottom</span><span style="color: rgba(0, 0, 255, 1)">="scrollToBottom"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">view</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">uv3-layout</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429124728201-324039318.gif" alt=""></p>
<h3>uniapp+vue3解析markdown结构</h3>
<p><span style="font-size: 12px">uniapp+deepseek流式输出数据，通过之前封装的markdown-it组件解析标签结构。亲测<strong>完美支持在H5端+小程序端+App端</strong>流式Markdown解析。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429125234368-1884369306.png" alt="" loading="lazy"></p>
<p><span style="font-size: 12px">修复微信小程序里rich-text组件不支持标签选择器，导致样式会失效问题。</span></p>
<p><strong>特性</strong></p>
<ul>
<li><span style="font-size: 12px">支持代码块横向滚动</span></li>
<li><span style="font-size: 12px">支持显示代码行号(关闭提升性能)</span></li>
<li><span style="font-size: 12px">支持代码复制功能(h5/app端)</span></li>
<li><span style="font-size: 12px">支持图片渲染宽度100%</span></li>
<li><span style="font-size: 12px">支持图片预览功能(h5/app端)</span></li>
<li><span style="font-size: 12px">支持链接跳转功能(h5/app端)</span></li>
</ul>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429125904884-1685794264.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429125928470-633917047.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429125943728-2126047160.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130002019-320725564.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130018216-132659075.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130032197-287224119.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130045912-879155909.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130101527-1040112909.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130129755-855015679.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130138762-1800307687.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130150331-748876277.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429130201200-755149613.png" alt=""></p>
<h3>uniapp+deepseek实现流式SSE输出</h3>
<p><span style="font-size: 12px">原本打算使用OpenAI来实现流式输出，但在小程序和App不支持该功能。</span></p>
<p><span style="font-size: 12px">由于小程序和app运行环境特殊性，最终选择在小程序端使用uni.request开启&nbsp;<span class="cnblogs_code">enableChunked</span>&nbsp;实现流式，H5和App端采用&nbsp;<span class="cnblogs_code">renderjs</span>&nbsp;方式fetch来实现流式功能。</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> H5和APP端调用renderjs里的fetch</span><span style="color: rgba(0, 128, 0, 1)">
//</span><span style="color: rgba(0, 128, 0, 1)"> #ifdef APP-PLUS || H5</span>
<span style="color: rgba(0, 0, 255, 1)">this</span><span style="color: rgba(0, 0, 0, 1)">.fetchAppH5({
    url: baseURL</span>+'/v1/chat/completions'<span style="color: rgba(0, 0, 0, 1)">,
    method: </span>'POST'<span style="color: rgba(0, 0, 0, 1)">,
    headers: {
        </span>"Content-Type": "application/json"<span style="color: rgba(0, 0, 0, 1)">,
        </span>"Authorization"<span style="color: rgba(0, 0, 0, 1)">: `Bearer ${apiKEY}`,
    },
    body: {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 多轮会话</span>
        messages: <span style="color: rgba(0, 0, 255, 1)">this</span>.multiConversation ? <span style="color: rgba(0, 0, 255, 1)">this</span>.historySession : [{role: 'user'<span style="color: rgba(0, 0, 0, 1)">, content: editorValue}],
        model: </span>'deepseek-chat', <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> deepseek-chat对话模型 deepseek-reasoner推理模型</span>
        stream: <span style="color: rgba(0, 0, 255, 1)">true</span>, <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 流式输出</span>
        max_tokens: 8192, <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 限制一次请求中模型生成 completion 的最大 token 数(默认使用 4096)</span>
        temperature: 0.4, <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 严谨采样 越低越严谨(默认1)</span>
<span style="color: rgba(0, 0, 0, 1)">    }
})
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> #endif</span></pre>
</div>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> #ifdef MP-WEIXIN</span>
<span style="color: rgba(0, 0, 255, 1)">try</span><span style="color: rgba(0, 0, 0, 1)"> {
    </span><span style="color: rgba(0, 0, 255, 1)">this</span>.loading = <span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">
    
    const requestTask </span>=<span style="color: rgba(0, 0, 0, 1)"> await uni.request({
        url: baseURL</span>+'/v1/chat/completions'<span style="color: rgba(0, 0, 0, 1)">,
        method: </span>'POST'<span style="color: rgba(0, 0, 0, 1)">,
        header: {
            </span>"Content-Type": "application/json"<span style="color: rgba(0, 0, 0, 1)">,
            </span>"Authorization"<span style="color: rgba(0, 0, 0, 1)">: `Bearer ${apiKEY}`,
        },
        data: {
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 多轮会话</span>
            messages: <span style="color: rgba(0, 0, 255, 1)">this</span>.multiConversation ? <span style="color: rgba(0, 0, 255, 1)">this</span>.historySession : [{role: 'user'<span style="color: rgba(0, 0, 0, 1)">, content: editorValue}],
            model: </span>'deepseek-chat', <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> deepseek-chat对话模型 deepseek-reasoner推理模型</span>
            stream: <span style="color: rgba(0, 0, 255, 1)">true</span>, <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 流式输出</span>
            max_tokens: 8192, <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 限制一次请求中模型生成 completion 的最大 token 数(默认使用 4096)</span>
            temperature: 0.4, <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 严谨采样 越低越严谨(默认1)</span>
<span style="color: rgba(0, 0, 0, 1)">        },
        enableChunked: </span><span style="color: rgba(0, 0, 255, 1)">true</span>, <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">开启分块传输 transfer-encoding chunked</span>
        success: (res) =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
            console.log(</span>'request success'<span style="color: rgba(0, 0, 0, 1)">, res)
        },
        fail: (error) </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> {
            console.log(</span>'request fail'<span style="color: rgba(0, 0, 0, 1)">, error)
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ...</span>
<span style="color: rgba(0, 0, 0, 1)">        }
    })
    requestTask.onChunkReceived((res) </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> console.log('Received chunk', res)</span>
<span style="color: rgba(0, 0, 0, 1)">        
        const uint8Array </span>= <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Uint8Array(res.data)
        let text </span>= String.fromCharCode.apply(<span style="color: rgba(0, 0, 255, 1)">null</span><span style="color: rgba(0, 0, 0, 1)">, uint8Array)
        const buffer </span>=<span style="color: rgba(0, 0, 0, 1)"> decodeURIComponent(escape(text))
        
        </span><span style="color: rgba(0, 0, 255, 1)">this</span><span style="color: rgba(0, 0, 0, 1)">.parseBuffer(buffer)
    })
} </span><span style="color: rgba(0, 0, 255, 1)">catch</span><span style="color: rgba(0, 0, 0, 1)"> (error) {
    </span><span style="color: rgba(0, 0, 255, 1)">this</span>.loading = <span style="color: rgba(0, 0, 255, 1)">false</span>
    <span style="color: rgba(0, 0, 255, 1)">this</span>.chatState.updateSession(<span style="color: rgba(0, 0, 255, 1)">this</span>.botKey, {loading: <span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)">})
    </span><span style="color: rgba(0, 0, 255, 1)">throw</span> <span style="color: rgba(0, 0, 255, 1)">new</span> Error(`request error: ${error.message || '请求异常'<span style="color: rgba(0, 0, 0, 1)">}`)
}
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> #endif</span></pre>
</div>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429131323025-1586203816.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429131343199-977877316.png" alt=""></p>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429131442267-668889437.png" alt=""></p>
<p>以上就是uniapp+vue3对接deepseek实现流式ai对话的一些知识分享，希望对大家有些帮助哈！</p>
<p><strong>附上几个最新实战项目实例</strong></p>
<blockquote>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18830611" target="_blank">Electron35-DeepSeek桌面端AI系统|vue3.5+electron+arco客户端ai模板</a></span></p>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18795796" target="_blank">vue3-webseek网页版AI问答|Vite6+DeepSeek+Arco流式ai聊天打字效果</a></span></p>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18773480" target="_blank">Vue3-DeepSeek-Chat流式AI对话|vite6+vant4+deepseek智能ai聊天助手</a></span></p>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18165578" target="_blank">uniapp+vue3聊天室|uni-app+vite4+uv-ui跨端仿微信app聊天语音/朋友圈</a></span></p>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18592873" target="_blank">uniapp+vue3酒店预订|vite5+uniapp预约订房系统模板(h5+小程序+App端)</a></span></p>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18700875" target="_blank">flutter3-dymall仿抖音直播商城|Flutter3.27短视频+直播+聊天App实例</a></span></p>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18618163" target="_blank">Tauri2.0-Vue3OS桌面端os平台|tauri2+vite6+arco电脑版OS管理系统</a></span></p>
<p><span style="font-size: 12px"><a class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaoyan2017/p/18290962" target="_blank">Vite5+Electron聊天室|electron31跨平台仿微信EXE客户端|vue3聊天程序</a></span></p>
</blockquote>
<p><img src="https://img2024.cnblogs.com/blog/1289798/202504/1289798-20250429131952145-1733818014.gif" alt="" width="183" height="113"></p>
<p>&nbsp;</p>
</div>
<div id="MySignature" role="contentinfo">
    本文为博主原创文章，未经博主允许不得转载，欢迎大家一起交流 QQ（282310962） wx（xy190310）
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.042242648804398146" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-29 13:22">2025-04-29 13:21</span>&nbsp;
<a href="https://www.cnblogs.com/xiaoyan2017">xiaoyan2017</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18853514);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18853514', targetLink: 'https://www.cnblogs.com/xiaoyan2017/p/18853514', title: 'Uniapp-DeepSeek跨三端AI助手|uniapp+vue3+deepseek-v3流式ai聊天模板' })">举报</a>
</div>
        