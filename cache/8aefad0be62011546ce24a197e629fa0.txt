
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/insus/p/18637273" title="发布于 2024-12-28 15:11">
    <span role="heading" aria-level="2">ASP.NET MVC，Angularjs和Vue.js呈现文件图片</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
周未了，又来博客园写随笔，分享程序方法，技巧，经验，把平常时常用的开发框架，语言，脚本集中总结。<br>前段时写了些上传文件，如图片，二进制存储，后来又把上传的二进制经管理实现转存为原文件，图片缩略图等。<br><br>今天把转换为文件，在网页呈现出来。决定使用ASP.NET MVC,Angularjs,vue,<br>代码可直接写在页面上，也可以写在js单独文件，然后在页面中引用即可。<br>以上所说的，有使用fetch, $http 等来呼叫WebAPI。<br><br>先来看看ASP.NET MVC,在控制器中，写2个ActionResult(),一个经控制器传递数据至视图中，另一个只是为了创建视图，稍后去单独的js获取数据。<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228112742309-1785659958.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228112742309-1785659958.png" alt=""></a>
<p><br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228113216821-1958697816.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228113216821-1958697816.png" alt=""></a></p>
<p>&nbsp;</p>



在视图顶部，#1 and #2行，引用命名空间。<br>#4行，宣告model，即是在控制中，<br>
<div class="cnblogs_code">
<pre>_Data = entity.HerbPictureSelectByFile();</pre>
</div>
<p>返回的IEnumerable&lt;herbPicture&gt;。<br><br>直接在视图中实现图片呈现，<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228114357749-946660570.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228114357749-946660570.png" alt=""></a></p>
<p>&nbsp;</p>



上面截图中，#12，#13，#22，#27，#31行中，有Hightlight的class，是为了使用Div标签实现表格，可查看以前的随笔，<br><a href="https://www.cnblogs.com/insus/p/5653116.html" target="_blank">HTML5使用Div标签来实现表格</a> &nbsp;<a href="https://www.cnblogs.com/insus/p/5653116.html" target="_blank">https://www.cnblogs.com/insus/p/5653116.html</a><br><br>还有就是Razor语法，变量与字符串连接，可以使用@()或@string.Format()，参考上截图的#33,#34红色箭头的语法。<br><br>最后需要指出，#27，WriteLiteral(）是为表格，每行呈现参数指定列数之后，换行。<br><br><br>接下来，我们看看MVC Ver2版本。<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228123357323-369253936.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228123357323-369253936.png" alt=""></a><br><br>超简单的，写div标签和引用js。<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228124233902-1906405577.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228124233902-1906405577.png" alt=""></a>
<p>&nbsp;</p>
<p>#17，API访问URL，<br>#21为异步Function，从获取的数据，动态生表格与数据呈现。<br>#44function,<br>#68行，img标签，数据动态Bind，</p>
<div class="cnblogs_code">
<pre>&lt;img src=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">/Thumbnail/' + item.ThumbnailFileName +'</span><span style="color: rgba(128, 0, 0, 1)">"</span> width=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">'+ item.Thumbnail_Width +'px</span><span style="color: rgba(128, 0, 0, 1)">"</span> height=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">'+ item.Thumbnail_Height +'px</span><span style="color: rgba(128, 0, 0, 1)">"</span> /&gt;</pre>
</div>
<p>&nbsp;</p>
<p>下面是使用angularjs，非MVC，而是html页面来实现，<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228125848447-1932077640.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228125848447-1932077640.png" alt=""></a></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">ng-src</span><span style="color: rgba(0, 0, 255, 1)">="../Thumbnail/{{pic.ThumbnailFileName}}"</span><span style="color: rgba(255, 0, 0, 1)"> ng-style</span><span style="color: rgba(0, 0, 255, 1)">="width:{{pic.Thumbnail_Width}}px; height:{{pic.Thumbnail_Height}}px;"</span> <span style="color: rgba(0, 0, 255, 1)">/&gt;</span></pre>
</div>
<p><br>#9指定 ng-app，<br>#10指定ng-controller，<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228130441272-1686768525.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228130441272-1686768525.png" alt=""></a></p>
<p>&nbsp;</p>
<p>#14行，使用$http获取数据。<br><br>最后是vue示例，<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228131127618-1308336749.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228131127618-1308336749.png" alt=""></a></p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">v-bind:src</span><span style="color: rgba(0, 0, 255, 1)">="'../Thumbnail/' + pic.ThumbnailFileName"</span><span style="color: rgba(255, 0, 0, 1)"> v-bind:width</span><span style="color: rgba(0, 0, 255, 1)">="pic.Thumbnail_Width + 'px'"</span><span style="color: rgba(255, 0, 0, 1)"> v-bind:height</span><span style="color: rgba(0, 0, 255, 1)">="pic.Thumbnail_Height + 'px'"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<p>&nbsp;</p>
<p>上截2号js文件引用，<br><a href="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228131755674-1837761468.png" target="_blank"><img src="https://img2024.cnblogs.com/blog/28036/202412/28036-20241228131755674-1837761468.png" alt=""></a></p>
<p>&nbsp;</p>
<p>在vue代码，注重this的应用。<br><br>上截图#8行el值，即是更前一截图中#10指定的值。<br><br>另外，#11这个变量，此是静态指定，实际需要从数据库参数表中获取。<br><br>上面的不管angular还是vue，图片呈现是一行呈现，不管是table还是div也均不能列换行。<br>想换行的话，可以参考前几篇的实现。</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.8831878714861111" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2024-12-28 15:11">2024-12-28 15:11</span>&nbsp;
<a href="https://www.cnblogs.com/insus">Insus.NET</a>&nbsp;
阅读(<span id="post_view_count">7</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18637273" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18637273);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18637273', targetLink: 'https://www.cnblogs.com/insus/p/18637273', title: 'ASP.NET MVC，Angularjs和Vue.js呈现文件图片' })">举报</a>
</div>
	