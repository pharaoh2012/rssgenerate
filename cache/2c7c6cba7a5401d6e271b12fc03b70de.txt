
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/formulahendry/p/18792198" title="发布于 2025-03-25 19:52">
    <span role="heading" aria-level="2">从零开始开发一个 MCP Server！</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-first-child="" data-pid="5g2Up-ul" data-pm-slice="0 0 []"><span>大家好！我是韩老师。</span></p>
<p data-pid="29462_EI"><span>最近，在 AI 开发领域，<span>MCP (Model Context Protocol) 是越来越火了！</span></span></p>
<p data-pid="bxWhBIUb"><span>前几天，我我也开发了一款 Code Runner MCP Server：</span></p>
<p data-pid="bxWhBIUb"><span><a href="https://zhuanlan.zhihu.com/p/31648301549" target="_blank" data-itemshowtype="11" data-linktype="2" rel="noopener nofollow">Code Runner MCP Server，来了！</a></span></p>
<p data-pid="ty9Dbt7n"><span>今天，我就把我开发 MCP Server 的经验和遇到的一些坑，分享给大家！</span></p>
<p data-pid="ccqCeZ0r"><span>以 Node.js 为例，让韩老师带领大家从零开始开发一个属于你的 MCP Server！</span></p>
<h3><span>安装 Node.js<span><br></span></span></h3>
<p data-pid="nqrwNJNK"><span>从 https://nodejs.org/en 安装 LTS 版的 Node.js 即可。</span></p>
<h3><span>安装 Scaffolding Tool</span></h3>
<p data-pid="ybQdoJ_g"><span>在命令行运行下面命令，安装 Yeoman Generator for MCP Server：</span></p>
<div class="cnblogs_code">
<pre>npm install -g yo generator-mcp</pre>
</div>
<h3><span>创建 MCP Server 项目</span></h3>
<p data-pid="IW0LGtO-"><span>在命令行运行下面命令，创建 MCP Server 项目：</span></p>
<div class="cnblogs_code">
<pre>yo mcp -n 'Weather MCP Server'</pre>
</div>
<h3><span>实现代码逻辑</span></h3>
<p data-pid="sFmPyhyn"><span>generator-mcp 已经把全部需要的代码框架和依赖都生成和安装了。</span></p>
<p data-pid="sFmPyhyn"><span>你可以按需修改代码，或者利用已有的代码直接进行调试和测试。</span></p>
<h3><span>调试/测试</span></h3>
<p data-pid="EWTRKKjj"><span>generator-mcp 已经配置好了 VS Code 的调试配置文件：launch.json 和&nbsp;tasks.json<br></span></p>
<p data-pid="EWTRKKjj">在 VS Code 中打开项目，按 <strong>F5</strong> 就能一键启动调试！</p>
<p data-pid="I9c4vuHu"><span>稍等片刻，浏览器自动打开 MCP Inspector 后，就能进行测试了！</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1857417/202503/1857417-20250325194403121-217218706.png" alt="" width="799" height="482" loading="lazy"></p>
<h3 data-pid="hFaDqlO_"><span>运行</span></h3>
<p data-pid="hFaDqlO_"><span>此外，你还可以在其他支持 MCP 的客户端中，测试你的 MCP Server。</span></p>
<p data-pid="hFaDqlO_"><span>generator-mcp 已经默认创建了&nbsp;.vscode\mcp.json 文件，这个文件定义了在 VS Code 运行的 MCP Server。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1857417/202503/1857417-20250325194607424-440835697.png" alt="" width="431" height="210" loading="lazy"></p>
<p data-pid="il8nC3b6"><em>注：需从&nbsp;https://code.visualstudio.com/insiders/ 下载最新版本的&nbsp;<span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;data-pid&quot;:&quot;IfRYEWHD&quot;,&quot;style&quot;:&quot;margin: 1.4em 0px;color: rgb(25, 27, 31);font-family: -apple-system, BlinkMacSystemFont, \&quot;Helvetica Neue\&quot;, \&quot;PingFang SC\&quot;, \&quot;Microsoft YaHei\&quot;, \&quot;Source Han Sans SC\&quot;, \&quot;Noto Sans CJK SC\&quot;, \&quot;WenQuanYi Micro Hei\&quot;, sans-serif;font-size: medium;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">&nbsp;VS Code Insiders。</span></em></p>
<p data-pid="il8nC3b6"><span>安装好最新的 VS Code Insiders 版本，点击 “start” 按钮，</span>就能在 VS Code Insiders 的 Agent Mode 调用你的 MCP Server 啦！</p>
<p><img src="https://img2024.cnblogs.com/blog/1857417/202503/1857417-20250325194739543-966714087.png" alt="" width="455" height="272" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/1857417/202503/1857417-20250325194827930-1404102978.jpg" alt="" width="553" height="452" loading="lazy"></p>
<h3><span>发布</span></h3>
<p data-pid="WUma9wAp"><span>测试完成后，就可以把你的&nbsp;<span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;data-pid&quot;:&quot;xomv9HaG&quot;,&quot;style&quot;:&quot;margin: 1.4em 0px;color: rgb(25, 27, 31);font-family: -apple-system, BlinkMacSystemFont, \&quot;Helvetica Neue\&quot;, \&quot;PingFang SC\&quot;, \&quot;Microsoft YaHei\&quot;, \&quot;Source Han Sans SC\&quot;, \&quot;Noto Sans CJK SC\&quot;, \&quot;WenQuanYi Micro Hei\&quot;, sans-serif;font-size: medium;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: normal;orphans: 2;text-align: start;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">MCP Server 发布到 npm registry 或者 Docker Hub 了！</span></span></p>
<p data-pid="xomv9HaG"><span>关于 Dockerfile 怎么写，以及如何在 VS Code、<span>Claude Desktop 等客户端配置 MCP Server，还有 npx 可能在 Windows 上运行失败的问题，都可以参考 Code Runner MCP Server 的 <span>README 和源代码，完全开源：</span></span></span></p>
<p data-pid="oft6b7Nn"><a href="https://github.com/formulahendry/mcp-server-code-runner" target="_blank" rel="noopener nofollow">https://github.com/formulahendry/mcp-server-code-runner</a></p>
<p data-pid="oft6b7Nn">&nbsp;</p>
<p data-pid="W710klhp"><span>好啦！大功告成！如果还有什么问题的话，欢迎评论区留言！</span></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.3496083205162037" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-25 19:53">2025-03-25 19:52</span>&nbsp;
<a href="https://www.cnblogs.com/formulahendry">formulahendry</a>&nbsp;
阅读(<span id="post_view_count">20</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18792198" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18792198);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18792198', targetLink: 'https://www.cnblogs.com/formulahendry/p/18792198', title: '从零开始开发一个 MCP Server！' })">举报</a>
</div>
        