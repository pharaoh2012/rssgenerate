
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/chingho/p/18649159" title="发布于 2025-01-13 13:20">
    <span role="heading" aria-level="2">websocket-sharp：.NET平台上的WebSocket客户端与服务器开源库</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>推荐一个C#开发的，实现WebSocket功能的开源项目。</p>
<h1 id="01-项目简介">01 项目简介</h1>
<p>websocket-sharp提供 WebSocket 客户端和服务器库，基于 C# 开发的，并遵循 WebSocket 协议规范，使得开发人员能够轻松地在 .NET 应用程序中实现 WebSocket 通信。</p>
<p><strong>websocket-sharp 特色功能有：</strong></p>
<p>1、简洁易用的API：提供清晰且直观的API接口，方便开发者快速集成WebSocket，无论是创建 WebSocket 客户端还是服务器，都可以通过几行代码快速实现。</p>
<p>2、完整的WebSocket协议支持：遵循 WebSocket 协议规范，支持 RFC 6455 中定义的所有核心功能，包括文本和二进制消息传输、Ping/Pong 心跳机制、扩展和子协议等。</p>
<p>3、事件驱动的消息处理：采用事件驱动的方式，实现响应连接打开、消息接收、连接关闭等事件，实现异步、非阻塞的通信模式。</p>
<p>4、灵活的配置选项：提供了丰富的配置选项，方便开发者根据项目需求自定义行为。如：设置超时时间、SSL/TLS 加密选项、自定义标头等。</p>
<p>5、高性能：支持异步编程模型，可以有效地利用系统资源，并支持处理大量并发连接。</p>
<h1 id="02-使用方法">02 使用方法</h1>
<p><strong>1、安装依赖库</strong></p>
<pre><code>Install-Package WebSocketSharp -Pre
</code></pre>
<p><strong>2、客户端</strong></p>
<pre><code>using System;  
using WebSocketSharp;  
  
namespace Example  
{  
  public class Program  
  {  
    public static void Main (string[] args)  
    {  
      // 创建一个WebSocket实例，并指定其URL   
      using (var ws = new WebSocket ("ws://xx.far/Laputa"))   
      {  
        // 为ws对象的OnMessage事件添加事件处理程序 
        ws.OnMessage += (sender, e) =&gt;  
                          Console.WriteLine ("Laputa says: " + e.Data);  
  
        // 建立与WebSocket服务器的连接。
        ws.Connect ();  
  
        // 发送字符串到WebSocket服务器。
        ws.Send ("BALUS");  

        Console.ReadKey (true);  
      }  
    }  
  }  
}

</code></pre>
<p><strong>3、服务端</strong></p>
<pre><code>using System;  
using WebSocketSharp;  

using WebSocketSharp.Server;  

namespace Example  
{  
  public class Laputa : WebSocketBehavior  
  {  
    // 重写OnMessage方法
    protected override void OnMessage (MessageEventArgs e)  
    {  
      var msg = e.Data == "BALUS"  
                ? "Are you kidding?"  
                : "I'm not available now.";  
  
      // 发送回复消息给客户端
      Send (msg);  
    }  
  }  
  
  public class Program  
  {  
    public static void Main (string[] args)  
    {  
      // 创建一个WebSocketServer实例，并指定其监听的WebSocket URL
      var wssv = new WebSocketServer ("ws://dragonsnest.far");  
  
      // 添加一个WebSocket服务
      wssv.AddWebSocketService&lt;Laputa&gt; ("/Laputa");  
  
      // 启动WebSocket服务器
      wssv.Start ();  

      Console.ReadKey (true);  
  
      // 停止WebSocket服务器。
      wssv.Stop ();  
    }  
  }  
}
</code></pre>
<h1 id="03-项目地址">03 项目地址</h1>
<p><a href="https://github.com/sta/websocket-sharp" target="_blank" rel="noopener nofollow">https://github.com/sta/websocket-sharp</a></p>
<p>- End -</p>
<p><strong>更多开源项目：</strong>  <a href="https://github.com/bianchenglequ/NetCodeTop" target="_blank" rel="noopener nofollow">https://github.com/bianchenglequ/NetCodeTop</a></p>
<p>推荐阅读</p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDE5MDM5NA==&amp;mid=2449944536&amp;idx=1&amp;sn=c4916adc7efb1630fc6c8f551803d26d&amp;chksm=b1bb118d86cc989b4eb6c867b23c16231f53ca979161b23e029e1449aa30310ef49391149123&amp;scene=21#wechat_redirect" target="_blank" rel="noopener nofollow">C#的学习方法和思路，全部整理在这了！</a></p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDE5MDM5NA==&amp;mid=2449944270&amp;idx=1&amp;sn=cd3fd910691f5d6470df660e42a92f2d&amp;chksm=b1bb109b86cc998d3a4a0a2830246630da2ec5ac72d6357a2a16877667aff693a2f2367ef3b8&amp;scene=21#wechat_redirect" target="_blank" rel="noopener nofollow">盘点8个Excel的.Net开源库</a></p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDE5MDM5NA==&amp;mid=2449944244&amp;idx=2&amp;sn=9f92030d35bdd82e89f31e1554564688&amp;chksm=b1bb10e186cc99f79b04bf945f359d84fa2452656efdc3d332a3837c507b0c47952de1208be6&amp;scene=21#wechat_redirect" target="_blank" rel="noopener nofollow">盘点5个PDF免费的.Net开源库</a></p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDE5MDM5NA==&amp;mid=2449944206&amp;idx=1&amp;sn=9c4395362512c0fd342b57a746d00b0a&amp;chksm=b1bb10db86cc99cdaab42d8126fa336d93aa675903eb8b9f983d14230bcaa5ec57f6de24252f&amp;scene=21#wechat_redirect" target="_blank" rel="noopener nofollow">盘点5个基于SkiaSharp开发的.Net开源图形项目</a></p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MjM5MDE5MDM5NA==&amp;mid=2449943962&amp;idx=1&amp;sn=d280e3f1d8b2f98e1a07a52d4450be57&amp;chksm=b1bb13cf86cc9ad9bbfb8f5752444c01b0bd52eefa97bf253e5d156e52c8e3cb94ea80ab97cf&amp;scene=21#wechat_redirect" target="_blank" rel="noopener nofollow">盘点3个.Net解压缩开源库</a></p>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.04220783445717593" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-13 13:21">2025-01-13 13:20</span>&nbsp;
<a href="https://www.cnblogs.com/chingho">chingho</a>&nbsp;
阅读(<span id="post_view_count">1</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18649159" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18649159);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18649159', targetLink: 'https://www.cnblogs.com/chingho/p/18649159', title: 'websocket-sharp：.NET平台上的WebSocket客户端与服务器开源库' })">举报</a>
</div>
	