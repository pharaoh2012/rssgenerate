
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaobaiysf/p/18923455" title="发布于 2025-06-11 11:10">
    <span role="heading" aria-level="2">破局AI问答专有名词检索迷局：分词期神器强势登场！</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>有客户深度使用全文检索模式检索分段，反馈一些专有名词无法被检索到（例如把“小米手机”分成了“小米”和“手机”两个词，对检索结果造成较大干扰），而 MaxKB 的分词器采用流行的 jieba 库，确认了一个临时解决方案。</p>
<h1 id="1定义自定义字典">1、定义自定义字典</h1>
<pre><code>cat /opt/my_dic.txt
 
小米手机 1000 n
苹果手机 1000 n
</code></pre>
<p>字典组成：{词语}空格{词频}空格{词性}</p>
<pre><code>示例：

小米手机 1000 n
小米手机：自定义词语
1000      ：词频，越大优先级越高
n            ：词性。名词 (n)、专有名词 (nz)、动词 (v)、形容词 (a)、副词 (d)
</code></pre>
<h1 id="2将自定义字典文件拷贝到容器中">2、将自定义字典文件拷贝到容器中</h1>
<pre><code>docker cp /opt/my_dic.txt maxkb:/opt/maxkb/app/apps/common/util/
</code></pre>
<h1 id="3split_modelpy-引入自定义字典">3、split_model.py 引入自定义字典</h1>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250611110834824-30753353.png" alt="" loading="lazy"></p>
<pre><code>jieba.load_userdict('/opt/maxkb/app/apps/common/util/my_dic.txt')
</code></pre>
<h1 id="4测试验证">4、测试验证</h1>
<p>分段情况：</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250611110855217-1183629218.png" alt="" loading="lazy"></p>
<p>检索结果</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250611110906092-1447049300.png" alt="" loading="lazy"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-11 11:11">2025-06-11 11:10</span>&nbsp;
<a href="https://www.cnblogs.com/xiaobaiysf">小白跃升坊</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18923455);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18923455', targetLink: 'https://www.cnblogs.com/xiaobaiysf/p/18923455', title: '破局AI问答专有名词检索迷局：分词期神器强势登场！' })">举报</a>
</div>
        