
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/sdcb/p/18707091/20250209-configure-deepseek-in-chats" title="发布于 2025-02-10 09:05">
    <span role="heading" aria-level="2">Sdcb Chats 重磅更新：深度集成 DeepSeek-R1，思维链让 AI 更透明！</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><a href="https://github.com/sdcb/chats" target="_blank" rel="noopener nofollow">Sdcb Chats</a> 是一个强大且易于部署的 ChatGPT 前端，旨在帮助用户轻松接入和管理各种主流的大语言模型。</p>
<p><strong>Sdcb Chats 主要特性：</strong></p>
<ul>
<li><strong>广泛的大模型支持：</strong> 已支持 <strong>15 种</strong>不同的大语言模型提供商，只需配置 API Key 等连接信息，即可无缝切换。</li>
<li><strong>灵活的数据库选择：</strong> 支持 <strong>SQLite</strong>、<strong>SQL Server</strong> 和 <strong>PostgreSQL</strong>，可根据需求选择合适的数据库。</li>
<li><strong>多样化部署：</strong> 提供 <strong>Docker 镜像</strong>和多操作系统<strong>二进制文件</strong>，方便快速部署。</li>
<li><strong>完善的管理功能：</strong> 内置<strong>多用户管理</strong>、<strong>Token 消耗统计</strong>和<strong>付费管理</strong>，便于团队协作和成本控制。</li>
</ul>
<p>早在我<a href="https://www.cnblogs.com/sdcb/p/18597030/sdcb-chats-intro" target="_blank">首次发布</a>时，Sdcb Chats 就已支持 DeepSeek。随着 DeepSeek-R1 的爆火，我们迅速跟进，在春节期间实现了对 DeepSeek-R1 思维链的两种形式的支持：</p>
<ul>
<li>
<p><strong>官方预处理型：</strong> 通过 <code>reasoning_content</code> 字段显示思维链，与 <code>content</code> 同级。官网和硅基流动（SiliconFlow）采用此方式。示例：</p>
<pre><code class="language-json">{"id":"0194e3241b719f91d183976240e08067","object":"chat.completion.chunk","created":1738977581,"model":"Pro/deepseek-ai/DeepSeek-R1","choices":[{"index":0,"delta":{"content":null,"reasoning_content":"嗯","role":"assistant"},"finish_reason":null,"content_filter_results":{"hate":{"filtered":false},"self_harm":{"filtered":false},"sexual":{"filtered":false},"violence":{"filtered":false}}}],"system_fingerprint":"","usage":{"prompt_tokens":17,"completion_tokens":1,"total_tokens":18}}
</code></pre>
</li>
<li>
<p><strong>开源常见型：</strong> 通过 <code>content</code> 中的 <code>&lt;think&gt;</code> 标签展示思维链。Gitee AI、NVIDIA NIM、GitHub Models、Azure AI、Azure AI Foundry 等采用此方式。示例：</p>
<pre><code>&lt;think&gt;
好的，用户说……（这一部分是思维链）
&lt;/think&gt;

总的来说……（这一部分是响应）
</code></pre>
</li>
</ul>
<p><strong>在最新发布的 Sdcb Chats r-459 版本中，我们已全面支持这两种 DeepSeek-R1 思维链格式！</strong></p>
<p>效果图：<br>
<img src="https://img2024.cnblogs.com/blog/233608/202502/233608-20250210090113072-2042414979.avif" alt="" loading="lazy"></p>
<h1 id="如何部署带思维链的-sdcb-chats">如何部署带思维链的 Sdcb Chats？</h1>
<p><a href="https://www.cnblogs.com/sdcb/p/18597030/sdcb-chats-intro" target="_blank">此前文章</a>已详细介绍了部署过程，此处重点介绍 Windows exe 部署：</p>
<h2 id="windows-exe-部署国内服务器加速">Windows exe 部署（国内服务器加速）</h2>
<p>考虑到国内访问 Docker 的不便，我们特地将 exe 部署文件上传至国内服务器，方便大家下载：</p>
<table>
<thead>
<tr>
<th>文件</th>
<th>下载链接</th>
</tr>
</thead>
<tbody>
<tr>
<td>chats-win-x64.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-win-x64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-win-x64.7z</a></td>
</tr>
<tr>
<td>chats-linux-x64.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-linux-x64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-linux-x64.7z</a></td>
</tr>
<tr>
<td>chats-linux-arm64.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-linux-arm64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-linux-arm64.7z</a></td>
</tr>
<tr>
<td>chats-linux-musl-x64.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-linux-musl-x64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-linux-musl-x64.7z</a></td>
</tr>
<tr>
<td>chats-linux-musl-arm64.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-linux-musl-arm64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-linux-musl-arm64.7z</a></td>
</tr>
<tr>
<td>chats-osx-arm64.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-osx-arm64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-osx-arm64.7z</a></td>
</tr>
<tr>
<td>chats-osx-x64.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-osx-x64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-osx-x64.7z</a></td>
</tr>
<tr>
<td>chats-fe.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats-fe.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats-fe.7z</a></td>
</tr>
<tr>
<td>chats.7z</td>
<td><a href="https://io.starworks.cc:88/chats/r459/chats.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/r459/chats.7z</a></td>
</tr>
</tbody>
</table>
<p><strong>Windows 用户推荐下载 <code>chats-win-x64.7z</code></strong>，解压后双击 exe 即可运行。</p>
<p>演示：<br>
<img src="https://img2024.cnblogs.com/blog/233608/202502/233608-20250210090121384-1102740631.avif" alt="" loading="lazy"></p>
<p>运行成功后，默认用户：<code>chats</code>，默认密码：<code>RESET!!!</code>（请尽快修改）。</p>
<p><strong>提示：</strong> Sdcb Chats 更新频繁，可将链接中的 <code>r459</code> 替换为 <code>latest</code> 下载最新版，例如：<a href="https://io.starworks.cc:88/chats/latest/chats-win-x64.7z" target="_blank" rel="noopener nofollow">https://io.starworks.cc:88/chats/latest/chats-win-x64.7z</a></p>
<p>Sdcb Chats 支持多平台部署，包括：</p>
<ul>
<li>linux-x64</li>
<li>linux-arm64（适用于 RK3399/RK3588 等国产芯片）</li>
<li>linux-musl-x64、linux-musl-arm64（适用于 OpenWRT 软路由）</li>
<li>osx-arm64（适用于 M1 及以上芯片的 Mac）</li>
<li>osx-x64（适用于 x86 芯片的 Mac）</li>
<li>chats.7z（适用于已安装 .NET 8 SDK 的电脑）</li>
</ul>
<p>我们也支持 Docker 部署（我个人生产环境使用 linux-x64 Docker 部署）。</p>
<h2 id="使用-deepseek-官网或-siliconflow-api">使用 DeepSeek 官网或 SiliconFlow API</h2>
<p>由于 DeepSeek-R1 模型爆火，官网 API 极不稳定，甚至目前已暂停充值。我们推荐使用 <strong>SiliconFlow（硅基流动）</strong> 作为平替：</p>
<ul>
<li><strong>注册链接（含邀请码，赠送约 14 元 token）：</strong> <a href="https://cloud.siliconflow.cn/i/UG2LV9e1" target="_blank" rel="noopener nofollow">https://cloud.siliconflow.cn/i/UG2LV9e1</a></li>
<li><strong>直接注册链接（同样赠送 14 元 token）：</strong> <a href="https://cloud.siliconflow.cn" target="_blank" rel="noopener nofollow">https://cloud.siliconflow.cn</a></li>
</ul>
<p><strong>推荐 SiliconFlow 的理由：</strong></p>
<ol>
<li><strong>安全性差异：</strong> 我们发现，各厂商部署的开源版 DeepSeek-R1 671B 模型安全性限制更严格，这并非接口层过滤，而是模型层面差异。开源版可能接受了额外的安全性训练。在涉及某些议题时，开源版会立即终止（可能违反直觉，但这是真的），而官网版能输出丰富内容。</li>
<li><strong>支持 <code>reasoning_content</code>：</strong> SiliconFlow 与官网一样支持 <code>reasoning_content</code> 格式的思维链，保证了 API 的一致性。</li>
</ol>
<p><strong>接入 SiliconFlow API 演示：</strong></p>
<ol>
<li>官网创建 API Key。</li>
<li>Chats 管理后台创建 SiliconFlow API Key 并保存。</li>
<li>快速创建模型，选择 DeepSeek-R1，创建并关闭对话框。</li>
<li>模型管理页面审阅模型（可调整价格）。</li>
<li>用户配置中，为用户增加模型权限。</li>
</ol>
<p>演示：<br>
<img src="https://img2024.cnblogs.com/blog/233608/202502/233608-20250210090129479-1725281776.avif" alt="" loading="lazy"></p>
<p>演示中创建的是 <code>deepseek-ai/DeepSeek-R1</code> 模型（免费额度），响应较慢（约 70 秒）。<code>Pro/deepseek-ai/DeepSeek-R1</code> 速度更快，但需充值（建议充值 1 元）。</p>
<p>DeepSeek 官网 R1 的接入步骤类似。</p>
<h2 id="使用其他-deepseek-api-提供商或本地-ollama">使用其他 DeepSeek API 提供商或本地 Ollama</h2>
<p>以本地 Ollama 为例：</p>
<ol>
<li>
<p><strong>下载 DeepSeek-R1（7B, Q4 量化）：</strong></p>
<pre><code class="language-pwsh">PS C:\Users\Administrator&gt; ollama pull deepseek-r1
pulling manifest
pulling 96c415656d37... 100% ▕████████████████████████████████████████████████████████▏ 4.7 GB
pulling 369ca498f347... 100% ▕████████████████████████████████████████████████████████▏  387 B
pulling 6e4c38e1172f... 100% ▕████████████████████████████████████████████████████████▏ 1.1 KB
pulling f4d24e9138dd... 100% ▕████████████████████████████████████████████████████████▏  148 B
pulling 40fb844194b2... 100% ▕████████████████████████████████████████████████████████▏  487 B
verifying sha256 digest
writing manifest
success

PS C:\Users\Administrator&gt; ollama ls
NAME                  ID              SIZE      MODIFIED
deepseek-r1:latest    0a8c26691023    4.7 GB    9 minutes ago
</code></pre>
</li>
<li>
<p><strong>配置 Ollama 对外暴露地址：</strong> 例如 <code>https://ollama.starworks.cc:88</code>（默认 <code>http://localhost:11434</code>，我做了反向代理）。</p>
</li>
<li>
<p><strong>Ollama 的 OpenAI 兼容地址：</strong> <code>https://ollama.starworks.cc:88/v1</code>（密钥可随意填写，但不能为空）。</p>
</li>
</ol>
<p>配置步骤与 SiliconFlow 类似：<br>
<img src="https://img2024.cnblogs.com/blog/233608/202502/233608-20250210090306745-1079609316.avif" alt="" loading="lazy"></p>
<p>我使用纯 CPU 运行 Ollama 中的 DeepSeek-R1 7B(Q4)，其实速度尚可，虽然结果不完全正确，但可玩性高。</p>
<p><strong>注意：</strong> Ollama 的 API 推理响应使用 <code>&lt;think&gt;</code> 标签，Sdcb Chats 支持。</p>
<p><strong>其他模型提供商的 Ollama：</strong> 可先指定为 Ollama 创建，然后在模型配置中填入正确的模型部署名称，比如阿里云DashScope，你可能需要这样配置模型（注意模型提供商）：<br>
<img src="https://img2024.cnblogs.com/blog/233608/202502/233608-20250210090319951-1392226072.png" alt="" loading="lazy"></p>
<p>效果相同。</p>
<h2 id="总结">总结</h2>
<p>感谢您对 <a href="https://github.com/sdcb/chats" target="_blank" rel="noopener nofollow">Sdcb Chats</a> 的关注！本次更新深度集成了 DeepSeek-R1 思维链，提升了 AI 透明度。我们全面支持官方及其他提供商的 API，提供灵活配置选项。</p>
<p><strong>更新亮点：</strong></p>
<ul>
<li><strong>支持多种思维链格式：</strong> 完美解析 <code>reasoning_content</code> 和 <code>&lt;think&gt;</code> 标签。</li>
<li><strong>多样化部署：</strong> 提供多平台二进制文件和 Docker 镜像。</li>
<li><strong>灵活配置：</strong> 支持多种数据库和模型，丰富 AI 体验。</li>
</ul>
<p>我们特别优化了与 SiliconFlow 的集成，确保您顺畅接入 DeepSeek-R1。</p>
<p><strong>下一步：</strong></p>
<p>如果您尚未体验 Sdcb Chats，现在是最佳时机！我们提供详细的<a href="https://www.cnblogs.com/sdcb/p/18597030/sdcb-chats-intro" target="_blank">部署文档</a>，助您快速上手。</p>
<p><strong>支持我们！</strong></p>
<p>如果您觉得 Sdcb Chats 有帮助，请在 <a href="https://github.com/sdcb/chats" target="_blank" rel="noopener nofollow">GitHub</a> 上 Star 我们！您的支持是我们前进的动力。</p>
<p>再次感谢您的支持，期待未来为您带来更多惊喜！</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.06889288896412037" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-10 09:06">2025-02-10 09:05</span>&nbsp;
<a href="https://www.cnblogs.com/sdcb">.NET骚操作</a>&nbsp;
阅读(<span id="post_view_count">676</span>)&nbsp;
评论(<span id="post_comment_count">2</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18707091" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18707091);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18707091', targetLink: 'https://www.cnblogs.com/sdcb/p/18707091/20250209-configure-deepseek-in-chats', title: 'Sdcb Chats 重磅更新：深度集成 DeepSeek-R1，思维链让 AI 更透明！' })">举报</a>
</div>
        