
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lulight/p/18984570" title="å‘å¸ƒäº 2025-07-14 20:00">
    <span role="heading" aria-level="2">ã€Azure Container Appã€‘æ„å»ºJavaåº”ç”¨é•œåƒæ—¶å€™é‡æ— æ³•ç¼–è¯‘é”™è¯¯ï¼šERROR [build 10/10] RUN ./mvnw.cmd dependency:go-offline -B -Dproduction package</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h1>é—®é¢˜æè¿°</h1>
<p>éƒ¨ç½²Javaåº”ç”¨åˆ°Azure Container Appä¸­ï¼Œé¦–å…ˆéœ€è¦åœ¨æœ¬åœ°æ„å»ºé•œåƒæ–‡ä»¶åä¸Šä¼ åˆ°Azure Contaienr Registrierä¸­ã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨ç¬¬ä¸€æ­¥æ„å»ºé•œåƒçš„æ—¶å€™ï¼Œå°±é‡è§é”™è¯¯ï¼š</p>
<blockquote>
<p><span style="color: rgba(255, 0, 0, 1)"> =&gt; ERROR [build 9/9] RUN ./mvnw.cmd dependency:go-offline -B -Dproduction package 0.6s</span><br>------<br> &gt; [build 9/9] RUN ./mvnw.cmd dependency:go-offline -B -Dproduction package:<br>0.523 /bin/sh: line 1: ./mvnw.cmd: No such file or directory</p>





</blockquote>
<p>å°±å•ç‹¬ä»£ç è°ƒè¯•å¯ä»¥æ­£å¸¸è¿è¡Œã€‚è€Œä¸”ï¼Œé¡¹ç›®æ–‡ä»¶æ ¹ç›®å½•ï¼ˆä¸DockerfileåŒçº§ï¼‰ä¸­ï¼Œå·²ç»åŒ…å«äº† mvnw æ–‡ä»¶å’Œ mvnw.cmd, æ‰€ä»¥ï¼Œä¸åº”è¯¥æ˜¯æ–‡ä»¶æœ¬èº«ç¡®å®çš„åŸå› å¯¼è‡´çš„ã€‚</p>
<h2>é¡¹ç›®ç›®å½•ç»“æ„</h2>
<div class="cnblogs_code">
<p>....&gt;javademo&gt; tree /a /f<br>Folder PATH listing for volume Local Disk<br>Volume serial number is 4CDB-764A<br>C:.<br>|   .gitignore<br>|   CHANGELOG.md<br>|   CONTRIBUTING.md<br>|   Dockerfile<br>|   LICENSE.md<br><span style="background-color: rgba(255, 255, 0, 1)">|   mvnw</span><br><span style="background-color: rgba(255, 255, 0, 1)">|   mvnw.cmd</span><br>|   pom.xml</p>
<p>...</p>





</div>
<h2>DockerFileå†…å®¹</h2>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)"># Build stage
</span><span style="color: rgba(0, 128, 128, 1)">FROM</span> mcr.microsoft.com/openjdk/jdk:21<span style="color: rgba(0, 0, 0, 1)">-mariner AS build
</span><span style="color: rgba(0, 128, 128, 1)">ENV</span> JAR_FILE=containerapps-albumapi-java-0.0.1<span style="color: rgba(0, 0, 0, 1)">-SNAPSHOT.jar
</span><span style="color: rgba(0, 128, 128, 1)">WORKDIR</span><span style="color: rgba(0, 0, 0, 1)"> /app
</span><span style="color: rgba(0, 128, 128, 1)">COPY</span><span style="color: rgba(0, 0, 0, 1)"> mvnw* /app/
</span><span style="color: rgba(0, 128, 128, 1)">COPY</span><span style="color: rgba(0, 0, 0, 1)"> .mvn /app/.mvn
</span><span style="color: rgba(0, 128, 128, 1)">COPY</span><span style="color: rgba(0, 0, 0, 1)"> pom.xml /app
</span><span style="color: rgba(0, 128, 128, 1)">COPY</span><span style="color: rgba(0, 0, 0, 1)"> ./src /app/src
</span><span style="color: rgba(0, 128, 128, 1)">RUN</span><span style="color: rgba(0, 0, 0, 1)"> ls -la /app
</span><span style="color: rgba(0, 128, 128, 1)">RUN</span><span style="color: rgba(0, 0, 0, 1)"> chmod +x ./mvnw
</span><span style="color: rgba(0, 128, 128, 1); background-color: rgba(255, 255, 0, 1)">RUN</span><span style="color: rgba(0, 0, 0, 1)"><span style="background-color: rgba(255, 255, 0, 1)"> ./mvnw dependency:go-offline -B -Dproduction package</span>

# Runtime stage
</span><span style="color: rgba(0, 128, 128, 1)">FROM</span> mcr.microsoft.com/openjdk/jdk:21<span style="color: rgba(0, 0, 0, 1)">-mariner
</span><span style="color: rgba(0, 128, 128, 1)">COPY</span> --from=build /app/target/containerapps-albumapi-java-0.0.1<span style="color: rgba(0, 0, 0, 1)">-SNAPSHOT.jar /usr/src/myapp/
</span><span style="color: rgba(0, 128, 128, 1)">EXPOSE</span> 8080
<span style="color: rgba(0, 128, 128, 1)">CMD</span> ["/usr/bin/java", "-jar", "/usr/src/myapp/containerapps-albumapi-java-0.0.1-SNAPSHOT.jar"]</pre>
</div>
<p>&nbsp;</p>
<h1>é—®é¢˜è§£ç­”</h1>
<p>ä»¥å‰é‡è§é—®é¢˜ï¼Œå…¨ç½‘æœç´¢ã€‚å½“å‰ï¼Œé‡è§é—®é¢˜ï¼Œç¬¬ä¸€é—®AIå¤§æ¨¡å‹ã€‚</p>
<p>æˆ‘å¾—åˆ°çš„ç­”æ¡ˆæ˜¯ï¼š</p>
<blockquote>
<p><span style="color: rgba(128, 0, 0, 1)"><strong>æˆ‘çš„é—®é¢˜ï¼š</strong></span></p>
<p><em>RUN ./mvnw dependency:go-offline -B -Dproduction package è¿™å¥è¯åœ¨dockerfileä¸­æ˜¯ä»€ä¹ˆç›®çš„å‘¢ï¼Ÿå¦‚æœé‡è§æŠ¥é”™â€œ0.288 /bin/sh: line 1: ./mvnw: cannot execute: required file not foundâ€ å¦‚ä½•æ¥è§£å†³å®ƒ</em></p>
<p><span style="color: rgba(128, 0, 0, 1)"><strong>&nbsp;</strong></span></p>
<p><span style="color: rgba(128, 0, 0, 1)"><strong>M365 Copilotçš„å›ç­”ï¼š</strong></span></p>
<div>
<p>è¿™æ¡å‘½ä»¤ï¼š</p>
<div>
<div class="scriptor-paragraph">
<pre><code class="language-Shell">RUN ./mvnw dependency:go-offline -B -Dproduction package
</code></pre>
</div>
</div>
<p>åœ¨ Dockerfile ä¸­çš„ä½œç”¨æ˜¯ï¼š</p>
<h3 id="">ğŸ§© å‘½ä»¤ç›®çš„è§£é‡Šï¼š</h3>
<ol>
<li><strong><code>./mvnw</code></strong>ï¼šä½¿ç”¨é¡¹ç›®è‡ªå¸¦çš„ Maven Wrapperï¼ˆmvnwï¼‰ï¼Œç¡®ä¿ä½¿ç”¨çš„æ˜¯é¡¹ç›®æŒ‡å®šç‰ˆæœ¬çš„ Mavenï¼Œè€Œä¸æ˜¯ç³»ç»Ÿå®‰è£…çš„ Mavenã€‚</li>
<li><strong><code>dependency:go-offline</code></strong>ï¼šæå‰ä¸‹è½½æ‰€æœ‰ä¾èµ–é¡¹ï¼Œä»¥ä¾¿åç»­æ„å»ºè¿‡ç¨‹å¯ä»¥åœ¨ç¦»çº¿ç¯å¢ƒä¸­è¿›è¡Œï¼Œæé«˜æ„å»ºé€Ÿåº¦å’Œç¨³å®šæ€§ã€‚</li>
<li><strong><code>-B</code></strong>ï¼šè¡¨ç¤º batch æ¨¡å¼ï¼Œé¿å… Maven äº¤äº’å¼æç¤ºï¼Œé€‚åˆè‡ªåŠ¨åŒ–æ„å»ºã€‚</li>
<li><strong><code>-Dproduction</code></strong>ï¼šä¼ é€’ä¸€ä¸ªåä¸º <code>production</code> çš„ç³»ç»Ÿå±æ€§ï¼Œå¯èƒ½ç”¨äºæ¿€æ´»æŸäº› profile æˆ–é…ç½®ã€‚</li>
<li><strong><code>package</code></strong>ï¼šæ‰§è¡Œ Maven çš„ <code>package</code> é˜¶æ®µï¼Œé€šå¸¸ä¼šç¼–è¯‘ä»£ç å¹¶æ‰“åŒ…æˆ JAR æˆ– WAR æ–‡ä»¶ã€‚</li>
</ol><hr>
<h3 id="-1">ğŸ›  æŠ¥é”™åˆ†æï¼š</h3>
<p>é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code>/bin/sh: line 1: ./mvnw: cannot execute: required file not found
</code></pre>
<p>è¯´æ˜ Docker æ„å»ºè¿‡ç¨‹ä¸­æ‰¾ä¸åˆ° <code>./mvnw</code> æ–‡ä»¶ï¼Œå¯èƒ½åŸå› å¦‚ä¸‹ï¼š</p>
<h4 id="-2">âœ… è§£å†³æ–¹æ³•ï¼š</h4>
<ol>
<li>
<p><strong>ç¡®è®¤ <code>mvnw</code> æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº Docker æ„å»ºä¸Šä¸‹æ–‡ä¸­</strong>ï¼š</p>
<ul>
<li><code>mvnw</code> å’Œ <code>mvnw.cmd</code> åº”è¯¥åœ¨é¡¹ç›®æ ¹ç›®å½•ã€‚</li>
<li>å¦‚æœä½ ç”¨çš„æ˜¯ <code>.dockerignore</code> æ–‡ä»¶ï¼Œç¡®ä¿æ²¡æœ‰æŠŠ <code>mvnw</code> å¿½ç•¥æ‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ£€æŸ¥ Dockerfile çš„å·¥ä½œç›®å½•è®¾ç½®</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿ä½ åœ¨æ‰§è¡Œå‘½ä»¤å‰è®¾ç½®äº†æ­£ç¡®çš„å·¥ä½œç›®å½•ï¼Œä¾‹å¦‚ï¼š
<div>
<div class="scriptor-paragraph">
<pre><code class="language-Dockerfile">WORKDIR /app
COPY . /app
RUN chmod +x mvnw
RUN ./mvnw dependency:go-offline -B -Dproduction package
</code></pre>
</div>
</div>
</li>
</ul>
</li>
<li>
<p><strong>æ·»åŠ æ‰§è¡Œæƒé™</strong>ï¼š</p>
<ul>
<li>æœ‰æ—¶ <code>mvnw</code> æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œå¯ä»¥åŠ ä¸Šï¼š
<div>
<div class="scriptor-paragraph">
<pre><code class="language-Dockerfile">RUN chmod +x mvnw
</code></pre>
</div>
</div>
</li>
</ul>
</li>
</ol><hr>
<p>å¦‚æœä½ èƒ½æä¾› Dockerfile çš„ç›¸å…³éƒ¨åˆ†ï¼Œæˆ‘å¯ä»¥å¸®ä½ æ›´å…·ä½“åœ°å®šä½é—®é¢˜å¹¶ä¼˜åŒ–å®ƒã€‚ä½ æƒ³æˆ‘å¸®ä½ æ£€æŸ¥ä¸€ä¸‹ Dockerfile å—ï¼Ÿ</p>
</div>
</blockquote>
<p>&nbsp;</p>
<p>å…¶å®ï¼Œæ ¹æ®ä»¥ä¸Šä¸‰ç‚¹æç¤ºï¼Œå¹¶æ²¡æœ‰å®šä½åˆ°é—®é¢˜ã€‚</p>
<p>è¿›ä¸€æ­¥æ€è€ƒï¼Œ mvnw æ˜¯ç”¨äºæ‰“åŒ…java åº”ç”¨ï¼Œè€Œmvnw å’Œ mvnw.batæ–‡ä»¶éƒ½æ˜¯åœ¨åˆ›å»ºé¡¹ç›®æ˜¯è‡ªåŠ¨ç”Ÿæˆã€‚</p>
<p>å¼€å§‹æ€€ç–‘æ˜¯æ–‡ä»¶å†…å®¹ç”±é—®é¢˜å¯¼è‡´ï¼Œæ‰€ä»¥å†³å®šåˆ é™¤å¹¶ç”Ÿæˆæ–°æ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯ä»¥é‡æ–°ç”Ÿæˆ mvnwæ–‡ä»¶æˆ–æ›´æ–°ï¼š</p>
<div class="cnblogs_code">
<pre>mvn -N io.takari:maven:wrapper</pre>
</div>
<p><img width="999" height="550" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202507/2127802-20250714194604971-1024653541.png" class="lazyload"></p>
<p>éšåï¼Œå†æ¬¡æ‰§è¡Œ docker build æŒ‡ä»¤ï¼ˆ&nbsp;docker build -t myalbum:v1 . ï¼‰æˆåŠŸã€‚é•œåƒæ­£å¸¸ç”Ÿæˆï¼</p>
<p><img width="999" height="348" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202507/2127802-20250714194808453-1459854511.png" class="lazyload"></p>
<p><br>ä¸ºäº†æ‰¾åˆ°ä¹‹å‰çš„ mvnw æ–‡ä»¶ä¸ºä½•ä¼šå¤±è´¥ï¼Œåœ¨å¯¹æ¯”ä¸¤ä¸ªæ–‡ä»¶åå‘ç°ï¼š<span style="font-size: 18px; color: rgba(0, 51, 0, 1)"><strong>"é‡æ–°ç”Ÿæˆmvnwæ–‡ä»¶æ˜¯æœ€å¿«çš„è§£å†³ä¹‹é“"</strong></span></p>
<p><img width="666" height="340" loading="lazy" data-src="https://img2024.cnblogs.com/blog/2127802/202507/2127802-20250714195735613-839305580.png" class="lazyload"></p>
<h1>å‚è€ƒèµ„æ–™</h1>
<p class="fs-headline1 ow-anywhere mb8 flex--item fl1">What is the purpose of mvnw and mvnw.cmd files?&nbsp;<a href="https://stackoverflow.com/questions/38723833/what-is-the-purpose-of-mvnw-and-mvnw-cmd-files" target="_blank" rel="noopener nofollow">https://stackoverflow.com/questions/38723833/what-is-the-purpose-of-mvnw-and-mvnw-cmd-files</a></p>
<blockquote>
<p>These files are from&nbsp;<a href="https://github.com/takari/maven-wrapper" rel="noopener nofollow">Maven wrapper</a>. It works similarly to the&nbsp;<a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html" rel="noopener nofollow">Gradle wrapper</a>.</p>
<p>This allows you to run the Maven project without having Maven installed and present on the path. It downloads the correct Maven version if it's not found (as far as I know by default in your user home directory).</p>
<p>The&nbsp;<code>mvnw</code>&nbsp;file is for Linux (bash) and the&nbsp;<code>mvnw.cmd</code>&nbsp;is for the Windows environment.</p>
<hr>
<p>To create or update all necessary Maven Wrapper files execute the following command:</p>
<pre class="default s-code-block"><code class="hljs language-lua" data-highlighted="yes">mvn -N <span class="hljs-built_in">io.takari:maven:wrapper
</span></code></pre>
<p>To use a different version of maven you can specify the version as follows:</p>
<pre class="default s-code-block"><code class="hljs language-lua" data-highlighted="yes">mvn -N <span class="hljs-built_in">io.takari:maven:wrapper -Dmaven=<span class="hljs-number">3.3<span class="hljs-number">.3
</span></span></span></code></pre>
<p>Both commands require maven on&nbsp;<code>PATH</code>&nbsp;(add the path to maven&nbsp;<code>bin</code>&nbsp;to&nbsp;<code>Path</code>&nbsp;on System Variables) if you already have mvnw in your project you can use&nbsp;<code>./mvnw</code>&nbsp;instead of&nbsp;<code>mvn</code>&nbsp;in the commands.</p>
</blockquote>
<p>&nbsp;</p>
</div>
<div id="MySignature" role="contentinfo">
    <div style="background: #1c5f55;height: 36px;width: 618px;padding: 14px 5px 0px 3px;">
  <p style="
    font-weight: bold;
    color: white;
">å½“åœ¨å¤æ‚çš„ç¯å¢ƒä¸­é¢ä¸´é—®é¢˜ï¼Œæ ¼ç‰©ä¹‹é“éœ€ï¼šæµŠè€Œé™ä¹‹å¾æ¸…ï¼Œå®‰ä»¥åŠ¨ä¹‹å¾ç”Ÿã€‚ äº‘ä¸­ï¼Œæ°æ˜¯å¦‚æ­¤!</p>
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.010416666666666666" data-date-updated="2025-07-14 20:15">2025-07-14 20:00</span>&nbsp;
<a href="https://www.cnblogs.com/lulight">è·¯è¾¹ä¸¤ç›ç¯</a>&nbsp;
é˜…è¯»(<span id="post_view_count">155</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18984570);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18984570', targetLink: 'https://www.cnblogs.com/lulight/p/18984570', title: 'ã€Azure Container Appã€‘æ„å»ºJavaåº”ç”¨é•œåƒæ—¶å€™é‡æ— æ³•ç¼–è¯‘é”™è¯¯ï¼šERROR [build 10/10] RUN ./mvnw.cmd dependency:go-offline -B -Dproduction package' })">ä¸¾æŠ¥</a>
</div>
        