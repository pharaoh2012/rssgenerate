
        <h2>
            <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/kenlewis/p/19028193" title="发布于 2025-08-08 16:23">
    <span role="heading" aria-level="2">点阵字体BDF的生成</span>
    

</a>

        </h2>
        <div class="postbody">
            <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>做点阵字体的原因，是我觉得Windows下的16点阵的宋体不如原来DOS下的好看。在分析点阵字体的时候，就萌生了要把Windows下的TTF字体转成点阵字体的想法。</p>
<p>在网上查了一些资料，TTF转点阵字体，绕不开的就是描边矢量化。这个倒是有工具Potrace可以做。但是转成的点阵字，是按比例缩放的，在特定的字体大小下，可能会显得模糊，那么就需要针对这个大小的字体，制作BDF格式的字体。比如我们编辑一个带有点阵字体的TTF文件，会发现它有一个或多个BMP字体。</p>
<p>如下图：</p>
<p><img alt="VeryCapture_20250516093752" loading="lazy" data-src="https://img2024.cnblogs.com/blog/121342/202508/121342-20250808103117453-300068949.jpg" class="lazyload"></p>
<p>&nbsp;</p>
<p>于是，我就开始研究BDF文件格式。在网上搜索资料，得到以下的内容：</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">一个BDF字体文件，首先需要确定分辨率DPI，一般我们设置为96，符合大部分显示器的分辨率</span>
STARTFONT <span style="color: rgba(128, 0, 128, 1)">2.1</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">BDF版本号</span>
COMMENT 该字体来自于宋体                        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">注释</span>
FONT Song                                        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字体名</span>
SIZE <span style="color: rgba(128, 0, 128, 1)">12</span> <span style="color: rgba(128, 0, 128, 1)">96</span> <span style="color: rgba(128, 0, 128, 1)">96</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字体大小，格式SIZE &lt;磅数&gt; &lt;X分辨率&gt; &lt;Y分辨率&gt;
                                                </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">磅数=像素*72/DPI，16像素点阵，磅数就是12</span>
FONTBOUNDINGBOX <span style="color: rgba(128, 0, 128, 1)">16</span> <span style="color: rgba(128, 0, 128, 1)">16</span> <span style="color: rgba(128, 0, 128, 1)">0</span> <span style="color: rgba(128, 0, 128, 1)">0</span>                        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字体外围大小，&lt;宽度&gt; &lt;高度&gt; &lt;X偏移量&gt; &lt;Y偏移量&gt;</span>
STARTPROPERTIES <span style="color: rgba(128, 0, 128, 1)">12</span>                                <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">这里开始属性定义，数字代表有多少条属性</span>
COPYRIGHT 版权所有 (c) <span style="color: rgba(128, 0, 128, 1)">2025</span> www.51xiazai.com    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">版权定义</span>
FOUNDRY <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">www.51xiazai.com</span><span style="color: rgba(128, 0, 0, 1)">"</span>                        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">发行商，还是版权定义</span>
FAMILY_NAME Song                                <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字体家族，在Windows中，同家族的字体会合并管理</span>
SEWINDTH_NAME <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Normal</span><span style="color: rgba(128, 0, 0, 1)">"</span>                            <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字体的水平宽度，也就是字符的相对间距
                                                </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">例如 "Normal"（正常）、"Condensed"（紧缩）、"Expanded"（扩展）等。
                                                </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">这个属性对于等宽字体（Monospace）和可变宽度字体（Proportional）的分类很有用</span>
AVERAGE_WIDTH <span style="color: rgba(128, 0, 128, 1)">16</span>                                <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字体的平均宽度</span>
PIXEL_SIZE <span style="color: rgba(128, 0, 128, 1)">16</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字体的平均高度</span>
RESOLUTION_X <span style="color: rgba(128, 0, 128, 1)">96</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">X分辨率</span>
RESOLUTION_Y <span style="color: rgba(128, 0, 128, 1)">96</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">Y分辨率</span>
CHARSET_REGISTRY <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">gb2312</span><span style="color: rgba(128, 0, 0, 1)">"</span>                        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字符集 CHARSET_REGISTRY 通常会和 CHARSET_ENCODING 一起出现</span>
CHARSET_ENCODING <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">O</span><span style="color: rgba(128, 0, 0, 1)">"</span>                            <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">CHARSET_ENCODING 指定了注册机构下的具体编码版本</span>
FONT_ASCENT <span style="color: rgba(128, 0, 128, 1)">12</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">上升线：基线到最高点的距离</span>
FONT_DESCENT <span style="color: rgba(128, 0, 128, 1)">4</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">下降线：基线到最低点的距离</span>
ENDPROPERTIES                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">属性定义结束</span>
CHARS <span style="color: rgba(128, 0, 128, 1)">21126</span>                                        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">本BDF文件一共描述的字符数量
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">每一个字符的具体描述</span>
STARTCHAR U+554A                                <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">定义要描述的字符UNICODE</span>
ENCODING <span style="color: rgba(128, 0, 128, 1)">21834</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字符的编码</span>
SWIDTH <span style="color: rgba(128, 0, 128, 1)">16000</span> <span style="color: rgba(128, 0, 128, 1)">0</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字符的可伸缩宽度，这个值通常为DWIDTH值的1000倍</span>
DWIDTH <span style="color: rgba(128, 0, 128, 1)">16</span> <span style="color: rgba(128, 0, 128, 1)">0</span>                                        <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字符宽度</span>
BBX <span style="color: rgba(128, 0, 128, 1)">16</span> <span style="color: rgba(128, 0, 128, 1)">16</span> <span style="color: rgba(128, 0, 128, 1)">0</span> <span style="color: rgba(128, 0, 128, 1)">0</span>                                    <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">单个字符的边界框 BBX &lt;宽度&gt; &lt;高度&gt; &lt;X偏移量&gt; &lt;Y偏移量&gt;
</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">字符的点阵描述</span>
<span style="color: rgba(0, 0, 0, 1)">BITMAP
</span><span style="color: rgba(128, 0, 128, 1)">0000</span><span style="color: rgba(0, 0, 0, 1)">
0EFC
EA08
AA08
AAE8
AAA8
ACA8
AAA8
AAA8
AAA8
EAE8
AAA8
0C08
</span><span style="color: rgba(128, 0, 128, 1)">0808</span>
<span style="color: rgba(128, 0, 128, 1)">0828</span>
<span style="color: rgba(128, 0, 128, 1)">0810</span><span style="color: rgba(0, 0, 0, 1)">
ENDCHAR</span></pre>
</div>
<p>&nbsp;上面的点阵字符，描述的是汉字“啊”，它的点阵用二进制表示就是如下的样子：</p>
<p><img alt="VeryCapture_20250808141616" loading="lazy" data-src="https://img2024.cnblogs.com/blog/121342/202508/121342-20250808141724638-2096417779.jpg" class="lazyload"></p>
<p>看明白了吗？所以BDF的字体格式很简单。</p>
<p>上面的字体大小是16*16，正好是8的倍数，那么，如果字体的大小不是8的倍数怎么办呢？</p>
<p>看下面的例子：</p>
<p><img alt="VeryCapture_20250808162011" loading="lazy" data-src="https://img2024.cnblogs.com/blog/121342/202508/121342-20250808162149362-1761754871.jpg" class="lazyload"></p>
<p>横向扩展成8的倍数，末位补0即可。</p>
</div>
<div class="clear"></div>

        </div>
        <p class="postfoot">
            posted on 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-08-08 16:23">2025-08-08 16:23</span>&nbsp;
<a href="https://www.cnblogs.com/kenlewis">西点肥牛</a>&nbsp;
阅读(<span id="post_view_count">101</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19028193);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19028193', targetLink: 'https://www.cnblogs.com/kenlewis/p/19028193', title: '点阵字体BDF的生成' })">举报</a>

        </p>
    