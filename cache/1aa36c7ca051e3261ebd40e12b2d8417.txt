
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/noear/p/18831333" title="发布于 2025-04-17 17:45">
    <span role="heading" aria-level="2">Solon AI MCP Server 入门：Helloworld （支持 java8 到 java24。国产解决方案）</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        Solon AI MCP 是 Solon AI 最新增加的特性。支持 Mcp Server 和 Mcp Client，且支持 Java 8 到 Java 24。
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>目前网上能看到的 MCP Server 基本上都是基于 Python 或者 nodejs ，虽然也有 Java 版本的 MCP SDK，但是鲜有基于 Java 开发的。 作为Java 开发中的国产顶级框架 Solon 已经基于 MCP SDK 在进行 Solon AI MCP 框架开发了，本文将使用 Solon AI MCP 做一个简单的 MCP Server 入门。</p>
<h3 id="引入依赖">引入依赖</h3>
<p>Solon AI MCP 是 Solon AI 最新增加的特性。支持 Mcp Server 和 Mcp Client，且支持 Java 8 到 Java 24。最新的版本号为 3.2.0（随 Solon 的版号）。</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.noear&lt;/groupId&gt;
    &lt;artifactId&gt;solon-ai-mcp&lt;/artifactId&gt;
    &lt;version&gt;3.2.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="开始写工具">开始写工具</h3>
<p>solon-ai-mcp 支持多端点的架构，可以手动构建端点，或者注解构建端点（<code>@McpServerEndpoint</code>）。再使用 <code>@ToolMapping</code> 注解编写工具，就像开发 MVC 一样简单和熟悉。</p>
<ul>
<li>@ToolMapping 注解标记这个方法是一个工具映射，通过 description 属性告诉大模型这个工具是做什么的，其实就是提示词，大模型会根据自己的理解调用这个工具，所以这个描述很重要。</li>
<li>@ToolParam：从名字可以看出来，就是工具调用时需要传什么参数</li>
</ul>
<pre><code class="language-java">@McpServerEndpoint(sseEndpoint = "/sse")
public class HelloService {
    @ToolMapping(description = "你好世界")
    public String hello(@ToolParam(description = "名字") String name) throws SQLException {
        return "hello " + name;
    }
}
</code></pre>
<p>这样就可以了。启动时就会自动注册。并且打印基本的信息：</p>
<img src="https://teamx.noear.org/img/e8191e62e744488dbc2071f8b849520f.png" width="600">
<h3 id="用客户端做个单测调用这个工具">用客户端做个单测（调用这个工具）</h3>
<pre><code class="language-java">@Slf4j
@SolonTest(App.class)
public class HelloTest extends HttpTester {
    @Test
    public void hello() throws IOException {
        McpClientToolProvider clientToolProvider = McpClientToolProvider.builder()
                .apiUrl("http://localhost:8080/sse")
                .build();

        String rst = clientToolProvider.callToolAsText("hello", Maps.of("name", "solon"));
        log.warn(rst);
    }
}
</code></pre>
<p>运行单测后：</p>
<img src="https://teamx.noear.org/img/3e8e5e4259b549b3b88674b5778723c4.png" width="600">

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.18849065807870372" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-17 17:45">2025-04-17 17:45</span>&nbsp;
<a href="https://www.cnblogs.com/noear">带刺的坐椅</a>&nbsp;
阅读(<span id="post_view_count">28</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18831333);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18831333', targetLink: 'https://www.cnblogs.com/noear/p/18831333', title: 'Solon AI MCP Server 入门：Helloworld （支持 java8 到 java24。国产解决方案）' })">举报</a>
</div>
        