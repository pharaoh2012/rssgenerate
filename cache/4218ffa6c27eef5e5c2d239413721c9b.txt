
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/IwishIcould/p/18782121" title="发布于 2025-03-20 22:00">
    <span role="heading" aria-level="2">element-ui和ant-design-vue 数字输入框只能输入大于等于1的整数</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h4 id="限制输入的是大于等于1的整数">限制输入的是大于等于1的整数</h4>
<pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;ant-design-vue 1.xx&lt;/h1&gt;
    &lt;a-input-number
      id="inputNumber"
      v-model="value2"
      :min="1"
      :max="9007199254740991"
      :precision="0"
      class="set-width"
      @change="onChange"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data() {
    return {
      value2: 3,
    };
  },
  methods: {
    onChange(value) {
      console.log("changed", value);
    },
  },
};
&lt;/script&gt;
&lt;style scoped lang="less"&gt;
.set-width {
  width: 200px;
}
&lt;/style&gt;
</code></pre>
<h4 id="precision的作用">precision的作用</h4>
<pre><code>precision   数值精度	  number类型
:precision="0",强制输入为整数（不允许小数）
</code></pre>
<h4 id="为啥需要限制最大值">为啥需要限制最大值</h4>
<pre><code>JavaScript 的 Number 类型最大安全整数为 2^53 - 1(既 9007199254740991 )。是一个16位数。
如果超出的话，会出现 Infinity。
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/1425695/202503/1425695-20250319230746204-2146227207.png" alt="" loading="lazy"></p>
<h4 id="使用formatter和-parser-来做限制输入的是大于等于1的整数">使用formatter和 parser 来做限制输入的是大于等于1的整数</h4>
<pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;比如"12-34.56"会变成"123456"。&lt;/h1&gt;
    &lt;h1&gt;ant-design-vue 1.xx&lt;/h1&gt;
    &lt;a-input-number
      id="inputNumber"
      v-model="value2"
      :min="1"
      :max="9007199254740991"
      :formatter="formatter"
      :parser="parser"
      class="set-width"
      @change="onChange"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
export default {
  data() {
    return {
      value2: 3,
    };
  },
  methods: {
    // 格式化显示（禁止显示小数和非整数）
    formatter(value) {
      return `${value}`.replace(/[^\d]/g, ""); // 强制去除所有非数字字符
    },
    parser(value) {
      // 去除非数字字符（如字母、符号）
      // 这里使用 parser，当我们复制ctrl-c-v “abc123.45-”的时候，会变成 12345
      // 如果不使用 parser，我们复制ctrl-c-v “abc123.45-”的时候，会变成空字符 ""
      const parsedValue = value.toString().replace(/[^\d]/g, "");
      return parsedValue;
    },
    onChange(value) {
      console.log("changed", value);
    },
  },
};
&lt;/script&gt;
</code></pre>
<h4 id="正则的详细说明replacedg-">正则的详细说明replace(/[^\d]/g, "");</h4>
<p>\d在正则表达式中通常代表数字，即0-9。<br>
[^\d]匹配任何非数字的字符。加上g修饰符，意味着替换所有匹配的非数字字符。<br>
也就是说：[^\d]匹配的就是除了0-9之外的任何字符。<br>
replace方法将这些匹配到的非数字字符替换为空字符串，也就是删除非数字的字符。<br>
例如，如果value是"abc123.45-"，替换后的结果就是"12345"。</p>
<ol>
<li>方括号[]：表示一个字符类，匹配其中任何一个字符。</li>
<li>^符号：在字符类的开头使用，表示否定，即匹配不在该字符类中的任何字符。</li>
<li>\d：代表数字字符，等价于[0-9]。</li>
<li>/g修饰符：全局匹配，替换所有出现的地方，而不仅仅是第一个。<br>
所以组合起来，[^\d]匹配任何不是数字的字符，替换为空字符串即，删除掉非数字的字符，最终得到纯数字的字符串。</li>
</ol>
<h4 id="dg-和dg的区别">/[^\d]/g 和/^\d/g的区别</h4>
<pre><code>[^\d]：用于匹配所有非数字内容。
^\d：用于检查字符串是否以数字开头。

"1a2b3c".replace(/^\d/g, "") // 输出 "a2b3c"（开头数字1被替换）
"a1b2c3".replace(/^\d/g, "") // 输出不变（开头无数字）
</code></pre>
<h4 id="elementui-输入框只能输入大于等于1的整数">elementui 输入框只能输入大于等于1的整数</h4>
<pre><code>&lt;template&gt;
  &lt;div class="set-number"&gt;
    &lt;!-- controls 是否使用 + - 控制按钮--&gt;
    &lt;!-- precision 精确度 number类型，:precision="0" 表示输入整数--&gt;
    &lt;el-input-number v-model="num" controls-position="right" :controls="false"
      :precision="0" :min="1" :max="9007199254740991"&gt;
    &lt;/el-input-number&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
  export default {
    data() {
      return {
        num: 1
      };
    },
    methods: {
      handleChange(value) {
        console.log(value);
      }
    }
  };
&lt;/script&gt;
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/1425695/202503/1425695-20250320215834857-616199840.png" alt="" loading="lazy"></p>

</div>
<div id="MySignature" role="contentinfo">
    <div style="width:818px;background:#f5f5f5; padding: 10px 10px 10px 10px; border: 1px dashed rgb(224, 224, 224); font-family: 微软雅黑; font-size: 13px;">
            <h1 style="font-size: 24px;"> 遇见问题，这是你成长的机会，如果你能够解决，这就是收获。 </h1>
		    <div style="padding:10px">
		        作者：<a href="https://www.cnblogs.com/IwishIcould/" target="_blank">晚来南风晚相识</a> <br>
		        出处：<a href="https://www.cnblogs.com/IwishIcould/">https://www.cnblogs.com/IwishIcould/</a> <br>
                        <p> 想问问题，打赏了卑微的博主，求求你备注一下的扣扣或者微信；这样我好联系你；(っ•̀ω•́)っ✎⁾⁾！</p>
		        <p>如果觉得这篇文章对你有小小的帮助的话，记得在右下角点个“推荐”哦，或者关注博主，在此感谢！</p>
		        <p> 万水千山总是情，打赏5毛买辣条行不行，所以如果你心情还比较高兴，也是可以扫码打赏博主(っ•̀ω•́)っ✎⁾⁾！</p>
                        <p> 想问问题，打赏了卑微的博主，求求你备注一下的扣扣或者微信；这样我好联系你；(っ•̀ω•́)っ✎⁾⁾！</p>
				<div style="display: flex;">
					<div style="margin-right: 100px;text-align: center;">
						<img src="//images.cnblogs.com/cnblogs_com/IwishIcould/1900124/t_201214043958支付宝收款码.jpg?a=1607924145179">
						<div>
							支付宝
						</div>
					</div>
					<div style="text-align: center;">
						<img src="//images.cnblogs.com/cnblogs_com/IwishIcould/1900124/t_20121604194271E6E296CCB71A007F4E22073D5EB64A.jpg">
						<div>微信</div>
					</div>
				</div>
		        本文版权归作者所有，欢迎转载，未经作者同意须保留此段声明，在文章页面明显位置给出原文连接 <br>
		        如果文中有什么错误，欢迎指出。以免更多的人被误导。 <br>
               
		    </div>
           
            
		</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.01055163208449074" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-20 22:01">2025-03-20 22:00</span>&nbsp;
<a href="https://www.cnblogs.com/IwishIcould">南风晚来晚相识</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18782121" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18782121);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18782121', targetLink: 'https://www.cnblogs.com/IwishIcould/p/18782121', title: 'element-ui和ant-design-vue 数字输入框只能输入大于等于1的整数' })">举报</a>
</div>
        