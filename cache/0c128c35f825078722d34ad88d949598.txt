
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wang_yb/p/18822959" title="发布于 2025-04-13 10:00">
    <span role="heading" aria-level="2">『Plotly实战指南』--面积图绘制与应用</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>在数据可视化领域，<strong>面积图</strong>是一种强大而直观的工具，它通过填充线条与坐标轴之间的区域来量化数据大小，</p>
<p>从而帮助我们清晰地展示数据的总量、趋势变化以及不同类别之间的对比。</p>
<p>无论是分析随时间变化的累积量，还是对比多类别的数据占比，<strong>面积图</strong>都能以简洁而直观的方式呈现复杂的数据关系。</p>
<p>本文主要介绍<code>Plotly</code>面积图的绘制技巧。</p>
<h1 id="1-基本绘制">1. 基本绘制</h1>
<h2 id="11-面积图数据">1.1. 面积图数据</h2>
<p><strong>面积图</strong>是一种通过填充线条与坐标轴之间的区域来展示数据大小的图表。</p>
<p>其<strong>基本原理</strong>是将数据点连接成一条折线，并将折线下方（或上方）的区域进行填充，从而直观地表示数据的量级。</p>
<p>在面积图中，<strong>X 轴</strong>通常表示连续变量，如时间或类别，而 <strong>Y 轴</strong>则表示数值变量，用于衡量数据的大小。</p>
<p>这种可视化方式天然适合展现：</p>
<ul>
<li><strong>累积效应</strong>：如年度预算的逐月消耗</li>
<li><strong>占比关系</strong>：不同产品线的销售贡献比例</li>
<li><strong>波动范围</strong>：温度随时间的变化区间</li>
</ul>
<h2 id="12-普通面积图">1.2. 普通面积图</h2>
<p><strong>普通面积图</strong>用于展示单一数据序列的独立区域填充。</p>
<p>在<code>Plotly</code>中，可以通过设置<code>go.Scatter</code>的<code>fill</code>参数为<code>'tozeroy'</code>来实现<strong>普通面积图</strong>。</p>
<pre><code class="language-python">import plotly.graph_objects as go

# 示例数据
x = [1, 2, 3, 4, 5]
y = [10, 20, 15, 25, 30]

# 创建普通面积图
fig = go.Figure(data=[go.Scatter(x=x, y=y, fill='tozeroy', mode='lines')])
fig.show()
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/83005/202504/83005-20250413095944625-316440583.png" alt="" loading="lazy"></p>
<p>在<strong>普通面积图</strong>中，每个数据序列的填充区域是独立的，互不重叠。</p>
<p>这种图表适用于展示单一数据序列的变化趋势，帮助我们直观地观察数据的增减情况。</p>
<h2 id="13-堆叠面积图">1.3. 堆叠面积图</h2>
<p><strong>堆叠面积图</strong>则用于展示多数据序列的逐层叠加，从而呈现部分与整体的关系。</p>
<p>在<code>Plotly</code>中，堆叠面积图的关键参数是<code>stackgroup</code>，用于定义堆叠组，而<code>stack</code>参数则控制堆叠顺序。</p>
<pre><code class="language-python">import plotly.graph_objects as go

# 示例数据
x = [1, 2, 3, 4, 5]
y1 = [10, 20, 15, 25, 30]
y2 = [5, 10, 12, 18, 20]

# 创建堆叠面积图
fig = go.Figure(
    data=[
        go.Scatter(x=x, y=y1, fill="tonexty", mode="lines", name="Series 1"),
        go.Scatter(x=x, y=y2, fill="tonexty", mode="lines", name="Series 2"),
    ]
)
fig.show()
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/83005/202504/83005-20250413095944749-51079614.png" alt="" loading="lazy"></p>
<p>在<strong>堆叠面积图</strong>中，多个数据序列的填充区域逐层叠加，形成一个整体。</p>
<p>这种图表适用于分析总量趋势以及各部分对总量的贡献度。</p>
<h1 id="2-两种面积图对比">2. 两种面积图对比</h1>
<p>这两种<strong>面积图</strong>的主要差异体现在：</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>普通面积图</th>
<th>堆叠面积图</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据关系</td>
<td>独立序列</td>
<td>部分与整体关系</td>
</tr>
<tr>
<td>填充模式</td>
<td><code>tozeroy</code></td>
<td><code>tonexty</code></td>
</tr>
<tr>
<td>适用场景</td>
<td>单序列波动分析</td>
<td>多序列贡献度分析</td>
</tr>
<tr>
<td>可视化重点</td>
<td>总量变化</td>
<td>成分比例变化</td>
</tr>
</tbody>
</table>
<h1 id="3-总结">3. 总结</h1>
<p><strong>面积图</strong>作为一种直观且功能强大的可视化工具，在数据趋势分析中具有独特的优势。</p>
<p>它不仅能够清晰地展示数据的总量，还能通过堆叠或独立填充的方式呈现细节对比。</p>
<p>在<strong>时间序列分析</strong>中，<strong>面积图</strong>可以帮助我们快速识别趋势变化、季节性模式以及关键转折点。</p>
<p>在实际应用中，根据分析目标选择合适的<strong>堆叠模式</strong>至关重要。</p>
<p>如果关注总量趋势及各部分的贡献度，<strong>堆叠面积图</strong>是最佳选择；而如果需要对比独立序列的变化情况，则<strong>普通面积图</strong>更为合适。</p>
<p>此外，在处理时间序列数据时，要注意时间轴的格式化以及采样密度的平衡，以确保图表的可读性和准确性。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.6803375443819445" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-13 10:00">2025-04-13 10:00</span>&nbsp;
<a href="https://www.cnblogs.com/wang_yb">wang_yb</a>&nbsp;
阅读(<span id="post_view_count">35</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18822959);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18822959', targetLink: 'https://www.cnblogs.com/wang_yb/p/18822959', title: '『Plotly实战指南』--面积图绘制与应用' })">举报</a>
</div>
        