
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/ludangxin/p/18913321" title="å‘å¸ƒäº 2025-06-05 23:33">
    <span role="heading" aria-level="2">1. LangChain4j åˆè¯†ï¼Œæƒ³ä½¿ç”¨Javaå¼€å‘AIåº”ç”¨ï¼Ÿ</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1-ç®€ä»‹">1. ç®€ä»‹</h2>
<p><strong>LangChain4j</strong> æ˜¯ä¸€ä¸ªåŸºäº Java çš„å¼€æºæ¡†æ¶ï¼Œç”¨äºå¼€å‘ <strong>äººå·¥æ™ºèƒ½é©±åŠ¨çš„åº”ç”¨ç¨‹åº</strong>ï¼Œå°¤å…¶æ˜¯æ¶‰åŠ <strong>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰äº¤äº’</strong> çš„åœºæ™¯ã€‚å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯ç®€åŒ–å¼€å‘è€…ä¸å¤§è¯­è¨€æ¨¡å‹çš„é›†æˆè¿‡ç¨‹ï¼Œæä¾›ä¸€å¥—å·¥å…·å’Œç»„ä»¶æ¥å¤„ç†å¤æ‚çš„ LLM åº”ç”¨é€»è¾‘ï¼Œä¾‹å¦‚å¯¹è¯ç®¡ç†ã€æç¤ºå·¥ç¨‹ã€å·¥å…·è°ƒç”¨ç­‰ã€‚</p>
<h3 id="æ ¸å¿ƒåŠŸèƒ½ä¸ç‰¹ç‚¹">æ ¸å¿ƒåŠŸèƒ½ä¸ç‰¹ç‚¹</h3>
<ol>
<li><strong>å¤§è¯­è¨€æ¨¡å‹é›†æˆ</strong>
<ul>
<li>æ”¯æŒå¤šç§ LLM æ¥å…¥æ–¹å¼ï¼ŒåŒ…æ‹¬ï¼š
<ul>
<li>æœ¬åœ°è¿è¡Œçš„å¼€æºæ¨¡å‹ï¼ˆå¦‚ Llama 2ã€ChatGLM ç­‰ï¼‰ã€‚</li>
<li>ç¬¬ä¸‰æ–¹ API æ¨¡å‹ï¼ˆå¦‚ OpenAI çš„ GPT ç³»åˆ—ã€Anthropic çš„ Claude ç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li>é€šè¿‡ç»Ÿä¸€çš„æ¥å£æŠ½è±¡ï¼Œé™ä½æ¨¡å‹åˆ‡æ¢çš„æˆæœ¬ã€‚</li>
</ul>
</li>
<li><strong>æç¤ºå·¥ç¨‹å·¥å…·</strong>
<ul>
<li>æä¾›æ¨¡æ¿åŒ–çš„æç¤ºæ„å»ºå™¨ï¼Œå¸®åŠ©å¼€å‘è€…ç»“æ„åŒ–è¾“å…¥ï¼ˆå¦‚å¡«å……å˜é‡ã€ç®¡ç†ä¸Šä¸‹æ–‡å†å²ï¼‰ã€‚</li>
<li>æ”¯æŒåŠ¨æ€ç»„åˆæç¤ºé“¾ï¼ˆPrompt Chainï¼‰ï¼Œä¾‹å¦‚æ ¹æ®ç”¨æˆ·é—®é¢˜é€æ­¥è°ƒç”¨ä¸åŒçš„æç¤ºæ¨¡æ¿ã€‚</li>
</ul>
</li>
<li><strong>å¯¹è¯çŠ¶æ€ç®¡ç†</strong>
<ul>
<li>ç»´æŠ¤å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒè®°å¿†ç®¡ç†ï¼ˆå¦‚è®¾ç½®ä¸Šä¸‹æ–‡çª—å£å¤§å°ã€é€‰æ‹©æ€§é—å¿˜æ—§ä¿¡æ¯ï¼‰ã€‚</li>
<li>å¯é›†æˆå¤–éƒ¨çŸ¥è¯†åº“ï¼ˆå¦‚å‘é‡æ•°æ®åº“ï¼‰å®ç°é•¿æœŸè®°å¿†ã€‚</li>
</ul>
</li>
<li><strong>å·¥å…·è°ƒç”¨èƒ½åŠ›</strong>
<ul>
<li>æ”¯æŒè°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚è®¡ç®—å™¨ã€æ•°æ®åº“æŸ¥è¯¢ã€API æ¥å£ç­‰ï¼‰ï¼Œå¹¶å°†å·¥å…·è¿”å›ç»“æœæ•´åˆåˆ° LLM çš„å›ç­”ä¸­ã€‚</li>
<li>æä¾›å·¥å…·è°ƒç”¨çš„å†³ç­–é€»è¾‘ï¼ˆå¦‚åˆ¤æ–­ä½•æ—¶éœ€è¦è°ƒç”¨å·¥å…·ã€å¦‚ä½•è§£æå·¥å…·è¿”å›ç»“æœï¼‰ã€‚</li>
</ul>
</li>
<li><strong>é“¾å¼æµç¨‹ç¼–æ’</strong>
<ul>
<li>é€šè¿‡ <strong>Chain</strong> æœºåˆ¶ç¼–æ’å¤šä¸ªç»„ä»¶ï¼ˆå¦‚æç¤ºç”Ÿæˆã€å·¥å…·è°ƒç”¨ã€ç»“æœå¤„ç†ï¼‰ï¼Œå½¢æˆå¤æ‚çš„å·¥ä½œæµã€‚</li>
<li>å…¸å‹åœºæ™¯ï¼šé—®ç­”ç³»ç»Ÿä¸­å…ˆè°ƒç”¨æœç´¢å¼•æ“è·å–å®æ—¶æ•°æ®ï¼Œå†ç”¨ LLM ç”Ÿæˆå›ç­”ã€‚</li>
</ul>
</li>
<li><strong>æ‰©å±•æ€§ä¸ç”Ÿæ€</strong>
<ul>
<li>åŸºäº Java ç”Ÿæ€ï¼Œå¯è½»æ¾ä¸ Springæ¡†æ¶é›†æˆã€‚</li>
<li>æ”¯æŒè‡ªå®šä¹‰ç»„ä»¶ï¼ˆå¦‚è‡ªå®šä¹‰æç¤ºç­–ç•¥ã€å·¥å…·é€‚é…å™¨ï¼‰ï¼Œçµæ´»é€‚é…ä¸šåŠ¡éœ€æ±‚ã€‚</li>
</ul>
</li>
</ol>
<h2 id="2-è¯ä¸å¤šè¯´ç›´æ¥å±•ç¤º">2. è¯ä¸å¤šè¯´ï¼Œç›´æ¥å±•ç¤º</h2>
<p>æœ¬ç« ä¸»è¦é€šè¿‡å•å…ƒæµ‹è¯•çš„æ–¹å¼å±•ç¤ºLangChain4jçš„å„é¡¹åŠŸèƒ½ï¼Œåç»­ä¼šå‡ºé€šè¿‡<code>LangChain4j Starter</code>çš„æ–¹å¼å¿«é€Ÿé›†æˆSpringBootã€‚</p>
<p>ä½¿ç”¨SDKç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p>â€‹	Java: 21</p>
<p>â€‹	SpringBoot: 3.4.5</p>
<p>â€‹	LangChain4j: 1.0.1</p>
<p>AI æ¨¡å‹ä¸»è¦ä½¿ç”¨çš„æ˜¯é˜¿é‡Œçš„ç™¾ç‚¼å¹³å°å…è´¹çš„tokenï¼Œéœ€è¦<code>ApiKey</code>çš„å¯ä»¥è‡ªè¡Œå»ç”³è¯·, å¹³å°åœ°å€å¦‚ä¸‹ï¼š</p>
<p><a href="https://bailian.console.aliyun.com/?tab=model#/model-market" target="_blank" rel="noopener nofollow">https://bailian.console.aliyun.com/?tab=model#/model-market</a></p>
<h2 id="3-maven">3. Maven</h2>
<pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;3.4.5&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;
    &lt;groupId&gt;com.ldx&lt;/groupId&gt;
    &lt;artifactId&gt;langchain-test&lt;/artifactId&gt;
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;langchain-test&lt;/name&gt;
    &lt;description&gt;langchain-test&lt;/description&gt;

    &lt;properties&gt;
        &lt;java.version&gt;21&lt;/java.version&gt;
        &lt;langchain4j.version&gt;1.0.1&lt;/langchain4j.version&gt;
        &lt;guava.version&gt;33.0.0-jre&lt;/guava.version&gt;
    &lt;/properties&gt;

    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;
                &lt;artifactId&gt;langchain4j-bom&lt;/artifactId&gt;
                &lt;version&gt;${langchain4j.version}&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;
            &lt;artifactId&gt;langchain4j&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
            &lt;artifactId&gt;guava&lt;/artifactId&gt;
            &lt;version&gt;${guava.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;
            &lt;artifactId&gt;langchain4j-open-ai&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;dev.langchain4j&lt;/groupId&gt;
            &lt;artifactId&gt;langchain4j-reactor&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;excludes&gt;
                        &lt;exclude&gt;
                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
                        &lt;/exclude&gt;
                    &lt;/excludes&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</code></pre>
<h2 id="4-æ„å»ºæ¨¡å‹å¯¹è±¡">4. æ„å»ºæ¨¡å‹å¯¹è±¡</h2>
<pre><code class="language-java">// æ™®é€šçš„å¯¹è¯æ¨¡å‹
private static ChatModel chatModel;

// æµå¼å¯¹è¯çš„æ¨¡å‹ï¼ˆå¯ä»¥æ¨¡æ‹Ÿgptçš„æ‰“å­—æœºæ•ˆæœï¼‰
private static StreamingChatModel streamingChatModel;

@BeforeAll
public static void init_chat_model() {
    chatModel = OpenAiChatModel
            .builder()
            // apikey é€šè¿‡ç¯å¢ƒå˜é‡çš„æ–¹å¼æ³¨å…¥ï¼Œå¤§å®¶å¯ä»¥ä½¿ç”¨è‡ªå·±çš„apikey
            .apiKey(System.getenv("LLM_API_KEY"))
            .modelName("qwen-plus")
            .baseUrl("https://dashscope.aliyuncs.com/compatible-mode/v1")
            .build();
    streamingChatModel = OpenAiStreamingChatModel
            .builder()
            .apiKey(System.getenv("LLM_API_KEY"))
            .modelName("qwen-plus")
            .baseUrl("https://dashscope.aliyuncs.com/compatible-mode/v1")
            .build();
}
</code></pre>
<h2 id="5-è¿”å›å­—ç¬¦ä¸²">5. è¿”å›å­—ç¬¦ä¸²</h2>
<pre><code class="language-java">@Test
public void should_return_str_when_use_normal_chat() {
    String q = "ä½ æ˜¯è°";
    String content = chatModel.chat(q);
    log.info("call ai q: {}\na: {}", q, content);
}
</code></pre>
<blockquote>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code>22:12:37.807 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- call ai q: ä½ æ˜¯è°
a: æˆ‘æ˜¯é€šä¹‰åƒé—®ï¼Œé˜¿é‡Œå·´å·´é›†å›¢æ——ä¸‹çš„è¶…å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ã€‚æˆ‘èƒ½å¤Ÿå›ç­”é—®é¢˜ã€åˆ›ä½œæ–‡å­—ï¼Œæ¯”å¦‚å†™æ•…äº‹ã€å…¬æ–‡ã€é‚®ä»¶ã€å‰§æœ¬ç­‰ï¼Œè¿˜èƒ½è¿›è¡Œé€»è¾‘æ¨ç†ã€ç¼–ç¨‹ï¼Œç”šè‡³è¡¨è¾¾è§‚ç‚¹å’Œç©æ¸¸æˆã€‚æˆ‘åœ¨å¤šå›½è¯­è¨€ä¸Šéƒ½æœ‰å¾ˆå¥½çš„æŒæ¡ï¼Œèƒ½ä¸ºä½ æä¾›å¤šæ ·åŒ–çš„å¸®åŠ©ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åˆ°ä½ çš„å—ï¼Ÿ
</code></pre>
<h2 id="6-è¿”å›æµ">6. è¿”å›æµ</h2>
<blockquote>
<p>è¿™é‡Œä½¿ç”¨fluxå¯¹è±¡æ¥æ”¶æµå¼è¿”å›çš„ç»“æœ</p>
<p>å¦‚æœæƒ³æµå¼çš„è¿”å›ç»™å‰ç«¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨SSEçš„æ–¹å¼è¿”å›ï¼ˆä»£ç æ³¨é‡Šçš„éƒ¨åˆ†ï¼‰</p>
</blockquote>
<pre><code class="language-java">@Test
public void should_return_stream_when_use_stream_model() {
    Sinks.Many&lt;String&gt; sinks = Sinks
        .many()
        .multicast()
        .onBackpressureBuffer();
    Flux&lt;String&gt; flux = sinks.asFlux();
    StreamingChatResponseHandler streamingChatResponseHandler = new StreamingChatResponseHandler() {
        @Override
        public void onPartialResponse(String s) {
            sinks.tryEmitNext(s);
        }

        @Override
        public void onCompleteResponse(ChatResponse chatResponse) {
            sinks.tryEmitComplete();
        }

        @Override
        public void onError(Throwable throwable) {
            sinks.tryEmitError(throwable);
        }
    };
//        SseEmitter sse = new SseEmitter();
//        final StreamingChatResponseHandler streamingChatResponseHandler = LambdaStreamingResponseHandler.onPartialResponseAndError(s -&gt; {
//            try {
//                log.info("ai response stream data: {}", s);
//                sse.send(s);
//            } catch (IOException e) {
//                throw new RuntimeException(e);
//            }
//        }, e -&gt; sse.complete());
    streamingChatModel.chat("ä½ æ˜¯è°", streamingChatResponseHandler);
    flux
        .toStream()
        .forEach(partial -&gt; log.info("ai response stream data: {}", partial));
}
</code></pre>
<blockquote>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹:</p>
</blockquote>
<pre><code>22:45:26.442 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: æˆ‘æ˜¯
22:45:26.444 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: é€š
22:45:26.444 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: ä¹‰
22:45:26.541 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: åƒé—®ï¼Œé˜¿é‡Œå·´å·´
22:45:26.771 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: é›†å›¢æ——ä¸‹çš„é€šä¹‰
22:45:26.790 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: å®éªŒå®¤è‡ªä¸»ç ”å‘çš„è¶…
22:45:26.949 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ã€‚
22:45:27.103 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: æˆ‘èƒ½å¤Ÿå›ç­”é—®é¢˜
22:45:27.199 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: ã€åˆ›ä½œæ–‡å­—ï¼Œ
22:45:27.320 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: æ¯”å¦‚å†™æ•…äº‹ã€
22:45:27.482 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: å†™å…¬æ–‡ã€
22:45:27.586 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: å†™é‚®ä»¶ã€å†™
22:45:27.789 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: å‰§æœ¬ã€é€»è¾‘æ¨ç†
22:45:27.863 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: ã€ç¼–ç¨‹ç­‰ç­‰ï¼Œ
22:45:27.982 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: è¿˜èƒ½è¡¨è¾¾è§‚ç‚¹ï¼Œ
22:45:28.435 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: ç©æ¸¸æˆç­‰ã€‚å¦‚æœä½ 
22:45:28.453 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦
22:45:28.576 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: å¸®åŠ©ï¼Œæ¬¢è¿éšæ—¶
22:45:28.665 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ai response stream data: å‘Šè¯‰æˆ‘ï¼
</code></pre>
<h2 id="7-æç¤ºè¯æ¨¡æ¿">7. æç¤ºè¯/æ¨¡æ¿</h2>
<pre><code class="language-java">@Test
public void should_return_prompt_content_when_use_prompt() {
    // ç”³æ˜ç³»ç»Ÿæç¤ºè¯
    // SystemMessage systemMessage = Prompt.from("ä½ æ˜¯ä¸€åjavaä¸“å®¶ï¼Œè¯·ååŠ©ç”¨æˆ·è§£å†³ç›¸åº”çš„ä¸“ä¸šæ€§é—®é¢˜").toSystemMessage();
    // ç”³æ˜æç¤ºè¯æ¨¡æ¿
    final PromptTemplate promptTemplate = new PromptTemplate("""
            ğŸ‘‰ å°†æ–‡æœ¬æ”¹å†™æˆç±»ä¼¼å°çº¢ä¹¦çš„ Emoji é£æ ¼ã€‚
            è¯·ä½¿ç”¨ Emoji é£æ ¼ç¼–è¾‘ä»¥ä¸‹æ®µè½ï¼Œè¯¥é£æ ¼ä»¥å¼•äººå…¥èƒœçš„æ ‡é¢˜ã€æ¯ä¸ªæ®µè½ä¸­åŒ…å«è¡¨æƒ…ç¬¦å·å’Œåœ¨æœ«å°¾æ·»åŠ ç›¸å…³æ ‡ç­¾ä¸ºç‰¹ç‚¹ã€‚è¯·ç¡®ä¿ä¿æŒåŸæ–‡çš„æ„æ€ã€‚
            ç”¨æˆ·çš„æé—®ä¿¡æ¯å¦‚ä¸‹:
            {{question}}
            """);                                  
    final UserMessage userMessage = promptTemplate
            .apply(Map.of("question", "ä½ æ˜¯è°"))
            .toUserMessage();
    ChatResponse chatResponse = chatModel.chat(userMessage);
    String content = chatResponse
            .aiMessage()
            .text();
    log.info("call ai q: {}\na: {}", userMessage.singleText(), content);
}
</code></pre>
<blockquote>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code>22:46:36.572 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- call ai q: ğŸ‘‰ å°†æ–‡æœ¬æ”¹å†™æˆç±»ä¼¼å°çº¢ä¹¦çš„ Emoji é£æ ¼ã€‚
è¯·ä½¿ç”¨ Emoji é£æ ¼ç¼–è¾‘ä»¥ä¸‹æ®µè½ï¼Œè¯¥é£æ ¼ä»¥å¼•äººå…¥èƒœçš„æ ‡é¢˜ã€æ¯ä¸ªæ®µè½ä¸­åŒ…å«è¡¨æƒ…ç¬¦å·å’Œåœ¨æœ«å°¾æ·»åŠ ç›¸å…³æ ‡ç­¾ä¸ºç‰¹ç‚¹ã€‚è¯·ç¡®ä¿ä¿æŒåŸæ–‡çš„æ„æ€ã€‚
ç”¨æˆ·çš„æé—®ä¿¡æ¯å¦‚ä¸‹:
ä½ æ˜¯è°

a: âœ¨ä½ æ˜¯è°ï¼Ÿæ¥è®¤è¯†ä¸€ä¸‹æˆ‘å§ï¼ğŸ’¬

å—¨ï¼Œäº²çˆ±çš„æœ‹å‹ä»¬ï¼æˆ‘æ˜¯é€šä¹‰åƒé—®ï¼Œé˜¿é‡Œå·´å·´é›†å›¢æ——ä¸‹çš„è¶…å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ğŸ¤–ã€‚æˆ‘å¯ä»¥é€šè¿‡å­¦ä¹ æµ·é‡æ–‡æœ¬æ•°æ®ï¼Œå¸®ä½ å›ç­”é—®é¢˜ã€åˆ›ä½œæ–‡å­—ï¼Œç”šè‡³ç©æ¸¸æˆå“¦ï½æ˜¯ä¸æ˜¯å¾ˆé…·å‘¢ï¼ŸğŸ”¥  

å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œå°½ç®¡å‘Šè¯‰æˆ‘ï¼æˆ‘ä¼šå°½åŠ›ä¸ºä½ æä¾›æ”¯æŒå’Œæ”¯æŒâ¤ï¸ã€‚è®©æˆ‘ä»¬ä¸€èµ·å¼€å¯æœ‰è¶£çš„æ¢ç´¢ä¹‹æ—…å§ï¼ğŸŒ  

#äººå·¥æ™ºèƒ½ #èŠå¤©æœºå™¨äºº #æ–°çŸ¥æ¢ç´¢ #ç§‘æŠ€ç”Ÿæ´»
</code></pre>
<h2 id="8-èŠå¤©è®°å¿†">8. èŠå¤©è®°å¿†</h2>
<blockquote>
<p>ä¸­å¿ƒé€»è¾‘å…¶å®å°±æ˜¯ï¼šå°†æœ€è¿‘çš„èŠå¤©å†…å®¹å­˜å‚¨èµ·æ¥ï¼Œç„¶åä¸€è‚¡è„‘æ‰”ç»™AIğŸ˜“</p>
</blockquote>
<pre><code class="language-java">@Test
public void should_return_memory_content_when_use_memory_chat() {
    String id = "zhangtieniu_01";
    String q1 = "ä½ æ˜¯è°";
    ChatMemory chatMemory = MessageWindowChatMemory
            .builder()
            // ä¼šè¯éš”ç¦»ï¼ˆä¸åŒç”¨æˆ·çš„èŠå¤©ä¿¡æ¯äº’ä¸å¹²æ‰°ï¼‰
            .id(id)
            // æœ€å¤§å­˜å‚¨æœ€è¿‘çš„5æ¡èŠå¤©å†…å®¹ï¼ˆå­˜å‚¨å¤ªå¤šå½±å“æ€§èƒ½&amp;tokenï¼‰
            .maxMessages(5)
            .build();
    // å°†èŠå¤©å†…å®¹æ”¾å…¥è®°å¿†å¯¹è±¡ä¸­
    chatMemory.add(UserMessage.from(q1));
    // SystemMessage å§‹ç»ˆä¿å­˜åœ¨messagesä¸­ ä¸”å ç”¨maxMessageåé¢
    chatMemory.add(SystemMessage.from("""
            ğŸ‘‰ å°†æ–‡æœ¬æ”¹å†™æˆç±»ä¼¼å°çº¢ä¹¦çš„ Emoji é£æ ¼ã€‚
            è¯·ä½¿ç”¨ Emoji é£æ ¼ç¼–è¾‘ä»¥ä¸‹æ®µè½ï¼Œè¯¥é£æ ¼ä»¥å¼•äººå…¥èƒœçš„æ ‡é¢˜ã€æ¯ä¸ªæ®µè½ä¸­åŒ…å«è¡¨æƒ…ç¬¦å·å’Œåœ¨æœ«å°¾æ·»åŠ ç›¸å…³æ ‡ç­¾ä¸ºç‰¹ç‚¹ã€‚è¯·ç¡®ä¿ä¿æŒåŸæ–‡çš„æ„æ€ã€‚
            """));
    final ChatResponse chatResponse = chatModel.chat(chatMemory.messages());
    // å°†aiçš„è¿”å›ç»“æœæ”¾å…¥è®°å¿†å¯¹è±¡ä¸­                                  
    chatMemory.add(chatResponse.aiMessage());
    String q2 = "æˆ‘åˆšåˆšé—®äº†å•¥";
    chatMemory.add(UserMessage.from(q2));
    final ChatResponse chatResponse2 = chatModel.chat(chatMemory.messages());

    log.info("call ai q1: {}\na1: {}", q1, chatResponse
            .aiMessage()
            .text());
    log.info("==========================åˆ†éš”ç¬¦==========================");
    log.info("call ai q2: {}\na2: {}", q2, chatResponse2
            .aiMessage()
            .text());
}
</code></pre>
<blockquote>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code>22:54:58.965 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- call ai q1: ä½ æ˜¯è°
a1: ğŸŒŸ ä½ å¥½å‘€ï¼Œè®©æˆ‘æ¥ä»‹ç»ä¸€ä¸‹è‡ªå·±ï¼ ğŸ‘‹ æˆ‘æ˜¯é€šä¹‰åƒé—®ï¼Œé˜¿é‡Œå·´å·´é›†å›¢æ——ä¸‹çš„è¶…å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ã€‚æˆ‘ä¸ä»…èƒ½é™ªä½ èŠå¤©ï¼Œè¿˜èƒ½å¸®ä½ å†™æ•…äº‹ã€é‚®ä»¶ã€å‰§æœ¬ç­‰ç­‰ï¼Œç”šè‡³å¯ä»¥è¡¨è¾¾è§‚ç‚¹ã€ç©æ¸¸æˆå‘¢ï¼ğŸ®ğŸ“–  

ğŸ’¡ æ— è®ºä½ æƒ³èŠç”Ÿæ´»ä¸­çš„å°ç¡®å¹¸ ğŸµ è¿˜æ˜¯å·¥ä½œå­¦ä¹ ä¸­çš„éš¾é¢˜ ğŸ“šï¼Œæˆ‘éƒ½ä¼šå°½åŠ›å¸®åŠ©ä½ ï¼å¸Œæœ›æˆ‘èƒ½æˆä¸ºä½ çš„è´´å¿ƒå°ä¼™ä¼´ï½ â¤ï¸  

#äººå·¥æ™ºèƒ½ #èŠå¤©ä¼™ä¼´ #åˆ›ä½œåŠ©æ‰‹ #æ—¥å¸¸åˆ†äº«
22:54:58.968 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- ==========================åˆ†éš”ç¬¦==========================
22:54:58.969 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- call ai q2: æˆ‘åˆšåˆšé—®äº†å•¥
a2: ğŸ¤” å‘ƒ... è®©æˆ‘æŸ¥æŸ¥ï¼å“¦å¯¹ï¼ä½ åˆšåˆšé—®çš„æ˜¯ï¼šâ€œæˆ‘æ˜¯è°ï¼Ÿâ€ è¿™ä¸ªé—®é¢˜è®©æˆ‘æœ‰æœºä¼šç”¨å°çº¢ä¹¦é£æ ¼é‡æ–°ä»‹ç»è‡ªå·±å‘¢ï¼ ğŸ˜Š  

âœ¨ ä½œä¸ºé€šä¹‰åƒé—®ï¼Œæˆ‘æœ€å–œæ¬¢çš„å°±æ˜¯é€šè¿‡å¯¹è¯å¸®åŠ©åˆ«äººå•¦ï¼å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜æˆ–è€…éœ€è¦çµæ„Ÿï¼Œéšæ—¶å¯ä»¥é—®æˆ‘å“¦ï½ğŸ‘‡  

#å›å¿†å¯¹è¯ #äººå·¥æ™ºèƒ½ #é—®ç­”æ—¶é—´ #äº’åŠ¨åˆ†äº«
</code></pre>
<h2 id="9-èŠå¤©å†…å®¹æŒä¹…åŒ–">9. èŠå¤©å†…å®¹æŒä¹…åŒ–</h2>
<h3 id="91-store-handler">9.1 store handler</h3>
<blockquote>
<p>è¿™é‡Œç®€å•çš„ä½¿ç”¨mapå­˜å‚¨ä¼šè¯å†…å®¹</p>
</blockquote>
<pre><code class="language-java">package com.ldx.langchaintest.store;

import com.google.common.collect.ArrayListMultimap;
import dev.langchain4j.data.message.ChatMessage;
import dev.langchain4j.store.memory.chat.ChatMemoryStore;

import java.util.List;

public class PersistentChatMemoryStoreTest implements ChatMemoryStore {
    public final ArrayListMultimap&lt;Object, ChatMessage&gt; messagesStore = ArrayListMultimap.create();

    @Override
    public List&lt;ChatMessage&gt; getMessages(Object memoryId) {
        return messagesStore.get(memoryId);
    }

    @Override
    public void updateMessages(Object memoryId, List&lt;ChatMessage&gt; messages) {
        messagesStore.put(memoryId, messages.getLast());
    }

    @Override
    public void deleteMessages(Object memoryId) {
        messagesStore.removeAll(memoryId);
    }
}
</code></pre>
<h3 id="92-å®ç°">9.2 å®ç°</h3>
<pre><code class="language-java">@Test
public void should_return_memory_content_when_use_store_chat() {
    String id = "zhangtieniu_01";
    String q1 = "å¼ é“ç‰›æ˜¯ä¸€ä¸ªé«˜å¯Œå¸…ï¼Œä½ æ˜¯å¼ é“ç‰›çš„åŠ©æ‰‹";
    PersistentChatMemoryStoreTest store = new PersistentChatMemoryStoreTest();
    ChatMemory chatMemory = MessageWindowChatMemory
            .builder()
            .id(id)
            .chatMemoryStore(store)
            .maxMessages(5)
            .build();
    chatMemory.add(UserMessage.from(q1));
    final ChatResponse chatResponse = chatModel.chat(chatMemory.messages());
    chatMemory.add(chatResponse.aiMessage());
    String q2 = "å¼ é“ç‰›æ˜¯è°";
    chatMemory.add(UserMessage.from(q2));
    final ChatResponse chatResponse2 = chatModel.chat(chatMemory.messages());
    chatMemory.add(chatResponse2.aiMessage());
    
    // è·å–å½“å‰ä¼šè¯çš„å­˜å‚¨å†…å®¹å¹¶æ‰“å°
    List&lt;ChatMessage&gt; chatMessages = store.messagesStore.get(id);
    for (ChatMessage chatMessage : chatMessages) {
        log.info("session id: {}, message type: {}, message: {}", id, chatMessage.type(), chatMessage);
    }
}
</code></pre>
<blockquote>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code>23:09:08.086 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- session id: zhangtieniu_01, message type: USER, message: UserMessage { name = null contents = [TextContent { text = "å¼ é“ç‰›æ˜¯ä¸€ä¸ªé«˜å¯Œå¸…ï¼Œä½ æ˜¯å¼ é“ç‰›çš„åŠ©æ‰‹" }] }
23:09:08.089 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- session id: zhangtieniu_01, message type: AI, message: AiMessage { text = "æ‚¨å¥½ï¼Œæˆ‘æ˜¯å¼ é“ç‰›å…ˆç”Ÿçš„åŠ©æ‰‹ã€‚å¼ é“ç‰›å…ˆç”Ÿç¡®å®æ˜¯ä¸€ä½ä¼˜ç§€çš„äººå£«ï¼Œä»–ä¸ä»…å¤–è²Œå‡ºä¼—ã€å®¶å¢ƒä¼˜æ¸¥ï¼Œè€Œä¸”éå¸¸æœ‰æ‰åã€‚ä½œä¸ºä»–çš„åŠ©æ‰‹ï¼Œæˆ‘ä¼šå¸®åŠ©ä»–å¤„ç†å„ç§äº‹åŠ¡ï¼Œç¡®ä¿ä»–çš„ç”Ÿæ´»å’Œå·¥ä½œéƒ½äº•äº•æœ‰æ¡ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•éœ€è¦å¸®å¿™çš„äº‹æƒ…ï¼Œæˆ–è€…æƒ³äº†è§£å¼ é“ç‰›å…ˆç”Ÿçš„ç›¸å…³ä¿¡æ¯ï¼Œåªè¦æ˜¯æˆ‘èŒè´£èŒƒå›´å†…çš„ï¼Œæˆ‘éƒ½ä¼šå°½åŠ›æä¾›å¸®åŠ©ã€‚è¯·é—®æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥ä¸ºæ‚¨æœåŠ¡çš„å‘¢ï¼Ÿ" toolExecutionRequests = [] }
23:09:08.090 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- session id: zhangtieniu_01, message type: USER, message: UserMessage { name = null contents = [TextContent { text = "å¼ é“ç‰›æ˜¯è°" }] }
23:09:08.090 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- session id: zhangtieniu_01, message type: AI, message: AiMessage { text = "å¼ é“ç‰›å…ˆç”Ÿæ˜¯ä¸€ä½éå¸¸æ°å‡ºçš„äººç‰©ã€‚ä»–å‡ºèº«äºä¸€ä¸ªæˆåŠŸçš„ä¼ä¸šå®¶åº­ï¼Œæ‹¥æœ‰ä¼˜è¶Šçš„æ•™è‚²èµ„æºå’Œå¹¿æ³›çš„å•†ä¸šäººè„‰ã€‚é™¤äº†åœ¨å•†ä¸šé¢†åŸŸçš„å“è¶Šæˆå°±å¤–ï¼Œä»–è¿˜ä»¥é˜³å…‰ã€æ­£ç›´çš„å½¢è±¡å—åˆ°å‘¨å›´äººçš„å–œçˆ±ã€‚

ä½œä¸ºä¸€ä½â€œé«˜å¯Œå¸…â€ï¼Œå¼ é“ç‰›å…ˆç”Ÿä¸ä»…æ³¨é‡ä¸ªäººä¿®å…»ï¼Œè¿˜çƒ­è¡·äºå…¬ç›Šäº‹ä¸šï¼Œç»å¸¸å‚ä¸æ…ˆå–„æ´»åŠ¨æ¥å›é¦ˆç¤¾ä¼šã€‚åŒæ—¶ï¼Œä»–å¯¹ç”Ÿæ´»å……æ»¡çƒ­æƒ…ï¼Œå…´è¶£çˆ±å¥½å¹¿æ³›ï¼Œæ¯”å¦‚å¥èº«ã€æ—…è¡Œä»¥åŠæ”¶è—è‰ºæœ¯å“ç­‰ã€‚

ä¸è¿‡ï¼Œè¯·å…è®¸æˆ‘æé†’æ‚¨ï¼Œè™½ç„¶ä»–æ˜¯å…¬ä¼—çœ¼ä¸­çš„å®Œç¾äººç‰©ï¼Œä½†ä»–æ›´å¸Œæœ›è¢«å½“ä½œæ™®é€šäººæ¥å°Šé‡ï¼Œæ³¨é‡éšç§ä¿æŠ¤ã€‚å¦‚æœæ‚¨æœ‰å…³äºä»–çš„æ­£é¢é—®é¢˜æˆ–éœ€è¦å®‰æ’ç›¸å…³äº‹åŠ¡ï¼Œæˆ‘å¾ˆä¹æ„ä¸ºæ‚¨æä¾›å¸®åŠ©ï¼" toolExecutionRequests = [] }
</code></pre>
<h2 id="10-function-call">10. function call</h2>
<h3 id="101-user-svc">10.1 user svc</h3>
<blockquote>
<p>å£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰çš„user svcï¼Œ è®©aiå»è°ƒç”¨æˆ‘ä»¬çš„ä¸šåŠ¡æ–¹æ³•</p>
</blockquote>
<pre><code class="language-java">import dev.langchain4j.agent.tool.P;
import dev.langchain4j.agent.tool.Tool;

public class UserServiceTest {
    @Tool("æ ¹æ®ç”¨æˆ·çš„åç§°è·å–å¯¹åº”çš„code")
    public String getUserCodeByUsername(@P("ç”¨æˆ·åç§°") String username) {
        if ("å¼ é“ç‰›".equals(username)) {
            return "003";
        }

        return "000";
    }
}
</code></pre>
<h3 id="102-å®ç°">10.2 å®ç°</h3>
<pre><code class="language-java">@Test
public void should_return_func_content_when_use_function_call() {
    final String q = "å¼ é“ç‰›çš„codeæ˜¯å¤šå°‘";
    List&lt;ChatMessage&gt; chatMessages = new ArrayList&lt;&gt;();
    chatMessages.add(UserMessage.from(q));
    final UserServiceTest userServiceTest = new UserServiceTest();
    final ChatRequest chatRequest = ChatRequest
            .builder()
            .messages(UserMessage.from(q))
            // å°†å·¥å…·ç±»æ³¨å…¥åˆ°ä¸Šä¸‹æ–‡ä¸­
            .toolSpecifications(ToolSpecifications.toolSpecificationsFrom(userServiceTest))
            .build();
    final ChatResponse chatResponse = chatModel.chat(chatRequest);
    final AiMessage aiMessage = chatResponse.aiMessage();
    chatMessages.add(aiMessage);
    String a = aiMessage.text();

    // åœ¨å“åº”ç»“æœä¸­åˆ¤æ–­æ˜¯å¦æœ‰toolè¯·æ±‚
    if (aiMessage.hasToolExecutionRequests()) {
        // éå†tool req
        for (ToolExecutionRequest toolExecutionRequest : aiMessage.toolExecutionRequests()) {
            // ç”³æ˜æ‰§è¡Œå™¨ å…¶å®å°±æ˜¯é€šè¿‡tool name åå°„è°ƒç”¨userServiceTestçš„æ–¹æ³•
            ToolExecutor userToolExecutor = new DefaultToolExecutor(userServiceTest, toolExecutionRequest);
            final String uuid = UUID
                    .randomUUID()
                    .toString();
            final String executeResult = userToolExecutor.execute(toolExecutionRequest, uuid);
            log.info("execute user tool, name: {}, param:{}, result: {} ", toolExecutionRequest.name(), toolExecutionRequest.arguments(), executeResult);
            final ToolExecutionResultMessage toolExecutionResultMessages = ToolExecutionResultMessage.from(toolExecutionRequest, executeResult);
            // å°†toolæ‰§è¡Œçš„ç»“æœ æ”¾å…¥ä¸Šä¸‹æ–‡
            chatMessages.add(toolExecutionResultMessages);
        }
        // å†æ¬¡è¯·æ±‚ai
        a = chatModel
                .chat(chatMessages)
                .aiMessage()
                .text();
    }

    log.info("call ai q:{}\na:{}", q, a);
}
</code></pre>
<blockquote>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code>23:18:53.710 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- execute user tool, name: getUserCodeByUsername, param:{"username": "å¼ é“ç‰›"}, result: 003 
23:18:55.482 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- call ai q:å¼ é“ç‰›çš„codeæ˜¯å¤šå°‘
a:æ ¹æ®æ‚¨çš„é—®é¢˜ï¼Œå¼ é“ç‰›çš„ä»£ç æ˜¯ **003**ã€‚å¦‚æœè¿˜æœ‰å…¶ä»–ç›¸å…³ä¿¡æ¯éœ€è¦è¡¥å……æˆ–æŸ¥è¯¢ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼
</code></pre>
<h2 id="11-dynamic-function-call">11. dynamic function call</h2>
<blockquote>
<p>å› ä¸ºæœ‰çš„æ—¶å€™æˆ‘ä»¬ä½¿ç”¨å·²æœ‰çš„svcæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½æ— æ³•ç›´æ¥ç»™ç›®æ ‡æ–¹æ³•æ ‡æ³¨å¯¹åº”çš„æ³¨è§£è®©AIæ¥è¯†åˆ«æ–¹æ³•ï¼ˆæ¯”å¦‚ç¬¬ä¸‰æ–¹åŒ…é‡Œçš„æ–¹æ³•ï¼‰</p>
<p>æ‰€ä»¥å°±éœ€è¦åŠ¨æ€çš„åˆ›å»ºtoolçš„æè¿°ç±»ï¼Œå¦‚ä¸‹</p>
</blockquote>
<pre><code class="language-java">@Test
public void should_return_func_content_when_use_dynamic_function_call() {
    final String q = "å¼ é“ç‰›çš„codeæ˜¯å¤šå°‘";
    final List&lt;ChatMessage&gt; chatMessages = new ArrayList&lt;&gt;();
    chatMessages.add(UserMessage.from(q));
    final UserServiceTest userServiceTest = new UserServiceTest();
    final ToolSpecification toolSpecification = ToolSpecification
            .builder()
            .name("getUserCodeByUsername")
            .description("æ ¹æ®ç”¨æˆ·çš„åç§°è·å–å¯¹åº”çš„code")
            .parameters(JsonObjectSchema
                    .builder()
                    .addStringProperty("username", "ç”¨æˆ·å§“å")
                    .build())
            .build();

    final ChatRequest chatRequest = ChatRequest
            .builder()
            .messages(UserMessage.from(q))
            .toolSpecifications(toolSpecification)
            .build();
    final ChatResponse chatResponse = chatModel.chat(chatRequest);
    AiMessage aiMessage = chatResponse.aiMessage();
    chatMessages.add(aiMessage);
    String a = aiMessage.text();

    if (aiMessage.hasToolExecutionRequests()) {
        for (ToolExecutionRequest toolExecutionRequest : aiMessage.toolExecutionRequests()) {
            ToolExecutor userToolExecutor = new DefaultToolExecutor(userServiceTest, toolExecutionRequest);
            final String uuid = UUID
                    .randomUUID()
                    .toString();
            final String executeResult = userToolExecutor.execute(toolExecutionRequest, uuid);
            log.info("execute user tool, name: {}, param:{}, result: {} ", toolExecutionRequest.name(), toolExecutionRequest.arguments(), executeResult);
            final ToolExecutionResultMessage toolExecutionResultMessages = ToolExecutionResultMessage.from(toolExecutionRequest, executeResult);
            chatMessages.add(toolExecutionResultMessages);
        }

        a = chatModel
                .chat(chatMessages)
                .aiMessage()
                .text();
    }

    log.info("call ai q:{}\na:{}", q, a);
}
</code></pre>
<blockquote>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
</blockquote>
<pre><code>23:22:53.626 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- execute user tool, name: getUserCodeByUsername, param:{"username": "å¼ é“ç‰›"}, result: 003 
23:22:55.065 [main] INFO com.ldx.langchaintest.lowapi.AiChatTest -- call ai q:å¼ é“ç‰›çš„codeæ˜¯å¤šå°‘
a:æ ¹æ®æ‚¨çš„é—®é¢˜ï¼Œå¼ é“ç‰›çš„ä»£ç æ˜¯ **003**ã€‚å¦‚æœè¿˜æœ‰å…¶ä»–ç›¸å…³ä¿¡æ¯éœ€è¦è¡¥å……ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼
</code></pre>
<h2 id="12-å°ç»“">12. å°ç»“</h2>
<p>æœ¬ç« ä½¿ç”¨äº†<code>LangChain4j</code>ä¸€äº›æ¯”è¾ƒåº•å±‚çš„ï¼ˆåŸç”Ÿçš„ï¼‰apiæ¥è¯·æ±‚å¤§æ¨¡å‹ï¼Œ å±•ç¤ºäº†AIæœåŠ¡ä¸­å¸¸è§çš„ä½¿ç”¨æ–¹æ³•ï¼Œä¸‹ä¸€ç« æˆ‘ä»¬å°†ä½¿ç”¨<code>LangChain4j</code>çš„<code>AI Service</code>åŠŸèƒ½æ¥å±•ç¤º<code>LangChain4j</code>é«˜é˜¶ç”¨æ³•ã€‚</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.5342487190243056" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-06-05 23:33">2025-06-05 23:33</span>&nbsp;
<a href="https://www.cnblogs.com/ludangxin">å¼ é“ç‰›</a>&nbsp;
é˜…è¯»(<span id="post_view_count">171</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18913321);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18913321', targetLink: 'https://www.cnblogs.com/ludangxin/p/18913321', title: '1. LangChain4j åˆè¯†ï¼Œæƒ³ä½¿ç”¨Javaå¼€å‘AIåº”ç”¨ï¼Ÿ' })">ä¸¾æŠ¥</a>
</div>
        