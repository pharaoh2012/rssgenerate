
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/guoxiaoyu/p/18859549" title="å‘å¸ƒäº 2025-05-08 13:41">
    <span role="heading" aria-level="2">ä»é›¶åˆ°ä¸€ï¼šåˆ©ç”¨é‡‘ä»“ç¤¾åŒºæ•°æ®ï¼ŒLoRaå¾®è°ƒä¸Spring AI æ„å»ºç§æœ‰åŒ–åƒé—®æ¨¡å‹</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>ä¸Šæ¬¡æˆ‘ä»¬åœ¨Cozeå¹³å°ä¸ŠæˆåŠŸæ­å»ºäº†ä¸€ä¸ªé’ˆå¯¹é‡‘ä»“é—®é¢˜çš„è§£å†³åŠ©æ‰‹ã€‚è¿™ä¸ªæ™ºèƒ½ä½“çš„æ ¸å¿ƒå·¥ä½œæµç¨‹ç›¸å¯¹ç®€å•ï¼šæ¯æ¬¡å®ƒé€šè¿‡HTTPæ¥å£è°ƒç”¨æ’ä»¶ï¼Œåœ¨é‡‘ä»“å¹³å°å†…éƒ¨è¿›è¡Œæœç´¢ï¼Œéšååˆ©ç”¨å¤§æ¨¡å‹çš„æ¨ç†èƒ½åŠ›å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†æï¼Œä»è€Œä¸ºç”¨æˆ·æä¾›é—®é¢˜è§£ç­”ã€‚ç„¶è€Œï¼Œé—®é¢˜ä¹Ÿéšä¹‹è€Œæ¥â€”â€”é‡‘ä»“å†…éƒ¨çš„æœç´¢åŠŸèƒ½å­˜åœ¨ä¸€å®šçš„å±€é™æ€§ã€‚æœç´¢å‡ºæ¥çš„åšæ–‡èµ„æ–™ä¹‹é—´çš„å…³è”æ€§å¹¶ä¸å¼ºï¼Œè¿™ä½¿å¾—æ™ºèƒ½ä½“åœ¨å›ç­”é—®é¢˜æ—¶ï¼Œå¾€å¾€éœ€è¦æ£€ç´¢å¤§é‡ã€å†—é•¿çš„èµ„æ–™ï¼Œç”šè‡³æœ‰æ—¶éœ€è¦æ£€ç´¢ä¸Šä¸‡å­—çš„å†…å®¹æ‰èƒ½æ‰¾åˆ°æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œä»è€Œå½±å“äº†æ•´ä½“çš„å·¥ä½œæ•ˆç‡ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215531989-118885654.png" alt="image" loading="lazy"></p>
<p>é’ˆå¯¹è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¼˜åŒ–å’Œæé«˜æ™ºèƒ½ä½“å›ç­”é—®é¢˜çš„å‡†ç¡®æ€§ä¸æ•ˆç‡ã€‚é€šè¿‡æ·±å…¥åˆ†æï¼Œé—®é¢˜çš„æœ¬è´¨å…¶å®å°±æ˜¯å¦‚ä½•æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å·²æœ‰èµ„æ–™è¿›è¡Œæ¨ç†å’Œå›ç­”ã€‚å°½ç®¡æˆ‘ä»¬æ— æ³•ç›´æ¥æ”¹å˜é‡‘ä»“ç¤¾åŒºçš„æœç´¢æœºåˆ¶ï¼Œä½†æˆ‘ä»¬å¯ä»¥é‡‡å–ä¸€ç§é—´æ¥çš„æ–¹å¼ï¼šæå‰å¯¹ç¤¾åŒºå¼€æ”¾çš„æ–‡æ¡£æˆ–åšæ–‡è¿›è¡Œæ£€ç´¢ï¼Œå¹¶åŸºäºè¿™äº›å†…å®¹å¯¹å·²æœ‰çš„å¤§æ¨¡å‹è¿›è¡Œå¾®è°ƒã€‚é€šè¿‡è¿™ç§æ–¹æ³•ï¼Œå¤§æ¨¡å‹åœ¨å¤„ç†ç”¨æˆ·é—®é¢˜æ—¶å¯ä»¥æ›´é«˜æ•ˆåœ°åˆ©ç”¨å·²çŸ¥ä¿¡æ¯ï¼Œè¿›è€Œæä¾›æ›´ç²¾å‡†çš„ç­”æ¡ˆï¼Œè¾¾åˆ°ä¸ç›´æ¥ä¼˜åŒ–æœç´¢æœºåˆ¶ç±»ä¼¼çš„æ•ˆæœã€‚</p>
<p>å¥½çš„ï¼Œä»Šå¤©æˆ‘ä»¬çš„ä¸»è¦ç›®æ ‡æ˜¯åˆ©ç”¨ç°æœ‰çš„èµ„æ–™å¯¹Qwen2.5-7B-Instructå¼€æºæ¨¡å‹è¿›è¡ŒLoraå¾®è°ƒï¼Œæ—¨åœ¨ä½¿å…¶èƒ½å¤ŸçœŸæ­£åœ°åœ¨ç¦»çº¿ç¯å¢ƒä¸‹å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚è€ƒè™‘åˆ°ç¤¾åŒºä¸­å…³äºè¯¥æ¨¡å‹çš„åšæ–‡å’Œæ–‡æ¡£èµ„æ–™éå¸¸ä¸°å¯Œï¼Œæˆ‘ä»¬ä»Šå¤©å°†èšç„¦åœ¨ä¸€ç‰¹å®šé¢†åŸŸï¼Œæˆ‘ä»¬ä¼šä¸“æ³¨äºæ•°æ®åº“è¿ç§»æ–¹é¢çš„è®­ç»ƒï¼Œç¡®ä¿æ¨¡å‹èƒ½å¤Ÿåœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶å…·å¤‡æœ‰æ•ˆçš„çŸ¥è¯†æŸ¥è¯¢ä¸å¤„ç†èƒ½åŠ›ã€‚</p>
<h1 id="ä»€ä¹ˆæ˜¯lora">ä»€ä¹ˆæ˜¯LoRa</h1>
<p>æ™ºèƒ½ä½“ï¼ˆAIï¼‰æŠ€æœ¯å·²ç»å¹¿æ³›åº”ç”¨å¹¶é€æ¸æ·±å…¥äººä»¬çš„æ—¥å¸¸ç”Ÿæ´»ï¼Œå¤§å®¶å¯¹å®ƒæœ‰äº†è¾ƒä¸ºå…¨é¢çš„äº†è§£ã€‚ç„¶è€Œï¼Œå½“å‰å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹çš„å¾®è°ƒæŠ€æœ¯å°šæœªçœŸæ­£æ™®åŠï¼Œå…¶åŸå› ä¸»è¦åœ¨äºé«˜é—¨æ§›çš„é—®é¢˜ã€‚é¦–å…ˆï¼Œå¾®è°ƒå¤§æ¨¡å‹ä¸ä»…éœ€è¦å¼ºå¤§çš„è®¡ç®—èµ„æºï¼Œåƒé«˜æ€§èƒ½çš„æœåŠ¡å™¨ã€GPUç­‰ç¡¬ä»¶è®¾å¤‡ï¼Œè€Œä¸”è¿˜éœ€è¦è§£å†³è¯¸å¦‚å„ç§å¤æ‚çš„å‚æ•°è®¾ç½®ç­‰æŠ€æœ¯éš¾é¢˜ï¼Œè¿™ä½¿å¾—å¾ˆå¤šä¼ä¸šå’Œä¸ªäººéš¾ä»¥æ‰¿å—ã€‚</p>
<p>æ­¤å¤–ï¼ŒçœŸæ­£ä»é›¶å¼€å§‹è®­ç»ƒä¸€ä¸ªå¤§æ¨¡å‹ï¼Œæ‰€éœ€çš„èµ„æºå’Œæˆæœ¬ä¹Ÿæ˜¯å¸¸è§„å…¬å¸éš¾ä»¥è´Ÿæ‹…çš„ï¼Œå› æ­¤ç›®å‰å¹¿æ³›é‡‡ç”¨çš„ç­–ç•¥æ˜¯åŸºäºå·²æœ‰çš„é¢„è®­ç»ƒæ¨¡å‹è¿›è¡Œå†è®­ç»ƒï¼ˆfine-tuningï¼‰ã€‚è¿™ç§æ–¹æ³•å……åˆ†åˆ©ç”¨äº†ç°æœ‰å¤§æ¨¡å‹çš„åŸºç¡€æ¶æ„ï¼Œå†åŠ ä¸Šä¼ä¸šå†…éƒ¨çš„ä¸“æœ‰æ•°æ®è¿›è¡Œå®šåˆ¶åŒ–è°ƒæ•´ï¼Œèƒ½å¤Ÿå¤§å¤§é™ä½è®­ç»ƒæˆæœ¬å¹¶æé«˜æ¨¡å‹çš„é€‚åº”æ€§å’Œæ•ˆç‡ã€‚ä¸€ä¸ªå…¸å‹çš„æŠ€æœ¯å°±æ˜¯LoRaï¼ˆLow-Rank Adaptationï¼‰æŠ€æœ¯ï¼Œå®ƒé€šè¿‡ä¼˜åŒ–å‚æ•°ç©ºé—´ï¼Œä½¿å¾—ä¼ä¸šèƒ½å¤Ÿåœ¨ä¸é‡æ–°è®­ç»ƒæ•´ä¸ªæ¨¡å‹çš„æƒ…å†µä¸‹ï¼Œé’ˆå¯¹ç‰¹å®šä»»åŠ¡è¿›è¡Œå¿«é€Ÿå¾®è°ƒã€‚</p>
<p>è¿™éƒ¨åˆ†æŠ€æœ¯å†…å®¹å¹¶ä¸æ˜¯æˆ‘ä»¬ç›®å‰å…³æ³¨çš„é‡ç‚¹ï¼Œå› æ­¤åœ¨è¿™é‡Œå°±ä¸å†è¯¦ç»†å±•å¼€ã€‚</p>
<h1 id="ç¯å¢ƒå‡†å¤‡">ç¯å¢ƒå‡†å¤‡</h1>
<p>è¦æƒ³ä½¿ç”¨èµ„æ–™åº“æ•°æ®è¿›è¡Œå¾®è°ƒï¼Œæˆ‘ä»¬éœ€è¦åšå¥½å……åˆ†çš„å‡†å¤‡ã€‚é¦–å…ˆï¼Œå¿…é¡»å‡†å¤‡å¥½å†…éƒ¨èµ„æ–™æ•°æ®ï¼Œç¡®ä¿æ•°æ®çš„è´¨é‡å’Œå¤šæ ·æ€§ï¼Œèƒ½å¤Ÿè¦†ç›–æ‰€éœ€çš„ä¸šåŠ¡åœºæ™¯æˆ–é—®é¢˜ã€‚å…¶æ¬¡ï¼Œè¿˜éœ€è¦ä¸€å°é…å¤‡GPUçš„æœåŠ¡å™¨ï¼Œç¡®ä¿èƒ½å¤Ÿæä¾›è¶³å¤Ÿçš„è®¡ç®—èƒ½åŠ›æ¥å¤„ç†å¤§é‡æ•°æ®ï¼Œå¹¶æ”¯æŒæ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒå’Œä¼˜åŒ–ã€‚</p>
<h2 id="èµ„æ–™å‡†å¤‡">èµ„æ–™å‡†å¤‡</h2>
<p>æˆ‘ä»¬ä¸»è¦è‡´åŠ›äºé’ˆå¯¹æ•°æ®åº“è¿ç§»é—®é¢˜çš„è§£å†³æ–¹æ¡ˆè¿›è¡Œè®­ç»ƒï¼Œä¸ºäº†é«˜æ•ˆè·å–ç›¸å…³çš„èµ„æ–™å’Œå†…å®¹ï¼Œæˆ‘ä»¬ç›´æ¥è®¿é—®é‡‘ä»“ç¤¾åŒºï¼Œè¿›è¡Œæ£€ç´¢å¹¶ä¸‹è½½ä¸æ•°æ®åº“è¿ç§»ç›¸å…³çš„æœ€æ–°æ•°æ®å’Œæ–‡æ¡£ï¼Œå…·ä½“æ“ä½œæ­¥éª¤å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215538705-1900618333.png" alt="image" loading="lazy"></p>
<h3 id="æ•°æ®ä¸‹è½½">æ•°æ®ä¸‹è½½</h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ç›´æ¥ä¸‹è½½ç›¸å…³çš„æ–‡æ¡£æˆ–æ–‡åº“ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£å’Œä½¿ç”¨ç›¸å…³èµ„æºï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215544226-1996322791.png" alt="image" loading="lazy"></p>
<p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€äº›èµ„æ–™æ¥æºï¼Œä¾‹å¦‚åšå®¢ã€è®ºå›ç­‰åœ¨çº¿èµ„æºã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥é€‰æ‹©ä½¿ç”¨çˆ¬è™«è¿›è¡ŒæŠ“å–ï¼Œä½†ä¸ºäº†é¿å…å¯¹ç¤¾åŒºæœåŠ¡å™¨é€ æˆè¿‡å¤šè´Ÿæ‹…ï¼Œæˆ‘ä»¬å†³å®šé‡‡å–æ›´ä¸ºæ¸©å’Œçš„æ–¹å¼ï¼Œå³å°†ç›¸å…³æ•°æ®ç›´æ¥ä¿å­˜åˆ°æœ¬åœ°ï¼Œéšåè¿›è¡Œè§£æå’Œä¿¡æ¯æå–ã€‚å…·ä½“æ“ä½œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215549741-1653208200.png" alt="image" loading="lazy"></p>
<h2 id="æŒ‡ä»¤é›†æ„å»º">æŒ‡ä»¤é›†æ„å»º</h2>
<p>å¥½çš„ï¼Œæœ‰äº†è¿™äº›åŸºæœ¬æ•°æ®ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å°†å…¶è§£ææˆæˆ‘ä»¬æ‰€éœ€çš„æ•°æ®é›†æ ¼å¼ï¼Œä»¥ä¾¿è¿›è¡Œåç»­çš„å¤„ç†å’Œåˆ†æã€‚LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰çš„å¾®è°ƒï¼Œé€šå¸¸æ˜¯æŒ‡æŒ‡ä»¤å¾®è°ƒè¿‡ç¨‹ã€‚æ‰€è°“æŒ‡ä»¤å¾®è°ƒï¼ŒæŒ‡çš„æ˜¯é€šè¿‡ç‰¹å®šæ ¼å¼çš„å¾®è°ƒæ•°æ®æ¥å¼•å¯¼æ¨¡å‹å­¦ä¹ å¦‚ä½•æ ¹æ®ç»™å®šçš„æŒ‡ä»¤è¿›è¡Œå“åº”ã€‚è¿™äº›å¾®è°ƒæ•°æ®é€šå¸¸å…·æœ‰å¦‚ä¸‹çš„ç»“æ„å’Œå½¢å¼ï¼šï¼š</p>
<pre><code class="language-json">[{
    "instruction": "KESæ˜¯ä»€ä¹ˆï¼Ÿ",
    "input": "",
    "output": "KESæ˜¯äººå¤§é‡‘ä»“çš„ç®€ç§°ã€‚"
}]
</code></pre>
<p>å…¶ä¸­ï¼Œinstruction æ˜¯ç”¨æˆ·æŒ‡ä»¤ï¼Œå‘ŠçŸ¥æ¨¡å‹å…¶éœ€è¦å®Œæˆçš„ä»»åŠ¡ï¼›input æ˜¯ç”¨æˆ·è¾“å…¥ï¼Œæ˜¯å®Œæˆç”¨æˆ·æŒ‡ä»¤æ‰€å¿…é¡»çš„è¾“å…¥å†…å®¹ï¼›output æ˜¯æ¨¡å‹åº”è¯¥ç»™å‡ºçš„è¾“å‡ºã€‚</p>
<p>æ—¢ç„¶æˆ‘ä»¬å·²ç»è·å¾—äº†ç›®æ ‡æ ¼å¼çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥éœ€è¦åšçš„å°±æ˜¯å¯¹è¿™äº›æ–‡æ¡£è¿›è¡Œè§£æã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨Spring AIï¼Œå®ƒæ”¯æŒå¯¹å¤šç§æ–‡ä»¶æ ¼å¼çš„è§£æï¼ŒåŒ…æ‹¬ä½†ä¸é™äºPDFã€HTMLã€Markdownã€JSONã€Docxç­‰ã€‚å½“å‰ï¼Œæˆ‘ä»¬æ‰€å¤„ç†çš„æ–‡æ¡£æ ¼å¼ä»…é™äºPDFå’ŒHTMLï¼Œå› æ­¤Spring AIå®Œå…¨èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>
<h3 id="æ–‡æ¡£æå–">æ–‡æ¡£æå–</h3>
<p>é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ Spring Boot é¡¹ç›®ï¼Œå¹¶åœ¨é¡¹ç›®ä¸­å¼•å…¥æ‰€éœ€çš„ç›¸å…³ä¾èµ–ã€‚é¡¹ç›®çš„åŸºæœ¬ç»“æ„å®‰æ’å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215555622-70885359.png" alt="image" loading="lazy"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å¼•å…¥é¡¹ç›®ä¸­æ‰€éœ€çš„POMä¾èµ–ï¼Œä»¥ç¡®ä¿ç›¸å…³çš„åº“å’Œå·¥å…·èƒ½å¤Ÿè¢«æ­£ç¡®åŠ è½½å’Œä½¿ç”¨ï¼Œå…·ä½“çš„ä¾èµ–é¡¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;parent&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
        &lt;version&gt;3.2.0&lt;/version&gt;
        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
    &lt;/parent&gt;

    &lt;artifactId&gt;02-example-RAG-backend&lt;/artifactId&gt;

    &lt;properties&gt;
        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;
        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
        &lt;knife4j-version&gt;4.1.0&lt;/knife4j-version&gt;
        &lt;hutool-version&gt;5.8.2&lt;/hutool-version&gt;
    &lt;/properties&gt;
    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
                &lt;artifactId&gt;spring-ai-bom&lt;/artifactId&gt;
                &lt;version&gt;1.0.0-M8&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;
            &lt;artifactId&gt;knife4j-openapi3-jakarta-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;${knife4j-version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
            &lt;artifactId&gt;spring-ai-tika-document-reader&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
            &lt;artifactId&gt;spring-ai-pdf-document-reader&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
            &lt;artifactId&gt;spring-ai-jsoup-document-reader&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;cn.hutool&lt;/groupId&gt;
            &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;
            &lt;version&gt;${hutool-version}&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
            &lt;artifactId&gt;spring-ai-starter-model-openai&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
                &lt;configuration&gt;
                    &lt;excludes&gt;
                        &lt;exclude&gt;
                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
                        &lt;/exclude&gt;
                    &lt;/excludes&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;

    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;spring-snapshots&lt;/id&gt;
            &lt;name&gt;Spring Snapshots&lt;/name&gt;
            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;
            &lt;releases&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/releases&gt;
        &lt;/repository&gt;
        &lt;repository&gt;
            &lt;name&gt;Central Portal Snapshots&lt;/name&gt;
            &lt;id&gt;central-portal-snapshots&lt;/id&gt;
            &lt;url&gt;https://central.sonatype.com/repository/maven-snapshots/&lt;/url&gt;
            &lt;releases&gt;
                &lt;enabled&gt;false&lt;/enabled&gt;
            &lt;/releases&gt;
            &lt;snapshots&gt;
                &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;/snapshots&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;
&lt;/project&gt;
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¼•å…¥äº†å½“å‰ M8 ç‰ˆæœ¬çš„ Spring AI ä»¥åŠ OpenAI æä¾›çš„ç›¸å…³æ¨¡å‹æ¥å£ã€‚è¿™æ˜¯å› ä¸ºåœ¨å®Œæˆæ–‡æ¡£æå–åï¼Œæˆ‘ä»¬éœ€è¦å°†æå–åˆ°çš„æ•°æ®è¿›è¡Œè§£æï¼Œè½¬åŒ–ä¸ºæŒ‡ä»¤é›†æ ¼å¼ã€‚å€ŸåŠ© AIæˆ‘ä»¬èƒ½å¤Ÿæ˜¾è‘—å‡å°‘ä¼ ç»Ÿæ‰‹å·¥æ•°æ®æ¸…ç†æ‰€éœ€çš„å·¥ä½œé‡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¼•å…¥äº†ä¸ç›¸å…³æ¨¡å‹æ¥å£é…å¥—çš„ç§˜é’¥é…ç½®ä¿¡æ¯ï¼Œç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿè®¿é—®å¹¶ä½¿ç”¨è¿™äº›æœåŠ¡ã€‚å…·ä½“çš„é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-properties">server.port=9166
spring.ai.openai.base-url=
spring.ai.openai.api-key=
spring.ai.openai.chat.options.model=
</code></pre>
<p>è¿™é‡Œä¸»è¦æ˜¯é…ç½®OpenAIæ¥å£çš„ç›¸å…³ä¿¡æ¯ã€‚å¦‚æœä½ æ²¡æœ‰å›½å¤–çš„APIè®¿é—®æƒé™ï¼Œå®é™…ä¸Šå›½å†…çš„å¤§éƒ¨åˆ†å¤§æ¨¡å‹ä¹Ÿèƒ½å…¼å®¹è¿™ç§æ¥å£é…ç½®ï¼Œä½ å¯ä»¥ç›´æ¥å¡«å…¥ç›¸åº”çš„å›½å†…å¤§æ¨¡å‹æ¥å£ï¼ŒåŸºæœ¬ä¹Ÿèƒ½é¡ºåˆ©è°ƒç”¨ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨Spring AIçš„æ–‡æ¡£æå–å™¨å¯¹æ–‡æ¡£è¿›è¡Œè§£æï¼Œå…·ä½“çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">public List&lt;Document&gt; getDocsFromHTML() throws IOException {
    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(resourceLoader);
    org.springframework.core.io.Resource[] resourceArray = resolver.getResources("classpath:/file/*.html");

    List&lt;Document&gt; documentList = Arrays.stream(resourceArray)
            .flatMap(resource -&gt; {
                JsoupDocumentReader reader = new JsoupDocumentReader(resource,
                        JsoupDocumentReaderConfig.builder()
                                .selector("p") // å¯æ ¹æ®å®é™…ç»“æ„è°ƒæ•´é€‰æ‹©å™¨
                                .charset("UTF-8")
                                .build());
                return reader.get().stream();
            })
            .collect(Collectors.toList());
    return documentList;
}
</code></pre>
<p>è¿™é‡Œä¸»è¦è§£æå¦‚ä½•ä»HTMLæ–‡ä»¶ä¸­æå–æ–‡æœ¬å†…å®¹ã€‚ç”±äºä¸‹è½½çš„HTMLæ–‡ä»¶é€šå¸¸åŒ…å«äº†å„ç§æ ·å¼ã€è„šæœ¬ä»¥åŠå…¶ä»–æ— å…³ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬ä»…å…³æ³¨å…¶ä¸­çš„æ–‡æœ¬æ®µè½éƒ¨åˆ†ï¼Œå³<code>&lt;p&gt;</code>æ ‡ç­¾ä¸­çš„æ–‡å­—å†…å®¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜è®¨è®ºäº†å¦‚ä½•ä»PDFæ–‡æ¡£ä¸­æå–æ–‡æœ¬ï¼Œå…·ä½“å®ç°æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-java">public List&lt;Document&gt; getDocsFromPDF() throws IOException {
    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(resourceLoader);
    org.springframework.core.io.Resource[] resourceArray = resolver.getResources("classpath:/file/*.{pdf,PDF,Pdf}");

    List&lt;Document&gt; documentList = Arrays.stream(resourceArray)
            .filter(resource -&gt; resource.getFilename() != null &amp;&amp;
                    resource.getFilename().toLowerCase().endsWith(".pdf"))
            .flatMap(resource -&gt; {
                //æ‰“å°æ–‡ä»¶åå­—
                System.out.println("æ–‡ä»¶åå­—ï¼š" + resource.getFilename());
                try {
                    ParagraphPdfDocumentReader pdfReader = new ParagraphPdfDocumentReader(resource,
                            PdfDocumentReaderConfig.builder()
                                    .withPageTopMargin(0)
                                    .withPageExtractedTextFormatter(ExtractedTextFormatter.builder()
                                            .withNumberOfTopTextLinesToDelete(0)
                                            .build())
                                    .withPagesPerDocument(1)
                                    .build());
                    return pdfReader.read().stream();
                }catch (Exception e){
                    PagePdfDocumentReader pdfReader = new PagePdfDocumentReader(resource,
                            PdfDocumentReaderConfig.builder()
                                    .withPageTopMargin(0)
                                    .withPageExtractedTextFormatter(ExtractedTextFormatter.builder()
                                            .withNumberOfTopTextLinesToDelete(0)
                                            .build())
                                    .withPagesPerDocument(2)
                                    .build());
                    return pdfReader.read().stream();
                }
            })
            .collect(Collectors.toList());
    return documentList;
}
</code></pre>
<p>åœ¨æ–‡æœ¬æå–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å°†å…¶åˆ†ä¸ºä¸¤ç§ä¸åŒçš„æ ¼å¼è¿›è¡Œå¤„ç†ã€‚ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨ <code>ParagraphPdfDocumentReader</code> ç±»ï¼Œè¯¥ç±»èƒ½å¤Ÿæå–å¸¦æœ‰ç›®å½•çš„PDFæ–‡ä»¶ï¼Œå¹¶æ ¹æ®ç›®å½•å†…å®¹è¿›è¡Œåˆ†æ‰¹æå–ã€‚å¦ä¸€ç§æ˜¯å¤„ç†æ²¡æœ‰ç›®å½•çš„PDFæ–‡ä»¶ï¼Œæ­¤æ—¶ä½¿ç”¨ <code>PagePdfDocumentReader</code> ç±»ï¼Œè¯¥ç±»ä¼šæ ¹æ®é¡µæ•°å¯¹PDFæ–‡ä»¶è¿›è¡Œé€é¡µæ–‡æœ¬æå–ã€‚</p>
<p>æ— è®ºæ˜¯é€šè¿‡å“ªç§æ–¹å¼æå–æ–‡æœ¬ï¼Œæœ€ç»ˆæå–çš„å†…å®¹éƒ½ä¼šè¢«è‡ªåŠ¨å°è£…ä¸ºé€‚åˆå‘é‡æ•°æ®åº“å­˜å‚¨çš„ <code>Document</code> æ ¼å¼ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªå…³æ³¨æ–‡æœ¬å†…å®¹ï¼Œå…¶ä»–éƒ¨åˆ†çš„å†…å®¹å°†è¢«å¿½ç•¥ï¼Œç¡®ä¿AIèƒ½å¤Ÿé«˜æ•ˆåœ°è¿›è¡Œæå–å¤„ç†ã€‚å…·ä½“ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-java">public List&lt;InputData&gt; aiByHTML() throws IOException {
    List&lt;Document&gt; docsFromHTML = getDocsFromHTML();
    TokenTextSplitter splitter = new TokenTextSplitter();
    List&lt;Document&gt; documentList = splitter.apply(docsFromHTML);
//        documentList = enricher.apply(documentList);
    List&lt;Future&lt;List&lt;InputData&gt;&gt;&gt; futures = documentList.stream()
            .map(doc -&gt; executorService.submit(() -&gt; processDocument(doc).toList()))
            .collect(Collectors.toList());

    List&lt;InputData&gt; results = new ArrayList&lt;&gt;();
    for (Future&lt;List&lt;InputData&gt;&gt; future : futures) {
        try {
            results.addAll(future.get());
        } catch (Exception e) {
            log.error("Error processing document in thread: {}", e.getMessage());
        }
    }
    return results;
}
</code></pre>
<p>ç”±äºHTMLæå–åçš„æ¯ç¯‡åšæ–‡æˆ–æ–‡æ¡£é€šå¸¸åŒ…å«å¤§é‡æ–‡å­—ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>TokenTextSplitter</code> ç±»å¯¹æå–çš„æ–‡æœ¬è¿›è¡Œåˆ‡å‰²ã€‚åˆ‡å‰²åçš„æ–‡æœ¬ä¼šè¢«åˆ†æˆå¤šä¸ªæ›´å°çš„å—ï¼Œä»¥ä¾¿æ›´é«˜æ•ˆåœ°å¤„ç†ã€‚ä¸ºäº†åŠ å¿«å¤„ç†é€Ÿåº¦ï¼Œæœ¬æ–‡è¿˜é‡‡ç”¨äº†çº¿ç¨‹æ± çš„æ–¹å¼ï¼Œè®©AIèƒ½å¤Ÿå¹¶è¡Œåœ°å¿«é€Ÿè§£ææ–‡æ¡£å†…å®¹ã€‚å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-java">private Stream&lt;InputData&gt; processDocument(Document document) {
  String jsonStr = document.getText();
  log.info("Processing document content: {}", jsonStr.length() &gt; 100 ? jsonStr.substring(0, 100) : jsonStr);

  try {
      List&lt;InputData&gt; dataList = chatClient.prompt()
              .system("""
                  - Role: æ•°æ®æ¸…æ´—ä¸“å®¶å’Œä¿¡æ¯æå–å·¥ç¨‹å¸ˆ
                  - Background: ç”¨æˆ·éœ€è¦ä»ä¸€ç³»åˆ—åŒ…å«KESäººå¤§é‡‘ä»“è¿ç§»å†…å®¹çš„æ–‡æ¡£ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œä½†æ–‡æ¡£ä¸­å­˜åœ¨å¤§é‡æ— å…³å†…å®¹ï¼Œéœ€è¦é«˜æ•ˆåœ°ç­›é€‰å‡ºæœ‰ä»·å€¼çš„éƒ¨åˆ†ã€‚
                  - Profile: ä½ æ˜¯ä¸€ä½èµ„æ·±çš„æ•°æ®æ¸…æ´—ä¸“å®¶ï¼Œæ“…é•¿ä»æµ·é‡æ–‡æœ¬ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œå…·å¤‡å¼ºå¤§çš„æ–‡æœ¬åˆ†æèƒ½åŠ›å’Œä¿¡æ¯ç­›é€‰èƒ½åŠ›ï¼Œèƒ½å¤Ÿç²¾å‡†è¯†åˆ«ä¸KESäººå¤§é‡‘ä»“è¿ç§»ç›¸å…³çš„çŸ¥è¯†ç‚¹ã€æ³¨æ„ç‚¹å’Œå®è·µç»éªŒã€‚
                  - Skills: ä½ ç²¾é€šè‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯ã€æ–‡æœ¬æŒ–æ˜æ–¹æ³•å’Œä¿¡æ¯ç­›é€‰ç­–ç•¥ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®šä½å’Œæå–æ–‡æ¡£ä¸­çš„å…³é”®å†…å®¹ï¼ŒåŒæ—¶æ’é™¤æ— å…³ä¿¡æ¯ã€‚
                  - Goals: ä»ç”¨æˆ·æä¾›çš„æ–‡æ¡£ä¸­æå–ä¸KESäººå¤§é‡‘ä»“è¿ç§»ç›¸å…³çš„æ³¨æ„ç‚¹ã€çŸ¥è¯†ç‚¹å’Œå®è·µç»éªŒï¼Œå¿…é¡»å»é™¤æ— å…³å†…å®¹ï¼Œç¡®ä¿æå–çš„ä¿¡æ¯å‡†ç¡®ã€å®Œæ•´ä¸”æœ‰ä»·å€¼ã€‚
                  - Constrains: æå–çš„ä¿¡æ¯åº”ç®€æ´æ˜äº†ï¼Œé¿å…å†—ä½™ï¼Œç¡®ä¿ä¸KESäººå¤§é‡‘ä»“è¿ç§»ç›´æ¥ç›¸å…³ï¼Œç¦æ­¢åŒ…å«æ— å…³å†…å®¹ã€‚ç¦æ­¢å‡ºç°æœ¬æ–‡ã€åå°è·å–ç­‰å­—æ ·ã€‚
                  - OutputFormat: ä»¥ç»“æ„åŒ–çš„å½¢å¼è¾“å‡ºæå–çš„å…³é”®ä¿¡æ¯ï¼ŒåŒ…æ‹¬çŸ¥è¯†ç‚¹ã€æ³¨æ„ç‚¹å’Œå®è·µç»éªŒçš„åˆ†ç±»æ•´ç†ã€‚
                  - Workflow:
                    1. ä»”ç»†é˜…è¯»ç”¨æˆ·æä¾›çš„æ–‡æ¡£ï¼Œç†è§£æ–‡æ¡£çš„æ•´ä½“å†…å®¹å’Œç»“æ„ã€‚
                    2. ç¡®å®šä¸KESäººå¤§é‡‘ä»“è¿ç§»ç›¸å…³çš„å…³é”®è¯å’Œä¸»é¢˜ï¼Œå¦‚â€œè¿ç§»æ³¨æ„ç‚¹â€â€œKESçŸ¥è¯†ç‚¹â€â€œè¿ç§»å®è·µâ€ç­‰ã€‚
                    3. è¿ç”¨æ–‡æœ¬åˆ†ææŠ€æœ¯ï¼Œå¿…é¡»ä»æ–‡æ¡£ä¸­æå–ä¸è¿™äº›å…³é”®è¯å’Œä¸»é¢˜ç›¸å…³çš„å†…å®¹ï¼ŒåŒæ—¶æ’é™¤æ— å…³ä¿¡æ¯ã€‚
                    4. å¯¹æå–çš„å†…å®¹è¿›è¡Œåˆ†ç±»æ•´ç†ï¼Œå½¢æˆç»“æ„åŒ–çš„è¾“å‡ºã€‚
                    5. instructionä¸ºé—®é¢˜ï¼Œinputå›ºå®šä¸º"",outputä¸ºé—®é¢˜ç­”æ¡ˆ,é—®é¢˜ç­”æ¡ˆå­—æ•°å¿…é¡»åœ¨200-400å­—èŒƒå›´ä¹‹é—´ä¸”å¿…é¡»ä¸ºMarkdownæ ¼å¼ã€‚
                  - Example:
                      [{
                          "instruction": "KESæ˜¯ä»€ä¹ˆï¼Ÿ",
                          "input": "",
                          "output": "KESæ˜¯äººå¤§é‡‘ä»“çš„ç®€ç§°ã€‚"
                      }]
                  """)
              .user(jsonStr)
              .options(ChatOptions.builder().temperature(0.8).build())
              .call()
              .entity(new ParameterizedTypeReference&lt;List&lt;InputData&gt;&gt;() {});

      log.info("dataList size: {}", dataList != null ? dataList.size() : 0);
      return dataList == null ? Stream.empty() : dataList.stream();
  } catch (Exception e) {
      log.error("Error processing document: {}", ExceptionUtil.stacktraceToString(e));
      return Stream.empty();
  }
}
</code></pre>
<p>æˆ‘ä»¬é€šè¿‡ç®€å•çš„æç¤ºè¯æ¥å¼•å¯¼ AI è¿›è¡Œæ€»ç»“å’Œå½’çº³ï¼Œç”Ÿæˆä¸€ç³»åˆ—æŒ‡ä»¤é›†ã€‚æœ€åï¼Œåˆ©ç”¨ç»“æ„åŒ–è¾“å‡ºï¼Œå°†è¿™äº›æŒ‡ä»¤å°è£…æˆå…·ä½“çš„ç±»ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥ä½¿ç”¨å’Œç®¡ç†ã€‚å…·ä½“çš„å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-java">public record InputData(String instruction, String input, String output) {}
</code></pre>
<p>æœ€åï¼Œæˆ‘ä»¬å°†å¤„ç†åçš„æ•°ç»„ä»¥JSONæ ¼å¼å†™å…¥æ–‡ä»¶ä¸­ï¼ŒåŸºæœ¬çš„æµç¨‹å°±æ­¤å®Œæˆã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æœ€ç»ˆçš„æå–æ•ˆæœï¼Œå…·ä½“æ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215612976-1335776594.png" alt="image" loading="lazy"></p>
<p>ç»¼åˆæ¥çœ‹ï¼Œæ•°æ®é›†æ•´ä½“è¡¨ç°å°šå¯ï¼Œä½†æç¤ºè¯ä»éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚æœ€ç»ˆç”Ÿæˆçš„æ•°æ®é›†è§„æ¨¡ä¹Ÿä¸ç†æƒ³ï¼Œåªæœ‰å‡ ç™¾æ¡æ•°æ®ï¼ŒåŸºæœ¬ä¸Šæ— æ³•è¿›è¡Œæœ‰æ•ˆè®­ç»ƒã€‚ä¸ºäº†å±•ç¤ºæ•´ä½“æ•ˆæœï¼Œæˆ‘å¤šæ¬¡è¿è¡Œç›¸åŒçš„æ–‡æ¡£ï¼Œæœ€ç»ˆå‡‘è¶³äº†2000å¤šä¸ªæ•°æ®æ ·æœ¬ã€‚ä¸è¿‡ï¼Œè¿™æ ·çš„åšæ³•è‚¯å®šå­˜åœ¨ä¸€å®šé—®é¢˜ã€‚å› æ­¤ï¼Œå¦‚æœæ—¶é—´å…è®¸ï¼Œè¿˜æ˜¯åº”è¯¥å¤šä¸‹è½½ä¸€äº›æ–‡çŒ®æˆ–èµ„æ–™ï¼Œä»¥ç¡®ä¿æ•°æ®é›†çš„è´¨é‡å’Œè§„æ¨¡è¶³å¤Ÿæ”¯æŒæ›´å¥½çš„è®­ç»ƒæ•ˆæœã€‚</p>
<h2 id="æœåŠ¡å™¨å‡†å¤‡">æœåŠ¡å™¨å‡†å¤‡</h2>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨è§£æå®ŒæŒ‡ä»¤é›†åï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¤§æ¨¡å‹å¾®è°ƒã€‚é¦–å…ˆï¼Œç¡®ä¿ä½ æœ‰ä¸€å°è‡³å°‘å…·å¤‡20GB GPUå†…å­˜çš„æœåŠ¡å™¨ã€‚å¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥è€ƒè™‘åœ¨äº‘ç«¯ç§Ÿèµä¸€å°ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯AutoDL AIç®—åŠ›äº‘ï¼Œå…·ä½“ç»†èŠ‚å°±ä¸å†èµ˜è¿°ã€‚</p>
<p>å¦‚æœä½ æ²¡æœ‰å¾®è°ƒçš„ç»éªŒï¼Œæˆ‘å»ºè®®ä»é›¶å¼€å§‹å­¦ä¹ ã€‚æˆ‘ä¸ªäººæ˜¯åœ¨ä¸€ä¸ªå¼€æºé¡¹ç›®ä¸­ç§¯ç´¯ç»éªŒçš„ï¼Œå¼€æºé¡¹ç›®åœ°å€å¦‚ä¸‹ï¼š<a href="https://github.com/datawhalechina/self-llm" target="_blank" rel="noopener nofollow">https://github.com/datawhalechina/self-llm</a></p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215618784-646791116.png" alt="image" loading="lazy"></p>
<h1 id="å¾®è°ƒ">å¾®è°ƒ</h1>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç§Ÿèµä¸€å°æœåŠ¡å™¨ï¼Œç¯å¢ƒä¾èµ–å¯ä»¥ç›´æ¥ä½¿ç”¨ç¤¾åŒºæä¾›çš„é•œåƒã€‚å¼€æºé¡¹ç›®ä¹Ÿæä¾›äº†ç›¸å…³çš„é•œåƒï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œåˆ›å»ºã€‚æœ€ç»ˆçš„é…ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215623843-1938363821.png" alt="image" loading="lazy"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨JupyterLabå¿«é€Ÿè¿æ¥åˆ°æœåŠ¡å™¨ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215627717-1987236692.png" alt="image" loading="lazy"></p>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯ä»Qwen2.5-7Bæ‹‰å–çš„é•œåƒï¼Œè¯¥é•œåƒå·²åŒ…å«å¼€æºé¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215632532-80415144.png" alt="image" loading="lazy"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€å°†æ•°æ®é›†ä¸Šä¼ è‡³æŒ‡å®šä½ç½®ï¼Œå¹¶æ ¹æ®éœ€è¦è°ƒæ•´ç›¸å…³æ–‡ä»¶ç›®å½•è®¾ç½®ï¼Œå…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215636433-865854945.png" alt="image" loading="lazy"></p>
<p>ä»£ç åªéœ€ç®€å•ä¿®æ”¹æ•°æ®é›†åœ°å€ï¼Œç”±äºæ•°æ®é›†åŒ…å«å¤šä¸ª JSON æ–‡ä»¶ï¼Œå› æ­¤éœ€è¦åœ¨åŠ è½½æ‰€æœ‰æ–‡ä»¶åè¿›è¡Œåˆå¹¶ã€‚ä»¥ä¸‹æ˜¯ä¿®æ”¹åçš„ä»£ç ï¼š</p>
<pre><code class="language-python">import os
import glob
import pandas as pd
from datasets import Dataset

# è®¾ç½®ç›®å½•è·¯å¾„
directory_path = 'kes'  # æ›¿æ¢ä¸ºä½ çš„ç›®å½•è·¯å¾„

# è·å–ç›®å½•ä¸‹æ‰€æœ‰çš„ JSON æ–‡ä»¶
json_files = glob.glob(os.path.join(directory_path, '*.json'))

# å­˜å‚¨æ‰€æœ‰åŠ è½½çš„ JSON æ•°æ®
all_data = []

# éå†æ‰€æœ‰ JSON æ–‡ä»¶å¹¶åŠ è½½å®ƒä»¬
for json_file in json_files:
    print(f"æ­£åœ¨åŠ è½½: {json_file}")
    df = pd.read_json(json_file)  # åŠ è½½æ¯ä¸ª JSON æ–‡ä»¶ä¸º DataFrame
    all_data.append(df)

# åˆå¹¶æ‰€æœ‰çš„ DataFrame
combined_df = pd.concat(all_data, ignore_index=True)

# å°† DataFrame è½¬æ¢ä¸º Hugging Face Dataset
ds = Dataset.from_pandas(combined_df)
</code></pre>
<p>åœ¨å¯¹ç›¸å…³æŒ‡ä»¤è¿›è¡Œä¿®æ”¹æ—¶ï¼Œä¸»è¦æ˜¯å°†ç³»ç»Ÿæç¤ºè¯æ›´æ”¹ä¸ºâ€œé‡‘ä»“å°åŠ©æ‰‹â€ï¼Œå…·ä½“ä¿®æ”¹å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="language-python">def process_func(example):
    MAX_LENGTH = 384    # Llamaåˆ†è¯å™¨ä¼šå°†ä¸€ä¸ªä¸­æ–‡å­—åˆ‡åˆ†ä¸ºå¤šä¸ªtokenï¼Œå› æ­¤éœ€è¦æ”¾å¼€ä¸€äº›æœ€å¤§é•¿åº¦ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§
    input_ids, attention_mask, labels = [], [], []
    instruction = tokenizer(f"&lt;|im_start|&gt;system\nç°åœ¨ä½ æ˜¯äººå¤§é‡‘ä»“çš„å°åŠ©æ‰‹&lt;|im_end|&gt;\n&lt;|im_start|&gt;user\n{example['instruction'] + example['input']}&lt;|im_end|&gt;\n&lt;|im_start|&gt;assistant\n", add_special_tokens=False)  # add_special_tokens ä¸åœ¨å¼€å¤´åŠ  special_tokens
    ## çœç•¥é‡å¤ä»£ç 
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œå°†è¿›å…¥å¾®è°ƒè®­ç»ƒçš„è¿‡ç¨‹ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215655858-99262251.png" alt="image" loading="lazy"></p>
<p>æ•´ä¸ªè¿‡ç¨‹å¤§çº¦éœ€è¦èŠ±è´¹æˆ‘ä»¬10åˆ†é’Ÿå·¦å³çš„æ—¶é—´ï¼Œè€ƒè™‘åˆ°ç›®å‰æ•°æ®é›†çš„è§„æ¨¡è¿˜ç›¸å¯¹è¾ƒå°ï¼Œå¤„ç†é€Ÿåº¦ä¸ä¼šå¤ªæ…¢ã€‚</p>
<h1 id="æ•ˆæœæ¼”ç¤º">æ•ˆæœæ¼”ç¤º</h1>
<p>æœ€åï¼Œè®­ç»ƒå®Œæˆåï¼Œæˆ‘ä»¬å°†è¿›è¡Œä¸€ä¸ªç®€å•çš„æµ‹è¯•ï¼Œä»¥è¯„ä¼°Loraå¾®è°ƒçš„æ•ˆæœã€‚ä¸‹é¢æ˜¯ç›¸å…³çš„ä»£ç å®ç°ï¼š</p>
<pre><code class="language-python">from transformers import AutoModelForCausalLM, AutoTokenizer
import torch
from peft import PeftModel

mode_path = '/root/autodl-tmp/qwen/Qwen2.5-7B-Instruct/'
lora_path = './output/Qwen2.5_instruct_lora/checkpoint-450' # è¿™é‡Œæ”¹ç§°ä½ çš„ lora è¾“å‡ºå¯¹åº” checkpoint åœ°å€

# åŠ è½½tokenizer
tokenizer = AutoTokenizer.from_pretrained(mode_path, trust_remote_code=True)

# åŠ è½½æ¨¡å‹
model = AutoModelForCausalLM.from_pretrained(mode_path, device_map="auto",torch_dtype=torch.bfloat16, trust_remote_code=True).eval()

# åŠ è½½loraæƒé‡
model = PeftModel.from_pretrained(model, model_id=lora_path)
prompt = "KESæ•°æ®è¿ç§»å·¥å…·KDTSæ”¯æŒå“ªäº›æºæ•°æ®åº“çš„è¿ç§»ï¼Ÿ"
inputs = tokenizer.apply_chat_template([{"role": "system", "content": "å‡è®¾ä½ æ˜¯äººå¤§é‡‘ä»“çš„å°åŠ©æ‰‹ã€‚"},{"role": "user", "content": prompt}],
                                       add_generation_prompt=True,
                                       tokenize=True,
                                       return_tensors="pt",
                                       return_dict=True
                                       ).to('cuda')


gen_kwargs = {"max_length": 2500, "do_sample": True, "top_k": 1}
with torch.no_grad():
    outputs = model.generate(**inputs, **gen_kwargs)
    outputs = outputs[:, inputs['input_ids'].shape[1]:]
    print(tokenizer.decode(outputs[0], skip_special_tokens=True))
</code></pre>
<p>ç›®å‰ï¼Œæˆ‘ä»¬çš„Loraæƒé‡å°šæœªä¸åŸºç¡€æ¨¡å‹åˆå¹¶ï¼Œè€Œåªæ˜¯è¢«åŠ è½½åˆ°æ¨¡å‹ä¸­ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬å°†è¿›è¡Œä¸€ä¸ªç®€å•çš„æµ‹è¯•ï¼Œç›®çš„æ˜¯æŸ¥çœ‹åŠ è½½åçš„æ•ˆæœå’ŒéªŒè¯Loraæƒé‡çš„ä½œç”¨ï¼Œè¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<ul>
<li>æ”¯æŒOracleã€MySQLã€SQLServerã€Gbaseã€PostgreSQLã€DMã€KingbaseESç­‰æ•°æ®åº“ä½œä¸ºæºç«¯è¿›è¡Œæ•°æ®è¿ç§»ã€‚</li>
<li>è¿™äº›æ•°æ®åº“ç‰ˆæœ¬å‡è¢«çº³å…¥æ”¯æŒèŒƒå›´ï¼Œç¡®ä¿è¿ç§»è¿‡ç¨‹ä¸­çš„å…¼å®¹æ€§å’Œç¨³å®šæ€§ã€‚</li>
</ul>
</blockquote>
<p>å¦‚æœä½ å¸Œæœ›å°†å¯è§†åŒ–çš„WEBé¡µé¢æš´éœ²å‡ºæ¥è¿›è¡Œè®¿é—®ï¼Œé¦–å…ˆéœ€è¦æ ¹æ®éƒ¨ç½²æ–‡ä»¶çš„è¦æ±‚æ“ä½œã€‚å…·ä½“æ­¥éª¤æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªåä¸º <code>chatbot.py</code> çš„æ–°æ–‡ä»¶ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶ä¸­ç¼–å†™ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="language-python">from transformers import AutoTokenizer, AutoModelForCausalLM
import torch
import streamlit as st
from peft import PeftModel

# åœ¨ä¾§è¾¹æ ä¸­åˆ›å»ºä¸€ä¸ªæ ‡é¢˜å’Œä¸€ä¸ªé“¾æ¥
with st.sidebar:
    st.markdown("## Qwen2.5 LLM")
    "[å¼€æºå¤§æ¨¡å‹é£Ÿç”¨æŒ‡å— self-llm](https://github.com/datawhalechina/self-llm.git)"
    # åˆ›å»ºä¸€ä¸ªæ»‘å—ï¼Œç”¨äºé€‰æ‹©æœ€å¤§é•¿åº¦ï¼ŒèŒƒå›´åœ¨ 0 åˆ° 8192 ä¹‹é—´ï¼Œé»˜è®¤å€¼ä¸º 512ï¼ˆQwen2.5 æ”¯æŒ 128K ä¸Šä¸‹æ–‡ï¼Œå¹¶èƒ½ç”Ÿæˆæœ€å¤š 8K tokensï¼‰
    max_length = st.slider("max_length", 0, 8192, 512, step=1)

# åˆ›å»ºä¸€ä¸ªæ ‡é¢˜å’Œä¸€ä¸ªå‰¯æ ‡é¢˜
st.title("ğŸ’¬ Qwen2.5 Chatbot")
st.caption("ğŸš€ A streamlit chatbot powered by Self-LLM")

# å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè·å–æ¨¡å‹å’Œ tokenizer
@st.cache_resource
def get_model():
    # ä»é¢„è®­ç»ƒçš„æ¨¡å‹ä¸­è·å– tokenizer
    # tokenizer = AutoTokenizer.from_pretrained(mode_name_or_path, trust_remote_code=True)
    # ä»é¢„è®­ç»ƒçš„æ¨¡å‹ä¸­è·å–æ¨¡å‹ï¼Œå¹¶è®¾ç½®æ¨¡å‹å‚æ•°
    # model = AutoModelForCausalLM.from_pretrained(mode_name_or_path, torch_dtype=torch.bfloat16,  device_map="auto")
    mode_path = '/root/autodl-tmp/qwen/Qwen2.5-7B-Instruct/'
    lora_path = '/root/output/Qwen2.5_instruct_lora/checkpoint-450' # è¿™é‡Œæ”¹ç§°ä½ çš„ lora è¾“å‡ºå¯¹åº” checkpoint åœ°å€
    
    # åŠ è½½tokenizer
    tokenizer = AutoTokenizer.from_pretrained(mode_path, trust_remote_code=True)
    tokenizer.pad_token = tokenizer.eos_token
    # åŠ è½½æ¨¡å‹
    model = AutoModelForCausalLM.from_pretrained(mode_path, device_map="auto",torch_dtype=torch.bfloat16, trust_remote_code=True).eval()
    
    # åŠ è½½loraæƒé‡
    model = PeftModel.from_pretrained(model, model_id=lora_path)
    return tokenizer, model

# åŠ è½½ Qwen2.5 çš„ model å’Œ tokenizer
tokenizer, model = get_model()

# å¦‚æœ session_state ä¸­æ²¡æœ‰ "messages"ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªåŒ…å«é»˜è®¤æ¶ˆæ¯çš„åˆ—è¡¨
if "messages" not in st.session_state:
    st.session_state["messages"] = [{"role": "system", "content": "å‡è®¾ä½ æ˜¯äººå¤§é‡‘ä»“çš„å°åŠ©æ‰‹ã€‚"},{"role": "assistant", "content": "æˆ‘æ˜¯äººå¤§é‡‘ä»“å°åŠ©æ‰‹ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„ï¼Ÿ"}]

# éå† session_state ä¸­çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œå¹¶æ˜¾ç¤ºåœ¨èŠå¤©ç•Œé¢ä¸Š
for msg in st.session_state.messages:
    st.chat_message(msg["role"]).write(msg["content"])

# å¦‚æœç”¨æˆ·åœ¨èŠå¤©è¾“å…¥æ¡†ä¸­è¾“å…¥äº†å†…å®¹ï¼Œåˆ™æ‰§è¡Œä»¥ä¸‹æ“ä½œ
if prompt := st.chat_input():

    # åœ¨èŠå¤©ç•Œé¢ä¸Šæ˜¾ç¤ºç”¨æˆ·çš„è¾“å…¥
    st.chat_message("user").write(prompt)

    # å°†ç”¨æˆ·è¾“å…¥æ·»åŠ åˆ° session_state ä¸­çš„ messages åˆ—è¡¨ä¸­
    st.session_state.messages.append({"role": "user", "content": prompt})

    # å°†å¯¹è¯è¾“å…¥æ¨¡å‹ï¼Œè·å¾—è¿”å›
    input_ids = tokenizer.apply_chat_template(st.session_state.messages,tokenize=False,add_generation_prompt=True)
    model_inputs = tokenizer([input_ids], return_tensors="pt").to('cuda')
    generated_ids = model.generate(model_inputs.input_ids,max_new_tokens=max_length)
    generated_ids = [
        output_ids[len(input_ids):] for input_ids, output_ids in zip(model_inputs.input_ids, generated_ids)
    ]
    response = tokenizer.batch_decode(generated_ids, skip_special_tokens=True)[0]

    # å°†æ¨¡å‹çš„è¾“å‡ºæ·»åŠ åˆ° session_state ä¸­çš„ messages åˆ—è¡¨ä¸­
    st.session_state.messages.append({"role": "assistant", "content": response})
    # åœ¨èŠå¤©ç•Œé¢ä¸Šæ˜¾ç¤ºæ¨¡å‹çš„è¾“å‡º
    st.chat_message("assistant").write(response)
    # print(st.session_state) # æ‰“å° session_state è°ƒè¯•
</code></pre>
<p>æˆ‘åœ¨å¼€æºé¡¹ç›®çš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸€äº›è‡ªå®šä¹‰ä¿®æ”¹ï¼Œä¸»è¦åŒ…æ‹¬å¯¹ checkpoint å’Œç³»ç»Ÿæç¤ºè¯ç­‰å‚æ•°çš„è°ƒæ•´ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨è¯¥ç³»ç»Ÿï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>streamlit run /root/autodl-tmp/chatBot.py --server.address 127.0.0.1 --server.port 6006</p>
</blockquote>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215756012-446809965.png" alt="image" loading="lazy"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æŒ‰ç…§ç®—åŠ›äº‘æä¾›çš„æ“ä½œæ­¥éª¤ï¼Œé€æ­¥è¿›è¡Œç›¸å…³è®¾ç½®å’Œæ“ä½œã€‚æ¯ä¸ªæ­¥éª¤éƒ½ä¸¥æ ¼æŒ‰ç…§æŒ‡å—æ‰§è¡Œï¼Œä»¥ç¡®ä¿é¡ºåˆ©å®Œæˆé…ç½®å’Œå¯åŠ¨ï¼Œå…·ä½“æµç¨‹è¯·å‚è§ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215801540-425558461.png" alt="image" loading="lazy"></p>
<p>æˆ‘ä»¬é€šè¿‡å‘½ä»¤è¡Œå½¢å¼æ¥å±•ç¤ºæ•ˆæœï¼Œå…·ä½“æƒ…å†µè¯·å‚è€ƒä¸‹æ–¹æˆªå›¾ï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215819759-388359129.png" alt="image" loading="lazy"></p>
<p>æˆåŠŸå®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®æœ¬åœ°çš„ 6006 ç«¯å£ï¼Œè®¿é—®åœ°å€ä¸ºï¼š<a href="http://localhost:6006" target="_blank" rel="noopener nofollow">http://localhost:6006</a>ï¼Œè¿›å…¥ç›¸åº”çš„ç•Œé¢è¿›è¡Œè¿›ä¸€æ­¥æ“ä½œã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250504215826755-909891128.png" alt="image" loading="lazy"></p>
<p>æˆ‘å°±ä¸æ‹¿7Bçš„åŸºç¡€æ¨¡å‹ä½œå¯¹æ¯”äº†ï¼Œå› ä¸ºå…¶æ•ˆæœæ˜¾ç„¶ä¸å¦‚Loraå¾®è°ƒåçš„ç‰ˆæœ¬ã€‚ä¸ºäº†åšä¸€ä¸ªæ›´åˆé€‚çš„å¯¹æ¯”ï¼Œæˆ‘é€‰æ‹©äº†æˆ‘å¸¸ç”¨çš„Kimiæ¨¡å‹ã€‚é€šè¿‡å¯¹æ¯”å¯ä»¥çœ‹å‡ºï¼Œç¡®å®åœ¨æ²¡æœ‰è”ç½‘çš„æƒ…å†µä¸‹ï¼ŒæŸäº›çŸ¥è¯†çš„è¡¨ç°ä¸å¦‚å¾®è°ƒåçš„æ•ˆæœã€‚ç„¶è€Œï¼Œç”±äºå¾®è°ƒæ‰€ç”¨çš„æ•°æ®é›†èŒƒå›´ç›¸å¯¹è¾ƒçª„ï¼Œè¿™å¯¼è‡´äº†ä¸€å®šç¨‹åº¦çš„è¿‡æ‹Ÿåˆç°è±¡ã€‚ä¸è¿‡ï¼Œæ€»ä½“æ¥çœ‹ï¼Œæ•´ä¸ªå¾®è°ƒæµç¨‹å¤§è‡´å°±æ˜¯è¿™æ ·å±•å¼€çš„ã€‚</p>
<p>ä¸è¿‡ï¼Œå¾®è°ƒåçš„æ•ˆæœè¿˜ç®—ä»¤äººæ»¡æ„ï¼Œè€Œä¸”ç›¸è¾ƒäºé€šè¿‡æ™ºèƒ½ä½“è”ç½‘æœç´¢ç¤¾åŒºçš„æ–¹å¼ï¼Œå›å¤é€Ÿåº¦æ˜æ˜¾æå‡äº†è®¸å¤šï¼Œå“åº”æ—¶é—´æ›´å¿«ã€‚åŒæ—¶ï¼Œtokençš„èŠ±è´¹ä¹Ÿæ˜¾è‘—é™ä½äº†ã€‚æ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œç»è¿‡å¾®è°ƒçš„æ¨¡å‹å®Œå…¨å¯ä»¥è¿›è¡Œç§æœ‰åŒ–éƒ¨ç½²ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä¼ä¸šå†…éƒ¨çš„æ•°æ®å®‰å…¨æ€§å¾—åˆ°äº†ä¿éšœï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®æ³„éœ²çš„é—®é¢˜ã€‚</p>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<p>å¥½çš„ï¼Œæœ¬æ¬¡å…³äºé‡‘ä»“è¿ç§»ç›¸å…³çš„å¾®è°ƒæ–‡ç« å°±åˆ°æ­¤ç»“æŸã€‚æˆ‘ä»¬ä¸ä»…æˆåŠŸè§£å†³äº†é‡‘ä»“å¹³å°ä¸­æœç´¢åŠŸèƒ½å¯¼è‡´æ™ºèƒ½ä½“æ£€ç´¢å“åº”æ…¢çš„é—®é¢˜ï¼Œè¿˜æœ‰æ•ˆæ§åˆ¶äº†tokenè´¹ç”¨çš„é«˜æ˜‚æ”¯å‡ºã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åˆ©ç”¨ç°æœ‰çš„æ–‡æ¡£å’Œåšæ–‡ï¼Œå¯¹å¤§æ¨¡å‹è¿›è¡Œäº†å¾®è°ƒã€‚é€šè¿‡æå‰æ£€ç´¢å’Œå¤„ç†é‡‘ä»“ç¤¾åŒºçš„ç›¸å…³èµ„æ–™ï¼Œå¾®è°ƒåçš„å¤§æ¨¡å‹èƒ½å¤Ÿåœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹ï¼Œä¾é æ›´åŠ ç²¾ç¡®çš„çŸ¥è¯†åº“è¿›è¡Œé—®é¢˜è§£ç­”ï¼Œä»è€Œå¼¥è¡¥äº†åŸæœ‰æœç´¢æœºåˆ¶çš„ä¸è¶³ä¹‹å¤„ã€‚</p>
<p>åœ¨å¾®è°ƒè¿‡ç¨‹ä¸­ï¼Œå°½ç®¡æˆ‘ä»¬é¢ä¸´äº†è®¸å¤šæŒ‘æˆ˜ï¼Œä¾‹å¦‚æ–‡æ¡£æ•°æ®çš„æ•´ç†å’Œæå–ã€æŒ‡ä»¤é›†çš„æ„å»ºç­‰é—®é¢˜ï¼Œä½†é€šè¿‡å€ŸåŠ©Spring AIç­‰æ¡†æ¶å·¥å…·ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å°†éç»“æ„åŒ–çš„æ–‡æ¡£æ•°æ®è½¬åŒ–ä¸ºç»“æ„åŒ–ä¿¡æ¯ï¼Œç¡®ä¿äº†å¾®è°ƒè¿‡ç¨‹çš„é¡ºåˆ©è¿›è¡Œã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å®ç°äº†æ¨¡å‹çš„ç§æœ‰åŒ–éƒ¨ç½²ï¼Œå¹¶ä½¿ç”¨Streamlitè¿›è¡Œäº†å¯è§†åŒ–å±•ç¤ºå’Œéƒ¨ç½²ï¼Œåœ†æ»¡å®Œæˆäº†æ•´ä¸ªå¾®è°ƒç¯èŠ‚ã€‚å¸Œæœ›è¿™æ¬¡åˆ†äº«èƒ½å¤Ÿå¯¹å¤§å®¶çš„å·¥ä½œå’Œç ”ç©¶æä¾›ä¸€å®šçš„å¸®åŠ©å’Œå¯å‘ï¼</p>
<hr>
<p>æˆ‘æ˜¯åŠªåŠ›çš„å°é›¨ï¼Œä¸€ä¸ªæ­£ç»çš„ Java ä¸œåŒ—æœåŠ¡ç«¯å¼€å‘ï¼Œæ•´å¤©ç¢ç£¨ç€ AI æŠ€æœ¯è¿™å—å„¿çš„å¥¥ç§˜ã€‚ç‰¹çˆ±è·Ÿäººäº¤æµæŠ€æœ¯ï¼Œå–œæ¬¢æŠŠè‡ªå·±çš„å¿ƒå¾—å’Œå¤§å®¶åˆ†äº«ã€‚è¿˜å½“ä¸Šäº†è…¾è®¯äº‘åˆ›ä½œä¹‹æ˜Ÿï¼Œé˜¿é‡Œäº‘ä¸“å®¶åšä¸»ï¼Œåä¸ºäº‘äº‘äº«ä¸“å®¶ï¼Œæ˜é‡‘ä¼˜ç§€ä½œè€…ã€‚å„ç§å¾æ–‡ã€å¼€æºæ¯”èµ›çš„ç‰Œå­ä¹Ÿæ‹¿äº†ã€‚</p>
<p>ğŸ’¡ æƒ³æŠŠæˆ‘åœ¨æŠ€æœ¯è·¯ä¸Šèµ°è¿‡çš„å¼¯è·¯å’Œç»éªŒå…¨éƒ½åˆ†äº«å‡ºæ¥ï¼Œç»™ä½ ä»¬çš„å­¦ä¹ å’Œæˆé•¿å¸¦æ¥ç‚¹å¯å‘ï¼Œå¸®ä¸€æŠŠã€‚</p>
<p>ğŸŒŸ æ¬¢è¿å…³æ³¨åŠªåŠ›çš„å°é›¨ï¼Œå’±ä¸€å—å„¿è¿›æ­¥ï¼ğŸŒŸ</p>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.028966261317129628" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-08 13:42">2025-05-08 13:41</span>&nbsp;
<a href="https://www.cnblogs.com/guoxiaoyu">åŠªåŠ›çš„å°é›¨</a>&nbsp;
é˜…è¯»(<span id="post_view_count">6</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18859549);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18859549', targetLink: 'https://www.cnblogs.com/guoxiaoyu/p/18859549', title: 'ä»é›¶åˆ°ä¸€ï¼šåˆ©ç”¨é‡‘ä»“ç¤¾åŒºæ•°æ®ï¼ŒLoRaå¾®è°ƒä¸Spring AI æ„å»ºç§æœ‰åŒ–åƒé—®æ¨¡å‹' })">ä¸¾æŠ¥</a>
</div>
	