
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/cmt/p/18921109" title="发布于 2025-06-09 18:52">
    <span role="heading" aria-level="2">【故障公告】6月9日 17:24~17:34 再次遭遇攻击</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        上周五早上 5:30 至 10 点被攻击后（详见故障公告），今天周一下班前再次遇到类似的攻击，17:24 左右开始，17:34 左右结束，持续10分钟左右。攻击期间，大量请求造成部署在 k8s 集群上的博客站点 pod 宕机，用户访问时出现 503 错误。博客站点部署了多台阿里云负载均衡，正常情况下，即使访问高峰，单台负载均衡的 QPS 通常不超过 500。被攻击期间，单台负载均衡的 QPS 过万，甚至有的负载均衡超过 3 万，突增 20 倍以上的并发
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><img src="https://img2024.cnblogs.com/blog/35695/202506/35695-20250609181036251-1722825736.png" alt="" width="600" loading="lazy"></p>
<p>（注：上图是其中一台阿里云负载均衡的 QPS 监控截图）</p>
<p>上周五早上 5:30 至 10 点被攻击后（详见<a href="https://www.cnblogs.com/cmt/p/18913712" target="_blank">故障公告</a>），今天周一下班前再次遇到类似的攻击，17:24 左右开始，17:34 左右结束，持续10分钟左右。</p>
<p>攻击期间，大量请求造成部署在 k8s 集群上的博客站点 pod 宕机，用户访问时出现 503 错误。</p>
<p>博客站点部署了多台阿里云负载均衡，正常情况下，即使访问高峰，单台负载均衡的 QPS 通常不超过 500。</p>
<p>被攻击期间，单台负载均衡的 QPS 过万，甚至有的负载均衡超过 3 万，突增 20 倍以上的并发，本来能够轻松应对的 6 个 pod 只能无奈地全部趴下。</p>
<p><img src="https://img2024.cnblogs.com/blog/35695/202506/35695-20250609182754123-334527138.png" alt="" width="600" loading="lazy"></p>
<p>这次和上次一样，大量请求来自国内外的 IP，以下是短时间内其中一台负载均衡的 top 客户端监控截图（去掉了IP的最后一段）</p>
<p><img src="https://img2024.cnblogs.com/blog/35695/202506/35695-20250609183206090-238829937.png" alt="" width="800" loading="lazy"></p>
<p>在上次攻击后，我们针对瓶颈部分进行了优化，本准备在今天下班后发布优化更新，结果在下班前又遇到攻击。。。</p>
<p>又一次攻击，又给您带来了麻烦，再次请您谅解。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-09 18:52">2025-06-09 18:52</span>&nbsp;
<a href="https://www.cnblogs.com/cmt">博客园团队</a>&nbsp;
阅读(<span id="post_view_count">101</span>)&nbsp;
评论(<span id="post_comment_count">2</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18921109);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18921109', targetLink: 'https://www.cnblogs.com/cmt/p/18921109', title: '【故障公告】6月9日 17:24~17:34 再次遭遇攻击' })">举报</a>
</div>
        