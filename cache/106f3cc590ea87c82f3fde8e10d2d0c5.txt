
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52415095">
<i class="pstatus"> 本帖最后由 李佑辰 于 2025-2-17 18:28 编辑 </i><br>
<div class="parsedown-markdown"><p>自己写了一个<strong>Windows 批处理脚本</strong>（Batch Script），用于管理和操作基于 <strong>Ollama</strong> 框架部署的 <strong>DeepSeek 大模型</strong>。它提供了一个简单的命令行菜单界面，用户可以通过选择不同的选项来执行以下操作：</p>
<ol>
<li>查看ollama版本</li>
<li>查看deepseek大模型列表</li>
<li>运行1.5b大模型</li>
<li>运行7b大模型</li>
<li>运行8b大模型</li>
<li>运行14b大模型</li>
<li>停止运行1.5b大模型</li>
<li>停止运行7b大模型</li>
<li>停止运行8b大模型</li>
<li>停止运行14b大模型</li>
<li>查看正在运行的大模型</li>
</ol>
<hr>
<h4 id="52415095_**脚本功能**"><strong>脚本功能</strong></h4>
<ol>
<li>
<p><strong>查看 Ollama 版本</strong><br>
检查当前安装的 Ollama 版本。</p>
</li>
<li>
<p><strong>查看 DeepSeek 大模型列表</strong><br>
列出本地已下载或可用的 DeepSeek 大模型。</p>
</li>
<li>
<p><strong>运行指定的大模型</strong><br>
支持运行以下 DeepSeek 模型：</p>
<ul>
<li>1.5b 模型</li>
<li>7b 模型</li>
<li>8b 模型</li>
<li>14b 模型</li>
</ul>
</li>
<li>
<p><strong>停止指定的大模型</strong><br>
停止正在运行的 DeepSeek 模型。</p>
</li>
<li>
<p><strong>查看正在运行的大模型</strong><br>
显示当前正在运行的 DeepSeek 模型实例。</p>
</li>
<li>
<p><strong>退出工具</strong><br>
退出脚本。</p>
</li>
</ol>
<hr>
<h4 id="52415095_**脚本运行逻辑**"><strong>脚本运行逻辑</strong></h4>
<ol>
<li>
<p><strong>菜单界面</strong><br>
脚本启动后会显示一个菜单，用户输入数字选择对应的功能。</p>
</li>
<li>
<p><strong>跳转到对应功能</strong><br>
根据用户输入，脚本会跳转到相应的标签（如 <code>:run_1_5b</code>、<code>:stop_7b</code> 等），执行对应的命令。</p>
</li>
<li>
<p><strong>命令执行</strong><br>
每个功能都通过调用 <code>ollama</code> 命令来完成具体操作，例如：</p>
<ul>
<li><code>ollama run deepseek-r1:1.5b</code>：运行 1.5b 模型。</li>
<li><code>ollama stop deepseek-r1:7b</code>：停止 7b 模型。</li>
<li><code>ollama list</code>：列出所有模型。</li>
<li><code>ollama ps</code>：查看正在运行的模型。</li>
</ul>
</li>
<li>
<p><strong>返回菜单</strong><br>
每次操作完成后，脚本会暂停（<code>pause</code>），等待用户按任意键后返回主菜单。</p>
</li>
</ol>
<hr>
<h4 id="52415095_**如何使用**"><strong>如何使用</strong></h4>
<ol>
<li>
<p><strong>保存脚本</strong><br>
将脚本内容保存为一个 <code>.bat</code> 文件，例如 <code>deepseek_manager.bat</code>。</p>
</li>
<li>
<p><strong>运行脚本</strong><br>
双击 <code>.bat</code> 文件，或在命令行中运行该脚本。</p>
</li>
<li>
<p><strong>选择功能</strong><br>
根据菜单提示输入数字，执行相应的功能。</p>
</li>
</ol>
<hr>
<h4 id="52415095_**适用场景**"><strong>适用场景</strong></h4>
<ul>
<li><strong>本地部署 DeepSeek 大模型</strong>：适合在本地环境中使用 Ollama 框架部署和运行 DeepSeek 大模型的用户。</li>
<li><strong>简化操作</strong>：通过菜单化界面，避免手动输入复杂的命令。</li>
<li><strong>批量管理</strong>：方便用户快速启动、停止和查看模型状态。</li>
</ul>
<hr>
<h4 id="52415095_**注意事项**"><strong>注意事项</strong></h4>
<ol>
<li>
<p><strong>依赖 Ollama</strong><br>
脚本依赖于 Ollama 框架，确保已正确安装并配置 Ollama。</p>
</li>
<li>
<p><strong>模型名称</strong><br>
脚本中使用的模型名称（如 <code>deepseek-r1:1.5b</code>）需要与实际部署的模型名称一致。</p>
</li>
<li>
<p><strong>权限问题</strong><br>
如果 Ollama 需要管理员权限运行，请以管理员身份运行该脚本。</p>
</li>
<li>
<p><strong>Ctrl+D 停止对话</strong><br>
在运行模型时，输入 <code>Ctrl+D</code> 可以停止当前对话并返回菜单。</p>
</li>
</ol>
<p>总之，这是一个非常实用的工具脚本，适合需要频繁操作 DeepSeek 大模型的用户！</p></div>
<div class="parsedown-markdown-end_FLAG_ZXSQ" style="display:none"></div><br>

<br>

<br>

<div class="parsedown-markdown"><pre><code>@echo off
:menu
cls
echo ==============================
echo&nbsp; &nbsp;&nbsp; &nbsp;DeepSeek 模型管理工具
echo ==============================
echo 1. 查看ollama版本
echo 2. 查看deepseek大模型列表
echo 3. 运行1.5b大模型
echo 4. 运行7b大模型
echo 5. 运行8b大模型
echo 6. 运行14b大模型
echo 7. 停止运行1.5b大模型
echo 8. 停止运行7b大模型
echo 9. 停止运行8b大模型
echo 10. 停止运行14b大模型
echo 11. 查看正在运行的大模型
echo 12. 退出
echo ==============================
set /p choice=请输入选项（1-11）：

if "%choice%"=="1" goto version
if "%choice%"=="2" goto list
if "%choice%"=="3" goto run_1_5b
if "%choice%"=="4" goto run_7b
if "%choice%"=="5" goto run_8b
if "%choice%"=="6" goto run_14b
if "%choice%"=="7" goto stop_1_5b
if "%choice%"=="8" goto stop_7b
if "%choice%"=="9" goto stop_8b
if "%choice%"=="10" goto stop_14b
if "%choice%"=="11" goto ps
if "%choice%"=="12" exit

echo 无效选项，请重新输入。
pause
goto menu

:version
cls
echo 正在查看ollama版本...
ollama -v
pause
goto menu

:list
cls
echo 正在查看deepseek大模型列表...
ollama list
pause
goto menu

:run_1_5b
cls
echo 正在运行deepseek-r1:1.5b模型
echo...输入Ctrl+D停止对话....
ollama run deepseek-r1:1.5b
pause
goto menu

:run_7b
cls
echo 正在运行deepseek-r1:7b模型...
echo...输入Ctrl+D停止对话....
ollama run deepseek-r1:7b
pause
goto menu

:run_8b
cls
echo 正在运行deepseek-r1:8b模型...
echo...输入Ctrl+D停止对话....
ollama run deepseek-r1:8b
pause
goto menu

:run_14b
cls
echo 正在运行deepseek-r1:14b模型...
echo...输入Ctrl+D停止对话....
ollama run deepseek-r1:14b
pause
goto menu

:stop_1_5b
cls
echo 正在停止deepseek-r1:1.5b模型...
ollama stop deepseek-r1:1.5b
pause
goto menu

:stop_7b
cls
echo 正在停止deepseek-r1:7b模型...
ollama stop deepseek-r1:7b
pause
goto menu

:stop_8b
cls
echo 正在停止deepseek-r1:8b模型...
ollama stop deepseek-r1:8b
pause
goto menu

:stop_14b
cls
echo 正在停止deepseek-r1:14b模型...
ollama stop deepseek-r1:14b
pause
goto menu

:ps
cls
echo 正在查看正在运行的大模型...
ollama ps
pause
goto menu
</code></pre></div>
<div class="parsedown-markdown-end_FLAG_ZXSQ" style="display:none"></div><br>

<br>

<div class="parsedown-markdown"><p><img src="https://img.picui.cn/free/2025/02/17/67b30c303f887.png" alt=""></p></div>
<div class="parsedown-markdown-end_FLAG_ZXSQ" style="display:none"></div></td></tr></tbody></table>

<div class="pattl">

<ignore_js_op>
<dl class="tattl">
<dt>
<img src="https://static.52pojie.cn/static/image/filetype/text.gif" border="0" class="vm" alt="">
</dt>
<dd>
<p class="attnm">

<a href="forum.php?mod=attachment&amp;aid=Mjc1NTU4MHxiZDcwMjZkNnwxNzM5OTA5Njg0fDEzMDQ0NDJ8MjAwNzA5MA%3D%3D" onmouseover="showMenu({'ctrlid':this.id,'pos':'12'})" id="aid2755580" target="_blank">Deepseek大模型管理工具.txt</a>

</p><div class="tip tip_4" id="aid2755580_menu" style="display: none" disautofocus="true">
<div class="tip_c">
<p class="y">2025-2-17 18:17 上传</p>
<p>点击文件名下载附件</p>
下载积分: 吾爱币 -1 CB<br>
</div>
<div class="tip_horn"></div>
</div>
<p></p>
<p>2.05 KB, 下载次数: 30, 下载积分: 吾爱币 -1 CB</p>
<p>

</p>
<p class="xg2">拓展名修改成.bat即可直接使用</p>

</dd>
</dl>
</ignore_js_op>
</div>

