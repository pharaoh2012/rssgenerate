
		<div class="postcontent">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="参考视频杨中科">参考视频（杨中科）：</h1>
<blockquote>
<p>配置系统1-入门：<br>
<a href="https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;p=40&amp;spm_id_from=333.788.videopod.episodes" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;p=40&amp;spm_id_from=333.788.videopod.episodes</a><br>
配置系统2-选项方式读取：<br>
<a href="https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=41" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=41</a><br>
配置系统3-其他配置提供者：<br>
<a href="https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=42" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=42</a><br>
配置系统4-开发自己的配置提供者：<br>
<a href="https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=43" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=43</a><br>
配置系统5-开发数据库配置提供者<br>
<a href="https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=44" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=44</a><br>
配置系统6-多配置源的优先级<br>
<a href="https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=45" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1pK41137He?vd_source=b7200d0eaee914e9c128dcabce5df118&amp;spm_id_from=333.788.videopod.episodes&amp;p=45</a></p>
</blockquote>
<h1 id="参考资料">参考资料：</h1>
<p><img src="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306222746.png" alt="" title="图片标题" loading="lazy"></p>
<h1 id="实际使用">实际使用</h1>
<h2 id="读取">读取</h2>
<h3 id="新建控制台程序">新建控制台程序</h3>
<h3 id="添加测试用的配置文件设置属性">添加测试用的配置文件，设置属性</h3>
<p><a href="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306221416.png" target="_blank">https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted image 20250306221416.png</a></p>
<h3 id="安装microsoftextensionsconfiguration和microsoftextensionsconfigurationjson">安装Microsoft.Extensions.Configuration和Microsoft.Extensions.Configuration.Json</h3>
<h3 id="编写如下代码这里我使用了顶级语句">编写如下代码(这里我使用了顶级语句)：</h3>
<pre><code>// See https://aka.ms/new-console-template for more information
using Microsoft.Extensions.Configuration;

ConfigurationBuilder configurationBuilder = new ConfigurationBuilder();
configurationBuilder.AddJsonFile("config.json", optional: false, reloadOnChange: false);
IConfigurationRoot configurationRoot = configurationBuilder.Build();
string name = configurationRoot["name"];
Console.WriteLine($"name = {name}");
string proxyAddress = configurationRoot.GetSection("proxy:address").Value;
Console.WriteLine($"address={proxyAddress}");
</code></pre>
<h4 id="运行代码查看结果">运行代码查看结果:</h4>
<p><img src="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306222647.png" alt="" loading="lazy"></p>
<h4 id="浅析代码">浅析代码：</h4>
<blockquote>
<p>configurationBuilder.AddJsonFile("config.json", optional: false, reloadOnChange: false):</p>
<ul>
<li>添加了一个待解析的名为”config.json“的配置文件，</li>
<li>optional:表示这个文件是否可选，false意味着配置文件不存在时候会报错</li>
<li>reloadOnChange:表示如果文件修改了，是否重新加载配置</li>
</ul>
</blockquote>
<h5 id="测试上述的属性">测试上述的属性：</h5>
<h6 id="1configjson改为config1json">1、config.json改为config1.json</h6>
<p><img src="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306223350.png" alt="" loading="lazy"></p>
<h6 id="2configjson改为config1json--optional-true">2、config.json改为config1.json &amp;&amp; optional: true</h6>
<p><img src="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306223520.png" alt="" loading="lazy"></p>
<h6 id="3reloadonchange-true">3、reloadOnChange: true</h6>
<blockquote>
<p>需要修改代码持续的打印在控制台上，然后修改配置文件  修改的代码参考下面的;</p>
</blockquote>
<pre><code>// See https://aka.ms/new-console-template for more information
using Microsoft.Extensions.Configuration;


await Task.Run(async () =&gt;
{
    while (true)
    {
        ConfigurationBuilder configurationBuilder = new ConfigurationBuilder();
        configurationBuilder.AddJsonFile("config.json", optional: false, reloadOnChange: true);
        IConfigurationRoot configurationRoot = configurationBuilder.Build();
        string name = configurationRoot["name"];
        Console.WriteLine($"name = {name}");
        string proxyAddress = configurationRoot.GetSection("proxy:address").Value;
        Console.WriteLine($"address={proxyAddress}");
        await Task.Delay(2000);
    }
});
</code></pre>
<p><img src="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306224148.png" alt="" loading="lazy"><br>
去修改配置文件<br>
<img src="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306224235.png" alt="" loading="lazy"><br>
！！！<mark><strong>发现并没有更新</strong></mark></p>
<h6 id="去看作者的视频发现">去看作者的视频发现：</h6>
<p><img src="https://images.cnblogs.com/cnblogs_com/blogs/838411/galleries/2448086/t_250306151340_Pasted%20image%2020250306224847.png" alt="" loading="lazy"></p>

</div>
<div class="clear"></div>

		</div>
		<div class="itemdesc">
			发表于 
<span id="post-date" data-last-update-days="0.01137261625462963" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-07 00:06">2025-03-06 23:31</span>&nbsp;
<a href="https://www.cnblogs.com/nanfengovo">nanfengovo</a>&nbsp;
阅读(<span id="post_view_count">3</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18756772" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18756772);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18756772', targetLink: 'https://www.cnblogs.com/nanfengovo/p/18756772', title: 'ASP.NET Core读取配置文件' })">举报</a>

		</div>
	