
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/qizhou/p/18913077" title="发布于 2025-06-06 12:59">
    <span role="heading" aria-level="2">论文解读：Aging with GRACE: Lifelong Model Editing with Discrete Key-Value Adapters</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-pm-slice="0 0 []">  论文发表于人工智能顶会NeurIPS（<a href="https://proceedings.neurips.cc/paper_files/paper/2022/hash/6f1d43d5a82a37e89b0665b33bf3a182-Abstract-Conference.html" target="_blank" rel="noopener nofollow">原文链接</a>）。当前的模型编辑器会因多次编辑损害模型性能，提出用于连续编辑的通用检索适配器(General Retrieval Adapters for Continual Editing, GRACE)：使用一个类似字典的结构（适配器）为需要修改的潜在表示构建新的映射，通过更新适配器来实现持续的模型行为编辑。</p>
<h1>方法</h1>
<p>  GRACE是一种不修改模型权重编辑预训练模型行为的方法，适用于任何模型。为模型<span class="math">$f$</span>在需要修改的层<span class="math">$l$</span>添加一个适配器，其中包含一个编码本<span class="math">$\mathcal{C}=\{(k_i,v_i,\epsilon_i)\}_{i=1}^C$</span>。其中的<span class="math">$k_i,v_i$</span>表示修改后的输入和它对应的输出（通过反向传播微调得到），<span class="math">$\epsilon_i$</span>表示当该层输入<span class="math">$h^{l-1}$</span>与<span class="math">$k_i$</span>的距离<span class="math">$d(h^{l-1},k_i)$</span>小于<span class="math">$\epsilon_i$</span>时，就使用<span class="math">$v_i$</span>作为该层输出，否则正常输出该层的推理结果。这里的距离计算方式<span class="math">$d(\cdot)$</span>使用欧氏距离。</p>
<p>  GRACE编辑模型某层<span class="math">$l$</span>的过程就是往编码本<span class="math">$\mathcal{C}$</span>中添加词条的过程。如果<span class="math">$f(x_t)\neq y_t$</span>，就期望通过修改所选的某层<span class="math">$l$</span>关于<span class="math">$x_t$</span>的输出<span class="math">$h^l$</span>来使得<span class="math">$f(x_t)= y_t$</span>：</p>
<p>  1、对于第一个模型不满足的样本<span class="math">$(x_0,y_0)$</span>来说，就是直接往<span class="math">$\mathcal{C}$</span>中添加<span class="math">$(h^{l-1}_0,h^l_0,\epsilon_{ini})$</span>。其中<span class="math">$h^{l-1}_0$</span>是<span class="math">$x_0$</span>在第<span class="math">$l-1$</span>层的输出，<span class="math">$h^l_0$</span>则是通过优化第<span class="math">$l$</span>层的输出使得模型输出为<span class="math">$y_t$</span>得到，<span class="math">$\epsilon_{ini}$</span>是需要人为定义的初始化距离。</p>
<p>  2、对于后续<span class="math">$f(x_t)\neq y_t$</span>的情况，使用算法1来对<span class="math">$\mathcal{C}$</span>进行更新。</p>
<p>  对于PLM来说，作者仅在相应的层上对输入句子的最后一个token进行编辑，通过实验验证。</p>
<h1>实验</h1>
<p>  图2：在toy二分类MLP上的编辑结果。a可视化模型正确分类两类样本。b在红色样本区域额外添加了要被判别为蓝色的样本。c修改前，模型将新增的样本判别为红。d修改后，模型将新增样本判别为蓝，并不影响其他判别。</p>
<p>  表1：各方法在三个数据集和对应模型上的编辑效果。TRR：模型编辑后对原始测试集的保留度。ERR：按顺序编辑模型对之前编辑的记忆的保留度。#E：模型使用各方法编辑的次数。Hallucination是对大模型幻觉的编辑，测试的是根据prompt生成句子的PPL。ROME没有在T5上实验是因为它只适用于GPT。</p>
<p>  图4：初始距离<span class="math">$\epsilon_{ini}$</span>和模型编辑块的选择对编辑效果的影响。其中，Holdout是在没见过的数据集上的泛化效果。可以看出：</p>
<ul>
<li>
<p>随着编辑数量的增加，在Holdout上的准确率会变高，说明了编辑的泛化效果。</p>
</li>
<li>
<p>中间层的编辑效果相较于两端编辑效果更好。</p>
</li>
<li>
<p><span class="math">$\epsilon_{ini}$</span>越小，对原始记忆的保留程度越不容易随着编辑次数的增加而降低。</p>
</li>
<li>
<p><span class="math">$\epsilon_{ini}$</span>越大，随着编辑次数的增加，在<span class="math">$\mathcal{C}$</span>中添加的词条增长越缓慢。</p>
</li>
</ul>
<h1>问题</h1>
<p>  1、球之间的重叠不能避免：当添加第二个不同标签的球后，第一个球和第二个球相切，如果再来一个样本需要扩大前两个球之一，也就是算法中的Expand情况，两个球就会重叠，导致重叠部分输出不一致。</p>
<p>  2、无法确定潜在变量之间的距离能表征输出之间的语义相似性，如果属于某个非线性空间，计算欧氏距离可能有问题</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.7195402648761574" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-06-06 12:59">2025-06-06 12:59</span>&nbsp;
<a href="https://www.cnblogs.com/qizhou">颀周</a>&nbsp;
阅读(<span id="post_view_count">51</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18913077);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18913077', targetLink: 'https://www.cnblogs.com/qizhou/p/18913077', title: '论文解读：Aging with GRACE: Lifelong Model Editing with Discrete Key-Value Adapters' })">举报</a>
</div>
        