
        <h2>
            <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/milton/p/18799695" title="发布于 2025-03-30 18:55">
    <span role="heading" aria-level="2">3D Gaussian 三维视觉重建</span>
    

</a>

        </h2>
        <div class="postbody">
                <div id="cnblogs_post_description" style="display: none">
        
        3D Gaussian 是一种新的辐射场的实时渲染方法, 能够在较少的训练时间中实现SOTA级别的视觉效果, 允许以 1080p 分辨率进行高质量的实时(≥ 30 fps)新视图合成. 3D Gaussian Splatting 使用 3D Gaussian 球表示三维模型, 并通过 Splatting 技术渲染出来.
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="论文资料">论文资料</h1>
<ul>
<li>(重要)论文 <a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/3d_gaussian_splatting_low.pdf" target="_blank" rel="noopener nofollow">https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/3d_gaussian_splatting_low.pdf</a>
<ul>
<li>(重要)资料网站 <a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/" target="_blank" rel="noopener nofollow">https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/</a></li>
<li>(重要)GitHub <a href="https://github.com/graphdeco-inria/gaussian-splatting" target="_blank" rel="noopener nofollow">https://github.com/graphdeco-inria/gaussian-splatting</a></li>
</ul>
</li>
<li>相关论文
<ul>
<li><a href="https://arxiv.org/html/2406.18533v1" target="_blank" rel="noopener nofollow">https://arxiv.org/html/2406.18533v1</a><br>
On Scaling Up 3D Gaussian Splatting Training</li>
</ul>
</li>
</ul>
<h1 id="扩展阅读">扩展阅读</h1>
<ul>
<li>(重要)<a href="https://zhuanlan.zhihu.com/p/680669616" target="_blank" rel="noopener nofollow">https://zhuanlan.zhihu.com/p/680669616</a><br>
这篇讲的比较详细易懂</li>
<li><a href="https://www.magnopus.com/blog/the-rise-of-3d-gaussian-splatting" target="_blank" rel="noopener nofollow">https://www.magnopus.com/blog/the-rise-of-3d-gaussian-splatting</a></li>
<li><a href="https://metaschool.so/articles/gaussian-splatting" target="_blank" rel="noopener nofollow">https://metaschool.so/articles/gaussian-splatting</a></li>
<li>Animatable Gaussian Avatar <a href="https://github.com/heawon-yoon/anim-gaussian" target="_blank" rel="noopener nofollow">https://github.com/heawon-yoon/anim-gaussian</a><br>
使用3D高斯制作3D人物动画头像, 包含安装步骤</li>
</ul>
<h1 id="视频">视频</h1>
<p>合集 <a href="https://www.youtube.com/playlist?list=PLAGyKNXhhw2l-OlYOvCxyQ2l29rypwIjW" target="_blank" rel="noopener nofollow">https://www.youtube.com/playlist?list=PLAGyKNXhhw2l-OlYOvCxyQ2l29rypwIjW</a></p>
<ul>
<li>(重要)3D高斯介绍 3D Gaussian Splatting for Beginners</li>
<li>(重要)模型数据说明 Understanding the Gaussian splatting model</li>
<li>3D NeRF(另一种实现)和高斯的实际应用 Real World Applications for NeRFs and Gaussian Splatting - Simulation, Real Estate, Cinema, AR, VR!</li>
<li>3D NeRF的介绍 NeRF: Neural Radiance Fields for Beginners</li>
<li>(重要)3D NeRF和高斯的对比 Novel View Rendering and 3D Reconstruction - NeRFs vs Gaussian Splatting</li>
<li>在Linux环境下的安装, 训练和渲染 3D Gaussian Splatting in Linux - Setup, Training and Rendering</li>
</ul>
<p>其它</p>
<ul>
<li>Creating 3D Game Models from Video using Photogrammetry <a href="https://www.youtube.com/watch?v=bDHJM6nAKtc" target="_blank" rel="noopener nofollow">https://www.youtube.com/watch?v=bDHJM6nAKtc</a><br>
7年前的3D重建技术</li>
<li>3D Gaussian Splatting Demo <a href="https://www.youtube.com/watch?v=c0VNckM21B0" target="_blank" rel="noopener nofollow">https://www.youtube.com/watch?v=c0VNckM21B0</a><br>
用iPhone XR拍摄后, 使用3D高斯重建的效果演示</li>
</ul>
<p>B站中文</p>
<ul>
<li>(重要)<a href="https://www.bilibili.com/video/BV11e411n79b" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV11e411n79b</a><br>
3D高斯介绍</li>
<li>(重要)<a href="https://www.bilibili.com/video/BV1bJ4m1b7qW/" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1bJ4m1b7qW/</a><br>
3D高斯与其他两种重建方法的效果对比</li>
</ul>
<h1 id="安装步骤">安装步骤</h1>
<h2 id="安装必要的库和依赖">安装必要的库和依赖</h2>
<h3 id="ubuntu">Ubuntu</h3>
<pre><code class="language-bash">apt update
apt install build-essential ninja-build
</code></pre>
<h3 id="安装-cuda">安装 CUDA</h3>
<pre><code class="language-bash"># 查看cuda版本
(base) root@ubuntu22:~# nvcc -V
# 查看显卡支持的CUDA版本
(base) root@ubuntu22:~# nvidia-smi
Sun Mar 30 17:21:08 2025
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.78                 Driver Version: 550.78         CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA GeForce RTX 3080        Off |   00000000:00:08.0 Off |                  N/A |
| 30%   23C    P8              8W /  320W |      10MiB /  10240MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+

+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|    0   N/A  N/A       709      G   /usr/lib/xorg/Xorg                              4MiB |
+-----------------------------------------------------------------------------------------+
</code></pre>
<p>安装 CUDA Toolkit: <a href="https://developer.nvidia.com/cuda-toolkit-archive" target="_blank" rel="noopener nofollow">https://developer.nvidia.com/cuda-toolkit-archive</a></p>
<h4 id="cuda-toolkit-124">CUDA Toolkit 12.4</h4>
<p><a href="https://developer.nvidia.com/cuda-12-4-1-download-archive" target="_blank" rel="noopener nofollow">https://developer.nvidia.com/cuda-12-4-1-download-archive</a></p>
<p>这个安装遇到问题</p>
<pre><code class="language-bash">wget https://developer.download.nvidia.com/compute/cuda/12.4.1/local_installers/cuda_12.4.1_550.54.15_linux.run
sudo sh cuda_12.4.1_550.54.15_linux.run
</code></pre>
<p>这个安装通过</p>
<pre><code class="language-bash">wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin
sudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600
wget https://developer.download.nvidia.com/compute/cuda/12.4.1/local_installers/cuda-repo-ubuntu2204-12-4-local_12.4.1-550.54.15-1_amd64.deb
dpkg -i cuda-repo-ubuntu2204-12-4-local_12.4.1-550.54.15-1_amd64.deb
cp /var/cuda-repo-ubuntu2204-12-4-local/cuda-*-keyring.gpg /usr/share/keyrings/
apt update
apt install cuda-toolkit-12-4
</code></pre>
<p>未尝试</p>
<pre><code class="language-bash">wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-keyring_1.1-1_all.deb
sudo dpkg -i cuda-keyring_1.1-1_all.deb
sudo apt-get update
sudo apt-get -y install cuda-toolkit-12-4
</code></pre>
<p>检查</p>
<pre><code class="language-bash">(base) root@ubuntu22:~/Download# /usr/local/cuda/bin/nvcc -V
nvcc: NVIDIA (R) Cuda compiler driver
Copyright (c) 2005-2024 NVIDIA Corporation
Built on Thu_Mar_28_02:18:24_PDT_2024
Cuda compilation tools, release 12.4, V12.4.131
Build cuda_12.4.r12.4/compiler.34097967_0
</code></pre>
<h4 id="cuda-toolkit-121">CUDA Toolkit 12.1</h4>
<p><a href="https://developer.nvidia.com/cuda-12-1-1-download-archive" target="_blank" rel="noopener nofollow">https://developer.nvidia.com/cuda-12-1-1-download-archive</a></p>
<p>方式一: 使用run文件, 编译出错</p>
<pre><code class="language-bash"># 这个文件有将近4.5GB, 需要增加带宽, 计划好时间. 
wget https://developer.download.nvidia.com/compute/cuda/12.1.1/local_installers/cuda_12.1.1_530.30.02_linux.run
sh cuda_12.1.1_530.30.02_linux.run
</code></pre>
<p>方式二: apt deb方式安装, 最后提示版本不一致</p>
<pre><code class="language-bash">wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin
sudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600
wget https://developer.download.nvidia.com/compute/cuda/12.1.1/local_installers/cuda-repo-ubuntu2204-12-1-local_12.1.1-530.30.02-1_amd64.deb
sudo dpkg -i cuda-repo-ubuntu2204-12-1-local_12.1.1-530.30.02-1_amd64.deb
sudo cp /var/cuda-repo-ubuntu2204-12-1-local/cuda-*-keyring.gpg /usr/share/keyrings/
sudo apt-get update
sudo apt-get -y install cuda
</code></pre>
<h3 id="安装-conda">安装 Conda</h3>
<p>安装 Miniconda, 安装说明: <a href="https://www.cnblogs.com/milton/p/18023969" target="_blank">https://www.cnblogs.com/milton/p/18023969</a></p>
<p>启用conda</p>
<pre><code class="language-bash">eval "$(/home/milton/miniconda3/bin/conda shell.bash hook)"
</code></pre>
<p>创建一个conda环境, python版本为 3.10.12</p>
<pre><code class="language-bash">conda create --name test001 python=3.10.12
conda activate test001
</code></pre>
<h3 id="pytorch">Pytorch</h3>
<p>访问 Pytorch 官网 <a href="https://pytorch.org/" target="_blank" rel="noopener nofollow">https://pytorch.org/</a></p>
<p>从 2.6 开始, conda 方式安装不再可用, 并且 2.6 只支持 11.8 和 12.4, 如果要用 12.1, 要换成 2.5</p>
<h4 id="cuda-126-安装-pytorch-26">Cuda 12.6 安装 Pytorch 2.6</h4>
<pre><code class="language-bash">pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu126
</code></pre>
<h4 id="cuda-124-安装-pytorch-26">Cuda 12.4 安装 Pytorch 2.6</h4>
<pre><code class="language-bash">pip3 install torch torchvision torchaudio
</code></pre>
<h3 id="其它">其它</h3>
<pre><code class="language-bash">pip install plyfile tqdm tensorboard six
pip install opencv-python
</code></pre>
<h2 id="导出项目">导出项目</h2>
<h3 id="导出项目仓库">导出项目仓库</h3>
<pre><code class="language-bash">git clone https://github.com/graphdeco-inria/gaussian-splatting --recursive
</code></pre>
<p>安装模块</p>
<pre><code class="language-bash">#gaussian
pip install submodules/diff-gaussian-rasterization
pip install submodules/simple-knn
</code></pre>
<h3 id="下载训练素材">下载训练素材</h3>
<p>在项目 <a href="https://github.com/graphdeco-inria/gaussian-splatting" target="_blank" rel="noopener nofollow">GitHub 仓库</a> 的首页找到 Running 部分, 能找到这个下载链接</p>
<p>You can find our SfM data sets for Tanks&amp;Temples and Deep Blending here:</p>
<p><a href="https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/datasets/input/tandt_db.zip" target="_blank" rel="noopener nofollow">https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/datasets/input/tandt_db.zip</a></p>
<p>然后有说明输出目录 If you do not provide an output model directory (-m), trained models are written to folders with randomized unique names inside the output directory. At this point, the trained models may be viewed with the real-time viewer (see further below).</p>
<h2 id="默认数据集测试">默认数据集测试</h2>
<h3 id="训练">训练</h3>
<p>使用项目自带的数据</p>
<pre><code class="language-bash">python train.py -s [素材路径]
# e.g.
python train.py -s ./data/tandt/truck
</code></pre>
<p>执行过程中可以查看GPU的情况</p>
<pre><code>(base) root@ubuntu22:~/WorkPython# nvidia-smi
Sun Mar 30 17:59:38 2025
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.78                 Driver Version: 550.78         CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA GeForce RTX 3080        Off |   00000000:00:08.0 Off |                  N/A |
| 61%   69C    P2            308W /  320W |    5499MiB /  10240MiB |     97%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+

+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|    0   N/A  N/A       709      G   /usr/lib/xorg/Xorg                              4MiB |
|    0   N/A  N/A      7040      C   python                                       5484MiB |
+-----------------------------------------------------------------------------------------+
</code></pre>
<h3 id="渲染">渲染</h3>
<pre><code class="language-bash">python render.py -m [训练结果路径]
</code></pre>
<pre><code class="language-bash">python metrics.py -m &lt;path to trained model&gt; # Compute error metrics on renderings
</code></pre>
<h3 id="结果查看">结果查看</h3>
<p>下载模型文件后, 通过这个网站查看</p>
<p><a href="https://poly.cam/tools/gaussian-splatting" target="_blank" rel="noopener nofollow">https://poly.cam/tools/gaussian-splatting</a></p>
<h2 id="问题处理">问题处理</h2>
<h3 id="安装-cuda-失败">安装 CUDA 失败</h3>
<pre><code>(base) root@ubuntu22:~/Download# sudo sh cuda_12.1.1_530.30.02_linux.run
 Installation failed. See log at /var/log/cuda-installer.log for details.
(base) root@ubuntu22:~/Download# more /var/log/cuda-installer.log
(test001) root@ubuntu22:~/Download# more /var/log/nvidia-installer.log
...
Using built-in stream user interface
-&gt; Detected 8 CPUs online; setting concurrency level to 8.
-&gt; Scanning the initramfs with lsinitramfs...
-&gt; Executing: /usr/bin/lsinitramfs   -l /boot/initrd.img-6.5.0-28-generic
-&gt; The file '/tmp/.X0-lock' exists and appears to contain the process ID '737' of a running X server.
-&gt; You appear to be running an X server.  Installing the NVIDIA driver while X is running is not recommended, as doing so may prevent the
 installer from detecting some potential installation problems, and it may not be possible to start new graphics applications after a new
 driver is installed.  If you choose to continue installation, it is highly recommended that you reboot your computer after installation
to use the newly installed driver. (Answer: Abort installation)
ERROR: Installation has failed.  Please see the file '/var/log/nvidia-installer.log' for details.  You may find suggestions on fixing ins
tallation problems in the README available on the Linux driver download page at www.nvidia.com.
</code></pre>
<p>停掉X Server后再安装</p>
<pre><code class="language-bash">systemctl stop display-manager
</code></pre>
<h3 id="we-could-not-find-ninja-or-g">we could not find ninja or g++</h3>
<pre><code>sudo apt-get update
sudo apt install build-essential
sudo apt-get install ninja-build
</code></pre>
<h3 id="no-such-file-or-directory-usrlocalcuda-118binnvcc">No such file or directory: ‘:/usr/local/cuda-11.8/bin/nvcc</h3>
<p>Execute the command directly on the current command line</p>
<pre><code class="language-bash">export CUDA_HOME=/usr/local/cuda
</code></pre>
<p>install again</p>
<pre><code class="language-bash">pip install submodules/diff-gaussian-rasterization
pip install submodules/simple-knn
</code></pre>

</div>
<div class="clear"></div>

        </div>
        <p class="postfoot">
            posted on 
<span id="post-date" data-last-update-days="0.05015814905671296" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-30 19:15">2025-03-30 18:55</span>&nbsp;
<a href="https://www.cnblogs.com/milton">Milton</a>&nbsp;
阅读(<span id="post_view_count">12</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18799695" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18799695);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18799695', targetLink: 'https://www.cnblogs.com/milton/p/18799695', title: '3D Gaussian 三维视觉重建' })">举报</a>

        </p>
    