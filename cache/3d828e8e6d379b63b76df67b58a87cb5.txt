<!----> <meta itemprop="headline" content="ç”²æ–¹å«Œå¼ƒï¼Œé¡¹ç›®é¦–é¡µåŠ è½½å¤ªæ…¢"> <meta itemprop="keywords" content="å‰ç«¯"> <meta itemprop="datePublished" content="2025-06-11T07:58:11.000Z"> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="curdcv_po"> <meta itemprop="url" content="https://juejin.cn/user/207159605068189"></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"> <meta itemprop="width" content="180"> <meta itemprop="height" content="180"></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”²æ–¹å«Œå¼ƒï¼Œé¡¹ç›®é¦–é¡µåŠ è½½å¤ªæ…¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/207159605068189/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    curdcv_po
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-06-11T07:58:11.000Z" title="Wed Jun 11 2025 07:58:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-06-11
                  </time> <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""></path><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""></circle></svg> <span class="views-count" data-v-61fb5e44="">
                    7,184
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""></rect><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""></circle><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""></path></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""></div> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><blockquote>
<p>æœ‰ä¸€å¤©ï¼Œç”²æ–¹æ‰“å¼€ä¸€ä¸ªåå°ç®¡ç†çš„é¡¹ç›®ï¼Œè¯´æœ‰ç‚¹å¡ï¼Œä¸å¤ªæ»¡æ„ï¼Œé¡¹ç›®ç»ç†å«æˆ‘ä¼˜åŒ–ï¼Œé‡æ–°æ‰“åŒ…ä¸€ä¸‹ã€‚</p>
</blockquote>
<blockquote>
<blockquote>
<p>ä»è¾“å…¥åœ°å€ åˆ° å±•ç¤º é¦–å±ï¼Œæœ€ä½³æ—¶é—´åœ¨ 3ç§’å†…ï¼Œå¦åˆ™ï¼Œç”²æ–¹æŒ‚è„¸ï¼Œå’±å°±æœ‰å¯èƒ½æœ‰è¢«è£çš„é£é™©ï¼Œunderstand?</p>
</blockquote>
</blockquote>
<blockquote>
<p>åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹æ€ä¹ˆä¸ªä¼˜åŒ–æ³•å§ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¼˜åŒ–</h2>
<h3 data-id="heading-1">âœ… cdn</h3>
<h4 data-id="heading-2">åˆ†æ</h4>
<p>ç”¨Webpack Bundle Analyzeråˆ†æä¾èµ–ï¼Œå®‰è£…webpack-bundle-analyzeræ‰“åŒ…åˆ†ææ’ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"># <span class="hljs-variable constant_">NPM</span>
npm install --save-dev webpack-bundle-analyzer
</code></pre>
<pre><code class="hljs language-js" lang="js"># <span class="hljs-title class_">Yarn</span>
yarn add -D webpack-bundle-analyzer
</code></pre>
<p>åæ­£éƒ½æ˜¯è£…ï¼Œçœ‹ç€æ¥ã€‚</p>
<p>é…ä¸€ä¸‹ï¼š</p>
<p>// vue.config.js æ–‡ä»¶é‡Œã€‚ï¼ˆæ²¡æœ‰å°±è¦æ–°å»ºä¸€ä¸‹ï¼‰</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-bundle-analyzer'</span>).<span class="hljs-property">BundleAnalyzerPlugin</span>;
 
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span>()
  ]
}
</code></pre>
<h4 data-id="heading-3">æ‰“åŒ…</h4>
<p>æ‰§è¡Œæ‰“åŒ…å‘½ä»¤å¹¶æŸ¥çœ‹åˆ†æ</p>
<pre><code class="hljs language-js" lang="js">npm run build --report
</code></pre>
<p>æ‰“åŒ…ç»“æŸåï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆdistæ–‡ä»¶ã€‚è‡ªåŠ¨è·³åˆ°<code>127.0.0.1:8888</code>ï¼ˆæ²¡æœ‰è·³çš„è¯ï¼Œæ‰‹åŠ¨æ‰“å¼€distæ–‡ä»¶å¤¹ä¸‹çš„report.htmlï¼‰ï¼Œè¿™ä¸ªç½‘å€å°±æ˜¯<code>æ‰“åŒ…åˆ†ææŠ¥å‘Š</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dae4d77dafa405f9eb4668a6d08d32f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY3VyZGN2X3Bv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1753844819&amp;x-signature=tbpIrVp%2Fzek7U0doksy00dniJhM%3D" alt="image.png" loading="lazy"></p>
<p>å å¾—æ¯”è¾ƒå¤§çš„å—ï¼Œå°±æ˜¯Element UIç»„ä»¶åº“å’Œechartsåº“å çš„ç©ºé—´æ¯”ç›¸å¯¹è¾ƒå¤§ã€‚</p>
<p>è¿™å°±è¦è€ƒè™‘ï¼Œç¬¬ä¸€ï¼Œè¦æŒ‰éœ€ï¼Œè¦å•¥å†ç”¨å•¥ï¼Œä¸è¦ä¸€è‚¡è„‘å•¥éƒ½è£…ã€‚æŒ‰éœ€å®‰è£…ï¼ŒæŒ‰éœ€åŠ è½½ã€‚</p>
<p>ç¬¬äºŒï¼Œè€ƒè™‘å•ç‹¬å¼•å…¥è¿™äº›ç»„ä»¶åº“çš„<code>cdn</code>ï¼Œè¿™æ ·é€Ÿåº¦ä¹Ÿä¼šå’”å’”æå‡ã€‚</p>
<p>è¯¦ç»†è®²ä¸€ä¸‹æ€ä¹ˆæ<code>cdn</code>ã€‚</p>
<p>æŒ‰éœ€å¤§å®¶éƒ½çŸ¥é“ï¼Œè¦å•¥å†å¼•å…¥å•¥ï¼Œå†è£…å•¥ã€‚</p>
<p>æ¯”å¦‚<code>element-ui</code>ï¼Œæˆ‘è¦<code>uninstall</code>æ‰ï¼Œç„¶åå‘¢ï¼Œå»å¼•å…¥cdnï¼Œä¸è¦è£…åº“äº†ï¼Œç”¨cdnã€‚</p>
<p>å»<code>package.json</code>é‡Œé¢çœ‹<code>element-ui</code>è£…äº†å•¥ç‰ˆæœ¬ï¼Œç„¶åçœ‹å®Œä¹‹åï¼Œå°±<code>npm uninstall element-ui</code>å¸è½½æ‰ã€‚</p>
<p>å»cdnåº“é‡Œé¢å»æ‰¾<code>https://www.staticfile.org/</code>ï¼Œ(é¦–å…ˆå…ˆè¯´ä¸€ä¸‹ï¼Œè¦æ‰¾å…è´¹çš„å¼€æ”¾çš„é‚£ç§ï¼Œå› ä¸ºä¸€èˆ¬æœ‰çš„å…¬å¸æ²¡æœ‰è‡ªå®¶çš„cdnï¼Œæ²¡æœ‰è‡ªå®¶çš„æ¡¶ï¼Œæœ‰çš„è¯ï¼Œç›´æ¥æŠŠjsæ–‡ä»¶åœ°å€æ‹–ä¸Šå»ï¼Œç„¶åå¾—åˆ°ä¸€ä¸ªåœ°å€ï¼Œè¿™æ ·ä¹Ÿå®‰å…¨ï¼Œä¹Ÿæ–¹ä¾¿ï¼Œä½†æ²¡æœ‰çš„è¯å¦è¯´)ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/182422c7f9594caf95eebc52c6032366~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY3VyZGN2X3Bv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1753844819&amp;x-signature=cdCt%2BdxveR1Jc666jCJr9PU%2FPLA%3D" alt="image.png" loading="lazy"></p>
<pre><code class="hljs language-js" lang="js">æ ·å¼åº“: <span class="hljs-attr">https</span>:<span class="hljs-comment">//cdn.staticfile.org/element-ui/2.15.12/theme-chalk/index.min.css </span>
ç»„ä»¶åº“ï¼š<span class="hljs-attr">https</span>:<span class="hljs-comment">//cdn.staticfile.org/element-ui/2.15.12/index.min.js</span>
</code></pre>
<p>ç„¶åå»<code>public/index.html</code>å…¥å£æ–‡ä»¶ä¸­ï¼Œå»åŠ å…¥è¿™ä¸ªä¸œè¥¿ï¼Œåƒå’±ä»¥å‰å†™åŸç”Ÿä¸€æ ·å¼•å…¥å°±å¥½,bodyé‡Œé¢å¼•å…¥jsï¼Œheadé‡Œé¢å¼•å…¥cssã€‚ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;head&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.staticfile.org/element-ui/2.15.12/theme-chalk/index.min.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.staticfile.org/element-ui/2.15.12/index.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span>
</code></pre>
<p>æ‰€ä»¥è¿™æ ·å­ï¼Œå°±å¼•å…¥å¥½äº†ã€‚æ¥ç€åœ¨<code>main.js</code>é‡Œé¢ï¼ŒæŠŠä¹‹å‰<code>import</code>çš„æ‰€æœ‰<code>element</code>çš„æ ·å¼åˆ æ‰ã€‚</p>
<p>æ¥ç€ï¼Œ<code>vue.config.js</code>çš„<code>configureWebpack</code>åŠ ä¸ª<code>externals</code>å­—æ®µï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-bundle-analyzer'</span>).<span class="hljs-property">BundleAnalyzerPlugin</span>;
 
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span>()
  ],
  <span class="hljs-attr">externals</span>: {
    <span class="hljs-string">'element-ui'</span>: <span class="hljs-string">'ELEMENT'</span> <span class="hljs-comment">// key æ˜¯ä¹‹å‰installä¸‹ä¸‹æ¥çš„åŒ…åï¼Œelement-uiã€‚valueæ˜¯å…¨å±€å˜é‡å(ELEMENT)</span>
  }
}
</code></pre>
<p><strong>externals</strong>: Webpack çš„ <code>externals</code> é…ç½®ç”¨äºå£°æ˜æŸäº›ä¾èµ–åº”è¯¥ä»å¤–éƒ¨è·å–ï¼Œè€Œä¸æ˜¯æ‰“åŒ…åˆ°æœ€ç»ˆçš„ bundle ä¸­ã€‚è¿™æ ·å¯ä»¥å‡å°æ‰“åŒ…ä½“ç§¯ï¼Œå‰ææ˜¯è¿™äº›ä¾èµ–å·²ç»åœ¨è¿è¡Œç¯å¢ƒä¸­å­˜åœ¨ã€‚</p>
<p><strong><code>'element-ui': 'ELEMENT'</code> çš„å«ä¹‰</strong></p>
<ul>
<li>å½“ä½ çš„ä»£ç ä¸­ <code>import 'element-ui'</code> æ—¶ï¼ŒWebpack ä¸ä¼šæ‰“åŒ… <code>element-ui</code>ï¼Œè€Œæ˜¯ä¼šä»å…¨å±€å˜é‡ <code>ELEMENT</code> ä¸­è·å–å®ƒã€‚</li>
<li><code>ELEMENT</code> æ˜¯ <code>element-ui</code> åº“é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾å¼•å…¥æ—¶ï¼Œåœ¨å…¨å±€ï¼ˆ<code>window</code>ï¼‰ä¸­æš´éœ²çš„å˜é‡åã€‚<br>
ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ HTML ä¸­è¿™æ ·å¼•å…¥ï¼š
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/element-ui/lib/index.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
é‚£ä¹ˆ <code>element-ui</code> ä¼šæŒ‚è½½åˆ° <code>window.ELEMENT</code> ä¸Šã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·é…ç½®ï¼Ÿ</strong></p>
<ul>
<li>é€šå¸¸æ˜¯ä¸ºäº†é€šè¿‡ CDN å¼•å…¥ <code>element-ui</code>ï¼ˆè€Œä¸æ˜¯æ‰“åŒ…å®ƒï¼‰ï¼Œä»è€Œä¼˜åŒ–æ„å»ºé€Ÿåº¦å’Œä½“ç§¯ã€‚</li>
<li>ä½ éœ€è¦ç¡®ä¿åœ¨ HTML ä¸­é€šè¿‡ <code>&lt;script&gt;</code> æå‰åŠ è½½äº† <code>element-ui</code>ï¼Œå¦åˆ™è¿è¡Œæ—¶ <code>ELEMENT</code> ä¼šæ˜¯ <code>undefined</code>ã€‚</li>
</ul>
<hr>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- HTML ä¸­é€šè¿‡ CDN å¼•å…¥ element-ui --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/element-ui/lib/index.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">externals</span>: {
    <span class="hljs-string">'element-ui'</span>: <span class="hljs-string">'ELEMENT'</span> <span class="hljs-comment">// å‘Šè¯‰ Webpackï¼šimport 'element-ui' æ—¶ï¼Œè¿”å›å…¨å±€çš„ ELEMENT</span>
  }
};
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½ çš„ä»£ç ä¸­ä¾ç„¶å¯ä»¥æ­£å¸¸ importï¼ˆä½†å®é™…ç”¨çš„æ˜¯å…¨å±€å˜é‡ï¼‰</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementUI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>;
<span class="hljs-comment">// ç›¸å½“äºï¼šconst ElementUI = window.ELEMENT;</span>
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>ç¡®ä¿å…¨å±€å˜é‡åï¼ˆ<code>ELEMENT</code>ï¼‰å’Œ <code>element-ui</code> çš„ CDN ç‰ˆæœ¬ä¸€è‡´ã€‚ä¸åŒç‰ˆæœ¬çš„åº“å¯èƒ½æœ‰ä¸åŒçš„å…¨å±€å˜é‡åã€‚</li>
<li>å¦‚æœä½¿ç”¨æ¨¡å—åŒ–æ‰“åŒ…ï¼ˆå¦‚ npm + Webpack å…¨é‡æ‰“åŒ…ï¼‰ï¼Œåˆ™ä¸éœ€è¦é…ç½® <code>externals</code>ã€‚</li>
</ul>
<hr>
<p>è¿™é‡Œæœ‰çš„ä¼™ä¼´å°±è¯´ï¼Œæˆ‘å’‹çŸ¥é“æ˜¯<code>ELEMENT</code>ï¼Œè€Œä¸æ˜¯<code>element</code>å‘¢ã€‚</p>
<p>è¿™é‡Œæ˜¯è¿™ä¹ˆæ‰¾çš„ï¼š</p>
<p>ç›´æ¥åœ¨æµè§ˆå™¨æ§åˆ¶å°æ£€æŸ¥
åœ¨ HTML ä¸­é€šè¿‡ CDN å¼•å…¥è¯¥åº“ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.staticfile.org/element-ui/2.15.12/index.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼Œåœ¨ Console ä¸­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>);
</code></pre>
<p>ç„¶åæŸ¥æ‰¾å¯èƒ½çš„å…¨å±€å˜é‡åï¼ˆå¦‚ ELEMENTã€ElementUI ç­‰ï¼‰ã€‚</p>
<h4 data-id="heading-4">cdné…ç½®ä¹‹åï¼Œé‡æ–°åˆ†æ</h4>
<pre><code class="hljs language-js" lang="js">npm run build --report
</code></pre>
<p>é‡æ–°ç”¨<code>cdn</code>çš„å»åˆ†æï¼Œ</p>
<p>é‚£ä¹ˆå°±å¾ˆèˆ’æœäº†ï¼Œä¹Ÿå› æ­¤ï¼Œè¿™ä¸ªå°±æ˜¯cdnä¼˜åŒ–çš„æ–¹æ³•ã€‚</p>
<h3 data-id="heading-5">âœ… nginx gzipå‹ç¼©</h3>
<pre><code class="hljs language-js" lang="js">server {
        listen       <span class="hljs-number">8103</span>;
        server_name  ************;
		# å¼€å¯gzip
	    gzip on;
	    # è¿›è¡Œå‹ç¼©çš„æ–‡ä»¶ç±»å‹ã€‚
	   	gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;
	    # æ˜¯å¦åœ¨http headerä¸­æ·»åŠ <span class="hljs-title class_">Vary</span>: <span class="hljs-title class_">Accept</span>-<span class="hljs-title class_">Encoding</span>ï¼Œå»ºè®®å¼€å¯
	    gzip_vary on;
}

</code></pre>
<h3 data-id="heading-6">âœ…vue gzipå‹</h3>
<p>å®‰åŒ…ï¼š<code>npm i compression-webpack-plugin@1.1.12 --save-dev </code></p>
<p>æ³¨æ„ç‰ˆæœ¬åŒ¹é…é—®é¢˜ã€‚</p>
<p>vueé…ç½®ï¼Œè¿™æ®µé…ç½®æ˜¯ Webpack æ„å»ºä¸­å…³äº <strong>Gzip å‹ç¼©</strong> çš„è®¾ç½®ï¼Œä½äº <code>config/index.js</code> æ–‡ä»¶ä¸­ã€‚:</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//æ–‡ä»¶è·¯å¾„  config --&gt; index.js</span>
<span class="hljs-attr">build</span>: {
  <span class="hljs-attr">productionGzip</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯ç”¨ç”Ÿäº§ç¯å¢ƒçš„ Gzip å‹ç¼©</span>
  <span class="hljs-attr">productionGzipExtensions</span>: [<span class="hljs-string">'js'</span>, <span class="hljs-string">'css'</span>], <span class="hljs-comment">// éœ€è¦å‹ç¼©çš„æ–‡ä»¶ç±»å‹</span>
}
</code></pre>
<ol>
<li>
<p><strong><code>productionGzip: true</code></strong></p>
<ul>
<li>ä½œç”¨ï¼šå¼€å¯ Gzip å‹ç¼©ï¼Œå‡å°‘é™æ€èµ„æºï¼ˆJSã€CSSï¼‰çš„ä½“ç§¯ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</li>
<li>è¦æ±‚ï¼šéœ€è¦å®‰è£… <code>compression-webpack-plugin</code>ï¼ˆå¦‚æ³¨é‡Šæ‰€è¿°ï¼‰ã€‚
<pre><code class="hljs language-bash" lang="bash">npm install --save-dev compression-webpack-plugin
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong><code>productionGzipExtensions: ['js', 'css']</code></strong></p>
<ul>
<li>æŒ‡å®šéœ€è¦å‹ç¼©çš„æ–‡ä»¶æ‰©å±•åï¼ˆé»˜è®¤å‹ç¼© JS å’Œ CSS æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ Gzipï¼Ÿ</strong></p>
<ul>
<li><strong>ä¼˜åŒ–æ€§èƒ½</strong>ï¼šGzip å‹ç¼©åçš„èµ„æºä½“ç§¯å¯å‡å°‘ 60%~70%ï¼Œæ˜¾è‘—é™ä½ç½‘ç»œä¼ è¾“æ—¶é—´ã€‚</li>
<li><strong>æœåŠ¡å™¨æ”¯æŒ</strong>ï¼šå¤§å¤šæ•°ç°ä»£æœåŠ¡å™¨ï¼ˆå¦‚ Nginxã€Netlifyï¼‰ä¼šè‡ªåŠ¨å¯¹é™æ€èµ„æºè¿›è¡Œ Gzip å‹ç¼©ï¼Œä½†æœ¬åœ°æ„å»ºæ—¶æå‰ç”Ÿæˆ <code>.gz</code> æ–‡ä»¶å¯ä»¥é¿å…æœåŠ¡å™¨å®æ—¶å‹ç¼©çš„å¼€é”€ã€‚</li>
</ul>
<h3 data-id="heading-7">âœ… æŒ‰éœ€åŠ è½½è·¯ç”±</h3>
<p>è·¯ç”±çº§ä»£ç åˆ†å‰²ï¼ˆåŠ¨æ€å¯¼å…¥ï¼‰</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åŸå†™æ³•</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./views/About.vue'</span>

<span class="hljs-comment">// ä¼˜åŒ–åå†™æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: "about" */</span> <span class="hljs-string">'./views/About.vue'</span>)
</code></pre>
<ul>
<li>é¦–é¡µåªåŠ è½½æ ¸å¿ƒä»£ç ï¼ˆhomeè·¯ç”±ï¼‰</li>
<li>aboutæ¨¡å—ä¼šåœ¨ç”¨æˆ·ç‚¹å‡»aboutè·¯ç”±æ—¶æ‰åŠ è½½</li>
<li>æ˜¾è‘—å‡å°‘é¦–å±åŠ è½½èµ„æºä½“ç§¯</li>
</ul>
<h3 data-id="heading-8">âœ… åˆç†é…ç½® prefetchç­–ç•¥</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    <span class="hljs-comment">// ç§»é™¤prefetchæ’ä»¶</span>
    config.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">delete</span>(<span class="hljs-string">'prefetch'</span>)
    
    <span class="hljs-comment">// æˆ–è€…æ›´ç²¾ç»†æ§åˆ¶</span>
    config.<span class="hljs-title function_">plugin</span>(<span class="hljs-string">'prefetch'</span>).<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
      options[<span class="hljs-number">0</span>].<span class="hljs-property">fileBlacklist</span> = options[<span class="hljs-number">0</span>].<span class="hljs-property">fileBlacklist</span> || []
      options[<span class="hljs-number">0</span>].<span class="hljs-property">fileBlacklist</span>.<span class="hljs-title function_">push</span>(<span class="hljs-regexp">/myasyncRoute(.)+?\.js$/</span>)
      <span class="hljs-keyword">return</span> options
    })
  }
}
</code></pre>
<ul>
<li><strong>ç¦ç”¨prefetch</strong>ï¼šå‡å°‘ä¸å¿…è¦çš„å¸¦å®½æ¶ˆè€—ï¼Œä½†å¯èƒ½å¢åŠ åç»­è·¯ç”±åˆ‡æ¢ç­‰å¾…æ—¶é—´</li>
<li><strong>å¯ç”¨prefetch</strong>ï¼šåˆ©ç”¨æµè§ˆå™¨ç©ºé—²æ—¶é—´é¢„åŠ è½½ï¼Œæå‡ç”¨æˆ·ä½“éªŒä½†å¯èƒ½æµªè´¹å¸¦å®½</li>
<li><strong>æŠ˜ä¸­æ–¹æ¡ˆ</strong>ï¼šåªå¯¹å…³é”®è·¯ç”±æˆ–é«˜æ¦‚ç‡è®¿é—®çš„è·¯ç”±å¯ç”¨prefetch</li>
</ul>
<h3 data-id="heading-9">âœ… splitChunks å°†node_modulesä¸­çš„ä¾èµ–å•ç‹¬æ‰“åŒ…</h3>
<p><strong>æ‹†åˆ†vendor</strong>ï¼šå°†node_modulesä¸­çš„ä¾èµ–å•ç‹¬æ‰“åŒ…</p>
<pre><code class="hljs language-javascript" lang="javascript">config.<span class="hljs-property">optimization</span>.<span class="hljs-title function_">splitChunks</span>({
 <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>,
 <span class="hljs-attr">cacheGroups</span>: {
   <span class="hljs-attr">vendors</span>: {
     <span class="hljs-attr">name</span>: <span class="hljs-string">'chunk-vendors'</span>,
     <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]/</span>,
     <span class="hljs-attr">priority</span>: -<span class="hljs-number">10</span>,
     <span class="hljs-attr">chunks</span>: <span class="hljs-string">'initial'</span>
   }
 }
})
</code></pre>
<h3 data-id="heading-10">âœ… æŒ‰éœ€å¼•å…¥ lodash</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> debounce <span class="hljs-keyword">from</span> <span class="hljs-string">'lodash/debounce'</span>
</code></pre>
<p>ç”¨å•¥å†å¼•å•¥ã€‚</p>
<h2 data-id="heading-11">ç”²æ–¹ç¬‘äº†</h2>
<p>æ‰“å¼€é¦–é¡µé—ªç”µä¸€è¿›ï¼Œå®Œç¾endingï¼ï¼ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b055c85341084396b8a74dc050907056~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY3VyZGN2X3Bv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1753844819&amp;x-signature=1bORqOJwZ7A%2BP8UCzPNPOTeF2oA%3D" alt="1.gif" loading="lazy"></p>
<p>æ•£ä¼šå•¦ğŸ˜Š</p></div></div>