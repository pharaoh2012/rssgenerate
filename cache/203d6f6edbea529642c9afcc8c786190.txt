
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/chingho/p/18891026" title="发布于 2025-05-22 12:15">
    <span role="heading" aria-level="2">VS Code + Cline + 魔搭MCP Server 实现抓取网页内容。</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>MCP的诞生，可以说是为AI带来一波新的活力。</p>
<p>‌MCP（Model Context Protocol）‌是由Anthropic公司在2024年11月推出的一种开放标准协议，旨在为大型语言模型（LLM）提供一种开放、标准化的方式，以便与外部数据源。</p>
<p>简单来说，就是让我们应用调用大模型，大模型要调用外部数据都变得通用。只要大模型遵守了MCP规范，AI应用就可以快速接入。只要你的数据源遵守MCP规范，也很方便AI应用、或者大模型调用。</p>
<p>更多详细内容，大家可以看看官方的文档：</p>
<p><a href="https://modelcontextprotocol.io/introduction" target="_blank" rel="noopener nofollow">https://modelcontextprotocol.io/introduction</a></p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413611-655921199.png" alt="图片" loading="lazy"></p>
<p><strong>从上图，我们知道MCP分为3个节点：LLM、MCP Client、MCP Server。</strong></p>
<p>下面我们来体验下MCP的实际使用效果。</p>
<p>我们这里选择的是：<strong>阿里QWen、Vs Code的Cline插件、阿里魔搭社区的MCP Server。</strong></p>
<p><strong>这里大家可以根据自己的喜好选择。</strong></p>
<h1 id="一安装cline">一、安装Cline</h1>
<h2 id="11-打开vs-code开发工具">1.1 打开VS Code开发工具</h2>
<p>在扩展选项卡，搜索Cline，并安装Cline。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413634-1373957381.png" alt="图片" loading="lazy"></p>
<p>安装成功后，我们就可以在<strong>右边看到Cline的图标。<img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413536-1712321114.png" alt="图片" loading="lazy"></strong></p>
<h1 id="二cline配置llm">二、Cline配置LLM</h1>
<p><strong>2.1</strong> 切换至Cline，并点击 <strong>配置</strong> 的图标，进入配置页面。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413522-1294767654.png" alt="图片" loading="lazy"></p>
<p><strong>2.2</strong> 大模型，我这边使用的是阿里的QWen，首先我们先进入：<strong>阿里云百炼</strong></p>
<p><a href="https://bailian.console.aliyun.com/?tab=model#/model-market" target="_blank" rel="noopener nofollow">https://bailian.console.aliyun.com/?tab=model#/model-market</a></p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413571-1599793692.png" alt="图片" loading="lazy"></p>
<p>任意选择一个模型，查看API配置说明。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413626-719675274.png" alt="图片" loading="lazy"></p>
<p>在API文档介绍里，我们就可以看到大模型Url： <strong><a href="https://dashscope.aliyuncs.com/compatible-mode/v1" target="_blank" rel="noopener nofollow">https://dashscope.aliyuncs.com/compatible-mode/v1</a></strong></p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413653-1295424899.png" alt="图片" loading="lazy"></p>
<p><strong>2.3 &nbsp;创建API-Key</strong></p>
<p>在页面的左小角，点击：<strong>API-Key</strong>，进入API Key管理页面。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413476-919295874.png" alt="图片" loading="lazy"></p>
<p>创建我的API-Key</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413579-1752104923.png" alt="图片" loading="lazy"></p>
<p>创建完成，我们就可以获得<strong>API Key</strong>了。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413565-1431889416.png" alt="图片" loading="lazy"></p>
<p><strong>2.4 选择模型的版本</strong></p>
<p>Qwen提供了很多版本的大模型，并且为我们提供了免费token，大家可以根据自己需求选择。</p>
<p>切换至模型页面，任意选择一个模型，进入模型详情介绍。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413601-322272945.png" alt="图片" loading="lazy"></p>
<p>在模型列表，右边我们就可以看到哪些模型为我们提供了免费token，左边就是模型的版本编码。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413529-1829899070.png" alt="图片" loading="lazy"></p>
<p><strong>2.5 Cline配置大模型</strong></p>
<p>根据上面的内容，最终我们配置如下，配置后点击保存就行。<img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413543-1578335488.png" alt="图片" loading="lazy"></p>
<p><strong>2.6 环境变量配置</strong></p>
<p>正常情况下，这样就配置完成了。如果出现以下错误情况，那是说明找不到 <strong>powershell</strong> 命令。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413471-1516866041.png" alt="图片" loading="lazy"></p>
<p>我们只需为系统环境变量path，添加如下配置就行：</p>
<p>%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413581-156009899.png" alt="图片" loading="lazy"></p>
<p><strong>2.7 测试大模型</strong></p>
<p>配置后，我们可以自行测试下，看是否配置成功。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413594-501402041.png" alt="图片" loading="lazy"></p>
<h1 id="三配置mcp-server">三、配置MCP Server</h1>
<p>===</p>
<p><strong>3.1 MCP Servers页面</strong></p>
<p>进入MCP Servers页面，我们可以看到Cline，为我们集成很多公开的MCP Server，大家可以根据需求自行安装就行。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413571-252789584.png" alt="图片" loading="lazy"></p>
<p><strong>3.2 添加远程的MCP Server</strong></p>
<p>Remote Servers =&gt; Edit Configuration，在 右边的编辑框 添加我们的Server配置。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413574-2035153911.png" alt="图片" loading="lazy"></p>
<p>魔搭社区，为我们提供了很多远程Server，魔搭地址：<a href="https://www.modelscope.cn/mcp" target="_blank" rel="noopener nofollow">https://www.modelscope.cn/mcp</a></p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413595-1776658626.png" alt="图片" loading="lazy"></p>
<p>进入Server详情页面，我们可以看到Server提供了哪些工具列表，以及模型配置信息。</p>
<p>这边选择的是Fetch网页内容抓取的Server，大家可以根据需求选择其他Server。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413706-1528042741.png" alt="图片" loading="lazy"></p>
<h1 id="四测试效果">四、测试效果</h1>
<p>===</p>
<p>根据上面的配置，一个完整MCP配置就完成了。</p>
<p>根据工具的提示，向大模型发送相应内容，大模型就会解析你的内容，去调用对应的Server。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413522-1241039943.png" alt="图片" loading="lazy"></p>
<p>上面是Cline，和你确认是否要抓取这个链接，我们直接点击： <strong>Approve</strong> 就行。</p>
<p>页面内容太多，Cline和我们确认是否继续抓取。我们继续点击： <strong>Approve</strong> 就行。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413556-1587757726.png" alt="图片" loading="lazy"></p>
<p>下面就抓取成功了，并用markdown的格式输出。 <strong>另外Cline 还会继续问你 &nbsp;是否要把内容保存至本地文件，可以根据自己需求，选择保存、或者拒绝。</strong></p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413591-873423470.png" alt="图片" loading="lazy"></p>
<p><strong>另外需要注意的是：</strong></p>
<p>工具的提示是非常重要的，大模型是根据 <strong>工具提示和我们发送的内容</strong> ，进行智能解析的，来判断是否会调用Server。</p>
<p><img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121413599-1263525983.png" alt="图片" loading="lazy"></p>
<p>- End -</p>
<p>文章首发于公众号【编程乐趣】，欢迎大家关注。<br>
<img src="https://img2024.cnblogs.com/blog/93789/202505/93789-20250522121505292-379377642.png" alt="image" loading="lazy"></p>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="1.0896778416516204" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-22 12:15">2025-05-22 12:15</span>&nbsp;
<a href="https://www.cnblogs.com/chingho">chingho</a>&nbsp;
阅读(<span id="post_view_count">500</span>)&nbsp;
评论(<span id="post_comment_count">4</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18891026);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18891026', targetLink: 'https://www.cnblogs.com/chingho/p/18891026', title: 'VS Code + Cline + 魔搭MCP Server 实现抓取网页内容。' })">举报</a>
</div>
	