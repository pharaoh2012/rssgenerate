
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/kingchn/p/19019121" title="å‘å¸ƒäº 2025-08-02 18:16">
    <span role="heading" aria-level="2">å‰ç«¯ä»£ç å®‰å…¨é˜²æŠ¤å®Œæ•´æŒ‡å—</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>éšç€å‰ç«¯åº”ç”¨å¤æ‚åº¦ä¸æ–­æå‡ï¼Œä¿æŠ¤JavaScriptæºä»£ç å’Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚æœ¬æ–‡å°†ä»‹ç»å¤šç§å‰ç«¯ä»£ç å®‰å…¨é˜²æŠ¤ç­–ç•¥ï¼Œæ„å»ºå¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤ä½“ç³»ã€‚</p>
<h2 id="-å‰ç«¯å®‰å…¨å¨èƒåˆ†æ">ğŸ”’ å‰ç«¯å®‰å…¨å¨èƒåˆ†æ</h2>
<h3 id="å¸¸è§å®‰å…¨é£é™©">å¸¸è§å®‰å…¨é£é™©</h3>
<ul>
<li><strong>æºä»£ç æ³„éœ²</strong>ï¼šæ ¸å¿ƒç®—æ³•å’Œä¸šåŠ¡é€»è¾‘æš´éœ²</li>
<li><strong>APIæ¥å£æ»¥ç”¨</strong>ï¼šæ¶æ„è°ƒç”¨åç«¯æ¥å£</li>
<li><strong>æ•°æ®çˆ¬å–</strong>ï¼šè‡ªåŠ¨åŒ–å·¥å…·æ‰¹é‡è·å–æ•°æ®</li>
<li><strong>é€†å‘å·¥ç¨‹</strong>ï¼šåˆ†æä»£ç é€»è¾‘è¿›è¡Œæ”»å‡»</li>
</ul>
<h2 id="ï¸-å¤šå±‚é˜²æŠ¤ç­–ç•¥">ğŸ›¡ï¸ å¤šå±‚é˜²æŠ¤ç­–ç•¥</h2>
<h3 id="1-ä»£ç æ··æ·†ä¿æŠ¤">1. ä»£ç æ··æ·†ä¿æŠ¤</h3>
<p>JavaScriptä»£ç æ··æ·†æ˜¯æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€é‡è¦çš„é˜²æŠ¤æ‰‹æ®µã€‚é€šè¿‡å˜é‡é‡å‘½åã€æ§åˆ¶æµå¹³å±•ã€å­—ç¬¦ä¸²åŠ å¯†ç­‰æŠ€æœ¯ï¼Œè®©ä»£ç éš¾ä»¥é˜…è¯»å’Œåˆ†æã€‚</p>
<p>è¯¦ç»†çš„æ··æ·†é…ç½®å’Œä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒï¼š<br>
<a href="https://tech.hiofd.com/p/browser-obfuscator-js/" target="_blank" rel="noopener nofollow">æµè§ˆå™¨ä¸­ä½¿ç”¨obfuscatoræ··æ·†jså®Œæ•´æ•™ç¨‹</a></p>
<h3 id="2-åè°ƒè¯•æŠ€æœ¯">2. åè°ƒè¯•æŠ€æœ¯</h3>
<pre><code class="language-javascript">// æ£€æµ‹å¼€å‘è€…å·¥å…·
function detectDevTools() {
  const threshold = 160;
  setInterval(() =&gt; {
    if (window.outerHeight - window.innerHeight &gt; threshold ||
        window.outerWidth - window.innerWidth &gt; threshold) {
      // æ£€æµ‹åˆ°å¼€å‘è€…å·¥å…·æ‰“å¼€
      document.body.innerHTML = 'æ£€æµ‹åˆ°è°ƒè¯•å·¥å…·ï¼Œé¡µé¢å·²åœæ­¢è¿è¡Œ';
    }
  }, 500);
}

// ç¦ç”¨å³é”®èœå•
document.addEventListener('contextmenu', e =&gt; e.preventDefault());

// ç¦ç”¨F12ç­‰å¿«æ·é”®
document.addEventListener('keydown', e =&gt; {
  if (e.key === 'F12' ||
      (e.ctrlKey &amp;&amp; e.shiftKey &amp;&amp; e.key === 'I') ||
      (e.ctrlKey &amp;&amp; e.shiftKey &amp;&amp; e.key === 'C')) {
    e.preventDefault();
  }
});
</code></pre>
<h3 id="3-åŸŸåé”å®šå’Œç¯å¢ƒæ£€æµ‹">3. åŸŸåé”å®šå’Œç¯å¢ƒæ£€æµ‹</h3>
<pre><code class="language-javascript">// åŸŸåç™½åå•æ£€æŸ¥
function checkDomain() {
  const allowedDomains = ['yourdomain.com', 'www.yourdomain.com'];
  const currentDomain = window.location.hostname;
 
  if (!allowedDomains.includes(currentDomain)) {
    window.location.href = 'https://yourdomain.com';
  }
}

// æ£€æµ‹è¿è¡Œç¯å¢ƒ
function detectEnvironment() {
  // æ£€æµ‹æ˜¯å¦åœ¨iframeä¸­è¿è¡Œ
  if (window.self !== window.top) {
    throw new Error('ä¸å…è®¸åœ¨iframeä¸­è¿è¡Œ');
  }
 
  // æ£€æµ‹User-Agent
  const ua = navigator.userAgent;
  if (ua.includes('HeadlessChrome') || ua.includes('PhantomJS')) {
    throw new Error('æ£€æµ‹åˆ°è‡ªåŠ¨åŒ–å·¥å…·');
  }
}
</code></pre>
<h3 id="4-apiæ¥å£ä¿æŠ¤">4. APIæ¥å£ä¿æŠ¤</h3>
<pre><code class="language-javascript">// è¯·æ±‚ç­¾åéªŒè¯
function generateSignature(params, timestamp, nonce) {
  const sortedParams = Object.keys(params)
    .sort()
    .map(key =&gt; `${key}=${params[key]}`)
    .join('&amp;');
 
  const signString = `${sortedParams}&amp;timestamp=${timestamp}&amp;nonce=${nonce}`;
  return CryptoJS.SHA256(signString + SECRET_KEY).toString();
}

// è¯·æ±‚é¢‘ç‡é™åˆ¶
class RateLimiter {
  constructor(maxRequests = 100, timeWindow = 60000) {
    this.requests = [];
    this.maxRequests = maxRequests;
    this.timeWindow = timeWindow;
  }
 
  canMakeRequest() {
    const now = Date.now();
    this.requests = this.requests.filter(time =&gt; now - time &lt; this.timeWindow);
   
    if (this.requests.length &gt;= this.maxRequests) {
      return false;
    }
   
    this.requests.push(now);
    return true;
  }
}
</code></pre>
<h3 id="5-èµ„æºå®Œæ•´æ€§æ ¡éªŒ">5. èµ„æºå®Œæ•´æ€§æ ¡éªŒ</h3>
<pre><code class="language-html">&lt;!-- ä½¿ç”¨SRIç¡®ä¿èµ„æºå®Œæ•´æ€§ --&gt;
&lt;script src="app.js"
        integrity="sha384-oqVuAfXRKap7fdgcCY5uykM6+R9GqQ8K/uxy9rx7HNQlGYl1kPzQho1wx4JwY8wC"
        crossorigin="anonymous"&gt;&lt;/script&gt;

&lt;!-- CSPå†…å®¹å®‰å…¨ç­–ç•¥ --&gt;
&lt;meta http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline';"&gt;
</code></pre>
<h2 id="-æ„å»ºæ—¶å®‰å…¨é…ç½®">ğŸ”§ æ„å»ºæ—¶å®‰å…¨é…ç½®</h2>
<h3 id="webpacké…ç½®ç¤ºä¾‹">Webpacké…ç½®ç¤ºä¾‹</h3>
<pre><code class="language-javascript">const JavaScriptObfuscator = require('webpack-obfuscator');

module.exports = {
  // ç”Ÿäº§ç¯å¢ƒé…ç½®
  mode: 'production',
 
  plugins: [
    // ä»£ç æ··æ·†æ’ä»¶
    new JavaScriptObfuscator({
      rotateStringArray: true,
      stringArray: true,
      stringArrayThreshold: 0.8,
      transformObjectKeys: true,
      unicodeEscapeSequence: false
    }, ['excluded_bundle.js'])
  ],
 
  optimization: {
    // ç§»é™¤consoleè¯­å¥
    minimizer: [
      new TerserPlugin({
        terserOptions: {
          compress: {
            drop_console: true,
            drop_debugger: true
          }
        }
      })
    ]
  }
};
</code></pre>
<h2 id="ï¸-å®‰å…¨é˜²æŠ¤æ³¨æ„äº‹é¡¹">âš ï¸ å®‰å…¨é˜²æŠ¤æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>æ€§èƒ½å½±å“</strong>ï¼šè¿‡åº¦çš„å®‰å…¨æªæ–½ä¼šå½±å“ç”¨æˆ·ä½“éªŒ</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šç¡®ä¿é˜²æŠ¤ä»£ç åœ¨ç›®æ ‡æµè§ˆå™¨ä¸­æ­£å¸¸å·¥ä½œ</li>
<li><strong>ç»´æŠ¤æˆæœ¬</strong>ï¼šå¤æ‚çš„é˜²æŠ¤é€»è¾‘å¢åŠ ç»´æŠ¤éš¾åº¦</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šé¿å…è¯¯æ€æ­£å¸¸ç”¨æˆ·</li>
</ol>
<h2 id="-é˜²æŠ¤æ•ˆæœè¯„ä¼°">ğŸ“Š é˜²æŠ¤æ•ˆæœè¯„ä¼°</h2>
<h3 id="å®‰å…¨æµ‹è¯•æ¸…å•">å®‰å…¨æµ‹è¯•æ¸…å•</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"><label> ä»£ç æ··æ·†æ˜¯å¦ç”Ÿæ•ˆ</label></li>
<li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"><label> åè°ƒè¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸</label></li>
<li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"><label> åŸŸåé”å®šæ˜¯å¦æœ‰æ•ˆ</label></li>
<li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"><label> APIç­¾åéªŒè¯æ˜¯å¦é€šè¿‡</label></li>
<li class="task-list-item"><input class="task-list-item-checkbox" disabled="" type="checkbox"><label> æ€§èƒ½å½±å“æ˜¯å¦åœ¨å¯æ¥å—èŒƒå›´</label></li>
</ul>
<h2 id="-æœ€ä½³å®è·µå»ºè®®">ğŸ¯ æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>åˆ†å±‚é˜²æŠ¤</strong>ï¼šä¸è¦ä¾èµ–å•ä¸€é˜²æŠ¤æ‰‹æ®µ</li>
<li><strong>å®šæœŸæ›´æ–°</strong>ï¼šåŠæ—¶æ›´æ–°é˜²æŠ¤ç­–ç•¥å’Œå·¥å…·</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šå»ºç«‹å®‰å…¨äº‹ä»¶ç›‘æ§æœºåˆ¶</li>
<li><strong>ç”¨æˆ·æ•™è‚²</strong>ï¼šæé«˜ç”¨æˆ·å®‰å…¨æ„è¯†</li>
</ol>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å‰ç«¯å®‰å…¨é˜²æŠ¤æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„é˜²æŠ¤ç­–ç•¥ã€‚é€šè¿‡ä»£ç æ··æ·†ã€åè°ƒè¯•ã€ç¯å¢ƒæ£€æµ‹ç­‰å¤šç§æ‰‹æ®µçš„ç»„åˆä½¿ç”¨ï¼Œå¯ä»¥å¤§å¤§æé«˜æ”»å‡»è€…çš„æˆæœ¬ï¼Œæœ‰æ•ˆä¿æŠ¤å‰ç«¯åº”ç”¨çš„å®‰å…¨ã€‚</p>
<p>è®°ä½ï¼šæ²¡æœ‰ç»å¯¹çš„å®‰å…¨ï¼Œåªæœ‰ç›¸å¯¹çš„å®‰å…¨ã€‚å…³é”®æ˜¯è¦è®©æ”»å‡»æˆæœ¬è¿œé«˜äºæ”»å‡»æ”¶ç›Šã€‚</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2025-08-02 18:17">2025-08-02 18:16</span>&nbsp;
<a href="https://www.cnblogs.com/kingchn">å–å“ˆ</a>&nbsp;
é˜…è¯»(<span id="post_view_count">63</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19019121);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19019121', targetLink: 'https://www.cnblogs.com/kingchn/p/19019121', title: 'å‰ç«¯ä»£ç å®‰å…¨é˜²æŠ¤å®Œæ•´æŒ‡å—' })">ä¸¾æŠ¥</a>
</div>
        