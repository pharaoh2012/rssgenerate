
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/MeteorSeed/p/18878795" title="发布于 2025-05-16 10:42">
    <span role="heading" aria-level="2">【译】Visual Studio 推出预览版 Agent 模式</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p id="activity-name" class="rich_media_title "><span style="font-size: 14px">　　规划、构建、测试、修复 —— 一切只需一个提示。</span></p>
<div id="js_content" class="rich_media_content js_underline_content                       autoTypeSetting24psection            ">
<p><span>　　Visual Studio 17.14 版本已向所有用户公开预览版 Agent 模式。Visual Studio 中的 Agent 模式允许您使用自然语言定义任务，由 Copilot 自主规划、编辑代码库、调用工具并迭代解决问题。与 Copilot Chat 或 Edits 不同，Agent 模式不止于提供一个建议或进行一次文件编辑，而是通过迭代直至任务完成。</span></p>
<h1><span><span>Agent 模式能做什么？</span></span></h1>
<p><span>　　Agent 模式不仅帮助您编写代码，还能助您完成整个工作。这一切都是通过迭代完成的，这意味着 Copilot 会持续检查并基于其自身输出及输出结果执行您的任务，直至完成您的提示。这意味着 Agent 模式能够：</span></p>
<p><span>　　💡 自主确定相关上下文和需要编辑的文件。</span></p>
<p><span>　　💻 建议终端命令供您批准和运行。</span></p>
<p><span>　　🔁 迭代直至任务完成 —— 检查错误并运行构建/测试以验证结果。</span></p>
<p><span>　　📡 通过 MCP 服务器调用可信工具 —— 包括开发环境中的代码检查器、测试运行器和静态分析器。</span></p>
<p><span>　　我们还通过将 Agent 模式设为应用代码更改的新默认方式来简化 Copilot 体验。您可以将 Agent 模式视为开发人员在 GitHub Copilot 聊天中备受青睐的 Edits 功能的下一个进化版本，且功能更强大！</span></p>
<img src="https://img2024.cnblogs.com/blog/270073/202505/270073-20250515174610436-1576571184.png" alt="" style="display: block; margin-left: auto; margin-right: auto">
<h1><span><span>如何启用</span></span></h1>
<p><span>　　在此预览阶段，代理模式默认处于关闭状态。要启用它，请执行以下操作：</span></p>
<p><span>　　1.使用 Visual Studio Code 17.14 GA 或更高版本</span></p>
<p><span>　　2.转到 Feature Search（Ctrl + Q）</span></p>
<p><span>　　3.搜索：copilot-chat.agent</span></p>
<p><span>　　4.启用：Copilot Chat: Agent Enabled</span></p>
<p><span>　　5.在 Copilot 聊天窗口中切换到 “Agent” 并尝试输入高级提示。您可以从 IDE 右上角的 Copilot 徽章访问 Copilot 聊天窗口。</span></p>
<h1><span><span>使用 Agent 模式</span></span></h1>
<p><span>　　Agent 模式是一种功能强大的工具，可应用于多种场景。它可以从头创建应用程序、跨多个文件重构代码、编写和运行测试、生成文档、集成新库、执行终端密集型任务，以及解答有关复杂代码库的问题。它通过协调您的开发流程来提高生产力，同时让您保持控制。在确定 Agent 模式是否适合完成某项工作时，请考虑以下因素：</span></p>
<p><span>　　- 编辑范围：Agent 模式会自主搜索您的代码库并确定相关上下文和需要编辑的文件。</span></p>
<p><span>　　- 任务复杂性：对于超出简单代码编辑的复杂任务，模式表现出色。它可以处理工具调用和终端命令，非常适合复杂项目。</span></p>
<p><span>　　- 处理时长：Agent 模式非常细致，需要多个步骤来处理请求。由于它需要确定上下文、规划操作等，因此可能需要更长时间才能获得响应。</span></p>
<p><span>　　- 自我迭代：Agent 模式的显著功能之一是能够评估生成的编辑结果，并进行多次迭代以解决中间问题。</span></p>
<p><span>　　- 多个请求：根据任务的复杂性，Agent 模式可能会从单个提示生成对后端的多个请求。</span></p>
<p><span>　　一旦确定 Agent 模式是完成任务的合适工具，您只需给出一个良好的提示即可。以下是一些示例提示，让您了解可以要求代理执行的操作：</span></p>
<p><span>　　- “向此 API 添加处理”</span></p>
<p><span>　　- “将此项目转换为使用环境变量”</span></p>
<p><span>　　- “为这个类编写测试并修复所有失败的测试”</span></p>
<p><span>　　- “使用 Serilog 添加结构化日志记录”</span></p>
<p><span>　　- “将 HttpClient 替换为 IHttpClientFactory”</span></p>
<p><span>　　要让 Copilot 提供更好、更准确的响应，关键是向其提供有关您偏好的编码标准、团队偏好、库等的足够上下文。您可以使用自定义指令提供此上下文。自定义指令功能使您能够自动将预先指定的上下文详细信息添加到聊天问题中。要配置自定义指令，请按照文档说明进行操作（https://learn.microsoft.com/zh-cn/visualstudio/ide/copilot-chat-context?view=vs-2022#enable-custom-instructions）。</span></p>
<h1><span><span>通过 MCP 服务器增强 Agent 模式功能</span></span></h1>
<p><span>　　此版本通过支持模型上下文协议 (MCP) 服务器进一步扩展了Agent 模式的功能。MCP 服务器为 Copilot Agent 提供额外的上下文，并使其能够访问工具、数据和资源。MCP 网站将 MCP 描述为 AI 应用程序的通用适配器。就像通用适配器允许您将物理设备连接到配件一样，MCP 允许您将 AI 应用程序连接到其他数据和工具，而无需构建到每个数据源的自定义连接。例如，您可以直接连接到数据库并分析模式，提取 GitHub 存储库的信息（如问题和拉取请求），使用 Playwright 自动化端到端测试，甚至可以使用包括 C# 在内的多个 SDK 构建自己的工具！以下是使用 MCP 服务器可以执行的其他一些操作示例：</span></p>
<p><span>　　- 与云环境交互：例如，官方 Azure MCP 服务器允许访问、列出、查询 Azure Storage、Cosmos DB、Azure CLI 等服务和工具并与之交互。</span></p>
<p><span>　　- 查询和管理数据库：对 Cosmos DB 容器执行查询，获取 Azure 存储容器属性和元数据，以及管理 Blob 容器和 Blob。</span></p>
<p><span>　　- 搜索和管理版本控制平台：例如，GitHub API 允许批量创建问题或批量更新文件，搜索 GitHub 存储库中的代码和问题等。</span></p>
<img src="https://img2024.cnblogs.com/blog/270073/202505/270073-20250515174808210-628693793.jpg" alt="图片" class="rich_pages wxw-img js_insertlocalimg js_img_placeholder wx_img_placeholder" style="display: block; margin-left: auto; margin-right: auto" data-imgfileid="303334252" data-ratio="0.6291793313069909" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/DgvosR222snic3eMktBKCITmyftFzojFSgtFEquUCicKQggCA3AibhYdwr0W4xbTfq7uMdjGsJCnIbsfUnxeHLODA/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="987" data-original-style="null" data-index="2">
<h1><span><span>Copilot 每月新版本发布计划</span></span></h1>
<p><span>　　我们在不断发展，以便让开发人员始终能够及时获得 Copilot 功能。因此，我们很高兴地宣布，Visual Studio 将转向每月发布 Copilot 更新的计划。您可以通过持续将 Visual Studio 更新到最新版本来访问最新的 Copilot 更新。</span></p>
<h1><span><span>快来看看全新的 Visual Studio Hub！</span></span></h1>
<p><span>　　在一个地方即可了解 Visual Studio 的所有动态！访问 Visual Studio Hub，获取最新版本说明、YouTube 视频、社交动态和社区讨论。</span></p>
<h1><span><span>感谢您的反馈</span></span></h1>
<p><span>　　您的反馈能帮助我们改进 Visual Studio，使其成为更强大的开发者工具。我们非常感谢您的贡献，并期待您的持续支持。通过开发者社区分享您的想法、创意和遇到的任何问题，您将帮助我们塑造 Visual Studio 的未来。</span></p>
<p><span>&nbsp;</span></p>
<p><span>原文链接：https://devblogs.microsoft.com/visualstudio/agent-mode-has-arrived-in-preview-for-visual-studio/</span></p>
<p><span><img src="https://img2024.cnblogs.com/blog/270073/202505/270073-20250515174739208-1048921622.webp" alt="" style="display: block; margin-left: auto; margin-right: auto"></span></p>
<p>&nbsp;</p>
<p><span>&nbsp;</span></p>
<p><span>&nbsp;</span></p>
<p><span>&nbsp;</span></p>
</div>
</div>
<div id="MySignature" role="contentinfo">
    <blockquote>
<p><strong>作者：</strong><a href="http://www.cnblogs.com/MeteorSeed">MeteorSeed</a></p>
<p><strong>我希望您喜欢这篇博文，并一如既往地感谢您阅读并与朋友和同事分享我的博文。</strong></p>
<p><strong>转载请注明出处。</strong></p>
</blockquote>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.4809640681863426" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-16 10:43">2025-05-16 10:42</span>&nbsp;
<a href="https://www.cnblogs.com/MeteorSeed">MeteorSeed</a>&nbsp;
阅读(<span id="post_view_count">224</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18878795);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18878795', targetLink: 'https://www.cnblogs.com/MeteorSeed/p/18878795', title: '【译】Visual Studio 推出预览版 Agent 模式' })">举报</a>
</div>
        