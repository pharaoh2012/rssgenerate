
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/abyssdawn/p/18639065" title="发布于 2024-12-29 15:53">
    <span role="heading" aria-level="2">尝试 vmware 16.0.0 过虚拟化 过xf虚拟机检测</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="前言">前言</h2>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241229154746183-1930833584.png" alt="2024-12-29T03:01:42.png" loading="lazy"></p>
<p>最新想在vmware虚拟机上玩xf，网上找了不少教程，于是打算自己尝试下。</p>
<p>如果可以修改成功的话，其价值嘛不可估量。</p>
<h2 id="环境">环境</h2>
<p><s><code>vmware</code>版本是<code>16.0.0</code>，已安装VMware Tools</s></p>
<p><code>vmware</code>版本是<code>16.1.2</code>，已安装VMware Tools</p>
<p>虚拟镜像<code>cn_windows_7_professional_with_sp1_vl_build_x64_dvd_u_677816</code></p>
<blockquote>
<p>回滚：win7测试失败，改为：cn_windows_10_consumer_editions_version_1909_x64_dvd_76365bf8.iso</p>
</blockquote>
<p>用到的工具：1.WINHEX 2.Phoenix BIOS Editor</p>
<p>网上很多都是从卸载vmware开始的，我就不卸载了出问题再说</p>
<h2 id="开始尝试过虚拟化">开始尝试过虚拟化</h2>
<h3 id="去掉硬盘虚拟化标识以及光驱虚拟化标识以及修改硬盘序列号">去掉硬盘虚拟化标识以及光驱虚拟化标识以及修改硬盘序列号</h3>
<p>在<code>vmware安装目录\x64</code>下把这两个文件<code>BIOS.440.ROM</code>、<code>vmware-vmx.exe</code>备份下，原始文件拖到<code>winhex</code>里</p>
<p>点击寻找16进制数值“3030303030303030303030303031”，因为虚拟机默认硬盘号10000000000000000001，16进制为“3130303030303030303030303030303030303031”。</p>
<p>找到一个，点击替换十六进制，替换为“0000416d6265722073797374656d”，记得勾选在所有打开文件替换。</p>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241229154745712-1046079050.png" alt="2024-12-28T05:04:18.png" loading="lazy"></p>
<p>点确定后，我这边显示一个结果被替换。</p>
<p>继续替换“564D7761726520494445”-&gt;“00416d62657220494445”</p>
<p>声卡网卡</p>
<p>继续替换“FFBAAD15000041B87719”-&gt;“FFBAEC10000041B88680”，这里替换了2个</p>
<p>网卡 16进制替换<br>
继续替换“66894717B8AD15”-&gt;“66894717B88680”</p>
<p>主板的芯片组<br>
“86809071”-&gt;“868014A1”</p>
<p>显卡<br>
8002B8AD15<br>
8002B8DE10</p>
<p>0000BA050400<br>
0000BA100700</p>
<p>注意：我在此改完用鲁大师单文件版还是会出现VMware的，因为还有很多没改到的地方，解决方法也很简单，鲁大师显示什么你搜什么然后改掉就行。这个文件改完重启就可以生效，不需要重新创建虚拟机。</p>
<p>修改后保存，替换原始原件。</p>
<h3 id="修改系统制造商以及系统型号">修改系统制造商以及系统型号</h3>
<p>这个需要修改BIOS。<br>
用到Phoenix BIOS Editor工具<br>
安装好虚拟机后找到根目录下的X64文件夹。把“BIOS.440.ROM”用Phoenix BIOS Editor工具打开</p>
<p>打开<code>DMI String</code>窗口</p>
<p>依次修改</p>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241229154745273-1237923411.png" alt="2024-12-28T04:58:33.png" loading="lazy"></p>
<ul>
<li>'LEGEND DragonLENOVO'</li>
<li>'CompaqHewlett-Packard'</li>
<li>'123. Inc.'</li>
<li>'123 Virtual Piatform'</li>
<li>'IBM CORPORATION'</li>
<li>'Founder PCFUJITSU-PC'</li>
<li>'AcerSystemHP PAVILION'</li>
<li>'Dell SystemTCL123'</li>
<li>'Acer TravelMate'</li>
<li>'GREATWALLEMACHINES'</li>
</ul>
<p>修改后build一个新的rom出来</p>
<p>将修改后的“BIOS.440.ROM”，复制到你的系统安装文件夹并打开.vmx文件</p>
<p>在里面加入</p>
<pre><code>bios440.filename = "BIOS.440.ROM"
</code></pre>
<p>然后虚拟机设置启动项为BIOS启动方式，默认uefi，改主板 一定要改启动方式</p>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241229154743964-176106683.png" alt="2024-12-28T05:10:45.png" loading="lazy"></p>
<h3 id="改显卡">改显卡</h3>
<p>加两条代码到<code>.vmx</code>文件</p>
<pre><code>cpuid.1.ecx = "00000010100111101110001111111111"
cpuid.1.edx = "10111111111010111111101111111111"
monitor_control.restrict_backdoor = "TRUE"
</code></pre>
<p>按shift重启-启动设置-重启-7禁用强制签名</p>
<p><s>先安装VMware Tools，才有显卡驱动</s></p>
<p><s>装显卡驱动的方法：</s><br>
<s>1. 用到的工具WinRAR</s><br>
<s>2. 驱动人生</s></p>
<p>点击 虚拟机设置-硬盘-映射，取消勾选只读，<strong>选择盘符</strong>，确定，是</p>
<p>把显卡驱动<code>SVGA 3d显卡驱动.rar</code>拖到共享盘</p>
<p>断开连接</p>
<p>确定</p>
<p>这样就把本地显卡驱动挪到虚拟机盘符里面了</p>
<p>打开虚拟机</p>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241229154746634-734041861.png" alt="2024-12-28T06:23:17.png" loading="lazy"></p>
<p><s>把高亮的两行的<code>15AD</code>改成<code>10DE</code>,<code>0405</code>改成显卡ID0700</s></p>
<p>改最下面的三行</p>
<pre><code>DiskID = "NVIDIA GeForce"
CompanyName = "NVIDIA, Inc."
SVGA = "NVIDIA GeForce RTX 3080"
</code></pre>
<p>全部替换<code>vmware</code>-&gt;<code>NVIDIA</code>,<code>vm</code>-&gt;<code>nv</code></p>
<p>保存</p>
<p>接下来把这个显卡驱动目录的vm开头的文件改为nv开头</p>
<p>批处理</p>
<pre><code class="language-bat">@echo off
setlocal enabledelayedexpansion

rem 遍历当前目录下的所有文件
for %%f in (vm*) do (
    set "filename=%%f"
    set "newname=nv!filename:~2!"
    
    rem 重命名文件
    ren "%%f" "!newname!"
)

echo 所有文件名以 vm 开头的文件已被重命名为以 nv 开头。
endlocal

</code></pre>
<p>设备管理器-显示设备-右键更新驱动程序-从计算机的设备驱动列表中选择-从磁盘安装-浏览-打开驱动目录</p>
<p>先安装原版，再安装修改后的版本</p>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241229154746623-926953783.png" alt="2024-12-28T08:24:12.png" loading="lazy"></p>
<p>打开注册表编辑器</p>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241229154747121-810905548.png" alt="2024-12-28T08:27:58.png" loading="lazy"></p>
<p>把所有的<code>VMware SVGA 3D</code>改成<code>NVIDIA GeForce RTX 3080</code></p>
<hr>
<p>然而还是被检测了。。。</p>
<p><img src="https://img2024.cnblogs.com/blog/2747555/202412/2747555-20241218222717143-1042054688.png" alt="image" loading="lazy"></p>
<h2 id="参考">参考</h2>
<ul>
<li>
<p><a href="https://bbs.kanxue.com/thread-265786.htm" target="_blank" rel="noopener nofollow">https://bbs.kanxue.com/thread-265786.htm</a></p>
</li>
<li>
<p><a href="https://www.bilibili.com/video/BV1fL411Q7wk" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1fL411Q7wk</a></p>
</li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.011832309050925926" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2024-12-29 16:01">2024-12-29 15:53</span>&nbsp;
<a href="https://www.cnblogs.com/abyssdawn">破晓一代</a>&nbsp;
阅读(<span id="post_view_count">6</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18639065" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18639065);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18639065', targetLink: 'https://www.cnblogs.com/abyssdawn/p/18639065', title: '尝试 vmware 16.0.0 过虚拟化 过xf虚拟机检测' })">举报</a>
</div>
        