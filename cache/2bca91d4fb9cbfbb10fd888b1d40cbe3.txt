
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52848703">
<div class="parsedown-markdown"><p>syncthing是比较好用的异地文件同步工具，默认使用全球发现服务器。如果已经实现了异地组网，可以自建发现服务器和中继服务器：</p>
<pre><code class="language-yaml">services:
&nbsp;&nbsp;# 自建syncthing的发现服务器 syncthing-discovery-server
&nbsp;&nbsp;syncthing_discovery_server:
&nbsp; &nbsp; image: syncthing/discosrv
&nbsp; &nbsp; container_name: syncthing-discovery-server
&nbsp; &nbsp; command: --debug --listen=":8443" --db-dir="."
&nbsp; &nbsp; environment:
&nbsp; &nbsp;&nbsp; &nbsp;- PUID=1000
&nbsp; &nbsp;&nbsp; &nbsp;- PGID=1000
&nbsp; &nbsp; volumes:
&nbsp; &nbsp;&nbsp; &nbsp;- ./discosrv:/var/stdiscosrv
&nbsp; &nbsp; ports:
&nbsp; &nbsp;&nbsp; &nbsp;- 8443:8443 # Listen address (default “:8443”)
&nbsp; &nbsp; restart: always

&nbsp;&nbsp;# 自建syncthing的中继服务器 syncthing-relay-server
&nbsp;&nbsp;syncthing_relay_server:
&nbsp; &nbsp; image: syncthing/relaysrv:latest
&nbsp; &nbsp; container_name: syncthing-relay-server
&nbsp; &nbsp; command: -debug -pools="" -listen=":22067"
&nbsp; &nbsp; environment:
&nbsp; &nbsp;&nbsp; &nbsp;- PUID=1000
&nbsp; &nbsp;&nbsp; &nbsp;- PGID=1000
&nbsp; &nbsp; volumes:
&nbsp; &nbsp;&nbsp; &nbsp;- ./relaysrv:/var/strelaysrv
&nbsp; &nbsp; ports:
&nbsp; &nbsp;&nbsp; &nbsp;- 22067:22067 # 中继服务器的数据连接端口（必须开启）
&nbsp; &nbsp;&nbsp; &nbsp;#- 22070:22070&nbsp;&nbsp;# 用于公用的中继服务器池，显示数据传输、客户端数量等状态，可不开启
&nbsp; &nbsp; restart: always</code></pre></div>
<div class="parsedown-markdown-end_FLAG_ZXSQ" style="display:none"></div></td></tr></tbody></table>


