
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/Honsen/p/18748736" title="发布于 2025-03-03 17:12">
    <span role="heading" aria-level="2">算子var_threshold</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h4 class="md-end-block md-heading md-focus"><span class="md-plain md-expand">算子</span><span class="md-pair-s" spellcheck="false"><code>var_threshold</code></span></h4>
<h5 class="md-end-block md-heading"><span class="md-plain">名称</span></h5>
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>var_threshold</code></span><span class="md-plain"> — 通过局部均值和标准差分析对图像进行阈值处理。</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">签名</span></h5>
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>var_threshold(Image : Region : MaskWidth, MaskHeight, StdDevScale, AbsThreshold, LightDark : )</code></span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">描述</span></h5>
<p class="md-end-block md-p"><span class="md-plain">使用 </span><span class="md-pair-s" spellcheck="false"><code>var_threshold</code></span><span class="md-plain"> 算子，可以选择输入图像 </span><span class="md-pair-s" spellcheck="false"><code>Image</code></span><span class="md-plain"> 中满足以下条件的像素：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">具有较高的局部标准差（当 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 为正值时），或者具有较低的局部标准差（当 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 为负值时）。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p md-focus"><span class="md-plain">根据 </span><span class="md-pair-s" spellcheck="false"><code>LightDark</code></span><span class="md-plain"> 参数，在局部区域内为亮像素或暗像素。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">因此，该算子能够在不均匀、有噪声或光照不均匀的背景下分割出目标区域。</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">输入参数提示</span></h5>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>MaskWidth</code></span><span class="md-plain">，</span><span class="md-pair-s" spellcheck="false"><code>MaskHeight</code></span></strong></span><span class="md-plain">：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">由 </span><span class="md-pair-s" spellcheck="false"><code>MaskWidth</code></span><span class="md-plain"> 和 </span><span class="md-pair-s" spellcheck="false"><code>MaskHeight</code></span><span class="md-plain"> 定义的滤波模板大小决定了要分割对象的最大尺寸。然而，如果模板选择得过大，彼此非常接近的对象可能会被合并。</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171134268-1613145587.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171134268-1613145587.png" alt="image-20250302204019238"></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">（1）原始图像；目标是对垂直线条进行计数。（2）</span><span class="md-pair-s" spellcheck="false"><code>MaskWidth</code></span><span class="md-plain"> 设为 12，</span><span class="md-pair-s" spellcheck="false"><code>MaskHeight</code></span><span class="md-plain"> 设为 12，</span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 设为 0.1，所有垂直线条都被正确分割。（3）如果模板尺寸选择得过小（设为 3），则无法正确选择所需区域。（4）如果模板尺寸过大（设为 40），彼此非常接近的对象可能会被合并。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">如果 </span><span class="md-pair-s" spellcheck="false"><code>MaskWidth</code></span><span class="md-plain"> 或 </span><span class="md-pair-s" spellcheck="false"><code>MaskHeight</code></span><span class="md-plain"> 为偶数，则会使用下一个更大的奇数。总体而言，3 可以被认为是最小的合理值。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span></strong></span><span class="md-plain">：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">局部标准差用于衡量图像中的噪声。可以通过 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 对其进行缩放，以反映所需的灵敏度。值越高，意味着只选择与周围像素差异非常大的像素。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">对于参数 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain">，取值在 -1.0 到 1.0 之间是比较合理的选择，建议值为 0.2。如果该参数设置得过高或过低，可能会返回空区域或全区域。</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171133956-544612200.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171133956-544612200.png" alt="image-20250302204131046"></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">（1）如果 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 设置得过高（设为 1.3），算子会变得“挑剔”，只选择与周围像素非常相似的像素。（2）如果 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 设置得过低（设为 -0.3），会错误地选择过多与周围像素有些相似的像素。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>AbsThreshold</code></span></strong></span><span class="md-plain">：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">在图像的均匀区域中，标准差较低，因此单个灰度值的影响较大。为了降低算子在均匀区域的灵敏度，可以调整 </span><span class="md-pair-s" spellcheck="false"><code>AbsThreshold</code></span><span class="md-plain"> 参数。这样，就可以忽略均匀背景中较小的灰度值变化。需要注意的是，当 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 为负值时，</span><span class="md-pair-s" spellcheck="false"><code>AbsThreshold</code></span><span class="md-plain"> 也应选择负值。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>LightDark</code></span></strong></span><span class="md-plain">：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>'light'</code></span><span class="md-plain"> 或 </span><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span><span class="md-plain"> 分别返回比其周围像素更亮或更暗的所有像素。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>'equal'</code></span><span class="md-plain"> 返回未被上述两种选项选中的所有像素，即与周围像素相对相等的像素。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>'not_equal'</code></span><span class="md-plain"> 返回 </span><span class="md-pair-s" spellcheck="false"><code>'light'</code></span><span class="md-plain"> 和 </span><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span><span class="md-plain"> 的组合结果，即所有与周围像素不同的像素。</span></p>
</li>
</ul>
</li>
</ul>
<h5 class="md-end-block md-heading"><span class="md-plain">计算过程</span></h5>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171133574-835540625.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171133574-835540625.png" alt="image-20250302204316344"></span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">（1）初始图像。（2）经过阈值处理后的图像（</span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 设为 0.6，</span><span class="md-pair-s" spellcheck="false"><code>MaskWidth</code></span><span class="md-plain"> 设为 15，</span><span class="md-pair-s" spellcheck="false"><code>MaskHeight</code></span><span class="md-plain"> 设为 15，</span><span class="md-pair-s" spellcheck="false"><code>AbsThreshold</code></span><span class="md-plain"> 设为 10）。以下图像以示例方式展示了沿蓝色箭头方向的结果是如何得到的。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>var_threshold</code></span><span class="md-plain"> 算子从输入图像 </span><span class="md-pair-s" spellcheck="false"><code>Image</code></span><span class="md-plain"> 中选择满足阈值条件的区域 </span><span class="md-pair-s" spellcheck="false"><code>Region</code></span><span class="md-plain">。阈值是根据每个像素 (x, y) 周围大小为 </span><span class="md-pair-s" spellcheck="false"><code>MaskWidth</code></span><span class="md-plain"> x </span><span class="md-pair-s" spellcheck="false"><code>MaskHeight</code></span><span class="md-plain"> 的局部模板内的平均灰度值和标准差计算得出的。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">设：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>g(x,y)</code></span><span class="md-plain"> 为输入图像 </span><span class="md-pair-s" spellcheck="false"><code>Image</code></span><span class="md-plain"> 中位置 (x, y) 处的灰度值。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>m(x,y)</code></span><span class="md-plain"> 为相应的平均灰度值。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>d(x,y)</code></span><span class="md-plain"> 为该像素周围模板内的相应标准差。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171133215-722947073.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171133215-722947073.png" alt="image-20250302204442808"></span></p>
<p class="md-end-block md-p"><span class="md-plain">即这些像素周围模板内的原始灰度值、相应的平均灰度值和相应的标准差。</span></p>
<p class="md-end-block md-p"><span class="md-plain">那么，可变阈值 </span><span class="md-pair-s" spellcheck="false"><code>v(x,y)</code></span><span class="md-plain"> 定义如下</span></p>
<div id="mathjax-n68" class="mathjax-block md-end-block md-math-block md-rawblock" spellcheck="false" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]">$$<br>v(x,y) = max(StdDevScale * d(x,y), AbsThreshold) \;\ for \;\ StdDevScale \geqslant 0<br>$$</div>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">or</span></p>
<div id="mathjax-n70" class="mathjax-block md-end-block md-math-block md-rawblock" spellcheck="false" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]">$$<br>v(x,y) = min( StdDevScale * d(x,y), AbsThreshold) \;\; for \;\; StdDevScale \leqslant 0<br>$$</div>
<p>&nbsp;</p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">解释：当 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 为正值时，会分析每个像素。确定用户定义的 </span><span class="md-pair-s" spellcheck="false"><code>AbsThreshold</code></span><span class="md-plain"> 和缩放后的标准差哪个更大，选择较大的值作为可变阈值 </span><span class="md-pair-s" spellcheck="false"><code>v(x,y)</code></span><span class="md-plain">。当 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 为负值时，则选择相应的较小值。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171132886-1158223473.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171132886-1158223473.png" alt="image-20250302211236416"></span></p>
<p class="md-end-block md-p"><span class="md-plain">可以使用 </span><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span><span class="md-plain"> 对标准差进行缩放。</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171132512-1702405801.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171132512-1702405801.png" alt="image-20250302211319665"></span></p>
<p class="md-end-block md-p"><span class="md-plain">可变阈值是根据缩放后的标准差和 </span><span class="md-pair-s" spellcheck="false"><code>AbsThreshold</code></span><span class="md-plain"> 来选择的。</span></p>
<p class="md-end-block md-p"><span class="md-plain">根据可变阈值选择哪些像素由参数 </span><span class="md-pair-s" spellcheck="false"><code>LightDark</code></span><span class="md-plain"> 决定：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>'light'</code></span></strong></span><span class="md-plain">：</span></p>
<div id="mathjax-n83" class="mathjax-block md-end-block md-math-block md-rawblock" spellcheck="false" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]">$$<br>g(x,y) \ge m(x,y)+v(x,y)<br>$$</div>
<br>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">解释：如果某个像素比其周围像素亮 </span><span class="md-pair-s" spellcheck="false"><code>v(x,y)</code></span><span class="md-plain"> 个灰度值，则该像素被选中。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span></strong></span><span class="md-plain">：</span></p>
<div id="mathjax-n90" class="mathjax-block md-end-block md-math-block md-rawblock" spellcheck="false" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]">$$<br>g(x,y) \le m(x,y)-v(x,y)<br>$$</div>
<br>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">解释：如果某个像素比其周围像素暗 </span><span class="md-pair-s" spellcheck="false"><code>v(x,y)</code></span><span class="md-plain"> 个灰度值，则该像素被选中。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>LightDark = 'equal'</code></span></strong></span><span class="md-plain">：</span></p>
<div id="mathjax-n97" class="mathjax-block md-end-block md-math-block md-rawblock" spellcheck="false" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]">$$<br>m(x,y)-v(x,y)\le g(x,y)\le m(x,y)+v(x,y)<br>$$</div>
<br>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">解释：精确选择那些未被 </span><span class="md-pair-s" spellcheck="false"><code>'light'</code></span><span class="md-plain"> 和 </span><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span><span class="md-plain"> 选中的像素，即与周围像素相对相等的像素。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>'not_equal'</code></span></strong></span><span class="md-plain">：</span></p>
<div id="mathjax-n104" class="mathjax-block md-end-block md-math-block md-rawblock" spellcheck="false" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]">$$<br>m(x,y)-v(x,y)\ge g(x,y) \; \or \: g(x,y) \ge m(x,y)+v(x,y)<br>$$</div>
<br>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">解释：选择 </span><span class="md-pair-s" spellcheck="false"><code>'light'</code></span><span class="md-plain"> 和 </span><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span><span class="md-plain"> 两种情况下的所有像素，即所有与周围像素相差 </span><span class="md-pair-s" spellcheck="false"><code>v(x,y)</code></span><span class="md-plain"> 个灰度值的像素。</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171131804-2066273677.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171131804-2066273677.png" alt="image-20250302211955015"></span></p>
</li>
</ul>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>'light'</code></span><span class="md-plain"> 和 </span><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span><span class="md-plain"> 是根据相应的平均灰度值和可变阈值计算得出的。</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171131238-1545691664.png"><img src="https://img2023.cnblogs.com/blog/3200723/202503/3200723-20250303171131238-1545691664.png" alt="image-20250302212156634"></span></p>
<p class="md-end-block md-p"><span class="md-plain">例如，如果选择了 “暗（dark）” 选项，那么所有 “暗曲线” 高于 “灰度值曲线” 的像素都会被选中</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">注意事项</span></h5>
<p class="md-end-block md-p"><span class="md-plain">请注意，如果使用具有缩小定义域的图像作为输入，滤波算子可能会返回意外结果。请参考“滤波器”章节。</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">参数</span></h5>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>Image</code></span></strong></span><span class="md-plain">（输入对象） 单通道图像（数组） → 对象（</span><span class="md-pair-s" spellcheck="false"><code>byte</code></span><span class="md-plain"> / </span><span class="md-pair-s" spellcheck="false"><code>int2</code></span><span class="md-plain"> / </span><span class="md-pair-s" spellcheck="false"><code>int4</code></span><span class="md-plain"> / </span><span class="md-pair-s" spellcheck="false"><code>uint2</code></span><span class="md-plain"> / </span><span class="md-pair-s" spellcheck="false"><code>real</code></span><span class="md-plain">）</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">输入图像。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>Region</code></span></strong></span><span class="md-plain">（输出对象） 区域（数组） → 对象</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">分割后的区域。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>MaskWidth</code></span></strong></span><span class="md-plain">（输入控制） 范围.x → （整数）</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">用于计算均值和标准差的模板宽度。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">默认值：15</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">建议值：9, 11, 13, 15</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">限制条件：</span><span class="md-pair-s" spellcheck="false"><code>MaskWidth &gt;= 1</code></span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>MaskHeight</code></span></strong></span><span class="md-plain">（输入控制） 范围.y → （整数）</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">用于计算均值和标准差的模板高度。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">默认值：15</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">建议值：9, 11, 13, 15</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">限制条件：</span><span class="md-pair-s" spellcheck="false"><code>MaskHeight &gt;= 1</code></span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>StdDevScale</code></span></strong></span><span class="md-plain">（输入控制） 数值 → （实数 / 整数）</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">灰度值标准差的缩放因子。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">默认值：0.2</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">建议值：-0.2, -0.1, 0.1, 0.2</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>AbsThreshold</code></span></strong></span><span class="md-plain">（输入控制） 数值 → （实数 / 整数）</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">与均值的最小灰度值差异。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">默认值：2</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">建议值：-2, -1, 0, 1, 2</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s "><strong><span class="md-pair-s" spellcheck="false"><code>LightDark</code></span></strong></span><span class="md-plain">（输入控制） 字符串 → （字符串）</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">阈值类型。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">默认值：</span><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">取值列表：</span><span class="md-pair-s" spellcheck="false"><code>'dark'</code></span><span class="md-plain">, </span><span class="md-pair-s" spellcheck="false"><code>'equal'</code></span><span class="md-plain">, </span><span class="md-pair-s" spellcheck="false"><code>'light'</code></span><span class="md-plain">, </span><span class="md-pair-s" spellcheck="false"><code>'not_equal'</code></span></p>
</li>
</ul>
</li>
</ul>
<h5 class="md-end-block md-heading"><span class="md-plain">复杂度</span></h5>
<p class="md-end-block md-p"><span class="md-plain">设 A 为输入区域的面积，则运行时间为 O(A)。</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">结果</span></h5>
<p class="md-end-block md-p"><span class="md-plain">如果所有参数正确，</span><span class="md-pair-s" spellcheck="false"><code>var_threshold</code></span><span class="md-plain"> 算子返回 2 (</span><span class="md-pair-s" spellcheck="false"><code>H_MSG_TRUE</code></span><span class="md-plain">)。可以通过 </span><span class="md-pair-s" spellcheck="false"><code>set_system</code></span><span class="md-plain"> 函数设置标志 </span><span class="md-pair-s" spellcheck="false"><code>'no_object_result'</code></span><span class="md-plain">、</span><span class="md-pair-s" spellcheck="false"><code>'empty_region_result'</code></span><span class="md-plain"> 和 </span><span class="md-pair-s" spellcheck="false"><code>'store_empty_region'</code></span><span class="md-plain"> 的值来确定对输入图像和输出区域的处理方式。必要时会抛出异常。</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">替代算子</span></h5>
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>dyn_threshold</code></span><span class="md-plain">，</span><span class="md-pair-s" spellcheck="false"><code>threshold</code></span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">参考文献</span></h5>
<p class="md-end-block md-p"><span class="md-plain">W.Niblack，《数字图像处理导论》，第 115 - 116 页，新泽西州恩格尔伍德克利夫斯，普伦蒂斯·霍尔出版社，1986 年</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">模块</span></h5>
<p class="md-end-block md-p"><span class="md-plain">基础模块</span></p>
<h4 class="md-end-block md-heading"><span class="md-plain">HDevelop 例程</span></h4>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>var_threshold.hdev</code></span><span class="md-plain">：使用根据局部均值和标准差计算得到的局部阈值对图像进行分割。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>label_word_process_mlp.hdev</code></span><span class="md-plain">：使用基于多层感知器（MLP）的 OCR 分类器和词典读取保质期标签，以提高识别结果。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>check_smd_tilt.hdev</code></span><span class="md-plain">：检查表面贴装器件（SMD）是否倾斜。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-pair-s" spellcheck="false"><code>check_blister.hdev</code></span><span class="md-plain">：检查自动填充的泡罩包装的内容物。</span></p>
</li>
</ul>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.04460534204166667" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-03 17:13">2025-03-03 17:12</span>&nbsp;
<a href="https://www.cnblogs.com/Honsen">明理</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18748736" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18748736);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18748736', targetLink: 'https://www.cnblogs.com/Honsen/p/18748736', title: '算子var_threshold' })">举报</a>
</div>
        