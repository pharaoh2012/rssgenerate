
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiao987334176/p/18872195" title="å‘å¸ƒäº 2025-05-15 15:44">
    <span role="heading" aria-level="2">pythonå¼€å‘Streamable HTTP MCPåº”ç”¨</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h1>ä¸€ã€æ¦‚è¿°</h1>
<p>ä½¿ç”¨pythonå¼€å‘ï¼Œæœ€å¥½çš„æ¡†æ¶æ˜¯fastmcpï¼Œgithubè¿æ¥ï¼š<a href="https://github.com/jlowin/fastmcp" target="_blank" rel="noopener nofollow">https://github.com/jlowin/fastmcp</a></p>
<p>2025 å¹´ 5 æœˆ 9 æ—¥ï¼Œfastmcpå‘å¸ƒv2.3.0ç‰ˆæœ¬ï¼Œæ­£å¼æ”¯æŒStreamable HTTP</p>
<p>ç»ˆäºç­‰åˆ°å®˜æ–¹æ”¯æŒäº†ï¼</p>
<p>&nbsp;</p>
<p>æ³¨æ„ï¼š2.3.0ç‰ˆæœ¬æœ‰bugï¼Œç›®å‰æœ€æ–°ç‰ˆæœ¬å·²ç»ä¿®å¤äº†</p>
<p>å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬</p>
<div class="cnblogs_code">
<pre>pip <span style="color: rgba(0, 0, 255, 1)">install</span> --upgrade fastmcp</pre>
</div>
<p>&nbsp;</p>
<p>å…³äºStreamable HTTPçš„ä»‹ç»ï¼Œè¯·å‚è€ƒé“¾æ¥ï¼š<a href="https://www.cnblogs.com/xiao987334176/p/18845151" target="_blank">https://www.cnblogs.com/xiao987334176/p/18845151</a></p>
<p>è¿™é‡Œå°±ä¸å†é‡å¤äº†</p>
<p>&nbsp;</p>
<h1>äºŒã€Streamable HTTP MCPåº”ç”¨</h1>
<h2>å®˜æ–¹demo</h2>
<p>server.py</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)">from fastmcp import FastMCP

mcp </span>= FastMCP(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Demo ğŸš€</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

@mcp.tool()
def add(a: </span><span style="color: rgba(0, 0, 255, 1)">int</span>, b: <span style="color: rgba(0, 0, 255, 1)">int</span>) -&gt; <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">:
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">Add two numbers</span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(0, 0, 0, 1)">
    return a </span>+<span style="color: rgba(0, 0, 0, 1)"> b

</span><span style="color: rgba(0, 0, 255, 1)">if</span> __name__ == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">__main__</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">:
    mcp.run(transport</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">streamable-http</span><span style="color: rgba(128, 0, 0, 1)">"</span>, host=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">0.0.0.0</span><span style="color: rgba(128, 0, 0, 1)">"</span>, port=<span style="color: rgba(128, 0, 128, 1)">8000</span>, path=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">/mcp</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>é€šè¿‡ä»¥ä¸Š8è¡Œä»£ç ï¼Œå°±ç®€å•å®ç°äº†Streamable HTTP MCPåº”ç”¨ã€‚</p>
<p>&nbsp;</p>
<h2>è·å–æœåŠ¡å™¨å…¬ç½‘ip</h2>
<p>é€šè¿‡ä¸€ä¸ªåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä½¿ç”¨çš„åŠŸèƒ½ï¼Œæ¥æ¼”ç¤ºä¸€ä¸ªStreamable HTTP MCPåº”ç”¨</p>
<p>server.py</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> json
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> requests
</span><span style="color: rgba(0, 0, 255, 1)">from</span> fastmcp <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> FastMCP
mcp </span>= FastMCP(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Demo ğŸš€</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)


@mcp.tool()
</span><span style="color: rgba(0, 0, 255, 1)">def</span> get_public_ip_address() -&gt;<span style="color: rgba(0, 0, 0, 1)"> str:
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">
    è·å–æœåŠ¡å™¨å…¬ç½‘ IP åœ°å€
    è¿”å›: 
        str: å½“å‰ç½‘ç»œçš„å…¬ç½‘ IP åœ°å€
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span>
    <span style="color: rgba(0, 0, 255, 1)">try</span><span style="color: rgba(0, 0, 0, 1)">:
        response </span>= requests.get(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">http://ip-api.com/json</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
        response.raise_for_status()  </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> æ£€æŸ¥ HTTP è¯·æ±‚æ˜¯å¦æˆåŠŸ</span>
        content =<span style="color: rgba(0, 0, 0, 1)"> json.loads(response.text)
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> content.get(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">query</span><span style="color: rgba(128, 0, 0, 1)">"</span>, <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Unknown IP</span><span style="color: rgba(128, 0, 0, 1)">"</span>)  <span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> æä¾›é»˜è®¤å€¼ä»¥é˜²å­—æ®µç¼ºå¤±</span>
    <span style="color: rgba(0, 0, 255, 1)">except</span><span style="color: rgba(0, 0, 0, 1)"> requests.RequestException as e:
        </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è¯·æ±‚é”™è¯¯: {e}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Request Failed</span><span style="color: rgba(128, 0, 0, 1)">"</span>
    <span style="color: rgba(0, 0, 255, 1)">except</span><span style="color: rgba(0, 0, 0, 1)"> json.JSONDecodeError as e:
        </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">JSON è§£ç é”™è¯¯: {e}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Invalid Response</span><span style="color: rgba(128, 0, 0, 1)">"</span>


<span style="color: rgba(0, 0, 255, 1)">if</span> <span style="color: rgba(128, 0, 128, 1)">__name__</span> == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">__main__</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">:
    </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> mcp.run()</span>
    mcp.run(transport=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">streamable-http</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
            host</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">0.0.0.0</span><span style="color: rgba(128, 0, 0, 1)">"</span>, port=9000, path=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">/mcp</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>è¿è¡Œä»£ç </p>
<div class="cnblogs_code">
<pre>python server.py</pre>
</div>
<p>è¾“å‡ºï¼š</p>
<div class="cnblogs_code">
<pre>[<span style="color: rgba(128, 0, 128, 1)">05</span>/<span style="color: rgba(128, 0, 128, 1)">12</span>/<span style="color: rgba(128, 0, 128, 1)">25</span> <span style="color: rgba(128, 0, 128, 1)">10</span>:<span style="color: rgba(128, 0, 128, 1)">03</span>:<span style="color: rgba(128, 0, 128, 1)">55</span>] INFO     Starting server <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">public_ip_address</span><span style="color: rgba(128, 0, 0, 1)">"</span>...                                                                                                                                                                                                                         server.py:<span style="color: rgba(128, 0, 128, 1)">202</span><span style="color: rgba(0, 0, 0, 1)">
INFO:     Started server process [</span><span style="color: rgba(128, 0, 128, 1)">43312</span><span style="color: rgba(0, 0, 0, 1)">]
INFO:     Waiting </span><span style="color: rgba(0, 0, 255, 1)">for</span><span style="color: rgba(0, 0, 0, 1)"> application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http:</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">0.0.0.0:9000 (Press CTRL+C to quit)</span></pre>
</div>
<h3>Cherry Studioæµ‹è¯•</h3>
<p>è¯·ç¡®ä¿Cherry Studioç‰ˆæœ¬æ˜¯æœ€æ–°çš„ï¼Œå› ä¸ºæ–°ç‰ˆæœ¬ï¼Œå¢åŠ äº†Streamable HTTPæ”¯æŒ</p>
<p>æ·»åŠ mcpæœåŠ¡å™¨</p>
<p>&nbsp;</p>
<p>åç§°ï¼špublic_ip_address_mcp</p>
<p>ç±»å‹ï¼šStreamable HTTP</p>
<p>urlï¼šhttp://localhost:9000/mcp</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250512100757034-1717375166.png" alt="" loading="lazy"></p>
<p>&nbsp;æ·»åŠ æˆåŠŸåï¼Œç‚¹å‡»å·¥å…·ï¼Œå¯ä»¥çœ‹åˆ°å·¥å…·æ–¹æ³•</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250512100957278-653628197.png" alt="" loading="lazy"></p>
<p>&nbsp;åˆ›å»º</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250512101856001-2027451460.png" alt="" loading="lazy"></p>
<p>&nbsp;</p>
<p>æ·»åŠ </p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250512101915349-971324970.png" alt="" loading="lazy"></p>
<p>&nbsp;</p>
<p>é€‰æ‹©åŠ©æ‰‹</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250512101940151-726646954.png" alt="" loading="lazy"></p>
<p>&nbsp;</p>
<p>é€‰æ‹©</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250512102020632-1045283391.png" alt="" loading="lazy"></p>
<p>&nbsp;</p>
<p>æé—®å…¬ç½‘ipï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250515140540666-1486994608.png" alt="" loading="lazy"></p>
<p>éªŒè¯ä¸€ä¸‹å…¬ç½‘ipæ˜¯å¦æ­£ç¡®ï¼Œæ‰“å¼€ç½‘é¡µ</p>
<div><a href="http://ip-api.com/json" target="_blank" rel="noopener nofollow">http://ip-api.com/json</a></div>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250515140634654-893734690.png" alt="" loading="lazy"></p>
<p>ç»“æœæ˜¯æ­£ç¡®çš„ï¼Œæ²¡é—®é¢˜ã€‚</p>
<p>&nbsp;</p>
<h1>ä¸‰ã€SSEè½¬æ¢ä¸ºStreamable HTTP</h1>
<h2>ä»£ç æ”¹é€ </h2>
<p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œå†™çš„mysqlåº”ç”¨æ˜¯SSEæ¨¡å¼ï¼Œé“¾æ¥ï¼š<a href="https://www.cnblogs.com/xiao987334176/p/18827297" target="_blank">https://www.cnblogs.com/xiao987334176/p/18827297</a></p>
<p>æŠŠä»£ç æ‹·è´è¿‡æ¥ï¼Œåªéœ€è¦ä¿®æ”¹2è¡Œä»£ç ï¼Œå°±å¯ä»¥æ— ç¼è½¬æ¢ä¸ºStreamable HTTP&nbsp;</p>
<p>&nbsp;</p>
<p>å°†ä»¥ä¸‹2è¡Œ</p>
<div class="cnblogs_code">
<pre>mcp = FastMCP(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">operateMysql</span><span style="color: rgba(128, 0, 0, 1)">"</span>, host=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">0.0.0.0</span><span style="color: rgba(128, 0, 0, 1)">"</span>, port=9000<span style="color: rgba(0, 0, 0, 1)">)
mcp.run(transport</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">sse</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>ä¿®æ”¹ä¸ºï¼š</p>
<div class="cnblogs_code">
<pre>mcp = FastMCP(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">operateMysql</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
mcp.run(transport</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">streamable-http</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
            host</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">0.0.0.0</span><span style="color: rgba(128, 0, 0, 1)">"</span>, port=9000, path=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">/mcp</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<p>&nbsp;</p>
<p>mysql_mcp_server_proåº”ç”¨ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<p>server.py</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">from</span> fastmcp <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> FastMCP
</span><span style="color: rgba(0, 0, 255, 1)">from</span> mysql.connector <span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> connect, Error
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> os

mcp </span>= FastMCP(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">operateMysql</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)


</span><span style="color: rgba(0, 0, 255, 1)">def</span><span style="color: rgba(0, 0, 0, 1)"> get_db_config():
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">ä»ç¯å¢ƒå˜é‡è·å–æ•°æ®åº“é…ç½®ä¿¡æ¯

    è¿”å›:
        dict: åŒ…å«æ•°æ®åº“è¿æ¥æ‰€éœ€çš„é…ç½®ä¿¡æ¯
        - host: æ•°æ®åº“ä¸»æœºåœ°å€
        - port: æ•°æ®åº“ç«¯å£
        - user: æ•°æ®åº“ç”¨æˆ·å
        - password: æ•°æ®åº“å¯†ç 
        - database: æ•°æ®åº“åç§°

    å¼‚å¸¸:
        ValueError: å½“å¿…éœ€çš„é…ç½®ä¿¡æ¯ç¼ºå¤±æ—¶æŠ›å‡º
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(0, 0, 0, 1)">

    config </span>=<span style="color: rgba(0, 0, 0, 1)"> {
        </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">host</span><span style="color: rgba(128, 0, 0, 1)">"</span>: os.getenv(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">MYSQL_HOST</span><span style="color: rgba(128, 0, 0, 1)">"</span>, <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">localhost</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">),
        </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">port</span><span style="color: rgba(128, 0, 0, 1)">"</span>: int(os.getenv(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">MYSQL_PORT</span><span style="color: rgba(128, 0, 0, 1)">"</span>, <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">3306</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)),
        </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">user</span><span style="color: rgba(128, 0, 0, 1)">"</span>: os.getenv(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">MYSQL_USER</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">),
        </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">password</span><span style="color: rgba(128, 0, 0, 1)">"</span>: os.getenv(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">MYSQL_PASSWORD</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">),
        </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">database</span><span style="color: rgba(128, 0, 0, 1)">"</span>: os.getenv(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">MYSQL_DATABASE</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">),
    }
    </span><span style="color: rgba(0, 0, 255, 1)">print</span><span style="color: rgba(0, 0, 0, 1)">(config)
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> <span style="color: rgba(0, 0, 255, 1)">not</span><span style="color: rgba(0, 0, 0, 1)"> all(
        [
            config[</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">host</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">],
            config[</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">port</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">],
            config[</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">user</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">],
            config[</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">password</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">],
            config[</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">database</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">],
        ]
    ):
        </span><span style="color: rgba(0, 0, 255, 1)">raise</span> ValueError(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç¼ºå°‘å¿…éœ€çš„æ•°æ®åº“é…ç½®</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> config


@mcp.tool()
</span><span style="color: rgba(0, 0, 255, 1)">def</span> execute_sql(query: str) -&gt;<span style="color: rgba(0, 0, 0, 1)"> list:
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥

    å‚æ•°:
        query (str): è¦æ‰§è¡Œçš„SQLè¯­å¥ï¼Œæ”¯æŒå¤šæ¡è¯­å¥ä»¥åˆ†å·åˆ†éš”

    è¿”å›:
        list: åŒ…å«æŸ¥è¯¢ç»“æœçš„TextContentåˆ—è¡¨
        - å¯¹äºSELECTæŸ¥è¯¢ï¼šè¿”å›CSVæ ¼å¼çš„ç»“æœï¼ŒåŒ…å«åˆ—åå’Œæ•°æ®
        - å¯¹äºSHOW TABLESï¼šè¿”å›æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨å
        - å¯¹äºå…¶ä»–æŸ¥è¯¢ï¼šè¿”å›æ‰§è¡ŒçŠ¶æ€å’Œå½±å“è¡Œæ•°
        - å¤šæ¡è¯­å¥çš„ç»“æœä»¥"---"åˆ†éš”

    å¼‚å¸¸:
        Error: å½“æ•°æ®åº“è¿æ¥æˆ–æŸ¥è¯¢æ‰§è¡Œå¤±è´¥æ—¶æŠ›å‡º
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(0, 0, 0, 1)">
    config </span>=<span style="color: rgba(0, 0, 0, 1)"> get_db_config()
    </span><span style="color: rgba(0, 0, 255, 1)">try</span><span style="color: rgba(0, 0, 0, 1)">:
        with connect(</span>**<span style="color: rgba(0, 0, 0, 1)">config) as conn:
            with conn.cursor() as cursor:
                statements </span>= [stmt.strip() <span style="color: rgba(0, 0, 255, 1)">for</span> stmt <span style="color: rgba(0, 0, 255, 1)">in</span> query.split(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">;</span><span style="color: rgba(128, 0, 0, 1)">"</span>) <span style="color: rgba(0, 0, 255, 1)">if</span><span style="color: rgba(0, 0, 0, 1)"> stmt.strip()]
                results </span>=<span style="color: rgba(0, 0, 0, 1)"> []

                </span><span style="color: rgba(0, 0, 255, 1)">for</span> statement <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> statements:
                    </span><span style="color: rgba(0, 0, 255, 1)">try</span><span style="color: rgba(0, 0, 0, 1)">:
                        cursor.execute(statement)

                        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> æ£€æŸ¥è¯­å¥æ˜¯å¦è¿”å›äº†ç»“æœé›† (SELECT, SHOW, EXPLAIN, etc.)</span>
                        <span style="color: rgba(0, 0, 255, 1)">if</span><span style="color: rgba(0, 0, 0, 1)"> cursor.description:
                            columns </span>= [desc[0] <span style="color: rgba(0, 0, 255, 1)">for</span> desc <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> cursor.description]
                            rows </span>=<span style="color: rgba(0, 0, 0, 1)"> cursor.fetchall()

                            </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å°†æ¯ä¸€è¡Œçš„æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç‰¹æ®Šå¤„ç†Noneå€¼</span>
                            formatted_rows =<span style="color: rgba(0, 0, 0, 1)"> []
                            </span><span style="color: rgba(0, 0, 255, 1)">for</span> row <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> rows:
                                formatted_row </span>=<span style="color: rgba(0, 0, 0, 1)"> [
                                    </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">NULL</span><span style="color: rgba(128, 0, 0, 1)">"</span> <span style="color: rgba(0, 0, 255, 1)">if</span> value <span style="color: rgba(0, 0, 255, 1)">is</span> None <span style="color: rgba(0, 0, 255, 1)">else</span><span style="color: rgba(0, 0, 0, 1)"> str(value)
                                    </span><span style="color: rgba(0, 0, 255, 1)">for</span> value <span style="color: rgba(0, 0, 255, 1)">in</span><span style="color: rgba(0, 0, 0, 1)"> row
                                ]
                                formatted_rows.append(</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">,</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">.join(formatted_row))

                            </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å°†åˆ—åå’Œæ•°æ®åˆå¹¶ä¸ºCSVæ ¼å¼</span>
<span style="color: rgba(0, 0, 0, 1)">                            results.append(
                                </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\n</span><span style="color: rgba(128, 0, 0, 1)">"</span>.join([<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">,</span><span style="color: rgba(128, 0, 0, 1)">"</span>.join(columns)] +<span style="color: rgba(0, 0, 0, 1)"> formatted_rows)
                            )

                        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å¦‚æœè¯­å¥æ²¡æœ‰è¿”å›ç»“æœé›† (INSERT, UPDATE, DELETE, etc.)</span>
                        <span style="color: rgba(0, 0, 255, 1)">else</span><span style="color: rgba(0, 0, 0, 1)">:
                            conn.commit()  </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> åªæœ‰åœ¨éæŸ¥è¯¢è¯­å¥æ—¶æ‰æäº¤</span>
                            results.append(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æŸ¥è¯¢æ‰§è¡ŒæˆåŠŸã€‚å½±å“è¡Œæ•°: {cursor.rowcount}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)

                    </span><span style="color: rgba(0, 0, 255, 1)">except</span><span style="color: rgba(0, 0, 0, 1)"> Error as stmt_error:
                        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å•æ¡è¯­å¥æ‰§è¡Œå‡ºé”™æ—¶ï¼Œè®°å½•é”™è¯¯å¹¶ç»§ç»­æ‰§è¡Œ</span>
<span style="color: rgba(0, 0, 0, 1)">                        results.append(
                            f</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ‰§è¡Œè¯­å¥ '{statement}' å‡ºé”™: {str(stmt_error)}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
                        )
                        </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å¯ä»¥åœ¨è¿™é‡Œé€‰æ‹©æ˜¯å¦ç»§ç»­æ‰§è¡Œåç»­è¯­å¥ï¼Œç›®å‰æ˜¯ç»§ç»­</span>

                <span style="color: rgba(0, 0, 255, 1)">return</span> [<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">\n---\n</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">.join(results)]

    </span><span style="color: rgba(0, 0, 255, 1)">except</span><span style="color: rgba(0, 0, 0, 1)"> Error as e:
        </span><span style="color: rgba(0, 0, 255, 1)">print</span>(f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ‰§è¡ŒSQL '{query}' æ—¶å‡ºé”™: {e}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> [f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ‰§è¡ŒæŸ¥è¯¢æ—¶å‡ºé”™: {str(e)}</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">]


@mcp.tool()
</span><span style="color: rgba(0, 0, 255, 1)">def</span> get_table_name(text: str) -&gt;<span style="color: rgba(0, 0, 0, 1)"> list:
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">æ ¹æ®è¡¨çš„ä¸­æ–‡æ³¨é‡Šæœç´¢æ•°æ®åº“ä¸­çš„è¡¨å

    å‚æ•°:
        text (str): è¦æœç´¢çš„è¡¨ä¸­æ–‡æ³¨é‡Šå…³é”®è¯

    è¿”å›:
        list: åŒ…å«æŸ¥è¯¢ç»“æœçš„TextContentåˆ—è¡¨
        - è¿”å›åŒ¹é…çš„è¡¨åã€æ•°æ®åº“åå’Œè¡¨æ³¨é‡Šä¿¡æ¯
        - ç»“æœä»¥CSVæ ¼å¼è¿”å›ï¼ŒåŒ…å«åˆ—åå’Œæ•°æ®
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(0, 0, 0, 1)">
    config </span>=<span style="color: rgba(0, 0, 0, 1)"> get_db_config()
    sql </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">SELECT TABLE_SCHEMA, TABLE_NAME, TABLE_COMMENT </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
    sql </span>+= f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">FROM information_schema.TABLES WHERE TABLE_SCHEMA = '{config['database']}' AND TABLE_COMMENT LIKE '%{text}%';</span><span style="color: rgba(128, 0, 0, 1)">"</span>
    <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> execute_sql(sql)


@mcp.tool()
</span><span style="color: rgba(0, 0, 255, 1)">def</span> get_table_desc(text: str) -&gt;<span style="color: rgba(0, 0, 0, 1)"> list:
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">è·å–æŒ‡å®šè¡¨çš„å­—æ®µç»“æ„ä¿¡æ¯

    å‚æ•°:
        text (str): è¦æŸ¥è¯¢çš„è¡¨åï¼Œå¤šä¸ªè¡¨åä»¥é€—å·åˆ†éš”

    è¿”å›:
        list: åŒ…å«æŸ¥è¯¢ç»“æœçš„åˆ—è¡¨
        - è¿”å›è¡¨çš„å­—æ®µåã€å­—æ®µæ³¨é‡Šç­‰ä¿¡æ¯
        - ç»“æœæŒ‰è¡¨åå’Œå­—æ®µé¡ºåºæ’åº
        - ç»“æœä»¥CSVæ ¼å¼è¿”å›ï¼ŒåŒ…å«åˆ—åå’Œæ•°æ®
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(0, 0, 0, 1)">
    config </span>=<span style="color: rgba(0, 0, 0, 1)"> get_db_config()
    </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> å°†è¾“å…¥çš„è¡¨åæŒ‰é€—å·åˆ†å‰²æˆåˆ—è¡¨</span>
    table_names = [name.strip() <span style="color: rgba(0, 0, 255, 1)">for</span> name <span style="color: rgba(0, 0, 255, 1)">in</span> text.split(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">,</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">)]
    </span><span style="color: rgba(0, 128, 0, 1)">#</span><span style="color: rgba(0, 128, 0, 1)"> æ„å»ºINæ¡ä»¶</span>
    table_condition = <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">','</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">.join(table_names)
    sql </span>= <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">SELECT TABLE_NAME, COLUMN_NAME, COLUMN_COMMENT </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
    sql </span>+=<span style="color: rgba(0, 0, 0, 1)"> (
        f</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = '{config['database']}' </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
    )
    sql </span>+= f<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">AND TABLE_NAME IN ('{table_condition}') ORDER BY TABLE_NAME, ORDINAL_POSITION;</span><span style="color: rgba(128, 0, 0, 1)">"</span>
    <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> execute_sql(sql)


@mcp.tool()
</span><span style="color: rgba(0, 0, 255, 1)">def</span> get_lock_tables() -&gt;<span style="color: rgba(0, 0, 0, 1)"> list:
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">
    è·å–å½“å‰mysqlæœåŠ¡å™¨InnoDB çš„è¡Œçº§é”

    è¿”å›:
        list: åŒ…å«æŸ¥è¯¢ç»“æœçš„TextContentåˆ—è¡¨
    </span><span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(0, 0, 0, 1)">
    sql </span>= <span style="color: rgba(128, 0, 0, 1)">"""</span><span style="color: rgba(128, 0, 0, 1)">SELECT
    p2.`HOST` AS è¢«é˜»å¡æ–¹host,
    p2.`USER` AS è¢«é˜»å¡æ–¹ç”¨æˆ·,
    r.trx_id AS è¢«é˜»å¡æ–¹äº‹åŠ¡id,
    r.trx_mysql_thread_id AS è¢«é˜»å¡æ–¹çº¿ç¨‹å·,
    TIMESTAMPDIFF(SECOND, r.trx_wait_started, CURRENT_TIMESTAMP) AS ç­‰å¾…æ—¶é—´,
    r.trx_query AS è¢«é˜»å¡çš„æŸ¥è¯¢,
    l.OBJECT_NAME AS é˜»å¡æ–¹é”ä½çš„è¡¨,
    m.LOCK_MODE AS è¢«é˜»å¡æ–¹çš„é”æ¨¡å¼,
    m.LOCK_TYPE AS 'è¢«é˜»å¡æ–¹çš„é”ç±»å‹(è¡¨é”è¿˜æ˜¯è¡Œé”)',
    m.INDEX_NAME AS è¢«é˜»å¡æ–¹é”ä½çš„ç´¢å¼•,
    m.OBJECT_SCHEMA AS è¢«é˜»å¡æ–¹é”å¯¹è±¡çš„æ•°æ®åº“å,
    m.OBJECT_NAME AS è¢«é˜»å¡æ–¹é”å¯¹è±¡çš„è¡¨å,
    m.LOCK_DATA AS è¢«é˜»å¡æ–¹äº‹åŠ¡é”å®šè®°å½•çš„ä¸»é”®å€¼,
    p.`HOST` AS é˜»å¡æ–¹ä¸»æœº,
    p.`USER` AS é˜»å¡æ–¹ç”¨æˆ·,
    b.trx_id AS é˜»å¡æ–¹äº‹åŠ¡id,
    b.trx_mysql_thread_id AS é˜»å¡æ–¹çº¿ç¨‹å·,
    b.trx_query AS é˜»å¡æ–¹æŸ¥è¯¢,
    l.LOCK_MODE AS é˜»å¡æ–¹çš„é”æ¨¡å¼,
    l.LOCK_TYPE AS 'é˜»å¡æ–¹çš„é”ç±»å‹(è¡¨é”è¿˜æ˜¯è¡Œé”)',
    l.INDEX_NAME AS é˜»å¡æ–¹é”ä½çš„ç´¢å¼•,
    l.OBJECT_SCHEMA AS é˜»å¡æ–¹é”å¯¹è±¡çš„æ•°æ®åº“å,
    l.OBJECT_NAME AS é˜»å¡æ–¹é”å¯¹è±¡çš„è¡¨å,
    l.LOCK_DATA AS é˜»å¡æ–¹äº‹åŠ¡é”å®šè®°å½•çš„ä¸»é”®å€¼,
    IF(p.COMMAND = 'Sleep', CONCAT(p.TIME, ' ç§’'), 0) AS é˜»å¡æ–¹äº‹åŠ¡ç©ºé—²çš„æ—¶é—´
    FROM performance_schema.data_lock_waits w
    INNER JOIN performance_schema.data_locks l ON w.BLOCKING_ENGINE_LOCK_ID = l.ENGINE_LOCK_ID
    INNER JOIN performance_schema.data_locks m ON w.REQUESTING_ENGINE_LOCK_ID = m.ENGINE_LOCK_ID
    INNER JOIN information_schema.INNODB_TRX b ON b.trx_id = w.BLOCKING_ENGINE_TRANSACTION_ID
    INNER JOIN information_schema.INNODB_TRX r ON r.trx_id = w.REQUESTING_ENGINE_TRANSACTION_ID
    INNER JOIN information_schema.PROCESSLIST p ON p.ID = b.trx_mysql_thread_id
    INNER JOIN information_schema.PROCESSLIST p2 ON p2.ID = r.trx_mysql_thread_id
    ORDER BY ç­‰å¾…æ—¶é—´ DESC;</span><span style="color: rgba(128, 0, 0, 1)">"""</span>

    <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> execute_sql(sql)


</span><span style="color: rgba(0, 0, 255, 1)">if</span> <span style="color: rgba(128, 0, 128, 1)">__name__</span> == <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">__main__</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">:
    mcp.run(transport</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">streamable-http</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">,
            host</span>=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">0.0.0.0</span><span style="color: rgba(128, 0, 0, 1)">"</span>, port=9000, path=<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">/mcp</span><span style="color: rgba(128, 0, 0, 1)">"</span>)</pre>
</div>
<h2>ç¼–è¯‘é•œåƒ</h2>
<p>ä¿®æ”¹Dockerfileï¼Œå‡çº§fastmcp</p>
<div class="cnblogs_code">
<pre>FROM python:<span style="color: rgba(128, 0, 128, 1)">3.13</span>.<span style="color: rgba(128, 0, 128, 1)">3</span>-alpine3.<span style="color: rgba(128, 0, 128, 1)">21</span><span style="color: rgba(0, 0, 0, 1)">
ADD . </span>/<span style="color: rgba(0, 0, 0, 1)">app
RUN pip3 </span><span style="color: rgba(0, 0, 255, 1)">install</span> --upgrade pip -i https:<span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">pypi.tuna.tsinghua.edu.cn/simple &amp;&amp; \</span>
    pip3 <span style="color: rgba(0, 0, 255, 1)">install</span> mysql-connector-python fastmcp -i https:<span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">pypi.tuna.tsinghua.edu.cn/simple &amp;&amp; \</span>
    pip3 <span style="color: rgba(0, 0, 255, 1)">install</span> --<span style="color: rgba(0, 0, 0, 1)">upgrade fastmcp
WORKDIR </span>/<span style="color: rgba(0, 0, 0, 1)">app

EXPOSE </span><span style="color: rgba(128, 0, 128, 1)">9000</span><span style="color: rgba(0, 0, 0, 1)">

ENTRYPOINT [</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">python3</span><span style="color: rgba(128, 0, 0, 1)">"</span>,<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">/app/server.py</span><span style="color: rgba(128, 0, 0, 1)">"</span>]</pre>
</div>
<p>&nbsp;</p>
<p>ç¼–è¯‘é•œåƒ</p>
<div class="cnblogs_code">
<pre>docker build -t mysql_mcp_server_pro:v1 .</pre>
</div>
<p>&nbsp;</p>
<h2>ä½¿ç”¨docker-composeå¯åŠ¨</h2>
<p>docker-compose.yaml</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)">services:
  mysql_mcp_server_pro:
    image: mysql_mcp_server_pro:v1
    container_name: mysql_mcp_server_pro
    ports:
      </span>- <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">9090:9000</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
    environment:
      MYSQL_HOST: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">192.168.20.128</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
      MYSQL_PORT: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">3306</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
      MYSQL_USER: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">root</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
      MYSQL_PASSWORD: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">abcd@1234</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
      MYSQL_DATABASE: </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">test</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
      TZ: Asia</span>/<span style="color: rgba(0, 0, 0, 1)">Shanghai
    restart: always</span></pre>
</div>
<p>æ³¨æ„ä¿®æ”¹mysqlç›¸å…³ç¯å¢ƒå˜é‡</p>
<p>&nbsp;</p>
<p>è¿è¡Œ</p>
<div class="cnblogs_code">
<pre>docker-compose up -d</pre>
</div>
<p>&nbsp;</p>
<h2>Cherry Studioæµ‹è¯•</h2>
<p>æ·»åŠ MCPæœåŠ¡å™¨</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250515152553604-1250665337.png" alt="" loading="lazy"></p>
<p>æ·»åŠ æ™ºèƒ½ä½“mysql8</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250515152648627-700026281.png" alt="" loading="lazy"></p>
<p>&nbsp;æç¤ºè¯å’Œä»¥å‰ä¸€æ ·</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_a57cd39e-826a-4777-b94a-54da9aa5c81f" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_a57cd39e-826a-4777-b94a-54da9aa5c81f" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_a57cd39e-826a-4777-b94a-54da9aa5c81f" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 0, 0, 1)">ä½¿ç”¨ä¸­æ–‡å›å¤ã€‚

å½“ç”¨æˆ·æé—®ä¸­æ¶‰åŠå­¦ç”Ÿã€æ•™å¸ˆã€æˆç»©ã€ç­çº§ã€è¯¾ç¨‹ç­‰å®ä½“æ—¶ï¼Œéœ€è¦ä½¿ç”¨ MySQL MCP è¿›è¡Œæ•°æ®æŸ¥è¯¢å’Œæ“ä½œï¼Œè¡¨ç»“æ„è¯´æ˜å¦‚ä¸‹ï¼š

# å­¦ç”Ÿç®¡ç†ç³»ç»Ÿæ•°æ®åº“è¡¨ç»“æ„è¯´æ˜

## </span><span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">. æ•™å¸ˆè¡¨ (teachers)

</span>| å­—æ®µå | ç±»å‹ | æè¿° | çº¦æŸ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| <span style="color: rgba(0, 0, 255, 1)">id</span> | varchar | æ•™å¸ˆID | ä¸»é”® |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">T001</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| name | varchar | æ•™å¸ˆå§“å | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¼ å»ºå›½</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| gender | enum | æ€§åˆ« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç”·</span><span style="color: rgba(128, 0, 0, 1)">"</span>æˆ–<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¥³</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç”·</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| subject | varchar | æ•™æˆç§‘ç›® | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ•°å­¦</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| title | varchar | èŒç§° | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">æ•™æˆ</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| phone | varchar | è”ç³»ç”µè¯ | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">13812345678</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| office | varchar | åŠå…¬å®¤ä½ç½® | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">åšå­¦æ¥¼301</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| wechat | varchar | å¾®ä¿¡(å¯é€‰) | å¯é€‰ |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">lily_teacher</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| isHeadTeacher | enum | æ˜¯å¦ä¸ºç­ä¸»ä»»ï¼Œ<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">true</span><span style="color: rgba(128, 0, 0, 1)">"</span>æˆ–<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">false</span><span style="color: rgba(128, 0, 0, 1)">"</span> | å¯é€‰ |&nbsp;<span style="color: rgba(0, 0, 255, 1)">true</span>&nbsp;|<span style="color: rgba(0, 0, 0, 1)">

## </span><span style="color: rgba(128, 0, 128, 1)">2</span><span style="color: rgba(0, 0, 0, 1)">. ç­çº§è¡¨ (classes)

</span>| å­—æ®µå | ç±»å‹ | æè¿° | çº¦æŸ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| <span style="color: rgba(0, 0, 255, 1)">id</span> | varchar | ç­çº§ID | ä¸»é”® |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">202301</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| className | varchar | ç­çº§åç§° | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">2023çº§è®¡ç®—æœº1ç­</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| grade | <span style="color: rgba(0, 0, 255, 1)">int</span> | å¹´çº§ | å¿…å¡« | <span style="color: rgba(128, 0, 128, 1)">2023</span> |
| headTeacherId | varchar | ç­ä¸»ä»»ID | å¤–é”®(teachers.<span style="color: rgba(0, 0, 255, 1)">id</span>) |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">T003</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| classroom | varchar | æ•™å®¤ä½ç½® | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">1å·æ¥¼302</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| studentCount | <span style="color: rgba(0, 0, 255, 1)">int</span> | å­¦ç”Ÿäººæ•° | å¿…å¡« | <span style="color: rgba(128, 0, 128, 1)">35</span> |
| remark | varchar | å¤‡æ³¨ä¿¡æ¯ | å¯é€‰ |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¸‚çº§ä¼˜ç§€ç­é›†ä½“</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|<span style="color: rgba(0, 0, 0, 1)">

## </span><span style="color: rgba(128, 0, 128, 1)">3</span><span style="color: rgba(0, 0, 0, 1)">. è¯¾ç¨‹è¡¨ (courses)

</span>| å­—æ®µå | ç±»å‹ | æè¿° | çº¦æŸ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| <span style="color: rgba(0, 0, 255, 1)">id</span> | varchar | è¯¾ç¨‹ID | ä¸»é”® |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">C001</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| courseName | varchar | è¯¾ç¨‹åç§° | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">é«˜ç­‰æ•°å­¦</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| credit | <span style="color: rgba(0, 0, 255, 1)">int</span> | å­¦åˆ† | å¿…å¡« | <span style="color: rgba(128, 0, 128, 1)">4</span> |
| teacherId | varchar | æˆè¯¾æ•™å¸ˆID | å¤–é”®(teachers.<span style="color: rgba(0, 0, 255, 1)">id</span>) |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">T001</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| semester | varchar | å­¦æœŸ | æ ¼å¼<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">YYYY-N</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">2023-1</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
|&nbsp;type&nbsp;| enum | è¯¾ç¨‹ç±»å‹ |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¿…ä¿®</span><span style="color: rgba(128, 0, 0, 1)">"</span>æˆ–<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">é€‰ä¿®</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¿…ä¿®</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| prerequisite | varchar | å…ˆä¿®è¯¾ç¨‹ID | å¯é€‰,å¤–é”®(courses.<span style="color: rgba(0, 0, 255, 1)">id</span>) |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">C003</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|<span style="color: rgba(0, 0, 0, 1)">

## </span><span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">. å­¦ç”Ÿè¡¨ (students)

</span>| å­—æ®µå | ç±»å‹ | æè¿° | çº¦æŸ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| <span style="color: rgba(0, 0, 255, 1)">id</span> | varchar | å­¦å· | ä¸»é”® |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">S20230101</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| name | varchar | å­¦ç”Ÿå§“å | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç‹å¼º</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| gender | enum | æ€§åˆ« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç”·</span><span style="color: rgba(128, 0, 0, 1)">"</span>æˆ–<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">å¥³</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ç”·</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| birthDate | <span style="color: rgba(0, 0, 255, 1)">date</span> | å‡ºç”Ÿæ—¥æœŸ | å¿…å¡« | <span style="color: rgba(0, 0, 255, 1)">date</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">2005-01-15</span><span style="color: rgba(128, 0, 0, 1)">"</span>) |
| enrollmentDate | <span style="color: rgba(0, 0, 255, 1)">date</span> | å…¥å­¦æ—¥æœŸ | å¿…å¡« | <span style="color: rgba(0, 0, 255, 1)">date</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">2023-8-1</span><span style="color: rgba(128, 0, 0, 1)">"</span>) |
| classId | varchar | ç­çº§ID | å¤–é”®(classes.<span style="color: rgba(0, 0, 255, 1)">id</span>) |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">202301</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| phone | varchar | è”ç³»ç”µè¯ | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">13812345678</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| email | varchar | ç”µå­é‚®ç®± | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">20230101@school.edu.cn</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| emergencyContact | varchar | ç´§æ€¥è”ç³»äººç”µè¯ | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">13876543210</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| address | varchar | å®¶åº­ä½å€ | å¿…å¡« |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">åŒ—äº¬å¸‚æµ·æ·€åŒºä¸­å…³æ‘å¤§è¡—1æ ‹101å®¤</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| height | <span style="color: rgba(0, 0, 255, 1)">int</span> | èº«é«˜(cm) | å¿…å¡« | <span style="color: rgba(128, 0, 128, 1)">175</span> |
| weight | <span style="color: rgba(0, 0, 255, 1)">int</span> | ä½“é‡(kg) | å¿…å¡« | <span style="color: rgba(128, 0, 128, 1)">65</span> |
| healthStatus | enum | å¥åº·çŠ¶å†µ | å¿…å¡«ï¼Œ<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è‰¯å¥½</span><span style="color: rgba(128, 0, 0, 1)">"</span>æˆ–<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">ä¸€èˆ¬â€Œ</span><span style="color: rgba(128, 0, 0, 1)">"</span>æˆ–<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è¾ƒå·®</span><span style="color: rgba(128, 0, 0, 1)">"</span> |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">è‰¯å¥½</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|<span style="color: rgba(0, 0, 0, 1)">

## </span><span style="color: rgba(128, 0, 128, 1)">5</span><span style="color: rgba(0, 0, 0, 1)">. æˆç»©è¡¨ (scores)

</span>| å­—æ®µå | ç±»å‹ | æè¿° | çº¦æŸ | ç¤ºä¾‹ |
|--------|------|------|------|------|
| <span style="color: rgba(0, 0, 255, 1)">id</span> | varchar | æˆç»©è®°å½•ID | ä¸»é”® |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">S20230101C001</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| studentId | varchar | å­¦ç”ŸID | å¤–é”®(students.<span style="color: rgba(0, 0, 255, 1)">id</span>) |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">S20230101</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| courseId | varchar | è¯¾ç¨‹ID | å¤–é”®(courses.<span style="color: rgba(0, 0, 255, 1)">id</span>) |&nbsp;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">C001</span><span style="color: rgba(128, 0, 0, 1)">"</span>&nbsp;|
| score | <span style="color: rgba(0, 0, 255, 1)">int</span> | ç»¼åˆæˆç»© | <span style="color: rgba(128, 0, 128, 1)">0</span>-<span style="color: rgba(128, 0, 128, 1)">100</span> | <span style="color: rgba(128, 0, 128, 1)">85</span> |
| examDate | <span style="color: rgba(0, 0, 255, 1)">date</span> | è€ƒè¯•æ—¥æœŸ | å¿…å¡« | <span style="color: rgba(0, 0, 255, 1)">date</span>(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">2024-5-20</span><span style="color: rgba(128, 0, 0, 1)">"</span>) |
| usualScore | <span style="color: rgba(0, 0, 255, 1)">int</span> | å¹³æ—¶æˆç»© | <span style="color: rgba(128, 0, 128, 1)">0</span>-<span style="color: rgba(128, 0, 128, 1)">100</span> | <span style="color: rgba(128, 0, 128, 1)">90</span> |
| finalScore | <span style="color: rgba(0, 0, 255, 1)">int</span> | æœŸæœ«æˆç»© | <span style="color: rgba(128, 0, 128, 1)">0</span>-<span style="color: rgba(128, 0, 128, 1)">100</span> | <span style="color: rgba(128, 0, 128, 1)">80</span> |<span style="color: rgba(0, 0, 0, 1)">

### è¡¥è€ƒæˆç»©è®°å½•è¯´æ˜
è¡¥è€ƒè®°å½•åœ¨_idåæ·»åŠ </span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">_M</span><span style="color: rgba(128, 0, 0, 1)">"</span>åç¼€ï¼Œå¦‚<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">S20230101C001_M</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">

## è¡¨å…³ç³»è¯´æ˜

</span><span style="color: rgba(128, 0, 128, 1)">1</span>. **ä¸€å¯¹å¤šå…³ç³»**<span style="color: rgba(0, 0, 0, 1)">:
&nbsp; &nbsp;</span>-<span style="color: rgba(0, 0, 0, 1)"> ä¸€ä¸ªç­çº§(classes)å¯¹åº”å¤šä¸ªå­¦ç”Ÿ(students)
&nbsp; &nbsp;</span>-<span style="color: rgba(0, 0, 0, 1)"> ä¸€ä¸ªæ•™å¸ˆ(teachers)å¯ä»¥æ•™æˆå¤šé—¨è¯¾ç¨‹(courses)
&nbsp; &nbsp;</span>-<span style="color: rgba(0, 0, 0, 1)"> ä¸€ä¸ªå­¦ç”Ÿ(students)æœ‰å¤šæ¡æˆç»©è®°å½•(scores)

</span><span style="color: rgba(128, 0, 128, 1)">2</span>. **å¤–é”®çº¦æŸ**<span style="color: rgba(0, 0, 0, 1)">:
&nbsp; &nbsp;</span>- students.classId â†’ classes.<span style="color: rgba(0, 0, 255, 1)">id</span><span style="color: rgba(0, 0, 0, 1)">
&nbsp; &nbsp;</span>- courses.teacherId â†’ teachers.<span style="color: rgba(0, 0, 255, 1)">id</span><span style="color: rgba(0, 0, 0, 1)">
&nbsp; &nbsp;</span>- scores.studentId â†’ students.<span style="color: rgba(0, 0, 255, 1)">id</span><span style="color: rgba(0, 0, 0, 1)">
&nbsp; &nbsp;</span>- scores.courseId â†’ courses.<span style="color: rgba(0, 0, 255, 1)">id</span><span style="color: rgba(0, 0, 0, 1)">
&nbsp; &nbsp;</span>- classes.headTeacherId â†’ teachers.<span style="color: rgba(0, 0, 255, 1)">id</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>mysqlè¡¨ç»“æ„ï¼Œå‚è€ƒæ–‡ç« ï¼š<a href="https://www.cnblogs.com/xiao987334176/p/18826422" target="_blank">https://www.cnblogs.com/xiao987334176/p/18826422</a></p>
<p>&nbsp;</p>
<p>å°†æ™ºèƒ½ä½“ï¼Œæ·»åŠ åŠ©æ‰‹</p>
<p>æ‰“å¼€åŠ©æ‰‹ï¼Œé€‰æ‹©MCP</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250515152851437-387806280.png" alt="" loading="lazy"></p>
<p>&nbsp;æä¸€ä¸ªé—®é¢˜ï¼Œæåçš„è€å¸ˆæ˜¯è°</p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1341090/202505/1341090-20250515152926990-61689416.png" alt="" loading="lazy"></p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.02500926229976852" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-15 15:45">2025-05-15 15:44</span>&nbsp;
<a href="https://www.cnblogs.com/xiao987334176">è‚–ç¥¥</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18872195);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18872195', targetLink: 'https://www.cnblogs.com/xiao987334176/p/18872195', title: 'pythonå¼€å‘Streamable HTTP MCPåº”ç”¨' })">ä¸¾æŠ¥</a>
</div>
        