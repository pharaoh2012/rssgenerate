
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/vipstone/p/18846962" title="发布于 2025-04-25 16:34">
    <span role="heading" aria-level="2">最火向量数据库Milvus安装使用一条龙！</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>向量数据库是大模型应用开发必备组件之一，因为它在知识库、语义搜索、检索增强生成（RAG）等人工智能应用中发挥着举足轻重的作用。但向量数据有很多，为什么要使用 Milvus 呢？</p>
<h2 id="常见向量数据">常见向量数据</h2>
<p>常见的向量数据库有以下这些：</p>
<ul>
<li>Chroma</li>
<li>Elasticsearch</li>
<li>Milvus</li>
<li>Neo4j</li>
<li>OpenSearch</li>
<li>Redis</li>
<li>PGVector</li>
</ul>
<p>然而目前<strong>市面上使用最多的向量数据库还是 Milvus</strong>，为什么呢？</p>
<p>这点从企业的招聘要求中也能发现：</p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202504/172074-20250425163202603-293695863.png" alt="" loading="lazy"></p>
<h2 id="为什么是-milvus">为什么是 Milvus？</h2>
<p>Milvus 设计之初就是为 AI  而生的一个高效的向量数据库系统，在大多数情况下，Milvus 的性能是其他向量数据库的 2-5 倍，它能<strong>实现万亿级向量的毫秒级</strong>相似性搜索，而且 Milvus 还是<strong>开源的向量数据库</strong>。</p>
<blockquote>
<p>PS：也就说 Milvus 既开源（可以免费使用+支持二次开发）又具备高性能，这样的数据库谁不爱呢？</p>
</blockquote>
<h2 id="为什么-milvus-这么快">为什么 Milvus 这么快？</h2>
<p>Milvus 运行比较快的原因有以下几个：</p>
<ul>
<li><strong>硬件感知优化</strong>：为了让 Milvus 适应各种硬件环境，我们专门针对多种硬件架构和平台优化了其性能，包括 AVX512、SIMD、GPU 和 NVMe SSD。</li>
<li><strong>高级搜索算法</strong>：Milvus 支持多种内存和磁盘索引/搜索算法，包括 IVF、HNSW、DiskANN 等，所有这些算法都经过了深度优化。与 FAISS 和 HNSWLib 等流行实现相比，Milvus 的性能提高了 30%-70%。</li>
<li><strong>C++ 搜索引擎</strong>：向量数据库性能的 80% 以上取决于其搜索引擎。由于 C++ 语言的高性能、底层优化和高效资源管理，Milvus 将 C++ 用于这一关键组件。最重要的是，Milvus 集成了大量硬件感知代码优化，从汇编级向量到多线程并行化和调度，以充分利用硬件能力。</li>
<li><strong>面向列</strong>：Milvus 是面向列的向量数据库系统。其主要优势来自数据访问模式。在执行查询时，面向列的数据库只读取查询中涉及的特定字段，而不是整行，这大大减少了访问的数据量。此外，对基于列的数据的操作可以很容易地进行向量化，从而可以一次性在整个列中应用操作，进一步提高性能。</li>
</ul>
<h2 id="milvus-支持的搜索类型"><font style="color: rgba(25, 25, 25, 1)">Milvus 支持的搜索类型</font></h2>
<p>Milvus 支持各种类型的搜索功能，以满足不同用例的需求：</p>
<ul>
<li><strong>ANN 搜索</strong>：查找最接近查询向量的前 K 个向量。</li>
<li><strong>过滤搜索</strong>：在指定的过滤条件下执行 ANN 搜索。</li>
<li><strong>范围搜索</strong>：查找查询向量指定半径范围内的向量。</li>
<li><strong>混合搜索</strong>：基于多个向量场进行 ANN 搜索。</li>
<li><strong>全文搜索</strong>：基于 BM25 的全文搜索。</li>
<li><strong>Rerankers</strong>：根据附加标准或辅助算法调整搜索结果顺序，完善初始 ANN 搜索结果。</li>
<li><strong>根据主键检索数据</strong>。</li>
<li>查询使用<strong>特定表达式检索数据</strong>。</li>
</ul>
<h2 id="milvus-安装">Milvus 安装</h2>
<p>Milvus 有三种部署方式：</p>
<ul>
<li><strong>Milvus Lite</strong>：Milvus Lite 是一个 Python 库，可导入到您的应用程序中。作为 Milvus 的轻量级版本，它非常适合在 Jupyter 笔记本或资源有限的智能设备上运行快速原型。Milvus Lite 支持与 Milvus 其他部署相同的 API。与 Milvus Lite 交互的客户端代码也能与其他部署模式下的 Milvus 实例协同工作。</li>
<li><strong>Milvus Standalone</strong>：Milvus Standalone 是单机服务器部署。Milvus Standalone 的所有组件都打包到一个 Docker 镜像中，部署起来非常方便。</li>
<li><strong>Milvus Distributed</strong>：Milvus Distributed 可部署在 Kubernetes 集群上。这种部署采用云原生架构，摄取负载和搜索查询分别由独立节点处理，允许关键组件冗余。它具有最高的可扩展性和可用性，并能灵活定制每个组件中分配的资源。Milvus Distributed 是在生产中运行大规模向量搜索系统的企业用户的首选。</li>
</ul>
<blockquote>
<p>PS：当然中小型公司生产环境也可以直接购买 XXX 云的 Milvus 实例直接使用。</p>
</blockquote>
<p>我们这里使用 Milvus Standalone 单机版部署方式。</p>
<h3 id="硬件要求">硬件要求</h3>
<p><img src="https://img2024.cnblogs.com/blog/172074/202504/172074-20250425163213630-536088411.png" alt="" loading="lazy"></p>
<h3 id="前提条件">前提条件</h3>
<ul>
<li>
<p><strong>安装 Docker Desktop</strong>：点击下载软件安装 <a href="https://www.docker.com/get-started/" target="_blank" rel="noopener nofollow">https://www.docker.com/get-started/</a></p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202504/172074-20250425163429934-1774220340.png" alt="" loading="lazy"></p>
</li>
</ul>
<p>安装之后，需要重启电脑，并且电脑会进行 Linux 子系统更新才能正常启动，此过程可能会比较慢。</p>
<ul>
<li><strong>安装 Windows Subsystem for Linux 2 (WSL 2)</strong>：通常不需要单独安装，安装 Docker Desktop 时会自动安装。</li>
</ul>
<h3 id="正式安装">正式安装</h3>
<p>1.打开 <font style="color: rgba(25, 25, 25, 1)">PowerShell。</font></p>
<p>2.下载安装脚本，命令如下：</p>
<pre><code class="language-shell">Invoke-WebRequest https://raw.githubusercontent.com/milvus-io/milvus/refs/heads/master/scripts/standalone_embed.bat -OutFile standalone.bat
</code></pre>
<p>3.运行下载的脚本</p>
<pre><code class="language-shell">standalone.bat start
</code></pre>
<p>最终执行效果如下：</p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202504/172074-20250425163442817-880099431.png" alt="" loading="lazy"></p>
<p>运行安装脚本后，包含以下内容：</p>
<ul>
<li>名为 Milvus-standalone 的 docker 容器已在19530 端口启动。</li>
<li>嵌入式 etcd 与 Milvus 安装在同一个容器中，服务端口为 2379。其配置文件被映射到当前文件夹中的 embedEtcd.yaml。</li>
<li>Milvus 数据卷映射到当前文件夹中的 volumes/milvus。</li>
</ul>
<p>在 Docker Desktop 也可以看到安装的 Milvus 相关组件：</p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202504/172074-20250425163452229-401580793.png" alt="" loading="lazy"></p>
<p>参考官方文档：<a href="https://milvus.io/docs/zh/install_standalone-windows.md" target="_blank" rel="noopener nofollow">https://milvus.io/docs/zh/install_standalone-windows.md</a></p>
<h2 id="安装-ui-客户端">安装 UI 客户端</h2>
<p>Milvus 服务安装成功之后，可以按照一个 UI 客户端连接 Milvus 服务，使用官方提供的客户端 attu：<a href="https://github.com/zilliztech/attu" target="_blank" rel="noopener nofollow">https://github.com/zilliztech/attu</a></p>
<p>具体安装步骤如下：</p>
<p>1.访问下载安装包（attu-Setup-2.4.12.exe）地址：<a href="https://github.com/zilliztech/attu/releases/tag/v2.4.12" target="_blank" rel="noopener nofollow">https://github.com/zilliztech/attu/releases/tag/v2.4.12</a></p>
<p>2.解压并安装 attu。</p>
<p>安装成功之后连接本地 Milvus 服务，如下图所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202504/172074-20250425163344610-281519915.png" alt="" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/172074/202504/172074-20250425163351947-664087381.png" alt="" loading="lazy"></p>
<h2 id="小结">小结</h2>
<p>Milvus 作为开源高性能向量数据库的代表，它的安装也不难，如果顺利的情况下，可能 5 分钟左右就搞定了。安装完成之后就用它加上 Spring AI 或 LangChain4j 来实现一下 RAG 功能吧。</p>
<blockquote>
<p>本文已收录到我的技术小站 <a href="https://www.javacn.site" target="_blank" rel="noopener nofollow">www.javacn.site</a>，其中包含的内容有：Spring AI、LangChain4j、MCP、Function Call、RAG、向量数据库、Prompt、多模态、向量数据库、嵌入模型等内容。</p>
</blockquote>

</div>
<div id="MySignature" role="contentinfo">
    <div style="text-align: center; color: red">
关注下面二维码，订阅更多精彩内容。
<br>
<img style="margin-left: 0px" src="https://images.cnblogs.com/cnblogs_com/vipstone/848916/o_211225130402_gognzhonghao.jpg">
</div>

<div style="display: none">
    <img src="http://icdn.apigo.cn/gitchat/rabbitmq.png?imageView2/0/w/500/h/400">
</div>
<div style="margin-bottom: 50px; display: none">

<img title="微信打赏" src="http://icdn.apigo.cn/myinfo/wchat-pay.png" alt="微信打赏">
<br>

<div style="display: none">
<span style="display: block; position: absolute; height: 40px; top: 50%; margin-top: -20px">关注公众号（加好友）：</span>

<img style="margin-left: 144px" src="http://icdn.apigo.cn/gongzhonghao2.png?imageView2/0/w/120/h/120">
</div>
<p></p>

<div id="AllanboltSignature">
    <p style="border-top: #e0e0e0 1px dashed; border-right: #e0e0e0 1px dashed; border-bottom: #e0e0e0 1px dashed; border-left: #e0e0e0 1px dashed; padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 60px; background: url(&quot;https://images.cnblogs.com/cnblogs_com/lloydsheng/239039/o_copyright.gif&quot;) #e5f1f4 no-repeat 1% 50%; font-family: 微软雅黑; font-size: 11px" id="PSignature">
        <br> 作者：
        <a href="http://vipstone.cnblogs.com/" target="_blank">王磊的博客</a>
        <br> 出处：
        <a href="http://vipstone.cnblogs.com/" target="_blank">http://vipstone.cnblogs.com/</a>
        <br>
    </p>
</div></div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.07135589597453704" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-25 16:35">2025-04-25 16:34</span>&nbsp;
<a href="https://www.cnblogs.com/vipstone">磊哥|www.javacn.site</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18846962);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18846962', targetLink: 'https://www.cnblogs.com/vipstone/p/18846962', title: '最火向量数据库Milvus安装使用一条龙！' })">举报</a>
</div>
        