
    <a name="top"></a>
    <h2><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/wJiang/p/18915252" title="å‘å¸ƒäº 2025-06-08 14:33">
    <span role="heading" aria-level="2">Svelte 5çŠ¶æ€ç®¡ç†å®æˆ˜ï¼šåŸºäºTauriæ¡†æ¶çš„AIé˜…è¯»å™¨Saga Readerå¼€å‘å®è·µ</span>
    

</a>
</h2>
    <small>
<span id="post-date" data-last-update-days="0.07276322237152778" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-06-08 14:34">2025-06-08 14:33</span>&nbsp;
<a href="https://www.cnblogs.com/wJiang">å§œ èŒ@cnblogs</a>&nbsp;
é˜…è¯»(<span id="post_view_count">19</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18915252);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18915252', targetLink: 'https://www.cnblogs.com/wJiang/p/18915252', title: 'Svelte 5çŠ¶æ€ç®¡ç†å®æˆ˜ï¼šåŸºäºTauriæ¡†æ¶çš„AIé˜…è¯»å™¨Saga Readerå¼€å‘å®è·µ' })">ä¸¾æŠ¥</a>
</small>
    <div class="entry">
        <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="ä¸€é¡¹ç›®èƒŒæ™¯å½“aié˜…è¯»é‡åˆ°è·¨å¹³å°éœ€æ±‚">ä¸€ã€é¡¹ç›®èƒŒæ™¯ï¼šå½“AIé˜…è¯»é‡åˆ°è·¨å¹³å°éœ€æ±‚</h2>
<p>Saga Readerï¼ˆéº’ç¿æ™ºåº“ï¼‰æ˜¯ä¸€æ¬¾åŸºäºAIæŠ€æœ¯çš„è½»é‡çº§è·¨å¹³å°é˜…è¯»å™¨ï¼Œæ ¸å¿ƒåŠŸèƒ½æ¶µç›–RSSè®¢é˜…ã€å†…å®¹æ™ºèƒ½æŠ“å–ã€AIå†…å®¹å¤„ç†ï¼ˆå¦‚ç¿»è¯‘ã€æ‘˜è¦ï¼‰åŠæœ¬åœ°å­˜å‚¨ã€‚é¡¹ç›®é‡‡ç”¨Rustï¼ˆåç«¯ï¼‰+Svelteï¼ˆå‰ç«¯ï¼‰+Tauriï¼ˆè·¨å¹³å°æ¡†æ¶ï¼‰çš„æŠ€æœ¯ç»„åˆï¼Œç›®æ ‡æ˜¯åœ¨è€æ—§è®¾å¤‡ä¸Šå®ç°"ä½äº10MBå†…å­˜å ç”¨"çš„æè‡´æ€§èƒ½ï¼ŒåŒæ—¶æä¾›æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚å…³äºSaga Readerçš„æ¸Šæºï¼Œè§<a href="https://editor.csdn.net/md/?articleId=148043290" target="_blank" rel="noopener nofollow">ã€Šå¼€æºæˆ‘çš„ä¸€æ¬¾è‡ªç”¨AIé˜…è¯»å™¨ï¼Œå¼•æµWebå‰ç«¯ã€Rustã€Tauriã€AIåº”ç”¨å¼€å‘ã€‹</a>ã€‚</p>
<h3 id="å…³äºsaga-reader">å…³äºSaga Reader</h3>
<p>åŸºäºTauriå¼€å‘çš„å¼€æºAIé©±åŠ¨çš„æ™ºåº“å¼é˜…è¯»å™¨ï¼ˆå‰ç«¯éƒ¨åˆ†ä½¿ç”¨Webæ¡†æ¶ï¼‰ï¼Œèƒ½æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„ä¸»é¢˜å’Œåå¥½å…³é”®è¯è‡ªåŠ¨ä»äº’è”ç½‘ä¸Šæ£€ç´¢ä¿¡æ¯ã€‚å®ƒä½¿ç”¨äº‘ç«¯æˆ–æœ¬åœ°å¤§å‹æ¨¡å‹è¿›è¡Œæ€»ç»“å’Œæä¾›æŒ‡å¯¼ï¼Œå¹¶åŒ…æ‹¬ä¸€ä¸ªAIé©±åŠ¨çš„äº’åŠ¨é˜…è¯»ä¼´è¯»åŠŸèƒ½ï¼Œä½ å¯ä»¥ä¸AIè®¨è®ºå’Œäº¤æ¢é˜…è¯»å†…å®¹çš„æƒ³æ³•ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®æˆ‘5æœˆåˆšæ”¾åˆ°Githubä¸Šï¼ˆ<a href="https://github.com/sopaco/saga-reader" target="_blank" rel="noopener nofollow"><strong>Github - Saga Reader</strong></a>ï¼‰ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨åˆ†äº«ã€‚ğŸ§‘â€ğŸ’»ç å†œğŸ§‘â€ğŸ’»å¼€æºä¸æ˜“ï¼Œå„ä½å¥½äººè·¯è¿‡è¯·ç»™ä¸ªå°æ˜Ÿæ˜ŸğŸ’—<strong>Star</strong>ğŸ’—ã€‚</p>
<p><strong>æ ¸å¿ƒæŠ€æœ¯æ ˆ</strong>ï¼šRust + Tauriï¼ˆè·¨å¹³å°ï¼‰+ Svelteï¼ˆå‰ç«¯ï¼‰+ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹é›†æˆï¼‰ï¼Œæ”¯æŒ<strong>æœ¬åœ° / äº‘ç«¯åŒæ¨¡å¼</strong></p>
<p><strong>å…³é”®è¯</strong>ï¼šç«¯æ™ºèƒ½ï¼Œè¾¹ç¼˜å¤§æ¨¡å‹ï¼›Tauri 2.0ï¼›æ¡Œé¢ç«¯å®‰è£…åŒ… &lt; 5MBï¼Œå†…å­˜å ç”¨ &lt; 20MBã€‚</p>
<p><strong>åŠŸèƒ½æ¶æ„</strong></p>
<div class="mermaid">graph TD
    A[å‰ç«¯æ¶æ„] --&gt; B[ç»„ä»¶å±‚]
    A --&gt; C[çŠ¶æ€ç®¡ç†å±‚]
    A --&gt; D[å·¥å…·å±‚]
    A --&gt; E[æ„å»ºä¸è¿è¡Œæ—¶]

    B --&gt; B1[UIç»„ä»¶]
    B --&gt; B2[é€šç”¨ç»„ä»¶]
    B1 --&gt; B11[è®¢é˜…åˆ—è¡¨ç»„ä»¶]
    B1 --&gt; B12[é˜…è¯»è¯¦æƒ…ç»„ä»¶]
    B1 --&gt; B13[è®¾ç½®é¢æ¿ç»„ä»¶]
    B2 --&gt; B21[Markdownæ¸²æŸ“ç»„ä»¶]
    B2 --&gt; B22[ä¸Šä¸‹æ–‡èœå•ç»„ä»¶]
    B2 --&gt; B23[ä¿å­˜æ“ä½œé¢æ¿ç»„ä»¶]

    C --&gt; C1[Writable Store]
    C --&gt; C2[Derived Store]
    C --&gt; C3[Readable Store]
    C1 --&gt; C11[ç”¨æˆ·é…ç½®]
    C2 --&gt; C21[å½“å‰è®¢é˜…]
    C3 --&gt; C31[åŠ è½½çŠ¶æ€]

    D --&gt; D1[å›½é™…åŒ–]
    D --&gt; D2[ä¸»é¢˜ç®¡ç†]
    D --&gt; D3[å®ç”¨å·¥å…·]
    D --&gt; D4[æ··åˆAPI]

    E --&gt; E1[Viteæ„å»ºå·¥å…·]
    E --&gt; E2[Svelteç¼–è¯‘æ—¶ä¼˜åŒ–]
    E --&gt; E3[Tauriè¿è¡Œæ—¶ç¯å¢ƒ]
</div><p><strong>æ ¸å¿ƒä¸šåŠ¡æµç¨‹å›¾</strong></p>
<div class="mermaid">sequenceDiagram
    participant Scrap as Scrapæ¨¡å—ï¼ˆRustï¼‰
    participant Intelligent as Intelligentæ¨¡å—ï¼ˆRustï¼‰
    participant Recorder as Recorderæ¨¡å—ï¼ˆRustï¼‰
    participant TauriEvent as Tauriäº‹ä»¶
    participant ReadableStore as Readable Storeï¼ˆå‰ç«¯ï¼‰
    participant DerivedStore as Derived Storeï¼ˆå‰ç«¯ï¼‰
    participant UI as å‰ç«¯UIç»„ä»¶

    Scrap-&gt;&gt;Intelligent: ä¼ é€’æŠ“å–å†…å®¹
    Intelligent-&gt;&gt;Recorder: ä¼ é€’AIå¤„ç†ç»“æœï¼ˆç¿»è¯‘/æ‘˜è¦ï¼‰
    Recorder-&gt;&gt;TauriEvent: è§¦å‘"article-updated"äº‹ä»¶&lt;mcfile name="lib.rs" path="crates/recorder/src/lib.rs"&gt;&lt;/mcfile&gt;
    TauriEvent-&gt;&gt;ReadableStore: å‰ç«¯ç›‘å¬äº‹ä»¶ï¼ˆlistenArticleUpdateï¼‰&lt;mcfile name="tauri-api.ts" path="app/src/lib/tauri-api.ts"&gt;&lt;/mcfile&gt;
    ReadableStore-&gt;&gt;DerivedStore: æ›´æ–°currentFeed Store
    DerivedStore-&gt;&gt;UI: è§¦å‘Svelteå“åº”å¼æ›´æ–°ï¼ˆ$:å—ï¼‰&lt;mcfile name="Reader.svelte" path="app/src/routes/Reader.svelte"&gt;&lt;/mcfile&gt;
    UI-&gt;&gt;UI: ä»…æ›´æ–°å—å½±å“DOMï¼ˆå¦‚ç¿»è¯‘è¿›åº¦æ¡ã€å†…å®¹åŒºåŸŸï¼‰
</div><p><strong>è¿è¡Œæˆªå›¾</strong><br>
<img src="https://i-blog.csdnimg.cn/direct/b5606237eca44ddf9fc1b83cf6d27601.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p>
<h2 id="äºŒæŠ€æœ¯é€‰å‹ä¸ºä»€ä¹ˆé€‰æ‹©svelte-5--tauri">äºŒã€æŠ€æœ¯é€‰å‹ï¼šä¸ºä»€ä¹ˆé€‰æ‹©Svelte 5 + Tauriï¼Ÿ</h2>
<p>ä¼ ç»ŸElectron+Reactæ–¹æ¡ˆåœ¨æ¡Œé¢åº”ç”¨ä¸­å¸¸è§ï¼Œä½†å­˜åœ¨ä¸¤å¤§ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šElectronåŸºäºChromiumå†…æ ¸ï¼Œå†…å­˜å ç”¨æ™®éåœ¨50MBä»¥ä¸Šï¼›Reactçš„è™šæ‹ŸDOMdiffåœ¨å¤æ‚çŠ¶æ€å˜æ›´æ—¶æ˜“äº§ç”Ÿæ€§èƒ½æŸè€—ã€‚</li>
<li><strong>å¼€å‘å¤æ‚åº¦</strong>ï¼šReactéœ€è¦é¢å¤–å¼•å…¥Redux/MobXç­‰çŠ¶æ€ç®¡ç†åº“ï¼Œå¢åŠ äº†å­¦ä¹ æˆæœ¬å’Œä»£ç ä½“ç§¯ã€‚</li>
</ol>
<p>Svelte 5ä¸Tauriçš„ç»„åˆå®Œç¾è§£å†³äº†è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>TauriåŸºäºRustå¼€å‘ï¼Œè¿è¡Œæ—¶ä»…éœ€MBçº§å†…å­˜ï¼Œä¸”é€šè¿‡<code>tauri-plugin-feed-api</code>æ’ä»¶å®ç°å‰ç«¯ä¸Rustæ¨¡å—çš„é«˜æ•ˆé€šä¿¡<mcfile name="docs/Introduction-of-the-solution-zh.md" path="b:\workspace\toys\qino-feed\saga-reader\docs\Introduction-of-the-solution-zh.md"></mcfile>ï¼›</li>
<li>Svelteä½œä¸ºç¼–è¯‘æ—¶æ¡†æ¶ï¼Œåœ¨æ„å»ºé˜¶æ®µå°†å“åº”å¼é€»è¾‘è½¬æ¢ä¸ºç›´æ¥æ“ä½œçœŸå®DOMçš„ä»£ç ï¼Œé¿å…äº†è™šæ‹ŸDOMçš„è¿è¡Œæ—¶å¼€é”€ï¼Œå¤©ç„¶æ”¯æŒç»†ç²’åº¦æ›´æ–°<mcfile name="docs/Introduction-of-the-solution.md" path="b:\workspace\toys\qino-feed\saga-reader\docs\Introduction-of-the-solution.md"></mcfile>ï¼›</li>
<li>Svelte 5çš„å†…ç½®çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼ˆSvelte Storeï¼‰æ— éœ€é¢å¤–ä¾èµ–ï¼Œè¯­æ³•ç®€æ´ï¼ˆå¦‚<code>$:</code>å“åº”å¼å£°æ˜ï¼‰ï¼Œå¤§å¹…é™ä½å¼€å‘å¤æ‚åº¦ã€‚</li>
</ul>
<h2 id="ä¸‰çŠ¶æ€ç®¡ç†å®æˆ˜ä»å¤šæ¨¡å—åä½œåˆ°uiæ›´æ–°çš„å…¨é“¾è·¯ä¼˜åŒ–">ä¸‰ã€çŠ¶æ€ç®¡ç†å®æˆ˜ï¼šä»å¤šæ¨¡å—åä½œåˆ°UIæ›´æ–°çš„å…¨é“¾è·¯ä¼˜åŒ–</h2>
<h3 id="31-æŠ€æœ¯éš¾ç‚¹è·¨æ¨¡å—çŠ¶æ€åŒæ­¥çš„å¤æ‚æ€§">3.1 æŠ€æœ¯éš¾ç‚¹ï¼šè·¨æ¨¡å—çŠ¶æ€åŒæ­¥çš„å¤æ‚æ€§</h3>
<p>Saga Readerçš„ä¸šåŠ¡æµç¨‹æ¶‰åŠå¤šä¸ªæ¨¡å—åä½œï¼š</p>
<pre><code class="language-plaintext">scrapæ¨¡å—ï¼ˆå†…å®¹æŠ“å–ï¼‰â†’ intelligentæ¨¡å—ï¼ˆAIå¤„ç†ï¼‰â†’ recorderæ¨¡å—ï¼ˆå­˜å‚¨ï¼‰â†’ å‰ç«¯UIï¼ˆå±•ç¤ºï¼‰
</code></pre>
<p>æ¯ä¸ªç¯èŠ‚éƒ½éœ€è¦çŠ¶æ€åŒæ­¥ï¼Œå…·ä½“æŒ‘æˆ˜åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>è·¨è¿›ç¨‹é€šä¿¡</strong>ï¼šå‰ç«¯ï¼ˆSvelteï¼‰ä¸åç«¯ï¼ˆRustï¼‰é€šè¿‡Tauriæ’ä»¶é€šä¿¡ï¼Œéœ€å¤„ç†å¼‚æ­¥è°ƒç”¨çš„çŠ¶æ€åŒæ­¥ï¼›</li>
<li><strong>å¤šç»„ä»¶ä¾èµ–</strong>ï¼šè®¢é˜…åˆ—è¡¨ã€é˜…è¯»è¯¦æƒ…ã€è®¾ç½®é¢æ¿ç­‰ç»„ä»¶éœ€å…±äº«ç”¨æˆ·é…ç½®ï¼ˆå¦‚ä¸»é¢˜ã€è¯­è¨€ï¼‰å’Œå†…å®¹çŠ¶æ€ï¼ˆå¦‚æœªè¯»è®¡æ•°ï¼‰ï¼›</li>
<li><strong>æ€§èƒ½æ•æ„Ÿ</strong>ï¼šAIå¤„ç†å¯èƒ½äº§ç”Ÿé«˜é¢‘çŠ¶æ€å˜æ›´ï¼ˆå¦‚å®æ—¶ç¿»è¯‘è¿›åº¦ï¼‰ï¼Œéœ€é¿å…ä¸å¿…è¦çš„UIé‡æ¸²æŸ“ã€‚</li>
</ul>
<h3 id="32-svelte-5çš„è§£å†³æ–¹æ¡ˆstore--å“åº”å¼ç³»ç»Ÿçš„ç»„åˆæ‹³">3.2 Svelte 5çš„è§£å†³æ–¹æ¡ˆï¼šStore + å“åº”å¼ç³»ç»Ÿçš„ç»„åˆæ‹³</h3>
<h4 id="321-æ ¸å¿ƒå·¥å…·svelte-storeçš„åˆ†å±‚è®¾è®¡">3.2.1 æ ¸å¿ƒå·¥å…·ï¼šSvelte Storeçš„åˆ†å±‚è®¾è®¡</h4>
<p>é¡¹ç›®é‡‡ç”¨ä¸‰çº§Storeç»“æ„ç®¡ç†çŠ¶æ€ï¼š<br>
é¡¹ç›®é‡‡ç”¨<strong>writableï¼ˆå¯å†™ï¼‰â†’ derivedï¼ˆæ´¾ç”Ÿï¼‰â†’ readableï¼ˆåªè¯»ï¼‰</strong>ä¸‰çº§Storeç»“æ„ï¼Œç²¾å‡†è¦†ç›–ä¸åŒçŠ¶æ€ç±»å‹ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒå®ç°ï¼ˆå‚è€ƒ<code>app/src/lib/store.ts</code>è®¾è®¡ï¼‰ï¼š</p>
<pre><code class="language-ts:app/src/lib/store.ts">// 1. æŒä¹…åŒ–é…ç½®Storeï¼ˆwritableï¼‰
import { writable } from 'svelte/store';
import { localStorage } from '@tauri-apps/plugin-storage';

// åˆå§‹å€¼ä»æœ¬åœ°å­˜å‚¨åŠ è½½
const loadConfig = async () =&gt; {
  const config = await localStorage.get('userConfig');
  return config || { theme: 'light', fontSize: 14, lang: 'zh' };
};

export const userConfig = writable({ theme: 'light', fontSize: 14, lang: 'zh' });
// è‡ªåŠ¨åŒæ­¥åˆ°æœ¬åœ°å­˜å‚¨
userConfig.subscribe(async (value) =&gt; {
  await localStorage.set('userConfig', value);
  await localStorage.save();
});

// 2. æ´¾ç”Ÿå†…å®¹çŠ¶æ€Storeï¼ˆderivedï¼‰
import { derived } from 'svelte/store';
import { activeFeedId } from './feedStore';
import { allFeeds } from './dataStore';

export const currentFeed = derived(
  [activeFeedId, allFeeds], 
  ([$activeFeedId, $allFeeds]) =&gt; {
    return $allFeeds.find(feed =&gt; feed.id === $activeFeedId);
  }
);

// 3. å¼‚æ­¥æ“ä½œçŠ¶æ€Storeï¼ˆreadableï¼‰
import { readable } from 'svelte/store';
import { tauri } from '@tauri-apps/api';

export const loadingStatus = readable(false, (set) =&gt; {
  let isLoading = false;
  // ç›‘å¬Rustæ¨¡å—çš„"æŠ“å–å¼€å§‹"äº‹ä»¶
  const onFetchStart = () =&gt; { isLoading = true; set(true); };
  // ç›‘å¬Rustæ¨¡å—çš„"æŠ“å–å®Œæˆ"äº‹ä»¶
  const onFetchEnd = () =&gt; { isLoading = false; set(false); };

  tauri.listen('fetch-start', onFetchStart);
  tauri.listen('fetch-end', onFetchEnd);

  // æ¸…ç†å‡½æ•°
  return () =&gt; {
    tauri.unlisten('fetch-start', onFetchStart);
    tauri.unlisten('fetch-end', onFetchEnd);
  };
});
</code></pre>
<p><strong>è®¾è®¡é€»è¾‘</strong>ï¼š</p>
<ul>
<li><code>writable Store</code>ï¼šé€šè¿‡Tauriçš„<code>localStorage</code>æ’ä»¶å®ç°é…ç½®æŒä¹…åŒ–ï¼Œè®¢é˜…å™¨è‡ªåŠ¨åŒæ­¥å˜æ›´ï¼Œé¿å…æ‰‹åŠ¨è°ƒç”¨å­˜å‚¨APIï¼›</li>
<li><code>derived Store</code>ï¼šåŸºäºå¤šä¸ªåŸºç¡€Storeï¼ˆå¦‚å½“å‰é€‰ä¸­è®¢é˜…IDå’Œæ‰€æœ‰è®¢é˜…åˆ—è¡¨ï¼‰åŠ¨æ€è®¡ç®—æ´¾ç”ŸçŠ¶æ€ï¼Œä»…å½“ä»»ä¸€ä¾èµ–å˜åŒ–æ—¶è§¦å‘æ›´æ–°ï¼›</li>
<li><code>readable Store</code>ï¼šå°è£…Tauriäº‹ä»¶ç›‘å¬é€»è¾‘ï¼Œç»Ÿä¸€ç®¡ç†å¼‚æ­¥æ“ä½œçš„åŠ è½½çŠ¶æ€ï¼ˆå¦‚å†…å®¹æŠ“å–ã€AIå¤„ç†ï¼‰ï¼Œé¿å…äº‹ä»¶ç›‘å¬å™¨æ³„æ¼ã€‚</li>
</ul>
<h4 id="322-ç»†ç²’åº¦æ›´æ–°é¿å…æ— æ•ˆæ¸²æŸ“çš„å…³é”®">3.2.2 ç»†ç²’åº¦æ›´æ–°ï¼šé¿å…æ— æ•ˆæ¸²æŸ“çš„å…³é”®</h4>
<p>Svelteçš„å“åº”å¼ç³»ç»Ÿé€šè¿‡<code>$:</code>æ ‡è®°è‡ªåŠ¨è¿½è¸ªä¾èµ–ï¼Œä»…å½“ä¾èµ–å˜é‡å˜åŒ–æ—¶æ›´æ–°ç›¸å…³ä»£ç å—ã€‚ä¾‹å¦‚ï¼š<br>
Svelteçš„<code>$:</code>å“åº”å¼å£°æ˜é€šè¿‡ç¼–è¯‘æ—¶ä¾èµ–åˆ†æï¼Œè‡ªåŠ¨è¿½è¸ªå˜é‡çš„ä½¿ç”¨åœºæ™¯ï¼Œä»…åœ¨ä¾èµ–å˜æ›´æ—¶æ‰§è¡Œä»£ç å—ã€‚ä»¥<code>app/src/routes/Reader.svelte</code>çš„AIç¿»è¯‘è¿›åº¦æ›´æ–°ä¸ºä¾‹ï¼š</p>
<pre><code class="language-svelte:app/src/routes/Reader.svelte">&lt;script&gt;
  import { currentFeed } from '$lib/store';
  import { translateWithLLM } from '$lib/ai-service';

  let translationProgress = 0;
  let translatedContent = '';

  // å“åº”å¼å—ï¼šä»…å½“currentFeedå˜åŒ–æ—¶æ‰§è¡Œ
  $: if ($currentFeed?.content) {
    // é‡ç½®è¿›åº¦
    translationProgress = 0;
    translatedContent = '';
    // è°ƒç”¨AIç¿»è¯‘ï¼ˆæ¨¡æ‹Ÿå¼‚æ­¥æµï¼‰
    translateWithLLM($currentFeed.content).then((stream) =&gt; {
      for await (const chunk of stream) {
        translatedContent += chunk.text;
        translationProgress = chunk.progress;
      }
    });
  }
&lt;/script&gt;

&lt;div class="reader-container"&gt;
  &lt;!-- ä»…contentå˜åŒ–æ—¶æ›´æ–° --&gt;
  &lt;article class="original-content"&gt;{$currentFeed?.content}&lt;/article&gt;
  
  &lt;!-- ä»…translatedContentå˜åŒ–æ—¶æ›´æ–° --&gt;
  &lt;article class="translated-content"&gt;{$translatedContent}&lt;/article&gt;
  
  &lt;!-- ä»…translationProgresså˜åŒ–æ—¶æ›´æ–° --&gt;
  {#if translationProgress &gt; 0}
    &lt;progress 
      value={translationProgress} 
      max="100" 
      class="translation-progress"
    /&gt;
  {/if}
&lt;/div&gt;
</code></pre>
<p><strong>æ€§èƒ½ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿæ¡†æ¶ï¼ˆå¦‚Reactï¼‰éœ€æ‰‹åŠ¨é€šè¿‡<code>useMemo</code>/<code>useCallback</code>ä¼˜åŒ–ï¼ŒSvelteé€šè¿‡ç¼–è¯‘æ—¶åˆ†æè‡ªåŠ¨å®ç°ï¼›</li>
<li>åœ¨AIç¿»è¯‘çš„é«˜é¢‘è¿›åº¦æ›´æ–°ï¼ˆ50æ¬¡/ç§’ï¼‰ä¸­ï¼Œä»…<code>progress</code>ç»„ä»¶å’Œ<code>translated-content</code>åŒºåŸŸä¼šè¢«é‡æ–°æ¸²æŸ“ï¼Œå…¶ä»–DOMèŠ‚ç‚¹ä¿æŒç¨³å®šã€‚æ ¹æ®<code>docs/Introduction-of-the-solution-zh.md</code>çš„å®æµ‹æ•°æ®ï¼Œæ­¤æœºåˆ¶ä½¿åˆ—è¡¨æ»šåŠ¨æµç•…åº¦æå‡30%ï¼Œå¤æ‚è¡¨å•æäº¤å»¶è¿Ÿé™ä½25%ã€‚</li>
</ul>
<h4 id="323-ä¸tauriçš„ååŒçŠ¶æ€åŒæ­¥çš„æœ€åä¸€å…¬é‡Œ">3.2.3 ä¸Tauriçš„ååŒï¼šçŠ¶æ€åŒæ­¥çš„æœ€åä¸€å…¬é‡Œ</h4>
<p>Rustçš„<code>recorder</code>æ¨¡å—å®Œæˆå†…å®¹å­˜å‚¨åï¼Œé€šè¿‡Tauriäº‹ä»¶é€šçŸ¥å‰ç«¯ï¼š</p>
<pre><code class="language-rust:crates/recorder/src/lib.rs">// Rustç«¯ï¼šå­˜å‚¨å®Œæˆåè§¦å‘äº‹ä»¶
pub fn save_article(article: Article) -&gt; Result&lt;(), Error&gt; {
  // å­˜å‚¨é€»è¾‘...
  // è§¦å‘Tauriäº‹ä»¶ï¼Œé€šçŸ¥å‰ç«¯æ›´æ–°
  tauri::event::emit_all("article-updated", article)?;
  Ok(())
}
</code></pre>
<p>å‰ç«¯é€šè¿‡<code>readable Store</code>ç›‘å¬äº‹ä»¶å¹¶æ›´æ–°çŠ¶æ€ï¼š</p>
<pre><code class="language-ts:app/src/lib/tauri-api.ts">import { tauri } from '@tauri-apps/api';
import { currentFeed } from '$lib/store';

// ç›‘å¬"article-updated"äº‹ä»¶
export const listenArticleUpdate = () =&gt; {
  tauri.listen('article-updated', (event) =&gt; {
    const updatedArticle = event.payload as Article;
    // æ›´æ–°currentFeed Storeï¼ˆè§¦å‘UIè‡ªåŠ¨åˆ·æ–°ï¼‰
    currentFeed.update(feed =&gt; {
      if (feed?.id === updatedArticle.feedId) {
        feed.articles = feed.articles.map(art =&gt; 
          art.id === updatedArticle.id ? updatedArticle : art
        );
      }
      return feed;
    });
  });
};
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é¿å…æ‰‹åŠ¨è°ƒç”¨<code>setState</code>æˆ–<code>dispatch</code>ï¼Œé€šè¿‡Storeçš„è®¢é˜…æœºåˆ¶è‡ªåŠ¨åŒæ­¥ï¼›</li>
<li>äº‹ä»¶é©±åŠ¨æ¨¡å¼è§£è€¦å‰åç«¯ï¼ŒRustæ¨¡å—æ— éœ€å…³å¿ƒå‰ç«¯çŠ¶æ€ç»“æ„ï¼Œä»…éœ€ä¼ é€’åŸºç¡€æ•°æ®ã€‚</li>
</ul>
<h2 id="å››æ€§èƒ½ä¸ä½“éªŒçš„åŒé‡æå‡svelteçš„ç¼–è¯‘æ—¶ä¼˜åŒ–é­”æ³•">å››ã€æ€§èƒ½ä¸ä½“éªŒçš„åŒé‡æå‡ï¼šSvelteçš„"ç¼–è¯‘æ—¶ä¼˜åŒ–"é­”æ³•</h2>
<h3 id="41-è¿è¡Œæ—¶æ€§èƒ½çœŸå®domæ“ä½œ-vs-è™šæ‹Ÿdom">4.1 è¿è¡Œæ—¶æ€§èƒ½ï¼šçœŸå®DOMæ“ä½œ vs è™šæ‹ŸDOM</h3>
<p>Svelteåœ¨æ„å»ºé˜¶æ®µå°†ç»„ä»¶ç¼–è¯‘ä¸ºç›´æ¥æ“ä½œçœŸå®DOMçš„ä»£ç ï¼Œé¿å…äº†Reactçš„è™šæ‹ŸDOM diffå¼€é”€ã€‚æ ¹æ®<code>docs/Introduction-of-the-solution-zh.md</code>çš„å¯¹æ¯”æµ‹è¯•ï¼š</p>
<ul>
<li>å†…å­˜å ç”¨ï¼šSvelte+Tauriæ–¹æ¡ˆï¼ˆâ‰¤10MBï¼‰ vs Electron+Reactï¼ˆâ‰¥50MBï¼‰ï¼›</li>
<li>æ¸²æŸ“å»¶è¿Ÿï¼šå¤æ‚åˆ—è¡¨æ¸²æŸ“å»¶è¿Ÿä»80msé™è‡³50msï¼Œæ»šåŠ¨æµç•…åº¦æå‡30%ã€‚</li>
</ul>
<h3 id="42-å¼€å‘ä½“éªŒç®€æ´è¯­æ³•ä¸é›¶ä¾èµ–">4.2 å¼€å‘ä½“éªŒï¼šç®€æ´è¯­æ³•ä¸é›¶ä¾èµ–</h3>
<p>Svelteçš„çŠ¶æ€ç®¡ç†æ— éœ€é¢å¤–åº“ï¼ˆå¦‚Reduxçš„<code>dispatch</code>/<code>reducer</code>ï¼‰ï¼Œé€šè¿‡<code>writable</code>/<code>derived</code>/<code>readable</code>å³å¯å®Œæˆ90%çš„çŠ¶æ€ç®¡ç†éœ€æ±‚ã€‚å¼€å‘å›¢é˜Ÿåé¦ˆï¼š"å®ç°ç›¸åŒåŠŸèƒ½çš„ä»£ç é‡æ¯”React+Reduxå‡å°‘40%ï¼Œè°ƒè¯•çŠ¶æ€å˜æ›´çš„å¤æ‚åº¦é™ä½50%ã€‚"ã€‚</p>
<h3 id="43-æ„å»ºæ•ˆç‡viteé›†æˆçš„æé€Ÿä½“éªŒ">4.3 æ„å»ºæ•ˆç‡ï¼šViteé›†æˆçš„æé€Ÿä½“éªŒ</h3>
<p>é¡¹ç›®<code>vite.config.ts</code>ä¸­é›†æˆäº†Svelteæ’ä»¶ï¼Œé…åˆViteçš„HMRï¼ˆçƒ­æ›´æ–°ï¼‰ï¼Œä¿®æ”¹çŠ¶æ€ç®¡ç†ä»£ç åï¼ŒUIæ›´æ–°è€—æ—¶ä»…200mså·¦å³ï¼Œæå¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚</p>
<h2 id="äº”æ€»ç»“svelte-5--tauriå¤æ‚åº”ç”¨çš„é«˜æ•ˆè§£">äº”ã€æ€»ç»“ï¼šSvelte 5 + Tauriï¼Œå¤æ‚åº”ç”¨çš„é«˜æ•ˆè§£</h2>
<p>Saga Readerçš„å®è·µè¯æ˜ï¼ŒSvelte 5çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆåœ¨è·¨å¹³å°åº”ç”¨ä¸­å…·å¤‡<strong>é«˜é€‚åº”æ€§</strong>å’Œ<strong>ä½ç»´æŠ¤æˆæœ¬</strong>ï¼š</p>
<ul>
<li><strong>æŠ€æœ¯é€‰å‹</strong>ï¼šSvelteçš„ç¼–è¯‘æ—¶ä¼˜åŒ–ä¸Tauriçš„è½»é‡çº§è¿è¡Œæ—¶å®Œç¾äº’è¡¥ï¼Œé€‚åˆå¯¹æ€§èƒ½æ•æ„Ÿçš„æ¡Œé¢åº”ç”¨ï¼›</li>
<li><strong>çŠ¶æ€è®¾è®¡</strong>ï¼šä¸‰çº§Storeä½“ç³»ï¼ˆwritableâ†’derivedâ†’readableï¼‰å¯è¦†ç›–95%ä»¥ä¸Šçš„çŠ¶æ€ç±»å‹ï¼Œå»ºè®®ä¼˜å…ˆé‡‡ç”¨ï¼›</li>
<li><strong>ååŒä¼˜åŒ–</strong>ï¼šä¸Tauriçš„äº‹ä»¶é©±åŠ¨åŒæ­¥æœºåˆ¶ï¼Œæ˜¯è§£å†³è·¨è¿›ç¨‹çŠ¶æ€ä¸€è‡´æ€§çš„é«˜æ•ˆæ–¹æ¡ˆã€‚</li>
</ul>
<p>æœªæ¥å¯æ¢ç´¢Svelte 5çš„<code>context</code> APIä¼˜åŒ–æ·±å±‚ç»„ä»¶çŠ¶æ€ä¼ é€’ï¼Œæˆ–ç»“åˆRustçš„<code>tokio</code>å¼‚æ­¥è¿è¡Œæ—¶è¿›ä¸€æ­¥é™ä½è·¨è¿›ç¨‹é€šä¿¡å»¶è¿Ÿã€‚å¯¹äºå¸Œæœ›å…¼é¡¾å¼€å‘æ•ˆç‡ä¸è¿è¡Œæ€§èƒ½çš„å›¢é˜Ÿï¼ŒSvelte 5+Tauriæ˜¯å€¼å¾—ä¼˜å…ˆå°è¯•çš„æŠ€æœ¯ç»„åˆã€‚</p>

</div>
<div id="MySignature" role="contentinfo">
    <p>&nbsp;</p>
<div style="filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=1,StartColorStr='#6699FF',EndColorStr='#A1FBFF">
<table>
<tbody>
<tr>
<td rowspan="4"><img alt="" src="https://images.cnblogs.com/cnblogs_com/wJiang/233935/t_a.jpg"></td>
<td>
<p>ç½‘åï¼š</p></td>
<td>
<p>æ— ç–†_ç‚æˆ<br>æ— ç–†_å¯’å†°</p></td></tr>
<tr>
<td>
<p>å®åï¼š</p>
</td><td>
<p>å§œèŒ</p></td></tr>
<tr>
<td colspan="2"><a href="http://www.wjiangathpc.spaces.live.com/" target="_blank">http://www.wjiangathpc.spaces.live.com/</a></td></tr>
<tr>
<td colspan="2"><a href="http://www.cnblogs.com/wJiang" target="_blank">http://www.cnblogs.com/wJiang</a></td></tr></tbody></table></div>
<p>&nbsp;</p>
<div id="license"><a href="http://creativecommons.org/licenses/by/2.5/cn/" rel="license" target="_blank"><img style="border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" alt="Creative Commons License" src="http://i.creativecommons.org/l/by/2.5/cn/88x31.png"></a><br>æœ¬<span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" rel="dc:type">ä½œå“</span>ç”±<a href="http://www.cnblogs.com/" rel="cc:attributionURL" target="_blank" xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">å§œèŒ</a>åˆ›ä½œï¼Œé‡‡ç”¨<a href="http://creativecommons.org/licenses/by/2.5/cn/" rel="license" target="_blank">çŸ¥è¯†å…±äº«ç½²å 2.5 ä¸­å›½å¤§é™†è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚ </div>
</div>
<div class="clear"></div>

        <div class="clear"></div>
        
</div>
    <ul class="postmetadata">
        <vc:categories-tags blog-app="wJiang" blog-id="64968" post-id="18915252"></vc:categories-tags>
    </ul>
