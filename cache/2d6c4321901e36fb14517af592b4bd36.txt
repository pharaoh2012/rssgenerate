
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/cj8988/p/18976662" title="å‘å¸ƒäº 2025-07-10 12:13">
    <span role="heading" aria-level="2">æ–‡ç”Ÿå›¾ï¼šä»‹ç»ä¸€ä¸ªæ–‡å­—ç”Ÿæˆå›¾ç‰‡çš„å¼€æºå·¥å…·</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><span style="font-size: 16px">ä¹‹å‰ä»‹ç»è¿‡éŸ³é¢‘å¤„ç†ï¼Œå›¾ç‰‡ç”Ÿæˆè§†é¢‘ï¼Œå›¾ç‰‡+éŸ³é¢‘å¯¹å˜´ï¼Œè§†é¢‘+éŸ³é¢‘å¯¹å˜´ã€‚</span></p>
<p><span style="font-size: 16px">ä»Šå¤©ä»‹ç»ä¸€ä¸ªæ–‡å­—ç”Ÿæˆå›¾ç‰‡çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘å·²ç»åœ¨æœ¬åœ°æ­å»ºå®Œæˆäº†ä½¿ç”¨äº†ã€‚</span></p>
<p>&nbsp;</p>
<h2>ä¸€ï¼šä¸‹è½½æºä»£ç </h2>
<p><span style="font-size: 16px">åœ°å€ï¼š<a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui" target="_blank" rel="noopener nofollow">https://github.com/AUTOMATIC1111/stable-diffusion-webui</a></span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<p><span style="font-size: 16px">ç›´æ¥ä¸‹è½½ï¼Œè§£å‹å°±è¡Œã€‚</span></p>
<p><span style="font-size: 16px">&nbsp;</span></p>
<h2>äºŒï¼šç¯å¢ƒæ­å»º</h2>
<p><span style="font-size: 16px">ä½¿ç”¨Anacondaç¯å¢ƒä¸­æ­å»ºï¼š</span></p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)">#è¿›å…¥åŠ å‹åŒ…
cd stable</span>-diffusion-<span style="color: rgba(0, 0, 0, 1)">webui

#åˆ›å»ºç¯å¢ƒ
conda create </span>--name stable-diff python=<span style="color: rgba(128, 0, 128, 1)">3.10</span><span style="color: rgba(0, 0, 0, 1)">

#æ¿€æ´»ç¯å¢ƒï¼š
conda activate stable</span>-<span style="color: rgba(0, 0, 0, 1)">diff

#é¦–æ¬¡è¿è¡Œï¼ˆä¼šä¸‹è½½æ¨¡å‹ï¼‰ï¼š
python launch.py<br><br>#è¿è¡Œä¸­å¦‚æœæœ‰æŠ¥é”™ï¼Œå·®ä»€ä¹ˆå°±å®‰è£…ä»€ä¹ˆ<br>pip install ...</span></pre>
</div>
<p>&nbsp;</p>
<h2>ä¸‰ï¼šè¿è¡Œ&nbsp;</h2>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)">è¿è¡Œï¼š
python  webui.py</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img alt="" width="1098" height="526" loading="lazy" data-src="https://img2024.cnblogs.com/blog/692485/202507/692485-20250710115234136-1335273824.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>å››ï¼šæ·»åŠ v2æ–°æ¨¡å‹</h2>
<p><span style="font-size: 16px">è¿™é‡Œé»˜è®¤ä¸‹è½½çš„æ˜¯v1-5-pruned-emaonlyã€‚æŸ¥äº†ä¸‹æœ€æ–°çš„æœ‰v2ç‰ˆæœ¬ï¼Œä¸‹é¢å°±é…ç½®ä¸ªv2ç‰ˆæœ¬ã€‚</span></p>
<p><span style="font-size: 16px">ï¼ˆ1ï¼‰ï¼šæ¨¡å‹ä¸‹è½½ï¼š<a href="https://huggingface.co/stabilityai/stable-diffusion-2-1/tree/main" target="_blank" rel="noopener nofollow">https://huggingface.co/stabilityai/stable-diffusion-2-1/tree/main</a></span></p>
<p>&nbsp;</p>
<p><span style="font-size: 16px">ä¸‹è½½ æ–‡ä»¶<strong>v2-1_768-ema-pruned.safetensors æœ‰ç‚¹å¤§5Gã€‚æ”¾åˆ°æ–‡ä»¶å¤¹\stable-diffusion-webui\models\Stable-diffusion ä¸­ã€‚</strong></span></p>
<p><span style="font-size: 16px">ç„¶åé‡å¯æœåŠ¡ï¼Œåˆ·æ–°æ¨¡æ¿ï¼Œé‡æ–°ç”Ÿæˆã€‚å›¾ç‰‡ç”Ÿæˆäº†ï¼Œä½†æ˜¯å›¾åƒä¸å¯¹ã€‚</span></p>
<p>&nbsp;</p>
<p><img alt="" width="1012" height="444" loading="lazy" data-src="https://img2024.cnblogs.com/blog/692485/202507/692485-20250710115918269-1991214466.png" class="lazyload"></p>
<p>&nbsp;</p>
<p><span style="color: rgba(255, 0, 0, 1)"><strong>æ³¨æ„å¦‚æœæœ‰æŠ¥é”™ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸‹ï¼š</strong></span></p>
<div class="cnblogs_code">
<pre>   modules.devices.NansException: A tensor with NaNs was produced <span style="color: rgba(0, 0, 255, 1)">in</span> Unet. This could be either because there<span style="color: rgba(128, 0, 0, 1)">'</span><span style="color: rgba(128, 0, 0, 1)">s not enough precision to represent the picture, or because your video card does not support half type. Try setting the "Upcast cross attention layer to float32" option in Settings &gt; Stable Diffusion or using the --no-half commandline argument to fix this. Use --disable-nan-check commandline argument to disable this check.</span></pre>
</div>
<p>&nbsp;</p>
<p><img alt="" width="662" height="653" loading="lazy" data-src="https://img2024.cnblogs.com/blog/692485/202507/692485-20250710120438527-422581497.png" class="lazyload"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px">ï¼ˆ2ï¼‰ï¼šè§£ç å™¨ä¸‹è½½ï¼Œè¿™é‡Œä½¿ç”¨ç¤¾åŒºå¼€æºçš„è§£ç å™¨</span></p>
<p><span style="font-size: 16px"><a href="https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.safetensors" rel="noopener nofollow">https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.safetensors</a>ã€‚</span></p>
<p><span style="font-size: 16px">&nbsp;ä¸‹è½½åå­˜æ”¾åœ¨æ–‡ä»¶å¤¹</span><strong>&nbsp;\stable-diffusion-webui\models\VAE ã€‚</strong></p>
<p>&nbsp;</p>
<p><strong>ï¼ˆ3ï¼‰ï¼šé…ç½®ï¼š</strong></p>
<ol class="ng-star-inserted">
<li class="ng-star-inserted">
<p class="ng-star-inserted"><span class="ng-star-inserted">å›åˆ° Web UI ç•Œé¢ï¼Œè¿›å…¥&nbsp;<strong class="ng-star-inserted">Settings (è®¾ç½®)</strong><span class="ng-star-inserted">&nbsp;æ ‡ç­¾é¡µã€‚</span></span></p>
</li>
<li class="ng-star-inserted">
<p class="ng-star-inserted"><span class="ng-star-inserted">åœ¨å·¦ä¾§èœå•ï¼Œç‚¹å‡»&nbsp;<strong class="ng-star-inserted">Stable Diffusion</strong><span class="ng-star-inserted">&nbsp;å­èœå•ã€‚ï¼ˆå°±æ˜¯ä½ ä¹‹å‰æ‰¾åˆ° "Upcast" é€‰é¡¹çš„é‚£ä¸ªåœ°æ–¹ï¼‰ã€‚</span></span></p>
</li>
<li class="ng-star-inserted">
<p class="ng-star-inserted"><span class="ng-star-inserted">åœ¨å³ä¾§çš„é€‰é¡¹ä¸­ï¼Œæ‰¾åˆ°ä¸€ä¸ªå«åš&nbsp;<strong class="ng-star-inserted">SD VAE</strong><span class="ng-star-inserted">&nbsp;çš„ä¸‹æ‹‰èœå•ã€‚</span></span></p>
</li>
<li class="ng-star-inserted">
<p class="ng-star-inserted"><span class="ng-star-inserted">ç‚¹å‡»è¿™ä¸ªä¸‹æ‹‰èœå•ï¼Œé€‰æ‹©ä½ åˆšåˆšæ”¾è¿›å»çš„é‚£ä¸ª VAE æ–‡ä»¶ï¼ˆæ¯”å¦‚&nbsp;<span class="inline-code ng-star-inserted">vae-ft-mse-840000-ema-pruned.safetensors<span class="ng-star-inserted">ï¼‰ã€‚</span></span></span></p>
<ul class="ng-star-inserted">
<li class="ng-star-inserted">
<p class="ng-star-inserted"><span class="ng-star-inserted">å¦‚æœèœå•é‡Œæ²¡çœ‹åˆ°ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹æ‹‰èœå•æ—è¾¹çš„å°å°çš„<strong class="ng-star-inserted">åˆ·æ–°æŒ‰é’® ğŸ”„</strong><span class="ng-star-inserted">ã€‚</span></span></p>
</li>
</ul>
</li>
<li class="ng-star-inserted">
<p class="ng-star-inserted"><strong class="ng-star-inserted">éå¸¸é‡è¦</strong><span class="ng-star-inserted">ï¼šæ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨ï¼Œç‚¹å‡»æ©™è‰²çš„&nbsp;<strong class="ng-star-inserted">&nbsp;(åº”ç”¨è®¾ç½®)</strong><span class="ng-star-inserted">ï¼Œç„¶åç‚¹å‡»&nbsp;<strong class="ng-star-inserted">&nbsp;(é‡è½½ç•Œé¢)ã€‚</strong><span class="ng-star-inserted"><br></span></span></span></p>

</li>

</ol>
<p><img alt="" width="1158" height="472" loading="lazy" data-src="https://img2024.cnblogs.com/blog/692485/202507/692485-20250710120558129-1939112693.png" class="lazyload"></p>
<p>&nbsp;</p>
<p><strong>ï¼ˆ4ï¼‰ï¼šé‡æ–°å¯åŠ¨ï¼Œæ³¨æ„æ˜¯åœ¨cmdçš„&nbsp;</strong>conda ç¯å¢ƒä¸­é‡æ–°å¯åŠ¨æœåŠ¡ã€‚</p>
<p>é€‰æ‹©v2æ—¶ï¼Œæœ‰ä¸€äº›å‚æ•°å¯ä»¥é€‚å½“çš„ä¿®æ”¹ä¸€äº›ï¼Œç„¶åä½¿ç”¨ç›¸åŒçš„æç¤ºè¯ï¼Œé‡æ–°ç‚¹å‡»ç”Ÿæˆã€‚</p>
<p>&nbsp;</p>
<p><img alt="" width="1168" height="513" loading="lazy" data-src="https://img2024.cnblogs.com/blog/692485/202507/692485-20250710121105058-508605026.png" class="lazyload"></p>
<p>&nbsp;</p>
<p><strong>æå®šï¼Œæ”¶å·¥ã€‚</strong></p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-07-10 12:13">2025-07-10 12:13</span>&nbsp;
<a href="https://www.cnblogs.com/cj8988">Joy_CShow</a>&nbsp;
é˜…è¯»(<span id="post_view_count">9</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18976662);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18976662', targetLink: 'https://www.cnblogs.com/cj8988/p/18976662', title: 'æ–‡ç”Ÿå›¾ï¼šä»‹ç»ä¸€ä¸ªæ–‡å­—ç”Ÿæˆå›¾ç‰‡çš„å¼€æºå·¥å…·' })">ä¸¾æŠ¥</a>
</div>
        