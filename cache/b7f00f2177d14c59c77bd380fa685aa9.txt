
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/rust-tech/p/19023955" title="发布于 2025-08-05 20:21">
    <span role="heading" aria-level="2">Rust语义化版本介绍</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>官方文档：<a href="https://semver.org/" target="_blank" rel="noopener nofollow">https://semver.org/</a></p>
<p>在 Rust 中，<code>Cargo.toml</code> 中使用的版本号遵循 <a href="https://semver.org/" target="_blank" rel="noopener nofollow"><strong>语义化版本（Semantic Versioning, SemVer）</strong></a>，格式如下：</p>
<pre><code class="language-toml">MAJOR.MINOR.PATCH
例如：1.2.3
tokio = { version = "1.0", features = ["full"] }
</code></pre>
<h2 id="基本规则解释">基本规则解释</h2>
<table>
<thead>
<tr>
<th>部分</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>MAJOR</td>
<td>主版本号：当你做了不兼容的 API 修改时，递增</td>
</tr>
<tr>
<td>MINOR</td>
<td>次版本号：当你做了向下兼容的功能性新增，递增</td>
</tr>
<tr>
<td>PATCH</td>
<td>补丁号：当你做了向下兼容的问题修正，一般是bug修改，递增。</td>
</tr>
</tbody>
</table>
<h2 id="cargo-支持的版本范围语法">Cargo 支持的版本范围语法</h2>
<p>Rust 的 <code>Cargo.toml</code> 使用语义化版本规则的<strong>前缀语法</strong>来指定依赖的版本范围：</p>
<h3 id="1---默认行为caret-requirement">1. <code>^</code> —— 默认行为（Caret requirement）</h3>
<pre><code class="language-rust">serde = "1.0.219"      # 等价于 ^1.0.219
</code></pre>
<p>含义：<strong>允许更新到不改变“最左侧非零数字”的任意新版本</strong></p>
<table>
<thead>
<tr>
<th>写法</th>
<th>实际含义</th>
<th>范围说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>^1.2.3</code></td>
<td><code>&gt;=1.2.3, &lt;2.0.0</code></td>
<td>不会破坏 API 的更新</td>
</tr>
<tr>
<td><code>^0.3.1</code></td>
<td><code>&gt;=0.3.1, &lt;0.4.0</code></td>
<td><code>0.x</code> 被视为不稳定</td>
</tr>
<tr>
<td><code>^0.0.5</code></td>
<td><code>&gt;=0.0.5, &lt;0.0.6</code></td>
<td><code>0.0.x</code> 变化都可能破坏兼容性</td>
</tr>
</tbody>
</table>
<p>👉 <code>^</code> 是 Cargo 的默认行为，用于保持向后兼容的同时接收非破坏性升级。</p>
<p>实例说明：</p>
<pre><code class="language-toml">serde = "1.0"     # 等价于 ^1.0.0   → 允许 1.x.x（不包括 2.0）
serde = "0.3"     # 等价于 ^0.3.0   → 允许 0.3.x（不包括 0.4）
serde = "0.0.5"   # 等价于 ^0.0.5   → 只允许 0.0.5
</code></pre>
<h4 id="特别注意0x-是不稳定的">特别注意：0.x 是不稳定的</h4>
<p><code>0.x.y</code> 版本被视为“未稳定”，因此：</p>
<ul>
<li><code>^0.1.2</code> 只允许 <code>0.1.z</code>，<strong>不允许升级到 <code>0.2.0</code></strong></li>
<li><code>^0.0.5</code> 只允许 <code>0.0.5</code>，等价于锁定</li>
</ul>
<h3 id="2---patch-限定tilde-requirement">2. <code>~</code> —— Patch 限定（Tilde requirement）</h3>
<pre><code class="language-rust">serde = "~1.2.3"
</code></pre>
<p>含义：<strong>锁定 minor 版本，只允许 patch 升级</strong></p>
<p>等价于：</p>
<pre><code class="language-rust">&gt;=1.2.3, &lt;1.3.0
</code></pre>
<h3 id="3--精确版本">3. = ——精确版本</h3>
<pre><code class="language-rust">serde = "=1.2.3"
</code></pre>
<p>只允许使用 <strong>恰好</strong> <code>1.2.3</code> 这个版本。即使最新版本是1.2.5，<code>cargo update</code> 命令也不会更新到最新版本。</p>
<h3 id="4-范围表达">4. 范围表达</h3>
<pre><code class="language-rust">serde = "&gt;=1.0.0, &lt;1.5.0"
</code></pre>
<p>直接通过数学符号表达版本范围。</p>
<h3 id="5-星号-">5. 星号 <code>*</code></h3>
<pre><code class="language-rust">serde = "*"
</code></pre>
<p>允许任何版本,默认拉取最新版本（不建议用于生产环境）。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-08-05 20:22">2025-08-05 20:21</span>&nbsp;
<a href="https://www.cnblogs.com/rust-tech">Rust技术指南</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19023955);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19023955', targetLink: 'https://www.cnblogs.com/rust-tech/p/19023955', title: 'Rust语义化版本介绍' })">举报</a>
</div>
        