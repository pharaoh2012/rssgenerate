
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/hsiang/p/18656598" title="发布于 2025-01-07 23:02">
    <span role="heading" aria-level="2">WinForm之MDI窗体开发详解</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        在WinForm开发中，如果有多个页面进行展示，通常采用菜单栏+容器布局方式（点击菜单栏，打开新的页面，并在容器中显示）。今天以一个简单的小例子，简述如何通过菜单栏和MDI容器实现页面的布局，仅供学习分享使用，如有不足之处，还请指正。
    </div>
<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>在WinForm开发中，如果有多个页面进行展示，通常采用菜单栏+容器布局方式（点击菜单栏，打开新的页面，并在容器中显示）。今天以一个简单的小例子，简述如何通过菜单栏和MDI容器实现页面的布局，仅供学习分享使用，如有不足之处，还请指正。</p>
<h1>涉及知识点</h1>
<p>在本实例开发中，主要涉及的知识点如下所示：</p>
<ul>
<li>MenuStrip（菜单栏），为Windows Form程序提供一种菜单形式展示的控件，此控件派生自ToolStrip（工具栏），常用属性有以下几个：</li>
</ul>
<ul>
<li style="list-style-type: none">
<ol>
<li>Items，表示菜单栏所属的菜单项列表，子项类型为ToolStripMenuItem。</li>
<li>ItemClicked事件，表示菜单项点击事件，通过此事件可以处理菜单点击后的业务。且此事件参数为ToolStripItemClickedEventArgs类型，此类型包含ClickedItem属性，表示点击的菜单项。</li>
<li>MdiWindowListItem，表示是MDI窗口打开时，显示的已经打开的子窗口列表，默认为空，需要手动添加。</li>
</ol>
</li>
</ul>
<ul>
<li>MDI窗口，正常创建出来的窗体都是单一窗口（Single-Document-Interface），而MDI窗口，又称多文档界面窗体 （Multiple-Document-Interface ），用于同时显示多个文档，MDI 子窗体的创建避免了用户打开很多窗口的时候任务栏中挤满了窗体。MDI窗口常用的属性有以下几个：</li>
</ul>
<ul>
<li style="list-style-type: none">
<ol>
<li>IsMdiContainer，用于设置主窗体，是否为MDI容器，只有设置为true，才能做为MDI容器，否则就是单一窗体。</li>
<li>MdiParent，设置子窗体所属的MDI容器页面，设置完成后，此窗体就做为MDI窗体的一部分。</li>
<li>MdiChildren，表示此MDI容器已经包含的子窗体列表。</li>
</ol>
</li>
</ul>
<p>注意，菜单子项也可以嵌套，即子菜单还可以包含子项。MDI子窗口也可以作为容器再包含子窗口，不过一般不建议。</p>
<h1>开发步骤</h1>
<p>首先设置要作为容器的窗体的IsMdiContainer属性为true，可以通过属性栏进行设置，如下图所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250106232910465-1498643219.png"></p>
<p>添加菜单栏，通过工具箱拖动MenuStrip控件到MDI主窗体，菜单栏的Dock属性默认为Top，可以根据实际需要进行修改。</p>
<p>为菜单栏添加菜单，可以通过点击MenuStrip右侧的[小三角]，在弹出的MenuStrip任务菜单，然后点击[编辑项...]，打开项集合编辑器，如下所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250106233411543-1548139177.png"></p>
<p>本示例添加三个菜单，分别用于打开三个窗口。</p>
<p>为MenuStrip添加ItemClicked事件，并添加如下业务逻辑代码：</p>
<pre class="language-csharp highlighter-hljs"><code>private void menuWin_ItemClicked(object sender, ToolStripItemClickedEventArgs e)
{
	Form form = null;
	var item = e.ClickedItem.Text;
	if(item == "窗口1")
	{
		form = new FirstForm();
	}
	if (item == "窗口2")
	{
		form = new SecondForm();
	}
	if (item == "窗口3")
	{
		form = new ThirdForm();          
	}
	if (form != null)
	{
		form.Text = item;
		form.Width = 300;
		form.Height = 300;
		form.MdiParent = this;
		form.Show();
	}
}</code></pre>
<p>在上述代码中，主要根据不同的菜单项，打开不同的窗体，并设置窗体的大小，标题，MdiParent属性，然后调用Show方法进行展示。</p>
<p>设置MenuStrip的MdiWindowListItem属性，显示MDI容器中已经加载的窗体列表。在窗体初始化或Load事件中添加如下代码：</p>
<pre class="language-csharp highlighter-hljs"><code>ToolStripMenuItem window=new ToolStripMenuItem("Window");
this.menuWin.MdiWindowListItem=window;
this.menuWin.Items.Add(window);</code></pre>
<p>MdiWindowListItem初始化成功后，在添加MDI子窗体时，会自动添加到MdiWindowListItem的子项中。</p>
<h1>运行调试</h1>
<p>经过上述步骤基于MenuStrip+MDI开发的布局已经基本完成，运行程序后，点击菜单栏，打开窗口，默认如下所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250106235051573-171900830.png"></p>
<p>窗口最大化，可以通过Window中的子项进行切换窗口，如下所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250106235317752-2114494457.png"></p>
<p>窗体最小化，默认情况下，最小化时停靠在容器底部（可以通过属性【MdiChildrenMinimizedAnchorBottom】进行修改），同时也可通过点击还原恢复正常窗口大小，如下所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250106235456330-1118741188.png"></p>
<h1>MDI窗体布局</h1>
<p>Windows Form的MDI窗体提供了4种布局方式，分别为：</p>
<ul>
<li>Cascade，所有的MDI子窗体，叠加的显示在容器中，用户可以进行拖动调整位置，此为默认布局。</li>
<li>TileHorizontal，所有的MDI子窗体，以水平平铺的方式显示在容器中。</li>
<li>TileVertical，所有的MDI子窗体，以垂直平铺的方式显示在容器中。</li>
<li>ArrangeIcons，所有的MDI子窗体，以排列图标的方式显示在容器中。</li>
</ul>
<p>具体示例如下所示：</p>
<p>Cascade层叠布局，如下所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250107000958662-1358749744.png"></p>
<p>TileHorizontal水平平铺，如下所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250107000623637-1473068301.png"></p>
<p>TileVertical垂直平铺方式，如下所示：</p>
<p><img src="https://img2024.cnblogs.com/blog/1068941/202501/1068941-20250107000723236-1911226195.png"></p>
<p>以上就是《WinForm之MDI窗体开发详解》的全部内容。</p>
</div>
<div id="MySignature" role="contentinfo">
    <div id="AllanboltSignature">
 
    <p style="border-top: #e0e0e0 1px dashed; border-right: #e0e0e0 1px dashed; border-bottom: #e0e0e0 1px dashed; border-left: #e0e0e0 1px dashed; padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 30px; font-family: 微软雅黑; font-size: 12px" id="PSignature">
<br>
  <a style="float: left; display: block; padding-right: 10px" target="_blank" href="https://images.cnblogs.com/cnblogs_com/hsiang/1154298/o_115f1cd8.jpg">
   <img alt="" src="https://images.cnblogs.com/cnblogs_com/hsiang/1154298/o_115f1cd8.jpg" width="80px" height="80px">
   </a>
    作者：<a href="http://www.cnblogs.com/hsiang/" target="_blank">老码识途</a>
    <br>
    出处：<a href="http://www.cnblogs.com/hsiang/" target="_blank">http://www.cnblogs.com/hsiang/</a>
    <br>
    本文版权归作者和博客园共有，写文不易，支持原创，欢迎转载【点赞】，转载请保留此段声明，且在文章页面明显位置给出原文连接，谢谢。
    <br>关注个人公众号，定时同步更新技术及职场文章
<br><br>
   </p>
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="2.9669876006157407" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-07 23:03">2025-01-07 23:02</span>&nbsp;
<a href="https://www.cnblogs.com/hsiang">老码识途呀</a>&nbsp;
阅读(<span id="post_view_count">79</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18656598" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18656598);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18656598', targetLink: 'https://www.cnblogs.com/hsiang/p/18656598', title: 'WinForm之MDI窗体开发详解' })">举报</a>
</div>
        