
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhaloe/p/18946862" title="发布于 2025-06-24 21:32">
    <span role="heading" aria-level="2">ArkUI-X通过Stage模型开发Android端应用指南(一)</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="简介">简介</h2>
<p>本文介绍将ArkUI框架扩展到Android平台所需要的必要的类及其使用说明，开发者基于OpenHarmony，可复用大部分的应用代码（生命周期等）并可以部署到Android平台，降低跨平台应用开发成本。</p>
<h2 id="androidstudio配置">AndroidStudio配置</h2>
<p>使用AndroidStudio所创建Android工程的PackageName需要与OpenHarmony工程的BundleName一致。</p>
<p><strong>注:</strong> AndroidStudio:Android应用的开发工具。</p>
<h2 id="arkui-x和android平台集成所用关键类">ArkUI-X和Android平台集成所用关键类</h2>
<h3 id="应用工程android逻辑部分的stageapplication">应用工程Android逻辑部分的StageApplication</h3>
<p>应用需要继承arkui_android_adapter.jar包所提供的StageApplication。StageApplication用于初始化资源路径以及加载配置信息，例如：</p>
<pre><code>package com.example.myapplication;
import ohos.stage.ability.adapter.StageApplication;

public class HiStageApplication extends StageApplication {

}
</code></pre>
<h3 id="应用工程android逻辑部分的stageactivity">应用工程Android逻辑部分的StageActivity</h3>
<p>Activity需要继承arkui_android_adapter.jar包所提供的StageActivity，StageActivity主要功能是将Android中Activity的生命周期与OpenHarmony中Ability的生命周期进行映射，例如：</p>
<pre><code>package com.example.myapplication;
import ohos.stage.ability.adapter.StageActivity;

public class EntryMainAbilityActivity extends StageActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.setInstanceName("com.example.myapplication:entry:MainAbility:");
        super.onCreate(savedInstanceState);
    }
}
</code></pre>
<p>为了将Activity和ability进行关联，需要重写StageActivity中的onCreate事件，在super.onCreate(savedInstanceState)之前设置instanceName，规则如下：</p>
<pre><code>bundleName:moduleName:abilityName:
</code></pre>
<p>其中bundleName的值来自于OpenHarmony应用中app.json5配置文件，moduleName、abilityName的值来自于OpenHarmony应用中的module.json5配置文件。</p>
<h2 id="ability与activity对应规则">Ability与Activity对应规则</h2>
<p>Android端应用内的Activity的packageName需要与Ability的bundleName一致。</p>
<p>Android端应用内的Activity的activityName组成规则：Ability的moduleName + Ability的abilityName + “Activity”。</p>
<p>示例如图：<br>
<img alt="stage_android" loading="lazy" data-src="https://raw.gitcode.com/arkui-x/docs/files/master/zh-cn/application-dev/quick-start/figures/stage_android.png" class="lazyload"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-24 21:33">2025-06-24 21:32</span>&nbsp;
<a href="https://www.cnblogs.com/zhaloe">龙儿筝</a>&nbsp;
阅读(<span id="post_view_count">4</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18946862);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18946862', targetLink: 'https://www.cnblogs.com/zhaloe/p/18946862', title: 'ArkUI-X通过Stage模型开发Android端应用指南(一)' })">举报</a>
</div>
        