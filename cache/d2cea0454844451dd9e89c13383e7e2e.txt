
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/shanyou/p/18882866" title="发布于 2025-05-18 23:14">
    <span role="heading" aria-level="2">聊一聊 dotnet 社区对 RISC-V 的支持进展</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>.NET 10 上周已经发布了<a href="https://www.cnblogs.com/shanyou/p/18879388" target="_blank">.NET 10 Preview 4</a>[1]，2025年的开发迭代已经过半了，一起来看下.NET 10 今年对RISC-V架构的支持进展情况。我们从Github .NET 社区的相关仓库和Issue 里通过三个方面的简要梳理dotnet 对 RISC-V 的支持：</p><ol><li><p>官方支持<br>截至 2025 年 5月，微软官方的 .NET（dotnet）尚未正式支持 RISC-V 架构。官方发布版主要支持 x64、Arm64、s390x（部分平台）等架构，龙芯团队支持了LoongArch架构。RISC-V 目前还属于社区实验和探索阶段，未进入官方支持路线图。在（<a href="https://github.com/dotnet/runtime/issues/36748" rel="noopener nofollow">dotnet/runtime #36748: RISC-V support</a>）[2]多位开发者和社区成员表达了对支持 RISC-V 的兴趣，但官方团队明确表示，RISC-V 的支持需要社区的推动、贡献和相关维护资源。目前该 issue 标记为“Future”，说明官方不会在近期版本内支持，但会持续关注社区需求和进展。如果有足够的社区贡献，未来有可能纳入正式支持计划。</p></li><li><p>社区移植进展<br>社区中有多项针对 RISC-V 的移植尝试，主要由个人或小组驱动， issue（<a href="https://github.com/dotnet/runtime/issues/84834" target="_blank" rel="noopener nofollow">CoreCLR RISC-V architecture port #84834</a>）[3]的主题是 CoreCLR 对 RISC-V 架构的移植进展总结：</p></li></ol><ul><ul><li><p>当前进展：</p><ul><li>已实现 CodeGen BringUp 测试在 Debug 模式下 100% 通过（在 qemu 和 StarFive VisionFive2 板上）。</li><li>相关 PR 部分已合并，部分尚未合并。合并后，主分支在 VisionFive2 和 qemu 上的 CodeGen BringUp 测试应全通过（VisionFive2 需暂时禁用 GC_REGIONS）。</li><li>VisionFive2 测试结果（Debug，设置 DOTNET_GCgen0size=99999999）：<ul><li>JIT 目录：4737 个测试，4304 通过，413 失败，20 跳过</li><li>所有测试：6565 个测试，5663 通过，861 失败，41 跳过</li></ul></li></ul></li><li><p>近期计划：</p><ul><li>继续让 JIT 目录下的测试在 Release/Debug/Checked 模式下全部通过</li><li>修复与 JIT 优化无关的 TODO</li><li>为 RISC-V 添加 CI，并启用 JitDisasm 和 JitDump</li><li>关注更多测试目录，争取更多模式下通过</li><li>后续重点还包括库（corefx）测试、jitstress/gcstress 等测试</li></ul></li><li><p>近期不计划开展的内容：</p><ul><li>JIT 全优化、交叉编译（crossgen2）、SIMD/内联优化、GC 优化、异常处理、栈遍历、跨语言互操作优化等</li></ul></li><li><p>工作流程：遵循官方 JIT 移植文档，并将失败测试按错误类型分类。后续会开单独 issue 跟踪正在处理的内容。</p></li><li><p>相关 issue：#<a href="https://github.com/dotnet/runtime/issues/36748" target="_blank" rel="noopener nofollow">36748</a>, #<a href="https://github.com/dotnet/runtime/issues/75749" target="_blank" rel="noopener nofollow">75749</a>。</p></li><li><p> 在 issue（<a href="https://github.com/dotnet/runtime/issues/106223" target="_blank" rel="noopener nofollow">RISC-V NativeAOT port</a>）[4]用于跟踪 .NET NativeAOT 在 riscv64 架构上的移植进展。当前内容包括：<br>
• 主要记录 NativeAOT 在 riscv64 上的移植工作进度。<br>
• 移植工作基于 LA64（LoongArch64）架构的相关实现经验。<br>
• 提供了一个正在进行中的初步移植分支链接，供参考和协作：<a href="https://github.com/dotnet/runtime/compare/main...am11:runtime:feature/nativeaot/riscv64-port" rel="noopener nofollow">https://github.com/dotnet/runtime/compare/main...am11:runtime:feature/nativeaot/riscv64-port</a><br>
• 该 issue 标注了 area-NativeAOT-coreclr 和 arch-riscv 标签，归属于 Future 里程碑，尚未关闭。<br>
• 评论数较多（200），表明社区和开发者有较多讨论和参与。</p></li></ul></ul><ol start="3"><li><a href="https://github.com/filipnavara/dotnet-riscv/" target="_blank" rel="noopener nofollow">filipnavara/dotnet-riscv</a>[5] 仓库情况<br>该仓库即为社区成员 @filipnavara 主导的 .NET RISC-V 移植项目，发布了可用的RISC-V的.NET源码包，特点如下：</li></ol><ul><li>目标是让 .NET 运行时（runtime）在 RISC-V 架构上可用，支持托管应用运行。</li><li>包含大量针对 RISC-V 架构的底层修改和补丁，涉及 coreclr、corefx 等组件。</li><li>项目处于实验和开发阶段，可能并不完全等同于官方主线代码，稳定性和兼容性有限。已经发布了<a href="https://github.com/filipnavara/dotnet-riscv/releases/tag/v9.0.101" target="_blank" rel="noopener nofollow">.NET 9</a> [6]以及<a href="https://github.com/filipnavara/dotnet-riscv/releases/tag/v10.0.100-preview.1.25111.1" target="_blank" rel="noopener nofollow">v10.0.100-preview.1.25111.1</a>[7] </li></ul><p>相关链接：</p><ul><li>[1] .NET 10 Preview 4: <a title="https://www.cnblogs.com/shanyou/p/18879388" href="https://www.cnblogs.com/shanyou/p/18879388">https://www.cnblogs.com/shanyou/p/18879388</a></li><li>[2] dotnet/runtime #36748: RISC-V support:<a title="https://github.com/dotnet/runtime/issues/36748" href="https://github.com/dotnet/runtime/issues/36748" rel="noopener nofollow">https://github.com/dotnet/runtime/issues/36748</a></li><li>[3] CoreCLR RISC-V architecture port #84834: <a title="https://github.com/dotnet/runtime/issues/84834" href="https://github.com/dotnet/runtime/issues/84834" rel="noopener nofollow">https://github.com/dotnet/runtime/issues/84834</a></li><li>[4] RISC-V NativeAOT port: <a title="https://github.com/dotnet/runtime/issues/106223" href="https://github.com/dotnet/runtime/issues/106223" rel="noopener nofollow">https://github.com/dotnet/runtime/issues/106223</a></li><li>[5] filipnavara/dotnet-riscv: <a title="https://github.com/filipnavara/dotnet-riscv/" href="https://github.com/filipnavara/dotnet-riscv/" rel="noopener nofollow">https://github.com/filipnavara/dotnet-riscv/</a></li><li>[6] RISC-V 架构.NET 9 : <a title="https://github.com/filipnavara/dotnet-riscv/releases/tag/v9.0.101" href="https://github.com/filipnavara/dotnet-riscv/releases/tag/v9.0.101" rel="noopener nofollow">https://github.com/filipnavara/dotnet-riscv/releases/tag/v9.0.101</a></li><li>[7] RISC-V 架构v10.0.100-preview.1.25111.1: <a title="https://github.com/filipnavara/dotnet-riscv/releases/tag/v10.0.100-preview.1.25111.1" href="https://github.com/filipnavara/dotnet-riscv/releases/tag/v10.0.100-preview.1.25111.1" rel="noopener nofollow">https://github.com/filipnavara/dotnet-riscv/releases/tag/v10.0.100-preview.1.25111.1</a></li></ul>
</div>
<div id="MySignature" role="contentinfo">
    <p>欢迎大家扫描下面二维码成为我的客户，扶你上云</p>
<img src="https://images.cnblogs.com/cnblogs_com/shanyou/57459/o_220125090408_%E9%82%80%E8%AF%B7%E4%BA%8C%E7%BB%B4%E7%A0%81-258px.jpeg" width="170">
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.21406123611805555" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-19 07:16">2025-05-18 23:14</span>&nbsp;
<a href="https://www.cnblogs.com/shanyou">张善友</a>&nbsp;
阅读(<span id="post_view_count">377</span>)&nbsp;
评论(<span id="post_comment_count">1</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18882866);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18882866', targetLink: 'https://www.cnblogs.com/shanyou/p/18882866', title: '聊一聊 dotnet 社区对 RISC-V 的支持进展' })">举报</a>
</div>
        