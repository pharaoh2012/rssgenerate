
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/TwilightLemon/p/18714544" title="å‘å¸ƒäº 2025-02-13 22:48">
    <span role="heading" aria-level="2">C++ ä½¿ç”¨MIDIåº“æ¼”å¥ã€Šæ™´å¤©ã€‹</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<div style="text-align: center">é‚£äº›åœ¨MIDIåº“é‡Œå¾˜å¾Šçš„åå…­åˆ†éŸ³ç¬¦</div>
<div style="text-align: center">ç»ˆç©¶æ²¡èƒ½æ‹¼æˆå‘Šç™½çš„ä¸»æ­Œ</div>
<div style="text-align: center">&nbsp;</div>
<div style="text-align: center">æˆ‘æŠŠå‘¨æ°ä¼¦çš„ã€Šæ™´å¤©ã€‹å†™æˆC++çš„ç±»<br>åœ¨æ¯ä¸ªmidiEventé‡ŒåŸ‹è—æ•…äº‹çš„å°é»„èŠ±</div>
<div style="text-align: center">&nbsp;</div>
<div style="text-align: center">è°ƒè¯•å™¨çš„æ–­ç‚¹æ¯”åˆæ‹æ›´æ¼«é•¿<br>è€Œé’æ˜¥ä¸è¿‡æ˜¯ä¸€ä¸²æœªå¯¼å‡ºçš„cmakeå·¥ç¨‹æ–‡ä»¶</div>
<div style="text-align: center">&nbsp;</div>
<div style="text-align: center">åœ¨å †æ ˆæº¢å‡ºçš„å¤œæ™š<br>ç»ˆå°†æ˜ç™½<br>æœ‰äº›æ—‹å¾‹æ°¸è¿œåœåœ¨#pragma onceçš„æ³¨é‡Šé‡Œ<br>æœ‰äº›äººæ°¸è¿œåœåœ¨æœªå®šä¹‰çš„å¼•ç”¨é‡Œ</div>
<div style="text-align: center">&nbsp;</div>
<div style="text-align: center">æˆ–è®¸ä½ æˆ‘çš„å¿ƒè·³ç»ˆå½’è¿è¡Œåœ¨ä¸åŒçš„æ—¶é’Ÿé¢‘ç‡<br>å´æ„¿å§‹ç»ˆè®°å¾—å¦‚ä½•ç¼–è¯‘å‡ºä¸€åœºæ°¸ä¸è½å¹•çš„æ™´å¤©</div>
<div style="text-align: center">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€--é¢˜è®°</div>
<div style="text-align: left">&nbsp;</div>
<div style="text-align: left"><hr></div>
<div style="text-align: left">å°±åƒåœ¨é¢˜è®°é‡Œè¯´çš„ä¸€æ ·ï¼Œè¿™æ˜¯ä¸€ä¸ªä»æœªå¯¼å‡ºæˆåŠŸçš„å·¥ç¨‹æ–‡ä»¶ã€‚<br>æ‰€ä»¥å¦‚æœä½ ä¹Ÿæƒ³å¬å¬ï¼Œå¯ä»¥åœ¨PowerShellé‡Œè¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</div>
<div style="text-align: left">
<div class="cnblogs_code">
<pre>git clone https://github.com/TwilightLemon/<span style="color: rgba(0, 0, 0, 1)">SunnyDays
cd SunnyDays
mkdir build
cd build
cmake .. </span>-G <span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">MinGW Makefiles</span><span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(0, 0, 0, 1)">
mingw32</span>-<span style="color: rgba(0, 0, 0, 1)">make
.</span>/SunnyDays.exe</pre>
</div>
<p><span style="text-decoration: line-through">æ²¡ç¯å¢ƒï¼Ÿå·§äº†ï¼Œå¥¹ä¹Ÿå¦‚æ˜¯è¯´ã€‚</span></p>
<p>å¹¸è¿çš„è¯èƒ½å¾—åˆ°ä»¥ä¸‹æ•ˆæœï¼š</p>
<p><img src="https://img2024.cnblogs.com/blog/1188749/202502/1188749-20250213224018232-1965791702.png" alt="" width="543" height="599"></p>
<p>ä¸‹é¢æ¥ç®€å•è®²è®²å¦‚ä½•ä½¿ç”¨C++å’ŒMIDIåº“ä½œæ›²å§ã€‚</p>
<h2 id="ä¸€å¼€å§‹å·¥ä½œ">ä¸€ã€å¼€å§‹å·¥ä½œ<a class="anchor" href="https://blog.twlmgatito.cn/posts/cpp-midi-sunnydays/#%E4%B8%80%E5%BC%80%E5%A7%8B%E5%B7%A5%E4%BD%9C" rel="noopener nofollow"><span class="anchor-icon" data-pagefind-ignore=""><br></span></a></h2>
<h3 id="å¼•å…¥midiåº“å’Œç›¸å…³æ§åˆ¶ç±»">1. å¼•å…¥MIDIåº“å’Œç›¸å…³æ§åˆ¶ç±»</h3>
<p>åœ¨<code>CMakeLists.txt</code>ä¸­ï¼š</p>
<div class="cnblogs_code">
<pre>target_link_libraries(SunnyDays winmm)</pre>
</div>
<p>åœ¨<code>MIDIHelper.h</code>ä¸­ï¼š</p>
<div class="cnblogs_code">
<pre>#include &lt;windows.h&gt;
<span style="color: rgba(0, 0, 255, 1)">#pragma</span> comment(lib,"winmm.lib")</pre>
</div>
<p>å®šä¹‰Scale(éŸ³é˜¶), Instrument(ä¹å™¨, ä»…åŒ…æ‹¬éƒ¨åˆ†)ç­‰æšä¸¾ã€‚æˆ‘æŠŠDrumå•ç‹¬æäº†å‡ºæ¥ã€‚</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">enum</span><span style="color: rgba(0, 0, 0, 1)"> Scale
{
    X1 </span>= <span style="color: rgba(128, 0, 128, 1)">36</span>, X2 = <span style="color: rgba(128, 0, 128, 1)">38</span>, X3 = <span style="color: rgba(128, 0, 128, 1)">40</span>, X4 = <span style="color: rgba(128, 0, 128, 1)">41</span>, X5 = <span style="color: rgba(128, 0, 128, 1)">43</span>, X6 = <span style="color: rgba(128, 0, 128, 1)">45</span>, X7 = <span style="color: rgba(128, 0, 128, 1)">47</span><span style="color: rgba(0, 0, 0, 1)">,
    L1 </span>= <span style="color: rgba(128, 0, 128, 1)">48</span>, L2 = <span style="color: rgba(128, 0, 128, 1)">50</span>, L3 = <span style="color: rgba(128, 0, 128, 1)">52</span>, L4 = <span style="color: rgba(128, 0, 128, 1)">53</span>, L5 = <span style="color: rgba(128, 0, 128, 1)">55</span>, L6 = <span style="color: rgba(128, 0, 128, 1)">57</span>, L7 = <span style="color: rgba(128, 0, 128, 1)">59</span><span style="color: rgba(0, 0, 0, 1)">,
    M1 </span>= <span style="color: rgba(128, 0, 128, 1)">60</span>, M2 = <span style="color: rgba(128, 0, 128, 1)">62</span>, M3 = <span style="color: rgba(128, 0, 128, 1)">64</span>, M4 = <span style="color: rgba(128, 0, 128, 1)">65</span>, M5 = <span style="color: rgba(128, 0, 128, 1)">67</span>, M6 = <span style="color: rgba(128, 0, 128, 1)">69</span>, M7 = <span style="color: rgba(128, 0, 128, 1)">71</span><span style="color: rgba(0, 0, 0, 1)">,
    H1 </span>= <span style="color: rgba(128, 0, 128, 1)">72</span>, H2 = <span style="color: rgba(128, 0, 128, 1)">74</span>, H3 = <span style="color: rgba(128, 0, 128, 1)">76</span>, H4 = <span style="color: rgba(128, 0, 128, 1)">77</span>, H5 = <span style="color: rgba(128, 0, 128, 1)">79</span>, H6 = <span style="color: rgba(128, 0, 128, 1)">81</span>, H7 = <span style="color: rgba(128, 0, 128, 1)">83</span><span style="color: rgba(0, 0, 0, 1)">,
    LOW_SPEED </span>= <span style="color: rgba(128, 0, 128, 1)">500</span>, MIDDLE_SPEED = <span style="color: rgba(128, 0, 128, 1)">400</span>, HIGH_SPEED = <span style="color: rgba(128, 0, 128, 1)">300</span><span style="color: rgba(0, 0, 0, 1)">,
    _ </span>= <span style="color: rgba(128, 0, 128, 1)">0XFF</span><span style="color: rgba(0, 0, 0, 1)">
};
</span><span style="color: rgba(0, 0, 255, 1)">enum</span><span style="color: rgba(0, 0, 0, 1)"> Drum{
    BassDrum </span>= <span style="color: rgba(128, 0, 128, 1)">36</span>, SnareDrum = <span style="color: rgba(128, 0, 128, 1)">38</span>, ClosedHiHat = <span style="color: rgba(128, 0, 128, 1)">42</span>, OpenHiHat = <span style="color: rgba(128, 0, 128, 1)">46</span><span style="color: rgba(0, 0, 0, 1)">
};
</span><span style="color: rgba(0, 0, 255, 1)">enum</span><span style="color: rgba(0, 0, 0, 1)"> Instrument{
    AcousticGrandPiano </span>= <span style="color: rgba(128, 0, 128, 1)">0</span>, BrightAcousticPiano = <span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">,
    ElectricGrandPiano </span>= <span style="color: rgba(128, 0, 128, 1)">2</span>, HonkyTonkPiano = <span style="color: rgba(128, 0, 128, 1)">3</span><span style="color: rgba(0, 0, 0, 1)">,
    ElectricPiano1 </span>= <span style="color: rgba(128, 0, 128, 1)">4</span>, ElectricPiano2 = <span style="color: rgba(128, 0, 128, 1)">5</span><span style="color: rgba(0, 0, 0, 1)">
};</span></pre>
</div>
<p>ä¸€äº›åŸºç¡€æ–¹æ³•ï¼ŒåŒ…æ‹¬åˆå§‹åŒ–/å…³é—­è®¾å¤‡ã€è®¾ç½®å‚æ•°ã€æ’­æ”¾å•ä¸ªéŸ³ç¬¦å’Œæ’­æ”¾å’Œå¼¦ç­‰ã€‚</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> initDevice();
</span><span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> closeDevice();
</span><span style="color: rgba(0, 0, 255, 1)">void</span> setInstrument(<span style="color: rgba(0, 0, 255, 1)">int</span> channel, <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> instrument);
</span><span style="color: rgba(0, 0, 255, 1)">void</span> setVolume(<span style="color: rgba(0, 0, 255, 1)">int</span> channel, <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> volume);

</span><span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> PlayNote(HMIDIOUT handle, UINT channel, UINT note, UINT velocity);

</span><span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> playChord(HMIDIOUT handle, UINT channel, UINT note1, UINT note2, UINT note3, UINT note4, UINT velocity);

</span><span style="color: rgba(0, 0, 255, 1)">void</span> playChord(HMIDIOUT handle, UINT channel, UINT note1, UINT note2, UINT note3, UINT velocity);</pre>
</div>
<p>åœ¨<code>MIDIHelper.cpp</code>ä¸­ï¼š</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> initDevice(){
    midiOutOpen(</span>&amp;hMidiOut, <span style="color: rgba(128, 0, 128, 1)">0</span>, <span style="color: rgba(128, 0, 128, 1)">0</span>, <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">, CALLBACK_NULL);
}

</span><span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> closeDevice(){
    midiOutClose(hMidiOut);
}

</span><span style="color: rgba(0, 0, 255, 1)">void</span> setInstrument(<span style="color: rgba(0, 0, 255, 1)">int</span> channel,<span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> instrument){
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (channel &gt; <span style="color: rgba(128, 0, 128, 1)">15</span> || instrument &gt; <span style="color: rgba(128, 0, 128, 1)">127</span>) <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)">;
    DWORD message </span>= <span style="color: rgba(128, 0, 128, 1)">0xC0</span> | channel | (instrument &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span><span style="color: rgba(0, 0, 0, 1)">);
    midiOutShortMsg(hMidiOut, message);
}

</span><span style="color: rgba(0, 0, 255, 1)">void</span> setVolume(<span style="color: rgba(0, 0, 255, 1)">int</span> channel,<span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> volume){
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (channel &gt; <span style="color: rgba(128, 0, 128, 1)">15</span> || volume &gt; <span style="color: rgba(128, 0, 128, 1)">127</span>) <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)">;
    DWORD message </span>= <span style="color: rgba(128, 0, 128, 1)">0xB0</span> | channel | (<span style="color: rgba(128, 0, 128, 1)">7</span> &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (volume &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    midiOutShortMsg(hMidiOut, message);
}

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ’­æ”¾å•ä¸ªéŸ³ç¬¦ï¼Œnoteæ˜¯éŸ³ç¬¦ï¼Œvelocityæ˜¯åŠ›åº¦</span>
<span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> PlayNote(HMIDIOUT handle, UINT channel, UINT note, UINT velocity) {
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (channel &gt; <span style="color: rgba(128, 0, 128, 1)">15</span> || note &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || velocity &gt; <span style="color: rgba(128, 0, 128, 1)">127</span>) <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)">;
    DWORD message </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    midiOutShortMsg(handle, message);
}

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å››æŒ‡å’Œå¼¦</span>
<span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> playChord(HMIDIOUT handle, UINT channel, UINT note1, UINT note2, UINT note3, UINT note4, UINT velocity){
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (channel &gt; <span style="color: rgba(128, 0, 128, 1)">15</span> || note1 &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || note2 &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || note3 &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || note4 &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || velocity &gt; <span style="color: rgba(128, 0, 128, 1)">127</span>) <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)">;
    DWORD message1 </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note1 &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    DWORD message2 </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note2 &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    DWORD message3 </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note3 &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    DWORD message4 </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note4 &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    midiOutShortMsg(handle, message1);
    midiOutShortMsg(handle, message2);
    midiOutShortMsg(handle, message3);
    midiOutShortMsg(handle, message4);
}

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä¸‰æŒ‡å’Œå¼¦</span>
<span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> playChord(HMIDIOUT handle, UINT channel, UINT note1, UINT note2, UINT note3, UINT velocity) {
    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (channel &gt; <span style="color: rgba(128, 0, 128, 1)">15</span> || note1 &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || note2 &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || note3 &gt; <span style="color: rgba(128, 0, 128, 1)">127</span> || velocity &gt; <span style="color: rgba(128, 0, 128, 1)">127</span>) <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)">;
    DWORD message1 </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note1 &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    DWORD message2 </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note2 &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    DWORD message3 </span>= <span style="color: rgba(128, 0, 128, 1)">0x90</span> | channel | (note3 &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">8</span>) | (velocity &lt;&lt; <span style="color: rgba(128, 0, 128, 1)">16</span><span style="color: rgba(0, 0, 0, 1)">);
    midiOutShortMsg(handle, message1);
    midiOutShortMsg(handle, message2);
    midiOutShortMsg(handle, message3);
}</span></pre>
</div>
<h3 id="åˆå§‹åŒ–å’Œç»“æŸ">2. åˆå§‹åŒ–å’Œç»“æŸ<a class="anchor" href="https://blog.twlmgatito.cn/posts/cpp-midi-sunnydays/#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E7%BB%93%E6%9D%9F" rel="noopener nofollow"><span class="anchor-icon" data-pagefind-ignore=""><br></span></a></h3>
<p>å…ˆåœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªå…¨å±€MIDIå¥æŸ„:</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">extern</span> HMIDIOUT hMidiOut;</pre>
</div>
<p>åœ¨å…¥å£å¤„åˆå§‹åŒ–MIDIè®¾å¤‡å¹¶åœ¨ç»“æŸæ—¶å…³é—­ï¼š</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)">HMIDIOUT hMidiOut;
</span><span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> main() {
    initDevice();
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 0, 0, 1)">    closeDevice();
    </span><span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">;
}</span></pre>
</div>
<p>åˆå§‹åŒ–MIDIè®¾å¤‡ä¹‹åï¼Œä¸ºæ¯ä¸€ä¸ªä¹å™¨åˆ†é…ä¸€ä¸ªé€šé“<code>channel</code>ï¼ˆ0~15ï¼Œé€šå¸¸9åˆ†é…ç»™æ‰“å‡»ç±»ä¹å™¨,ä¾‹å¦‚é¼“ç»„ï¼‰ï¼Œæ§åˆ¶éŸ³é‡<code>volume</code>ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹æ¼”å¥äº†ã€‚</p>
<h2 id="äºŒè‡ªåˆ¶ç®€æ˜“ä¹è°±">äºŒã€è‡ªåˆ¶ç®€æ˜“ä¹è°±<a class="anchor" href="https://blog.twlmgatito.cn/posts/cpp-midi-sunnydays/#%E4%BA%8C%E8%87%AA%E5%88%B6%E7%AE%80%E6%98%93%E4%B9%90%E8%B0%B1" rel="noopener nofollow"><span class="anchor-icon" data-pagefind-ignore=""><br></span></a></h2>
<p>ä»¥<code>Voice.cpp</code>ä¸ºä¾‹,å®šä¹‰ä¸€ä¸ªæ•°ç»„ä¸ºé¢‘è°±ï¼Œæ§åˆ¶åœé¡¿å’ŒéŸ³ç¬¦ï¼Œéå†æ•°ç»„æ’­æ”¾ï¼š</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> <span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> SunnyDays{
</span><span style="color: rgba(0, 128, 128, 1)"> 2</span>     <span style="color: rgba(0, 0, 255, 1)">int</span> channelVoice=<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)"> 3</span>     <span style="color: rgba(0, 0, 255, 1)">void</span> playVoice(<span style="color: rgba(0, 0, 255, 1)">int</span> note, <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> velocity){
</span><span style="color: rgba(0, 128, 128, 1)"> 4</span> <span style="color: rgba(0, 0, 0, 1)">        PlayNote(hMidiOut, channelVoice, note, velocity);
</span><span style="color: rgba(0, 128, 128, 1)"> 5</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)"> 6</span>     <span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> voice(){
</span><span style="color: rgba(0, 128, 128, 1)"> 7</span>         Sleep(<span style="color: rgba(128, 0, 128, 1)">13100</span>);<span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ç­‰å¾…å‰å¥</span>
<span style="color: rgba(0, 128, 128, 1)"> 8</span>         <span style="color: rgba(0, 0, 255, 1)">int</span> sleep = <span style="color: rgba(128, 0, 128, 1)">390</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)"> 9</span>         <span style="color: rgba(0, 0, 255, 1)">int</span> data[] =
<span style="color: rgba(0, 128, 128, 1)">10</span> <span style="color: rgba(0, 0, 0, 1)">                {
</span><span style="color: rgba(0, 128, 128, 1)">11</span>                     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æ•…äº‹çš„å°é»„èŠ±</span>
<span style="color: rgba(0, 128, 128, 1)">12</span>                     -<span style="color: rgba(128, 0, 128, 1)">90</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">13</span>                     <span style="color: rgba(128, 0, 128, 1)">300</span><span style="color: rgba(0, 0, 0, 1)">,M5,M5,M1,M1,_,M2,M3,_,
</span><span style="color: rgba(0, 128, 128, 1)">14</span>                     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä»å‡ºç”Ÿé‚£å¹´å°±é£˜ç€</span>
<span style="color: rgba(0, 128, 128, 1)">15</span>                     -<span style="color: rgba(128, 0, 128, 1)">90</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">16</span>                     M5,M5,M1,M1,<span style="color: rgba(128, 0, 128, 1)">0</span>,M2,M3,<span style="color: rgba(128, 0, 128, 1)">300</span><span style="color: rgba(0, 0, 0, 1)">,M2,M1,_,
</span><span style="color: rgba(0, 128, 128, 1)">17</span>                     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ç«¥å¹´çš„è¡ç§‹åƒ</span>
<span style="color: rgba(0, 128, 128, 1)">18</span>                     -<span style="color: rgba(128, 0, 128, 1)">90</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">19</span>                     <span style="color: rgba(128, 0, 128, 1)">300</span><span style="color: rgba(0, 0, 0, 1)">,M5,M5,M1,M1,_,M2,M3,_,
</span><span style="color: rgba(0, 128, 128, 1)">20</span>                     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">éšè®°å¿†ä¸€ç›´æ™ƒåˆ°ç°åœ¨</span>
<span style="color: rgba(0, 128, 128, 1)">21</span>                     -<span style="color: rgba(128, 0, 128, 1)">90</span><span style="color: rgba(0, 0, 0, 1)">,  
</span><span style="color: rgba(0, 128, 128, 1)">22</span>                     M3,_,<span style="color: rgba(128, 0, 128, 1)">500</span>,M2,M3,M4,M3,M2,M4,M3,<span style="color: rgba(128, 0, 128, 1)">700</span>,M2,<span style="color: rgba(128, 0, 128, 1)">700</span><span style="color: rgba(0, 0, 0, 1)">,_,
</span><span style="color: rgba(0, 128, 128, 1)">23</span>                     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 128, 128, 1)">24</span> <span style="color: rgba(0, 0, 0, 1)">                }
</span><span style="color: rgba(0, 128, 128, 1)">25</span>         <span style="color: rgba(0, 0, 255, 1)">for</span><span style="color: rgba(0, 0, 0, 1)"> (auto i : data) {
</span><span style="color: rgba(0, 128, 128, 1)">26</span>             <span style="color: rgba(0, 0, 255, 1)">if</span>(i==-<span style="color: rgba(128, 0, 128, 1)">30</span>){logTime(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Enter chorus</span><span style="color: rgba(128, 0, 0, 1)">"</span>);<span style="color: rgba(0, 0, 255, 1)">continue</span>;}<span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è°ƒè¯•ç”¨</span>
<span style="color: rgba(0, 128, 128, 1)">27</span>             <span style="color: rgba(0, 0, 255, 1)">if</span>(i==-<span style="color: rgba(128, 0, 128, 1)">90</span>){NextLyric(); <span style="color: rgba(0, 0, 255, 1)">continue</span><span style="color: rgba(0, 0, 0, 1)">;}
</span><span style="color: rgba(0, 128, 128, 1)">28</span>             <span style="color: rgba(0, 0, 255, 1)">if</span> (i == <span style="color: rgba(128, 0, 128, 1)">0</span>) { sleep = <span style="color: rgba(128, 0, 128, 1)">180</span>; <span style="color: rgba(0, 0, 255, 1)">continue</span><span style="color: rgba(0, 0, 0, 1)">; }
</span><span style="color: rgba(0, 128, 128, 1)">29</span>             <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 128, 128, 1)">30</span>             <span style="color: rgba(0, 0, 255, 1)">if</span> (i ==<span style="color: rgba(0, 0, 0, 1)"> _) {
</span><span style="color: rgba(0, 128, 128, 1)">31</span>                 Sleep(<span style="color: rgba(128, 0, 128, 1)">390</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">32</span>                 <span style="color: rgba(0, 0, 255, 1)">continue</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">33</span> <span style="color: rgba(0, 0, 0, 1)">            }
</span><span style="color: rgba(0, 128, 128, 1)">34</span> 
<span style="color: rgba(0, 128, 128, 1)">35</span>             playVoice(i, <span style="color: rgba(128, 0, 128, 1)">80</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">36</span> <span style="color: rgba(0, 0, 0, 1)">            Sleep(sleep);
</span><span style="color: rgba(0, 128, 128, 1)">37</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">38</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">39</span> }</pre>
</div>
<p>æ‰“ä¸ªé¼“ï¼š</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> <span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> SunnyDays{
</span><span style="color: rgba(0, 128, 128, 1)"> 2</span>     <span style="color: rgba(0, 0, 255, 1)">int</span> channelBassDrum=<span style="color: rgba(128, 0, 128, 1)">9</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)"> 3</span> 
<span style="color: rgba(0, 128, 128, 1)"> 4</span>     <span style="color: rgba(0, 0, 255, 1)">void</span> playDrum(<span style="color: rgba(0, 0, 255, 1)">int</span> note, <span style="color: rgba(0, 0, 255, 1)">int</span> velocity, <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> duration){
</span><span style="color: rgba(0, 128, 128, 1)"> 5</span> <span style="color: rgba(0, 0, 0, 1)">        PlayNote(hMidiOut, channelBassDrum, note, velocity);
</span><span style="color: rgba(0, 128, 128, 1)"> 6</span>         <span style="color: rgba(0, 0, 255, 1)">if</span>(duration&gt;<span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">) {
</span><span style="color: rgba(0, 128, 128, 1)"> 7</span> <span style="color: rgba(0, 0, 0, 1)">            Sleep(duration);
</span><span style="color: rgba(0, 128, 128, 1)"> 8</span>             PlayNote(hMidiOut, channelBassDrum, note, <span style="color: rgba(128, 0, 128, 1)">0</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)"> 9</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">10</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">11</span> 
<span style="color: rgba(0, 128, 128, 1)">12</span>     <span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> bassDrum(){
</span><span style="color: rgba(0, 128, 128, 1)">13</span>         Sleep(<span style="color: rgba(128, 0, 128, 1)">11260</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">14</span>         cout&lt;&lt;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">Drum Bass Start!</span><span style="color: rgba(128, 0, 0, 1)">"</span>&lt;&lt;<span style="color: rgba(0, 0, 0, 1)">endl;
</span><span style="color: rgba(0, 128, 128, 1)">15</span>         playDrum(SnareDrum,<span style="color: rgba(128, 0, 128, 1)">100</span>,<span style="color: rgba(128, 0, 128, 1)">180</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">16</span>         playDrum(SnareDrum,<span style="color: rgba(128, 0, 128, 1)">100</span>,<span style="color: rgba(128, 0, 128, 1)">210</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">17</span>         playDrum(BassDrum, <span style="color: rgba(128, 0, 128, 1)">100</span>, <span style="color: rgba(128, 0, 128, 1)">210</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">18</span>         playDrum(SnareDrum,<span style="color: rgba(128, 0, 128, 1)">100</span>,<span style="color: rgba(128, 0, 128, 1)">190</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">19</span>         playDrum(BassDrum, <span style="color: rgba(128, 0, 128, 1)">100</span>, <span style="color: rgba(128, 0, 128, 1)">210</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">20</span>         playDrum(SnareDrum,<span style="color: rgba(128, 0, 128, 1)">100</span>,<span style="color: rgba(128, 0, 128, 1)">200</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">21</span>         playDrum(SnareDrum,<span style="color: rgba(128, 0, 128, 1)">100</span>,<span style="color: rgba(128, 0, 128, 1)">200</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">22</span>         playDrum(OpenHiHat,<span style="color: rgba(128, 0, 128, 1)">100</span>,-<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">23</span>         Sleep(<span style="color: rgba(128, 0, 128, 1)">200</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">24</span>         <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 128, 128, 1)">25</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">26</span> }</pre>
</div>
<p>ç®€æ˜“å‰¯æ­Œå’Œå¼¦ï¼Œæ˜¯ä»Bç«™ä¸€ä½upä¸»é‚£é‡Œå­¦çš„ï¼ˆå·²ç»å¿˜è®°æ˜¯å“ªä½äº†qwqï¼‰ï¼š</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> <span style="color: rgba(0, 0, 255, 1)">namespace</span><span style="color: rgba(0, 0, 0, 1)"> SunnyDays {
</span><span style="color: rgba(0, 128, 128, 1)"> 2</span>     <span style="color: rgba(0, 0, 255, 1)">int</span> channelChord=<span style="color: rgba(128, 0, 128, 1)">2</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)"> 3</span>     <span style="color: rgba(0, 0, 255, 1)">void</span> chordLevel(<span style="color: rgba(0, 0, 255, 1)">int</span> level,<span style="color: rgba(0, 0, 255, 1)">int</span> sleep,<span style="color: rgba(0, 0, 255, 1)">int</span> repeat=<span style="color: rgba(128, 0, 128, 1)">2</span>,<span style="color: rgba(0, 0, 255, 1)">int</span> vel=<span style="color: rgba(128, 0, 128, 1)">70</span><span style="color: rgba(0, 0, 0, 1)">){
</span><span style="color: rgba(0, 128, 128, 1)"> 4</span>         repeat--<span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)"> 5</span>         <span style="color: rgba(0, 0, 255, 1)">int</span> down=<span style="color: rgba(128, 0, 128, 1)">8</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)"> 6</span>         <span style="color: rgba(0, 0, 255, 1)">if</span>(level==<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">){
</span><span style="color: rgba(0, 128, 128, 1)"> 7</span>             <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä¸€çº§å’Œå¼¦ åŠ å³æŒ‡</span>
<span style="color: rgba(0, 128, 128, 1)"> 8</span> <span style="color: rgba(0, 0, 0, 1)">            playChord(hMidiOut, channelChord, M1, M3, M5, L1, vel);
</span><span style="color: rgba(0, 128, 128, 1)"> 9</span>             <span style="color: rgba(0, 0, 255, 1)">while</span>(repeat--<span style="color: rgba(0, 0, 0, 1)">) {
</span><span style="color: rgba(0, 128, 128, 1)">10</span> <span style="color: rgba(0, 0, 0, 1)">                Sleep(sleep);
</span><span style="color: rgba(0, 128, 128, 1)">11</span>                 playChord(hMidiOut, channelChord, M1, M3, M5, vel -<span style="color: rgba(0, 0, 0, 1)"> down);
</span><span style="color: rgba(0, 128, 128, 1)">12</span> <span style="color: rgba(0, 0, 0, 1)">            }
</span><span style="color: rgba(0, 128, 128, 1)">13</span>         }<span style="color: rgba(0, 0, 255, 1)">else</span> <span style="color: rgba(0, 0, 255, 1)">if</span>(level==<span style="color: rgba(128, 0, 128, 1)">3</span><span style="color: rgba(0, 0, 0, 1)">){
</span><span style="color: rgba(0, 128, 128, 1)">14</span>             <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä¸‰çº§å’Œå¼¦ åŠ å³æŒ‡</span>
<span style="color: rgba(0, 128, 128, 1)">15</span> <span style="color: rgba(0, 0, 0, 1)">            playChord(hMidiOut, channelChord, M3, M5, M7, L3, vel);
</span><span style="color: rgba(0, 128, 128, 1)">16</span>             <span style="color: rgba(0, 0, 255, 1)">while</span>(repeat--<span style="color: rgba(0, 0, 0, 1)">) {
</span><span style="color: rgba(0, 128, 128, 1)">17</span> <span style="color: rgba(0, 0, 0, 1)">                Sleep(sleep);
</span><span style="color: rgba(0, 128, 128, 1)">18</span>                 playChord(hMidiOut, channelChord, M3, M5, M7, vel -<span style="color: rgba(0, 0, 0, 1)"> down);
</span><span style="color: rgba(0, 128, 128, 1)">19</span> <span style="color: rgba(0, 0, 0, 1)">            }
</span><span style="color: rgba(0, 128, 128, 1)">20</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">21</span>         <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 128, 128, 1)">22</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">23</span>     <span style="color: rgba(0, 0, 255, 1)">void</span><span style="color: rgba(0, 0, 0, 1)"> chord(){
</span><span style="color: rgba(0, 128, 128, 1)">24</span>         Sleep(<span style="color: rgba(128, 0, 128, 1)">63724</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">25</span>         <span style="color: rgba(0, 0, 255, 1)">int</span> sleep=<span style="color: rgba(128, 0, 128, 1)">740</span><span style="color: rgba(0, 0, 0, 1)">;
</span><span style="color: rgba(0, 128, 128, 1)">26</span>         <span style="color: rgba(0, 0, 255, 1)">int</span> data[]=<span style="color: rgba(0, 0, 0, 1)">{
</span><span style="color: rgba(0, 128, 128, 1)">27</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">åˆ®é£è¿™å¤© æˆ‘è¯•è¿‡æ¡ç€ä½ æ‰‹</span>
<span style="color: rgba(0, 128, 128, 1)">28</span>                 <span style="color: rgba(128, 0, 128, 1)">1</span>,<span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">29</span>                 <span style="color: rgba(128, 0, 128, 1)">6</span>,<span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">30</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">ä½†åå é›¨æ¸æ¸</span>
<span style="color: rgba(0, 128, 128, 1)">31</span>                 <span style="color: rgba(128, 0, 128, 1)">4</span>,<span style="color: rgba(128, 0, 128, 1)">2</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">32</span>                 <span style="color: rgba(128, 0, 128, 1)">5</span>,<span style="color: rgba(128, 0, 128, 1)">2</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">33</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">å¤§åˆ°æˆ‘çœ‹ä½ ä¸è§</span>
<span style="color: rgba(0, 128, 128, 1)">34</span>                 <span style="color: rgba(128, 0, 128, 1)">1</span>,<span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">35</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è¿˜æœ‰å¤šä¹… æˆ‘æ‰èƒ½</span>
<span style="color: rgba(0, 128, 128, 1)">36</span>                 <span style="color: rgba(128, 0, 128, 1)">3</span>,<span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">37</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">â†‘ åœ¨ä½ èº«è¾¹</span>
<span style="color: rgba(0, 128, 128, 1)">38</span>                 <span style="color: rgba(128, 0, 128, 1)">6</span>,<span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">39</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">â†“ ç­‰åˆ°æ”¾æ™´çš„é‚£å¤©</span>
<span style="color: rgba(0, 128, 128, 1)">40</span>                 <span style="color: rgba(128, 0, 128, 1)">4</span>,<span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">41</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">â†‘ ä¹Ÿè®¸æˆ‘ä¼šæ¯”è¾ƒå¥½ä¸€ç‚¹</span>
<span style="color: rgba(0, 128, 128, 1)">42</span>                 <span style="color: rgba(128, 0, 128, 1)">5</span>,<span style="color: rgba(128, 0, 128, 1)">4</span><span style="color: rgba(0, 0, 0, 1)">,
</span><span style="color: rgba(0, 128, 128, 1)">43</span>                 <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">..</span>
<span style="color: rgba(0, 128, 128, 1)">44</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">45</span>         <span style="color: rgba(0, 0, 255, 1)">int</span> count=<span style="color: rgba(0, 0, 255, 1)">sizeof</span>(data)/<span style="color: rgba(0, 0, 255, 1)">sizeof</span>(<span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)">46</span>         <span style="color: rgba(0, 0, 255, 1)">for</span>(<span style="color: rgba(0, 0, 255, 1)">int</span> i=<span style="color: rgba(128, 0, 128, 1)">0</span>;i&lt;count;i+=<span style="color: rgba(128, 0, 128, 1)">2</span><span style="color: rgba(0, 0, 0, 1)">){
</span><span style="color: rgba(0, 128, 128, 1)">47</span>             cout&lt;&lt;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">chord </span><span style="color: rgba(128, 0, 0, 1)">"</span>&lt;&lt;data[i]&lt;&lt;<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">  x</span><span style="color: rgba(128, 0, 0, 1)">"</span>&lt;&lt;data[i+<span style="color: rgba(128, 0, 128, 1)">1</span>]&lt;&lt;<span style="color: rgba(0, 0, 0, 1)">endl;
</span><span style="color: rgba(0, 128, 128, 1)">48</span>             chordLevel(data[i],sleep,data[i+<span style="color: rgba(128, 0, 128, 1)">1</span><span style="color: rgba(0, 0, 0, 1)">]);
</span><span style="color: rgba(0, 128, 128, 1)">49</span> <span style="color: rgba(0, 0, 0, 1)">            Sleep(sleep);
</span><span style="color: rgba(0, 128, 128, 1)">50</span> <span style="color: rgba(0, 0, 0, 1)">        }
</span><span style="color: rgba(0, 128, 128, 1)">51</span>         <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 128, 128, 1)">52</span> <span style="color: rgba(0, 0, 0, 1)">    }
</span><span style="color: rgba(0, 128, 128, 1)">53</span> }</pre>
</div>
<h2 id="ä¸‰åˆæˆæ¼”å¥">ä¸‰ã€åˆæˆæ¼”å¥<a class="anchor" href="https://blog.twlmgatito.cn/posts/cpp-midi-sunnydays/#%E4%B8%89%E5%90%88%E6%88%90%E6%BC%94%E5%A5%8F" rel="noopener nofollow"><span class="anchor-icon" data-pagefind-ignore=""><br></span></a></h2>
<p>æˆ‘ç”¨äº†ä¸€ä¸ªç¬¨è›‹æ–¹æ³•ï¼Œç”¨å¤šçº¿ç¨‹å•ç‹¬æ§åˆ¶æ¯ä¸€ä¸ªé€šé“ï¼Œç„¶ååœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨ï¼š</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 128, 1)"> 1</span> <span style="color: rgba(0, 0, 255, 1)">int</span><span style="color: rgba(0, 0, 0, 1)"> main(){
</span><span style="color: rgba(0, 128, 128, 1)"> 2</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 128, 128, 1)"> 3</span> <span style="color: rgba(0, 0, 0, 1)">    initDevice();
</span><span style="color: rgba(0, 128, 128, 1)"> 4</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è®¾ç½®éŸ³é‡</span>
<span style="color: rgba(0, 128, 128, 1)"> 5</span>     setVolume(channelChord,<span style="color: rgba(128, 0, 128, 1)">80</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)"> 6</span>     setVolume(channelMainLine,<span style="color: rgba(128, 0, 128, 1)">80</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)"> 7</span>     setVolume(channelVoice,<span style="color: rgba(128, 0, 128, 1)">120</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)"> 8</span>     setVolume(channelBassDrum,<span style="color: rgba(128, 0, 128, 1)">80</span><span style="color: rgba(0, 0, 0, 1)">);
</span><span style="color: rgba(0, 128, 128, 1)"> 9</span> 
<span style="color: rgba(0, 128, 128, 1)">10</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">è®¾ç½®ä¹å™¨ï¼ˆç‰¹å®šéŸ³è‰²ï¼‰</span>
<span style="color: rgba(0, 128, 128, 1)">11</span> <span style="color: rgba(0, 0, 0, 1)">    setInstrument(channelChord,ElectricPiano1);
</span><span style="color: rgba(0, 128, 128, 1)">12</span> <span style="color: rgba(0, 0, 0, 1)">    setInstrument(channelMainLine,ElectricPiano1);
</span><span style="color: rgba(0, 128, 128, 1)">13</span> 
<span style="color: rgba(0, 128, 128, 1)">14</span> 
<span style="color: rgba(0, 128, 128, 1)">15</span>     system(<span style="color: rgba(128, 0, 0, 1)">"</span><span style="color: rgba(128, 0, 0, 1)">pause</span><span style="color: rgba(128, 0, 0, 1)">"</span>);<span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">æŒ‰ä¸‹å›è½¦ï¼Œå°±å¼€å§‹å•¦</span>
<span style="color: rgba(0, 128, 128, 1)">16</span> <span style="color: rgba(0, 0, 0, 1)">    beginLogger();
</span><span style="color: rgba(0, 128, 128, 1)">17</span> 
<span style="color: rgba(0, 128, 128, 1)">18</span> 
<span style="color: rgba(0, 128, 128, 1)">19</span> <span style="color: rgba(0, 0, 0, 1)">    thread t0(voice);
</span><span style="color: rgba(0, 128, 128, 1)">20</span> <span style="color: rgba(0, 0, 0, 1)">    thread t1(mainLine);
</span><span style="color: rgba(0, 128, 128, 1)">21</span> <span style="color: rgba(0, 0, 0, 1)">    thread t2(bassDrum);
</span><span style="color: rgba(0, 128, 128, 1)">22</span> <span style="color: rgba(0, 0, 0, 1)">    thread t3(chord);
</span><span style="color: rgba(0, 128, 128, 1)">23</span> <span style="color: rgba(0, 0, 0, 1)">    t0.join();
</span><span style="color: rgba(0, 128, 128, 1)">24</span> <span style="color: rgba(0, 0, 0, 1)">    t1.join();
</span><span style="color: rgba(0, 128, 128, 1)">25</span> <span style="color: rgba(0, 0, 0, 1)">    t2.join();
</span><span style="color: rgba(0, 128, 128, 1)">26</span> <span style="color: rgba(0, 0, 0, 1)">    t3.join();
</span><span style="color: rgba(0, 128, 128, 1)">27</span> 
<span style="color: rgba(0, 128, 128, 1)">28</span> <span style="color: rgba(0, 0, 0, 1)">    closeDevice();
</span><span style="color: rgba(0, 128, 128, 1)">29</span>     <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)">...</span>
<span style="color: rgba(0, 128, 128, 1)">30</span> }</pre>
</div>
<p>ï¼ˆæœ€åå ä¸ªç”²ï¼Œä¿ºä¸æ‡‚éŸ³ä¹åˆ¶ä½œï¼Œæ›´ä¸ä¼šä»€ä¹ˆC++ğŸ˜¿ï¼‰</p>
<p>&nbsp;</p>
<p><img src="https://img2024.cnblogs.com/blog/1188749/202407/1188749-20240702112134529-1920703459.png" alt="" loading="lazy"></p>
<p>&nbsp; æœ¬ä½œå“é‡‡ç”¨&nbsp;<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener nofollow">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>&nbsp;è¿›è¡Œè®¸å¯ã€‚æ¬¢è¿è½¬è½½ã€ä½¿ç”¨ã€é‡æ–°å‘å¸ƒï¼Œä½†åŠ¡å¿…ä¿ç•™æ–‡ç« ç½²åTwilightLemonï¼Œä¸å¾—ç”¨äºå•†ä¸šç›®çš„ï¼ŒåŸºäºæœ¬æ–‡ä¿®æ”¹åçš„ä½œå“åŠ¡å¿…ä»¥ç›¸åŒçš„è®¸å¯å‘å¸ƒã€‚</p>
</div>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0653870360787037" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-13 22:48">2025-02-13 22:48</span>&nbsp;
<a href="https://www.cnblogs.com/TwilightLemon">TwilightLemon</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18714544" rel="nofollow">ç¼–è¾‘</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18714544);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18714544', targetLink: 'https://www.cnblogs.com/TwilightLemon/p/18714544', title: 'C++ ä½¿ç”¨MIDIåº“æ¼”å¥ã€Šæ™´å¤©ã€‹' })">ä¸¾æŠ¥</a>
</div>
        