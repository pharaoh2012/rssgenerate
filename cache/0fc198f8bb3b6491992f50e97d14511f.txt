
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/cyzf/p/18715235" title="发布于 2025-03-15 09:10">
    <span role="heading" aria-level="2">按钮权限的设计及实现</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p><strong>说明<br></strong></p>
<p>&nbsp; &nbsp; 该文章是属于OverallAuth2.0系列文章，每周更新一篇该系列文章（从0到1完成系统开发）。</p>
<p>&nbsp;&nbsp;&nbsp; 该系统文章，我会尽量说的非常详细，做到不管新手、老手都能看懂。</p>
<p>&nbsp;&nbsp;&nbsp; 说明：OverallAuth2.0 是一个简单、易懂、功能强大的权限+可视化流程管理系统。</p>
<p>友情提醒：本篇文章是属于系列文章，看该文章前，建议先看之前文章，可以更好理解项目结构。</p>
<p><strong>qq群：801913255，进群有什么不懂的尽管问，群主都会耐心解答。</strong></p>
<p><strong>有兴趣的朋友，请关注我吧(*^▽^*)。</strong></p>
<p><strong><img src="https://img2024.cnblogs.com/blog/1158526/202408/1158526-20240824140446786-404771438.png" alt="" width="543" height="198"></strong></p>
<p><span style="color: rgba(255, 0, 0, 1)"><strong>关注我，学不会你来打我</strong></span></p>
<p style="text-align: center"><span style="font-size: 18pt"><span style="color: rgba(255, 0, 0, 1)"><strong>效果演示</strong></span></span><strong style="color: rgba(255, 0, 0, 1); font-size: 18pt"><img src="https://img2024.cnblogs.com/blog/1158526/202503/1158526-20250312100806855-606944991.gif" alt=""></strong></p>
<p style="text-align: center"><span style="color: rgba(51, 153, 102, 1); font-size: 18pt"><strong>一、按钮权限实现流程</strong></span></p>
<p style="text-align: center"><span style="color: rgba(51, 153, 102, 1); font-size: 18pt"><strong><img src="https://img2024.cnblogs.com/blog/1158526/202502/1158526-20250214140915055-498327884.png" alt=""></strong></span></p>
<p style="text-align: center">&nbsp;</p>
<p style="text-align: left"><span style="color: rgba(0, 0, 0, 1); font-size: 16px"><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);overflow-wrap: break-word !important;margin-bottom: 0px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;powered-by&quot;:&quot;xiumi.us&quot;,&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;padding-right: 10px;padding-left: 10px;max-width: 100%;box-sizing: border-box;line-height: 1.6;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;min-height: 1em;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">以上是按钮权限实现的流程图，从上图可以清晰的看到，按钮它是存在于某一个菜单（模块）上的，所以要搞懂按钮权限的实现过程，建议先查看<a href="https://www.cnblogs.com/cyzf/p/18683001" target="_blank"><span style="color: rgba(0, 0, 0, 1)">《菜单权限设计及实现》</span></a></span></span></p>
<p style="text-align: center"><span style="color: rgba(51, 153, 102, 1); font-size: 18pt"><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);overflow-wrap: break-word !important;margin-bottom: 0px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;powered-by&quot;:&quot;xiumi.us&quot;,&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;padding-right: 10px;padding-left: 10px;max-width: 100%;box-sizing: border-box;line-height: 1.6;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;min-height: 1em;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><strong>二、表设计</strong></span></span></p>
<p style="text-align: left"><span style="color: rgba(0, 0, 0, 1); font-size: 16px"><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);overflow-wrap: break-word !important;margin-bottom: 0px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;powered-by&quot;:&quot;xiumi.us&quot;,&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;padding-right: 10px;padding-left: 10px;max-width: 100%;box-sizing: border-box;line-height: 1.6;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;min-height: 1em;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]">在<a href="https://www.cnblogs.com/cyzf/p/18683001" target="_blank">《菜单权限设计及实现》</a>的基础上，新增了3张表，如下</span></span></p>
<p style="text-align: left"><span style="color: rgba(0, 0, 0, 1); font-size: 16px"><span data-pm-slice="1 1 [&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;color: rgb(62, 62, 62);font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);overflow-wrap: break-word !important;margin-bottom: 0px;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;powered-by&quot;:&quot;xiumi.us&quot;,&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;section&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;padding-right: 10px;padding-left: 10px;max-width: 100%;box-sizing: border-box;line-height: 1.6;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;},&quot;para&quot;,{&quot;tagName&quot;:&quot;p&quot;,&quot;attributes&quot;:{&quot;style&quot;:&quot;max-width: 100%;box-sizing: border-box;min-height: 1em;word-wrap: break-word !important;&quot;},&quot;namespaceURI&quot;:&quot;http://www.w3.org/1999/xhtml&quot;}]"><img src="https://img2024.cnblogs.com/blog/1158526/202502/1158526-20250214140904790-1987385333.png" alt=""></span></span></p>
<p><span style="font-size: 16px">按钮表：存放按钮名称、按钮事件、按钮样式、按钮类型等数据的表。</span></p>
<p><span style="font-size: 16px">按钮样式表：为了统一管理和控制系统中的按钮样式，设计出了该表，该表存放按钮样式大小、图标、颜色、文字颜色、是否圆角、是否朴素等样式。在新建按钮时可以给按钮选择喜欢的样式。</span></p>
<p><span style="font-size: 16px">按钮角色表：存放按钮属于哪个角色、那个菜单。</span></p>
<p style="text-align: center"><span style="font-size: 18pt; color: rgba(51, 153, 102, 1)"><strong>三、按钮与菜单的关系</strong></span></p>
<p><span style="font-size: 16px; color: rgba(255, 0, 0, 1)">在之前必须说明一点：当前按钮权限没有精确到【数据按钮权限】控制（后续会有），只有【按钮权限】控制。</span></p>
<p><span style="font-size: 16px; color: rgba(0, 0, 0, 1)">什么是【按钮权限】？什么又是【数据按钮权限】，看下图↓</span></p>
<p><img src="https://img2024.cnblogs.com/blog/1158526/202503/1158526-20250312102125587-886721042.png" alt=""></p>
<p><span style="font-size: 16px">按钮权限：上图中【按钮】，就是我说的【按钮权限】，也是本篇文章要简述的。</span></p>
<p><span style="font-size: 16px">数据按钮权限：上图中【数据按钮】，也就是【数据按钮权限】，本篇文章不会涉及（后续会有）。</span></p>
<p><span style="font-size: 16px">　　<span style="color: rgba(255, 0, 0, 1)">举列：</span></span></p>
<p><span style="font-size: 16px">　　可能有人不知道这2者的区别，在这里先简单描述下。</span></p>
<p><span style="font-size: 16px">　　【数据按钮权限】是对按钮更加精确的控制。</span></p>
<p><span style="font-size: 16px">　　我可以根据规则来控制系统操作人员能操作【设置用户角色】、【编辑】按钮的权限。</span></p>
<p><span style="font-size: 16px">　　如：【系统操作人员1】，可以操作上图↑中【设置用户角色】、【编辑】的所有权限。</span></p>
<p><span style="font-size: 16px">　　而【系统操作人员2】，只能操作【王五】这条数据的【设置用户角色】、【编辑】按钮，而【李四】、【张三】这2条数据的【设置用户角色】、【编辑】按钮不可操作。</span></p>
<p><span style="font-size: 16px; color: rgba(255, 0, 0, 1)">言归正传</span></p>
<p><span style="font-size: 16px">文章开头动图中的【按钮权限】，如何实现？</span></p>
<p><span style="font-size: 16px">其实这个问题，在文章开头流程图中就已经体现。下面我将把流程图逐步拆分，进行详细的讲解。</span></p>
<p><span style="font-size: 16px">按钮它必定是存在于某个菜单或某个页面中。所以在设计overallAuth2.0统一权限分发中心系统时，我建立了按钮与菜单的关系，以便维护和控制按钮权限。如下图↓</span></p>
<p>&nbsp;<img src="https://img2024.cnblogs.com/blog/1158526/202503/1158526-20250312132516745-1376715527.png" alt=""></p>
<p><span style="font-size: 16px">上图实现了菜单、按钮、角色三者之间的关系。当人员登录系统时，我们可以得到人员的角色。那么根据角色就能得到登录人员拥有的菜单。如下图↓</span></p>
<p><span style="font-size: 16px"><img src="https://img2024.cnblogs.com/blog/1158526/202503/1158526-20250312133602473-882801155.png" alt=""></span></p>
<p>&nbsp;</p>
<p><span style="font-size: 15px">得到菜单后，我们就可以点击菜单，得到菜单id和登录获得的角色id，得到当前点击菜单的按钮。如下图↓&nbsp;</span></p>
<p><span style="font-size: 15px"><img src="https://img2024.cnblogs.com/blog/1158526/202503/1158526-20250315090403486-1762547932.png" alt=""></span></p>
<p><span style="color: rgba(255, 0, 0, 1); font-size: 18px">需要源码的，关注公众号，发送【权限】获取源码</span></p>
<p><span style="color: rgba(255, 0, 0, 1); font-size: 18px">以上就是本篇文章的全部内容，感谢耐心观看</span></p>
<p><strong><strong>后端WebApi&nbsp;</strong>预览地址：http://139.155.137.144:8880/swagger/index.html</strong></p>
<p><strong>前端vue 预览地址：http://139.155.137.144:8881</strong></p>
<p><strong>关注公众号：发送【权限】，获取源码</strong></p>
<p><strong>有兴趣的朋友，请关注我微信公众号吧(*^▽^*)。</strong></p>
<p class="code-snippet__js" data-lang="ruby"><strong><img src="https://img2024.cnblogs.com/blog/1158526/202408/1158526-20240824140446786-404771438.png" alt="" width="543" height="198"></strong></p>
<p>关注我：一个全栈多端的宝藏博主，定时分享技术文章，不定时分享开源项目。关注我，带你认识不一样的程序世界</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="9.21683929520949" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-15 09:11">2025-03-15 09:10</span>&nbsp;
<a href="https://www.cnblogs.com/cyzf">陈逸子风</a>&nbsp;
阅读(<span id="post_view_count">629</span>)&nbsp;
评论(<span id="post_comment_count">2</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18715235" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18715235);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18715235', targetLink: 'https://www.cnblogs.com/cyzf/p/18715235', title: '按钮权限的设计及实现' })">举报</a>
</div>
        