
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52679764">
<strong>说明：在平常学习或者工作的时候会遇到在Windows或者Linux服务器上安装MySQL的情况，Windows安装的方式网上的方法教程都比较多，就不过多赘述，本贴主要针对Linux服务器的安装方式</strong><br>
<strong>本帖也是我多次尝试安装后，自行总结的一套比较精简的办法。希望能给有需要的朋友带来帮助。</strong><br>
<strong>以下是具体方法：（<font color="#ff0000">说明：具体需要执行的命令我用绿色字体进行了标注，</font></strong><strong><font color="#ff0000">#后为注释说明</font></strong><strong>）</strong><br>
<font color="#0ff0">rpm -qa|grep mysql</font><br>
<br>
# 检查服务器上有无安装过mysql<font color="#0ff0"><br>
</font><br>
<br>
<font color="#00ff00">rpm -e --nodeps XXX</font><br>
#有的话卸载掉，没有跳过此步骤，XXX为 <font color="#000000">rpm -qa|grep mysql 所查询到的内容</font><br>
<br>
<br>
<br>
<font color="#00ff00">whereis mysql</font><br>
<font color="#00ff00">find / -name mysql</font><br>
#若系统自带mysql，查询所有mysql对应的文件夹，全部删除，以上这两个命令为查询mysql相关文件夹的命令<br>
<br>
<font color="#00ff00">rm -rf XXX</font><br>
#删除所有mysql文件夹 <br>
<br>
<font color="#0ff0">rpm -qa|grep mariadb</font><br>
#查询系统是否自带了mariadb，这也会与安装mysql产生冲突，若存在相关的mariadb包执行下列命令进行删除<br>
<font color="#00ff00">rpm -e --nodeps mariadb-libs-5.5.60-1el7.x86_64</font><br>
<br>
#卸载系统自带的mariadb，该“mariadb-<font color="#000000">libs-5.5.60-1el7.x86_64”内容仅为举的例子，参数都可能发生变化，根据你所查询的，对应执行命令删除即可</font><br>
<br>
<font color="#000000"><br>
</font><br>
<font color="#00ff00">rm -rf /etc/my.cnf</font><br>
#删除etc目录下的my.cnf文件之后，重新新建该文件,方便之后自己重新定义MySQL初始化参数<br>
<br>
<font color="#00ff00">cat /etc/group | grep mysql</font><br>
<font color="#00ff00">cat /etc/passwd |grep mysql</font><br>
#用于检查有无安装mysql用户组，没有的话创建<br>
<br>
<font color="#00ff00">groupadd mysql</font><br>
<font color="#00ff00">useradd -r -g mysql mysql</font><br>
#创建mysql用户组和用户的命令<br>
<br>
安装包的获取直接登录官网下载即可：官网地址：https://www.mysql.com/<br>
至于安装包的版本可以自行选择，MySQL5或者MySQL8的都可以<br>
<br>
首先将下载下来的安装mysql安装包放到需要安装的服务器的指定目录下，指定目录即你想安装的目录，推荐/usr/local/ 路径下<br>
<br>
<br>
<font color="#00ff00">tar -zxvf mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz -C&nbsp;&nbsp;/指定目录下/&nbsp; &nbsp;&nbsp;&nbsp;</font> <br>
#执行解压命令对上传的安装包进行解压处理，解压之后的包名的变化大致如下<br>
mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz &amp;#10145; mysql-5.7.36-linux-glibc2.12-x86_64<br>
<br>
#此时这里就会多了一个mysql-5.7.36-linux-glibc2.12-x86_64 文件夹，至于原来的压缩包mysql-5.7.36-linux-glibc2.12-x86_64.tar.gz，可以删除或者不进行处理<br>
<br>
<font color="#00ff00">mv mysql-5.7.36-linux-glibc2.12-x86_64/ mysql5.7</font><br>
#修改mysql-5.7.36-linux-glibc2.12-x86_64名称为mysql5.7，这里是为了方便操作，优化文件夹名称，注意该命令需要在文件夹所在的目录进行操作<br>
<br>
<br>
<br>
<font color="#00ff00">chown -R mysql:mysql /指定目录/mysql5.7</font><br>
<font color="#00ff00">chmod -R 755 /指定目录/mysql5.7&nbsp; &nbsp; </font>&nbsp; &nbsp;&nbsp;&nbsp;<br>
#更改mysql5.7目录下所有文件夹所属的用户组，用户及权限 (<font color="#ff0000">这一步非常重要，否则下一步初始化，会提示无法创建datadir（MySQL的数据目录）</font>)<br>
<br>
#创建mysql数据目录并赋予权限<br>
<font color="#00ff00">mkdir -p&nbsp;&nbsp;/data/mysql/data</font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #创建mysql数据目录<br>
<font color="#00ff00">chown mysql:mysql -R /data/mysql</font>&nbsp; &nbsp; &nbsp; &nbsp; #赋予权限;将/data/mysql 下的所有文件与子目录的拥有者皆设为mysql，群体的使用者mysql<br>
<br>
<font color="#00ff00">vi /etc/my.cnf</font><br>
#编写my.cnf配置文件并添加配置<br>
<br>
<br>
#配置内容如下：（这包含了最基础的一些参数，端口号port可以自行修改）<br>
<font color="#00ff00">[mysqld]</font><br>
<font color="#00ff00">bind-address=0.0.0.0</font><br>
<font color="#00ff00">port=3306</font><br>
<font color="#00ff00">user=mysql</font><br>
<font color="#00ff00">basedir=/usr/local/mysql</font><br>
<font color="#00ff00">datadir=/data/mysql</font><br>
<font color="#00ff00">socket=/tmp/mysql.sock</font><br>
<font color="#00ff00">log-error=/data/mysql/mysql.err</font><br>
<font color="#00ff00">pid-file=/data/mysql/mysql.pid</font><br>
<font color="#00ff00">#character config</font><br>
<font color="#00ff00">character_set_server=utf8mb4</font><br>
<font color="#00ff00">symbolic-links=0</font><br>
<br>
#进入/指定目录/mysql5.7/bin/目录下，<br>
<br>
<font color="#00ff00">./mysqld&nbsp;&nbsp;--basedir=/指定目录/mysql5.7/ --datadir=/data/mysql/ --user=mysql --initialize</font><br>
#进行上述命令编译安装并初始化mysql,务必记住 root@localhost：<font color="#ff0000">之后的临时随机密码</font><br>
<br>
<font color="#00ff00">cat /data/mysql/mysql.err </font><br>
#查看初始化后的临时密码&nbsp;&nbsp;5T1:f9)vShzb（这是例子，大概都是这样的随机密码）<br>
<br>
<br>
<font color="#00ff00">cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql</font><br>
#将mysql.server服务复制到/etc/init.d/mysql目录下<br>
<br>
<br>
<font color="#00ff00">service mysql start</font><br>
 #MySQL服务的启动命令，启动服务之后才可以进行命令行的连接登录<br>
<br>
<font color="#00ff00">./mysql -uroot -p临时的随机密码</font><br>
#MySQL命令行登录，注意执行的mysql可执行文件为 MySQL安装目录：/指定的目录/mysql5.7/bin/&nbsp;&nbsp;目录下<br>
<br>
登陆之后修改密码<br>
<br>
<font color="#00ff00">SET PASSWORD = PASSWORD;&nbsp;&nbsp;</font>&nbsp;&nbsp;#PASSWORD为你要修改之后的密码<br>
<font color="#00ff00">ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;&nbsp; &nbsp;</font>#设置密码永不过期<br>
<font color="#00ff00">FLUSH PRIVILEGES;&nbsp;&nbsp;</font>&nbsp; &nbsp;&nbsp; &nbsp;#刷新权限，使修改的配置生效<br>
<br>
<br>
设置远程可以登陆，即可以使用navicat等数据库连接工具远程连接数据库<br>
<font color="#00ff00">use mysql</font>&nbsp; &nbsp;#选择访问mysql库<br>
<font color="#00ff00">update user set host = '%' where user = 'root';</font> #使root能在任何host访问<br>
<font color="#00ff00">FLUSH PRIVILEGES;</font>&nbsp; &nbsp; #刷新权限，使修改的配置生效<br>
<br>
至此，大功告成！<br>
最后声明此贴是由多次进行离线安装之后的总结，若有错误不当之处，还请大佬帮忙指出，以便更好地学习<br>
同时也欢迎大家针对此贴的问题进行讨论，互相学习。<br>
</td></tr></tbody></table>


