
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/TS86/p/18653837" title="发布于 2025-01-05 20:34">
    <span role="heading" aria-level="2">Python绘制土地利用和土地覆盖类型图详解</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        土地利用和土地覆盖是环境科学和城市规划中的重要概念，它们能够帮助本文理解人与自然的关系，促进可持续发展。随着城市化进程的加快，科学地监测和管理土地资源显得尤为重要。Python作为一种强大的编程语言，凭借其丰富的数据分析库，广泛应用于这项工作中。本文将详细介绍如何使用Python绘制土地利用和土地覆盖类型图，并提供详细的代码示例。
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>土地利用和土地覆盖是环境科学和城市规划中的重要概念，它们能够帮助本文理解人与自然的关系，促进可持续发展。随着城市化进程的加快，科学地监测和管理土地资源显得尤为重要。Python作为一种强大的编程语言，凭借其丰富的数据分析库，广泛应用于这项工作中。本文将详细介绍如何使用Python绘制土地利用和土地覆盖类型图，并提供详细的代码示例。</p>
<h4 id="一所需库的安装">一、所需库的安装</h4>
<p>首先，本文需要安装绘制土地利用和土地覆盖类型图所需的Python库。这些库包括pandas、matplotlib、geopandas等。可以使用以下命令进行安装：</p>
<pre><code class="language-bash">bash复制代码

pip install pandas geopandas matplotlib
</code></pre>
<h4 id="二数据准备">二、数据准备</h4>
<p>为了绘制土地利用和土地覆盖类型图，本文需要准备相应的地理数据。这些数据通常以GeoJSON、Shapefile等格式存储。在本文的示例中，本文将使用GeoJSON格式的数据。</p>
<p>假设本文有一个名为<code>land_use.geojson</code>的文件，包含了土地利用类型的数据。这个文件可以通过各种地理数据平台或政府机构获取。</p>
<h4 id="三绘制土地利用和土地覆盖类型图">三、绘制土地利用和土地覆盖类型图</h4>
<p>以下是一个完整的代码示例，展示了如何使用Python绘制土地利用和土地覆盖类型图：</p>
<pre><code class="language-python">import geopandas as gpd
import matplotlib.pyplot as plt
 
# 读取地理数据，可以使用GeoJSON、Shapefile等格式
data = gpd.read_file('land_use.geojson')
 
# 确认数据加载成功，打印前5行
print(data.head())
 
# 设置绘图样式
fig, ax = plt.subplots(1, 1, figsize=(12, 10))
 
# 绘制土地利用和覆盖类型图
data.plot(column='land_use_type', ax=ax, legend=True, 
          legend_kwds={'label': "Land Use Types", 'orientation': "horizontal"},
          cmap='Set3')
 
# 添加图表标题
ax.set_title('Land Use and Land Cover Types Map', fontsize=15)
ax.set_xlabel('Longitude', fontsize=12)
ax.set_ylabel('Latitude', fontsize=12)
 
# 显示地图
plt.show()
</code></pre>
<h4 id="四代码解释">四、代码解释</h4>
<ol>
<li>
<p><strong>导入库</strong>：</p>
<pre><code class="language-python">import geopandas as gpd
import matplotlib.pyplot as plt
</code></pre>
<p>本文导入了geopandas和matplotlib库。geopandas用于读取和处理地理数据，matplotlib用于绘图。</p>
</li>
<li>
<p><strong>读取地理数据</strong>：</p>
<pre><code class="language-python">python复制代码

data = gpd.read_file('land_use.geojson')
</code></pre>
<p>使用geopandas的<code>read_file</code>方法读取GeoJSON格式的地理数据文件。</p>
</li>
<li>
<p><strong>确认数据加载成功</strong>：</p>
<pre><code class="language-python">python复制代码

print(data.head())
</code></pre>
<p>打印数据的前5行，以确保数据加载成功并了解数据的基本结构。</p>
</li>
<li>
<p><strong>设置绘图样式</strong>：</p>
<pre><code class="language-python">python复制代码

fig, ax = plt.subplots(1, 1, figsize=(12, 10))
</code></pre>
<p>使用matplotlib的<code>subplots</code>方法创建一个绘图对象和一个坐标轴对象，并设置图像的大小。</p>
</li>
<li>
<p><strong>绘制土地利用和覆盖类型图</strong>：</p>
<pre><code class="language-python">data.plot(column='land_use_type', ax=ax, legend=True, 
          legend_kwds={'label': "Land Use Types", 'orientation': "horizontal"},
          cmap='Set3')
</code></pre>
<p>使用geopandas的<code>plot</code>方法将数据按照不同的土地利用类型绘制在地图上。<code>column</code>参数指定要绘制的列名，<code>ax</code>参数指定坐标轴对象，<code>legend</code>参数表示是否显示图例，<code>legend_kwds</code>参数用于设置图例的样式，<code>cmap</code>参数用于设置颜色映射。</p>
</li>
<li>
<p><strong>添加图表标题和坐标轴标签</strong>：</p>
<pre><code class="language-python">ax.set_title('Land Use and Land Cover Types Map', fontsize=15)
ax.set_xlabel('Longitude', fontsize=12)
ax.set_ylabel('Latitude', fontsize=12)
</code></pre>
<p>使用<code>set_title</code>方法设置图表标题，使用<code>set_xlabel</code>和<code>set_ylabel</code>方法设置坐标轴标签。</p>
</li>
<li>
<p><strong>显示地图</strong>：</p>
<pre><code class="language-python">python复制代码

plt.show()
</code></pre>
<p>使用matplotlib的<code>show</code>方法显示地图。</p>
</li>
</ol>
<h4 id="五其他可视化形式">五、其他可视化形式</h4>
<p>除了绘制土地利用和土地覆盖类型图外，本文还可以使用Python绘制其他类型的图表，以更全面地展示土地利用和土地覆盖的数据。</p>
<h5 id="1-饼状图">1. 饼状图</h5>
<p>饼状图是一种用于显示各部分相对于整体的比例关系的图形。以下是一个使用matplotlib绘制土地利用类型饼状图的示例：</p>
<pre><code class="language-python">import pandas as pd
import matplotlib.pyplot as plt
 
# 示例数据集
data = {
    '土地利用类型': ['森林', '农田', '城市', '水体', '草地'],
    '面积(平方公里)': [150, 320, 100, 50, 80]
}
df = pd.DataFrame(data)
df['面积比例'] = df['面积(平方公里)'] / df['面积(平方公里)'].sum()
 
# 绘制饼状图
plt.figure(figsize=(8, 6))
plt.pie(df['面积比例'], labels=df['土地利用类型'], autopct='%.1f%%', startangle=140)
plt.title('土地利用类型分布')
plt.axis('equal')  # 使饼图为圆形
plt.show()
</code></pre>
<h5 id="2-柱状图">2. 柱状图</h5>
<p>柱状图是一种用于展示不同类别数据的分布情况的图形。以下是一个使用matplotlib绘制土地覆盖类型柱状图的示例：</p>
<pre><code class="language-python">import pandas as pd
import matplotlib.pyplot as plt
 
# 加载土地覆盖数据
data = pd.read_csv('land_cover_data.csv')
 
# 统计不同地表覆盖类型的数量
cover_types = data['cover_type'].value_counts()
 
# 绘制柱状图
plt.figure(figsize=(10, 6))
plt.bar(cover_types.index, cover_types.values)
plt.title('Land Cover Distribution')
plt.xlabel('Cover Type')
plt.ylabel('Count')
plt.show()
</code></pre>
<h5 id="3-桑基图">3. 桑基图</h5>
<p>桑基图是一种用于展示流动或转换过程的图形。以下是一个使用plotly绘制土地利用转移桑基图的示例：</p>
<p>以下是将桑基图代码补充完整的示例：</p>
<pre><code class="language-python">import plotly.graph_objects as go
 
# 定义转移矩阵
transfer_matrix_2014_to_2024= [
    [383.69, 3.51, 0.02, 7.19, 4.27, 0.24],
    [8.66, 166.07, 1.44, 63.02, 17.73, 39.24],
    [0, 0.88, 3.73, 0.09, 0.01, 0.23],
    [12.76, 29.42, 1.1, 79.35, 11.97, 25.42],
    [0.27, 3.73, 0.03, 1.64, 1.72, 0.94],
    [2.14, 4.39, 0.05, 11.69, 1.15, 2.75]
]
 
# 类别名称
categories = ["林地", "建设用地", "水域", "耕地", "未利用地", "草地"]
 
# 创建节点（起始节点和目标节点）
labels = []
labels.extend([f"2014_{category}" for category in categories])
labels.extend([f"2024_{category}" for category in categories])
 
# 创建 source 和 target
source = []
target = []
value = []
 
# 2014 到 2024 的转移数据
for i in range(len(categories)):
    for j in range(len(categories)):
        if transfer_matrix_2014_to_2024[i][j] &gt; 0:
            source.append(i)  # 从 2014 年的类别
            target.append(len(categories) + j)  # 到 2024 年的类别
            value.append(transfer_matrix_2014_to_2024[i][j])
 
# 定义颜色
colors = [
    "#228B22",  # 林地 (深绿色)
    "#D2691E",  # 建设用地 (深橙色)
    "#1E90FF",  # 水域 (亮蓝色)
    "#FFD700",  # 耕地 (金色)
    "#A9A9A9",  # 未利用地 (暗灰色)
    "#8FBC8F"   # 草地 (青绿色)
]
 
# 为每个节点分配颜色（前一半是2014年的，后一半是2024年的，颜色相同）
node_colors = colors * 2
 
# 创建桑基图
fig = go.Figure(data=[go.Sankey(
    node=dict(
        pad=15,  # 节点之间的间距
        thickness=20,
        line=dict(color="black", width=0.5),
        label=labels,
        color=node_colors
    ),
    link=dict(
        source=source,
        target=target,
        value=value
    ))])
 
# 设置布局
fig.update_layout(title_text="2014年至2024年土地利用类型转移桑基图", font_size=10)
 
# 显示图表
fig.show()
</code></pre>
<p>在这段代码中，本文使用了<code>plotly.graph_objects</code>库来创建一个桑基图。本文定义了转移矩阵<code>transfer_matrix_2014_to_2024</code>，它表示从2014年到2024年各种土地利用类型之间的转移量。然后，本文创建了节点标签<code>labels</code>，<code>source</code>和<code>target</code>列表来存储链接的起始和终止节点，以及<code>value</code>列表来存储链接的值。</p>
<p>本文还为每种土地利用类型定义了颜色，并将这些颜色分配给节点。最后，本文使用<code>go.Sankey</code>函数创建桑基图，并通过<code>fig.update_layout</code>设置图表的布局和标题。最后，使用<code>fig.show()</code>显示图表。</p>
<p>请确保您已经安装了<code>plotly</code>库，可以使用以下命令进行安装：</p>
<pre><code class="language-bash">bash复制代码

pip install plotly
</code></pre>
<p>运行上述代码后，您将看到一个交互式的桑基图，展示了从2014年到2024年各种土地利用类型之间的转移情况。</p>
<h4 id="六总结">六、总结</h4>
<p>在数据可视化的领域中，Python凭借其强大的库和工具集，成为了处理和分析地理空间数据的首选语言之一。特别是当本文需要绘制土地利用和土地覆盖类型图时，Python提供了诸如Plotly、Matplotlib、Geopandas等丰富的库来帮助本文高效地完成这一任务。本文重点介绍了如何使用Plotly库来绘制土地利用转移桑基图。桑基图是一种专门用于展示流动或转换过程的图形，非常适合用来表示土地利用类型在不同时间段之间的转移情况。通过Python和Plotly库，本文可以轻松创建土地利用转移桑基图，以直观的方式展示土地利用类型在不同时间段之间的转移情况。这种方法不仅提高了数据可视化的效率，还增强了图表的可读性和交互性。无论是科研人员、数据分析师还是地理空间信息专业人士，都可以通过掌握这种方法来更好地理解和分析土地利用和土地覆盖变化的数据。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.5965357020960648" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-05 20:34">2025-01-05 20:34</span>&nbsp;
<a href="https://www.cnblogs.com/TS86">TechSynapse</a>&nbsp;
阅读(<span id="post_view_count">49</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18653837" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18653837);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18653837', targetLink: 'https://www.cnblogs.com/TS86/p/18653837', title: 'Python绘制土地利用和土地覆盖类型图详解' })">举报</a>
</div>
        