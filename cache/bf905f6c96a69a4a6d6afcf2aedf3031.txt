
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zxlh1529/p/18823158" title="å‘å¸ƒäº 2025-04-13 13:56">
    <span role="heading" aria-level="2">vue2&amp;vue3&amp;å°ç¨‹åºç®€ä»‹</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="vue2vue3å°ç¨‹åºé¡µé¢ç”Ÿå‘½å‘¨æœŸè¯¦è§£">Vue2ã€Vue3ã€å°ç¨‹åºé¡µé¢ç”Ÿå‘½å‘¨æœŸè¯¦è§£</h1>
<p>æœ¬ç¯‡å°†å¯¹æ¯” Vue2ã€Vue3 ä»¥åŠå°ç¨‹åºé¡µé¢/ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œç®€å•æ¢³ç†å„è‡ªç‰¹ç‚¹ã€å·®å¼‚ã€æ–°å¢ä¼˜åŒ–ç‚¹ã€‚</p>
<hr>
<h2 id="-vue2-ç”Ÿå‘½å‘¨æœŸ">ğŸ“¦ Vue2 ç”Ÿå‘½å‘¨æœŸ</h2>
<pre><code class="language-txt">beforeCreate â†’ created â†’ beforeMount â†’ mounted â†’ beforeUpdate â†’ updated â†’ beforeDestroy â†’ destroyed
</code></pre>
<h3 id="è¯´æ˜">è¯´æ˜ï¼š</h3>
<table>
<thead>
<tr>
<th>ç”Ÿå‘½å‘¨æœŸé’©å­</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>beforeCreate</td>
<td>å®ä¾‹åˆå§‹åŒ–ä¹‹å‰ï¼Œæ•°æ®æœªæŒ‚è½½</td>
</tr>
<tr>
<td>created</td>
<td>å®ä¾‹åˆ›å»ºå®Œæˆï¼Œdata å¯è®¿é—®</td>
</tr>
<tr>
<td>beforeMount</td>
<td>æŒ‚è½½å‰ï¼Œ$el å’Œæ¨¡æ¿å·²ç”Ÿæˆä½†æœªæ’å…¥ DOM</td>
</tr>
<tr>
<td>mounted</td>
<td>æŒ‚è½½å®Œæˆï¼ŒDOM å¯è®¿é—®</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>æ•°æ®æ›´æ–°å‰è§¦å‘</td>
</tr>
<tr>
<td>updated</td>
<td>æ•°æ®æ›´æ–°åè§¦å‘ï¼ˆæ›´æ–° DOM åï¼‰</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>å®ä¾‹é”€æ¯å‰ï¼Œå¯åšæ¸…ç†å·¥ä½œ</td>
</tr>
<tr>
<td>destroyed</td>
<td>å®ä¾‹é”€æ¯å</td>
</tr>
</tbody>
</table>
<h3 id="ç¤ºä¾‹">ç¤ºä¾‹ï¼š</h3>
<pre><code class="language-js">export default {
  data() {
    return { count: 0 }
  },
  created() {
    console.log('ç»„ä»¶åˆ›å»ºå®Œæˆ')
  },
  mounted() {
    console.log('DOMå·²æŒ‚è½½')
  }
}
</code></pre>
<hr>
<h2 id="-vue3-ç”Ÿå‘½å‘¨æœŸ">ğŸš€ Vue3 ç”Ÿå‘½å‘¨æœŸ</h2>
<p>Vue3 æä¾›äº†ä¸ Vue2 ä¸€è‡´çš„ç”Ÿå‘½å‘¨æœŸæ¦‚å¿µï¼Œå¹¶æ–°å¢ç»„åˆå¼ API çš„æ–¹å¼å®šä¹‰ã€‚</p>
<h3 id="ç»„åˆå¼-api-å†™æ³•">ç»„åˆå¼ API å†™æ³•</h3>
<pre><code class="language-ts">import { onMounted, onUpdated, onUnmounted } from 'vue';

export default {
  setup() {
    onMounted(() =&gt; {
      console.log('Vue3 ç»„ä»¶æŒ‚è½½')
    });
  }
}
</code></pre>
<h3 id="vue3-ç”Ÿå‘½å‘¨æœŸé’©å­å¯¹æ¯”">Vue3 ç”Ÿå‘½å‘¨æœŸé’©å­å¯¹æ¯”ï¼š</h3>
<table>
<thead>
<tr>
<th>Vue2</th>
<th>Vue3 Options API</th>
<th>Vue3 Composition API</th>
</tr>
</thead>
<tbody>
<tr>
<td>beforeCreate</td>
<td>beforeCreate</td>
<td>setup() ä¸­é€»è¾‘</td>
</tr>
<tr>
<td>created</td>
<td>created</td>
<td>setup() ä¸­é€»è¾‘</td>
</tr>
<tr>
<td>beforeMount</td>
<td>beforeMount</td>
<td>onBeforeMount</td>
</tr>
<tr>
<td>mounted</td>
<td>mounted</td>
<td>onMounted</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>beforeUpdate</td>
<td>onBeforeUpdate</td>
</tr>
<tr>
<td>updated</td>
<td>updated</td>
<td>onUpdated</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>beforeUnmount</td>
<td>onBeforeUnmount</td>
</tr>
<tr>
<td>destroyed</td>
<td>unmounted</td>
<td>onUnmounted</td>
</tr>
</tbody>
</table>
<h3 id="vue-3-æ–°ç‰¹æ€§ä¸ä¼˜åŠ¿">Vue 3 æ–°ç‰¹æ€§ä¸ä¼˜åŠ¿</h3>
<ol>
<li>
<p><strong>Composition APIï¼ˆç»„åˆå¼APIï¼‰</strong></p>
<ul>
<li>
<p>æŠŠé›¶æ•£çš„ä»£ç é€»è¾‘æŒ‰åŠŸèƒ½æ‰“åŒ…æˆã€Œç§¯æœ¨å—ã€ï¼Œæƒ³ç”¨å“ªå—æ’å“ªå—ï¼Œå‘Šåˆ«æ»¡å±ä¹±è·³çš„ <code>data</code> å’Œ <code>methods</code>ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="language-vue">&lt;script setup&gt;
// ä»¥å‰ï¼šdataã€methodsã€computed æ•£è½å„å¤„
// ç°åœ¨ï¼šæŒ‰åŠŸèƒ½èšåˆ
import { ref, computed } from 'vue'

// è®¡æ•°å™¨é€»è¾‘æ‰“åŒ…æˆä¸€ä¸ªã€Œç§¯æœ¨å—ã€
function useCounter() {
  const count = ref(0)
  const double = computed(() =&gt; count.value * 2)
  const increment = () =&gt; count.value++
  return { count, double, increment }
}

// ç›´æ¥æ’åˆ°ç»„ä»¶é‡Œç”¨
const { count, double, increment } = useCounter()
&lt;/script&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½æš´å‡»ï¼ˆProxy å–ä»£ definePropertyï¼‰</strong></p>
<ul>
<li>
<p>Vue2 ç”¨ã€Œè´´çº¸æ¡ã€ï¼ˆ<code>Object.defineProperty</code>ï¼‰ç›‘å¬æ•°æ®ï¼ŒVue3 æ”¹ç”¨ã€Œç›‘æ§æ‘„åƒå¤´ã€ï¼ˆ<code>Proxy</code>ï¼‰ï¼Œæ•°ç»„ä¿®æ”¹ã€å¯¹è±¡æ–°å¢å±æ€§å†ä¹Ÿä¸ç”¨æ‰‹åŠ¨ <code>$set</code>ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="language-javascript">// Vue2ï¼šæ•°ç»„ push éœ€è¦ç‰¹æ®Šå¤„ç†
this.$set(this.list, index, newValue)

// Vue3ï¼šç›´æ¥è½ï¼Œå…¨è‡ªåŠ¨ç›‘å¬
const list = reactive([1, 2, 3])
list.push(4) // è§¦å‘å“åº”å¼æ›´æ–°
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æŒ‰éœ€ç¼–è¯‘ + Tree Shaking</strong></p>
<ul>
<li>æ‰“åŒ…æ—¶åªå¸¦èµ°çœŸæ­£ç”¨åˆ°çš„ä»£ç ï¼Œæ¯”å¦‚ä¸ç”¨ <code>v-model</code> å°±ä¸æ‰“åŒ…ç›¸å…³é€»è¾‘ï¼Œé¡¹ç›®ä½“ç§¯ç˜¦èº« 30%+ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¢ç‰‡åŒ–ç»„ä»¶ï¼ˆFragment + Teleportï¼‰</strong></p>
<ul>
<li>
<p>ç»„ä»¶ç»ˆäºèƒ½åƒæ™®é€š HTML ä¸€æ ·å†™å¤šä¸ªæ ¹æ ‡ç­¾ï¼ˆä¸ç”¨å¼ºè¡Œå¥— <code>div</code>ï¼‰ï¼Œè¿˜èƒ½ç”¨ <code>&lt;Teleport&gt;</code> æŠŠæ¨¡æ€æ¡†ã€Œä¼ é€ã€åˆ° <code>body</code> æ ¹éƒ¨ï¼Œé¿å… CSS å±‚çº§é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;!-- åˆæ³•ï¼å¤šä¸ªæ ¹å…ƒç´  --&gt;
  &lt;header&gt;æ ‡é¢˜&lt;/header&gt;
  &lt;main&gt;å†…å®¹&lt;/main&gt;

  &lt;!-- æŠŠå¼¹çª—ä¼ é€åˆ° body æœ«å°¾ --&gt;
  &lt;Teleport to="body"&gt;
    &lt;div class="modal"&gt;æˆ‘æ˜¯å…¨å±€å¼¹çª—&lt;/div&gt;
  &lt;/Teleport&gt;
&lt;/template&gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>TypeScript åŸç”Ÿæ”¯æŒ</strong></p>
<ul>
<li>
<p>ä»£ç æç¤ºç²¾å‡†åˆ°æ¯›å­”ï¼Œç±»å‹æ£€æŸ¥ç›´æ¥å†…ç½®ï¼Œå†ä¹Ÿä¸ç”¨å’Œ <code>Vue.extend</code> æ–—æ™ºæ–—å‹‡ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="language-typescript">interface User {
  id: number
  name: string
}

const user = ref&lt;User&gt;({ id: 1, name: 'å¼ ä¸‰' }) // ç±»å‹å®‰å…¨ï¼
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>å…¶ä»–å®ç”¨æ­¦å™¨åº“</strong></p>
<ul>
<li><strong>Suspense</strong>ï¼šå¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶æ˜¾ç¤º loading çŠ¶æ€ï¼ˆç±»ä¼¼ Reactï¼‰ã€‚</li>
<li><strong>è‡ªå®šä¹‰æ¸²æŸ“å™¨</strong>ï¼šç”¨ Vue è¯­æ³•å¼€å‘å°ç¨‹åº/Canvas åº”ç”¨ã€‚</li>
<li><strong>Vite åŠ æŒ</strong>ï¼šç§’çº§çƒ­æ›´æ–°ï¼Œå‘Šåˆ« webpack æ¼«é•¿ç­‰å¾…ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-vue-ç»„ä»¶ç›¸å…³ç”Ÿå‘½å‘¨æœŸ">ğŸ§© Vue ç»„ä»¶ç›¸å…³ç”Ÿå‘½å‘¨æœŸ</h2>
<table>
<thead>
<tr>
<th>ç”Ÿå‘½å‘¨æœŸ</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>props æ›´æ–°</td>
<td>Vue2 å’Œ Vue3 å‡å¯ç›‘å¬ props å˜åŒ–ï¼ˆé€šè¿‡ watchï¼‰</td>
</tr>
<tr>
<td>slot æ¸²æŸ“</td>
<td>åœ¨ mounted åæ’æ§½å†…å®¹å¯ä»¥è®¿é—®</td>
</tr>
<tr>
<td>å¼‚æ­¥ç»„ä»¶</td>
<td>Vue3 æ”¯æŒ defineAsyncComponent å°è£…å¼‚æ­¥ç»„ä»¶</td>
</tr>
</tbody>
</table>
<h3 id="ç¤ºä¾‹å¼‚æ­¥ç»„ä»¶">ç¤ºä¾‹ï¼šå¼‚æ­¥ç»„ä»¶</h3>
<pre><code class="language-ts">import { defineAsyncComponent } from 'vue';

const MyAsync = defineAsyncComponent(() =&gt; import('./MyComponent.vue'));
</code></pre>
<hr>
<h2 id="-å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ">ğŸ’¡ å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ</h2>
<h3 id="é¡µé¢ç”Ÿå‘½å‘¨æœŸ">é¡µé¢ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="language-txt">onLoad â†’ onShow â†’ onReady â†’ onHide â†’ onUnload
</code></pre>
<table>
<thead>
<tr>
<th>ç”Ÿå‘½å‘¨æœŸ</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>onLoad</td>
<td>é¡µé¢åŠ è½½ï¼Œæ¥å—å‚æ•°</td>
</tr>
<tr>
<td>onShow</td>
<td>é¡µé¢æ˜¾ç¤ºï¼Œç±»ä¼¼ activated</td>
</tr>
<tr>
<td>onReady</td>
<td>é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ</td>
</tr>
<tr>
<td>onHide</td>
<td>é¡µé¢éšè—</td>
</tr>
<tr>
<td>onUnload</td>
<td>é¡µé¢å¸è½½</td>
</tr>
</tbody>
</table>
<h3 id="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ">ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="language-txt">created â†’ attached â†’ ready â†’ detached
</code></pre>
<table>
<thead>
<tr>
<th>ç”Ÿå‘½å‘¨æœŸ</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>created</td>
<td>ç»„ä»¶å®ä¾‹åˆšåˆ›å»º</td>
</tr>
<tr>
<td>attached</td>
<td>èŠ‚ç‚¹æ’å…¥é¡µé¢ DOM</td>
</tr>
<tr>
<td>ready</td>
<td>ç»„ä»¶å¸ƒå±€å®Œæˆ</td>
</tr>
<tr>
<td>detached</td>
<td>èŠ‚ç‚¹ä»é¡µé¢ç§»é™¤</td>
</tr>
</tbody>
</table>
<h3 id="ç¤ºä¾‹é¡µé¢">ç¤ºä¾‹ï¼šé¡µé¢</h3>
<pre><code class="language-js">Page({
  onLoad(query) {
    console.log('é¡µé¢åŠ è½½', query);
  },
  onReady() {
    console.log('é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ');
  }
})
</code></pre>
<h3 id="ç¤ºä¾‹ç»„ä»¶">ç¤ºä¾‹ï¼šç»„ä»¶</h3>
<pre><code class="language-js">Component({
  lifetimes: {
    created() {
      console.log('ç»„ä»¶åˆ›å»º');
    },
    ready() {
      console.log('ç»„ä»¶æ¸²æŸ“å®Œæˆ');
    }
  }
})
</code></pre>
<hr>
<h2 id="-æ€»ç»“å¯¹æ¯”">âœ… æ€»ç»“å¯¹æ¯”</h2>
<table>
<thead>
<tr>
<th>å¹³å°</th>
<th>ç”Ÿå‘½å‘¨æœŸç²’åº¦</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>Vue2</td>
<td>æ¸…æ™°ä½†è€¦åˆ</td>
<td>ç”Ÿå‘½å‘¨æœŸé›†ä¸­åœ¨ Options ä¸­</td>
</tr>
<tr>
<td>Vue3</td>
<td>æ›´çµæ´»</td>
<td>Composition API æ›´åˆ©äºé€»è¾‘å¤ç”¨ã€ç±»å‹æ”¯æŒæ›´å¥½</td>
</tr>
<tr>
<td>å°ç¨‹åº</td>
<td>åˆ†é¡µé¢/ç»„ä»¶</td>
<td>ç”Ÿå‘½å‘¨æœŸæ›´è´´è¿‘åŸç”Ÿç¯å¢ƒï¼Œé€‚åˆäº‹ä»¶é©±åŠ¨æ¨¡å‹</td>
</tr>
</tbody>
</table>
<p>é€‚é…å»ºè®®ï¼š</p>
<ul>
<li>å¦‚æœè¦æ„å»ºå¤§è§„æ¨¡åº”ç”¨ï¼ŒVue3 æ¨èä½¿ç”¨ç»„åˆå¼ API æ­é… TypeScriptï¼›</li>
<li>å°ç¨‹åºæ¨èå°è£…ä¸€å±‚ç»Ÿä¸€ç”Ÿå‘½å‘¨æœŸå¤„ç†ï¼Œæ–¹ä¾¿å¤ç”¨ï¼›</li>
<li>Vue2 é¡¹ç›®å¯ä»¥æ¸è¿›è¿ç§» Vue3ï¼Œé‡æ„æ—¶å¯å¼•å…¥ Composition APIã€‚</li>
</ul>
<hr>
<blockquote>
<p>ğŸ“˜ æ¨èå·¥å…·ï¼š</p>
<ul>
<li>Vue3 Composition API å®˜æ–¹æŒ‡å—</li>
<li>å°ç¨‹åºå¼€å‘è€…å·¥å…·è°ƒè¯•ç”Ÿå‘½å‘¨æœŸ</li>
<li>Vueuse å¤„ç†å¸¸è§ç”Ÿå‘½å‘¨æœŸé€»è¾‘</li>
</ul>
</blockquote>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.016867708711805554" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-13 13:56">2025-04-13 13:56</span>&nbsp;
<a href="https://www.cnblogs.com/zxlh1529">å¹¼å„¿å›­æŠ€æœ¯å®¶</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18823158);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18823158', targetLink: 'https://www.cnblogs.com/zxlh1529/p/18823158', title: 'vue2&amp;amp;vue3&amp;amp;å°ç¨‹åºç®€ä»‹' })">ä¸¾æŠ¥</a>
</div>
        