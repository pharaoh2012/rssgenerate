
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/snowyn/p/18999482" title="发布于 2025-07-22 22:17">
    <span role="heading" aria-level="2">2025年Python安装运行mayavi过程全记录</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>本文从新建干净环境<font color="#dd0000"><strong>python 3.7</strong></font>说起，需安装文件有<br>
<font color="#dd0000"><strong>PyQt4-4.11.4, traits-6.3.1, VTK-8.1.2, mayavi-4.7.3, PyQt5, VisualStudio</strong></font></p>
<h3 id="一下载对应版本的whl文件">一、下载对应版本的<font color="#dd0000"><strong>.whl文件</strong></font></h3>
<p><a href="https://pypi.tuna.tsinghua.edu.cn/simple/" target="_blank" rel="noopener nofollow">https://pypi.tuna.tsinghua.edu.cn/simple/</a></p>
<ol>
<li><strong>必须<font color="#dd0000"></font></strong><font color="#dd0000">按照顺序依次<strong></strong></font><strong>安装 PyQt4-4.11.4, traits-6.3.1，VTK-8.1.2，mayavi-4.7.3</strong><br>
<a href="https://gitcode.com/Premium-Resources/c4e23/blob/main/PyQt4-4.11.4-cp37-cp37m-win_amd64.whl.zip" target="_blank" rel="noopener nofollow">PyQt4-4.11.4-cp37-cp37m-win_amd64.whl</a> 需先解压，<a href="https://pypi.tuna.tsinghua.edu.cn/simple/traits/" target="_blank" rel="noopener nofollow">traits-6.3.1-cp37-cp37m-win_amd64.whl</a> ，<a href="https://pypi.tuna.tsinghua.edu.cn/simple/vtk/" target="_blank" rel="noopener nofollow">vtk-8.1.2-cp37-cp37m-win_amd64.whl</a> ，<a href="https://pypi.tuna.tsinghua.edu.cn/simple/mayavi/" target="_blank" rel="noopener nofollow">mayavi-4.7.3.tar.gz</a></li>
</ol>
<pre><code>pip install PyQt4-4.11.4-cp37-cp37m-win_amd64.whl
pip install traits-6.3.1-cp37-cp37m-win_amd64.whl
pip install vtk-8.1.2-cp37-cp37m-win_amd64.whl
pip install mayavi-4.7.3.tar.gz
</code></pre>
<p>其中如果安装mayavi卡住，说明上述安装版本不对应，主要是VTK不要到9.0.0以上<br>
PyQt4,traits,VTK安装成功如下：</p>
<div align="center">
<img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722205049124-55704346.png">
</div>
<p>mayavi安装成功如下（warning是网络有点问题，重新安装就好）：</p>
<div align="center">
<img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722205349186-643528533.png">
</div>
<ol start="2">
<li><font color="#dd0000"><strong>测试代码</strong></font></li>
</ol>
<pre><code>from mayavi import mlab
import numpy as np
# 创建一个简单的 3D 曲面
x, y = np.mgrid[-10:10:100j, -10:10:100j]
z = np.sin(x**2 + y**2) / (x**2 + y**2 + 1e-6)  # 避免除以零
# 绘制 3D 曲面
mlab.surf(x, y, z, warp_scale="auto", colormap="cool")
# 添加标题和颜色条
mlab.title("Mayavi Test Plot")
mlab.colorbar(title="Height", orientation="vertical")
# 显示图形
mlab.show()
</code></pre>
<p>💔😭💀 测试报错，革命尚未成功，可能以前这样就可以，但是笔者时间节点是2025.07不可以了。<br>
需要再下载PyQt5</p>
<div align="center">
<img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722205829576-2102186960.png">
</div>
<h3 id="二安装pyqt5">二、安装PyQt5</h3>
<ol>
<li><strong>从清华源上直接下载PyQt5</strong></li>
</ol>
<pre><code>pip install pyqt5 pyqt5-tools -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<p>💔😭💀 再次报错 Microsoft Visual C++ 14.0 or greater is required. Get it with "Microsoft C++ Build Tools"，<br>
需要下载并安装VisualStudioBuildTools</p>
<div align="center">
<img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722210002722-1666257416.png">
</div>
<ol start="2">
<li><strong>下载并安装VisualStudioBuildTools</strong><br>
打开powershell，从源直接下载，一共8G要等一会</li>
</ol>
<pre><code>wget https://aka.ms/vs/17/release/vs_BuildTools.exe -o vs_BuildTools.exe ; cmd /c vs_BuildTools.exe
</code></pre>
<p>安装时注意下面两图勾选即可</p>
<div style="display: flex; justify-content: center">
<img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722210512244-251740909.png" alt="描述1" height="100">
<img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722210522691-323280434.png" alt="描述2">
</div>
<ol start="3">
<li><strong>再次下载安装pyqt5</strong></li>
</ol>
<pre><code>pip install pyqt5 pyqt5-tools -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722210406643-55266986.png" alt="image" loading="lazy"></p>
<p>✅✨💯🥳 Congratulations  成功运行！！！<br>
<img src="https://img2024.cnblogs.com/blog/2813879/202507/2813879-20250722210629678-2091414520.png" alt="image" loading="lazy"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-07-22 22:17">2025-07-22 22:17</span>&nbsp;
<a href="https://www.cnblogs.com/snowyn">snowyn</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18999482);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18999482', targetLink: 'https://www.cnblogs.com/snowyn/p/18999482', title: '2025年Python安装运行mayavi过程全记录' })">举报</a>
</div>
        