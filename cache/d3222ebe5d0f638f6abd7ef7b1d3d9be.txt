
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhangyixian/p/18884941" title="发布于 2025-05-19 21:44">
    <span role="heading" aria-level="2">防火墙--地址转换相关概述</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2>一、地址转换功能概述</h2>
<p>网络地址转换（NetworkAddressTranslation，NAT）诞生于1994年，它的提出是在IPv4地址资源面临枯竭的背景下，作用是替换IP报文头部的地址信息，允许一个整体机构以一个公用IP地址出现在lnternet上，它是一<br>种把内部私有网络IP地址翻译成合法网络IP地址的技术，可以让那些使用私有地址的内部网络连接到Internet或其它IP网络上。</p>
<h2>二、源地址转换功能配置</h2>
<p>源地址转换具体作用是将IP数据包的源地址转换成另外一个地址，内网地址访问外网时，将发起访问的内网IP地<br>址转换为指定的IP地址，内网的多台主机可以通过同一个有效的公网IP地址访问外网，因此可以认为，源地址转<br>换在一定程度上，能够有效的解决公网IPV4地址不足的问题，并能够达到<span style="color: rgba(255, 0, 0, 1)">隐藏内网的作用。</span></p>
<p><img src="https://img2024.cnblogs.com/blog/2055956/202505/2055956-20250519210057261-1941971740.png" alt="" width="332" height="280" loading="lazy">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p><span style="text-decoration: underline"><strong>&nbsp;应用场景：</strong></span></p>
<p>源地址转换主要应用于网关设备代理上网的场景，如内网有多个私网网段的终端需要同时使用一个或者多个相同的公网IP地址访问公网服务。</p>
<p><img src="https://img2024.cnblogs.com/blog/2055956/202505/2055956-20250519211037075-1905523942.png" alt="" width="496" height="248" loading="lazy"></p>
<p>&nbsp;</p>
<h2>三、目的地址转换功能配置</h2>
<p>目的地址转换也称为反向地址转换、地址映射或端口映射，是一种单向的针对目标地址的地址转换，具体作用<br>是将IP数据包的目的地址转换为另外一个地址。</p>
<p><img src="https://img2024.cnblogs.com/blog/2055956/202505/2055956-20250519211952062-1346380200.png" alt="" width="331" height="339" loading="lazy"></p>
<p>应用场景：</p>
<p><img src="https://img2024.cnblogs.com/blog/2055956/202505/2055956-20250519212343550-326340370.png" alt="" width="481" height="265" loading="lazy"></p>
<p>&nbsp;</p>
<h2>四、双向地址转换功能配置</h2>
<p>双向地址转换是指在一条地址转换规则中，同时包含源地址和目标地址的转换，匹配规则的数据流将被同时转<br>换源IP地址和目标IP地址。</p>
<p><img src="https://img2024.cnblogs.com/blog/2055956/202505/2055956-20250519213605612-1404253227.png" alt="" width="330" height="313" loading="lazy">&nbsp;&nbsp;</p>
<p>双向地址转换主要用于内网有服务器通过域名提供给公网访问，内网其他电脑也需要通过域名直接访问内网服<br>务器。</p>
<p>&nbsp;<img src="https://img2024.cnblogs.com/blog/2055956/202505/2055956-20250519213831656-1092720924.png" alt="" width="491" height="296" loading="lazy"></p>
<p>&nbsp;</p>
<p><img src="https://img2024.cnblogs.com/blog/2055956/202505/2055956-20250519213909671-1223735154.png" alt="" width="477" height="183" loading="lazy">&nbsp;</p>
<h2>&nbsp;五、注意事项：</h2>
<p>1．地址转换只适用于路由口;<br>2．数据包要来回流量都经过AF;<br>3．AF的源地址转换有两种模式分为动态转换和静态转换，动态转换是将多个源地址转换为一个地址，静态转换是一对一转换;<br>4.做目的地址转换或双向地址转换时，确保AF与内网服务器发布的端口能通信，而不是只要AF能ping通服务器就行;<br>5.信做目的地址转换或双向地址转换时，确保运营商对映射出来的端口没有做封堵，验证方法可以在AF的外网接口抓包，看测试的源IP地址发起请求的数据包有没有到达外网接口。</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.02226335567361111" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-19 21:44">2025-05-19 21:44</span>&nbsp;
<a href="https://www.cnblogs.com/zhangyixian">张一仙</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18884941);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18884941', targetLink: 'https://www.cnblogs.com/zhangyixian/p/18884941', title: '防火墙--地址转换相关概述' })">举报</a>
</div>
        