
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52495537">
<div class="parsedown-markdown"><h2 id="52495537_让闲置-ubuntu-服务器华丽转身为家庭影院">让闲置 Ubuntu 服务器华丽转身为家庭影院</h2>
<p>在数字化的时代，家里的设备更新换代频繁，很容易就会有闲置的服务器吃灰。我家里就有一台闲置的 Ubuntu 24.04 服务器，一直放在角落，总觉得有些浪费。于是，我决定让它重新发挥作用，打造一个属于自己的家庭影院。</p>
<h3 id="52495537_一、实现-windows-与-ubuntu-服务器文件互通">一、实现 Windows 与 Ubuntu 服务器文件互通</h3>
<p>要打造家庭影院，首先得让本地 Windows 电脑和 Ubuntu 服务器之间能够方便地传输电影文件。我选择安装 Samba 来实现这一目的。</p>
<ol>
<li>
<p><strong>安装 Samba</strong>：在 Ubuntu 服务器的终端中输入命令</p>
<pre><code class="shell">sudo apt-get install samba samba-common</code></pre>
<p>系统会自动下载并安装 Samba 相关的软件包。</p>
</li>
<li>
<p><strong>备份配置文件</strong>：为了以防万一，我先将原来的 Samba 配置文件进行备份，执行命令</p>
<pre><code class="shell">mv /etc/samba/smb.conf /etc/samba/smb.conf.bak</code></pre>
</li>
<li>
<p><strong>新建配置文件</strong>：使用 <code>vim /etc/samba/smb.conf</code> 命令打开编辑器，写入以下配置内容：</p>
</li>
</ol>
<pre><code class="ini">[global]
server min protocol = CORE
workgroup = WORKGROUP
netbios name = Nas
security = user
map to guest = bad user
guest account = nobody
client min protocol = SMB2
server min protocol = SMB2
server smb encrypt = off
[NAS]
comment = NASserver
path = /home/bddxg/nas
public = Yes
browseable = Yes
writable = Yes
guest ok = Yes
passdb backend = tdbsam
create mask = 0775
directory mask = 0775</code></pre>
<p>这里需要注意的是，我计划的媒体库目录是个人目录下的 <code>nas/</code>，所以 <code>path</code> 是 <code>/home/bddxg/nas</code> ，如果大家要部署的话记得根据自己的实际情况修改为对应的位置。<br>
<img src="https://s21.ax1x.com/2025/03/01/pE8IfVs.jpg" alt="pE8IfVs.jpg"></p>
<ol start="4">
<li><strong>连接 Windows 电脑</strong>：在 Windows 电脑这边基本不需要什么复杂配置，因为在网络里无法直接看到 Ubuntu，我直接在电脑上添加了网络位置。假设服务器地址是 <code>192.168.10.100</code>，那么添加网络位置就是 <code>\\192.168.10.100\nas</code>，这样就可以在 Windows 电脑和 Ubuntu 服务器之间传输文件了。</li>
</ol>
<p><img src="https://s21.ax1x.com/2025/03/01/pE8IRbj.jpg" alt="pE8IRbj.jpg"></p>
<h3 id="52495537_二、安装-jellyfin-搭建家庭影院">二、安装 Jellyfin 搭建家庭影院</h3>
<p>文件传输的问题解决后，接下来就是安装 Jellyfin 来实现家庭影院的功能了。</p>
<ol>
<li>
<p><strong>尝试 Docker 安装失败</strong>：一开始我选择使用 Docker 安装，毕竟 Docker 有很多优点，使用起来也比较方便。按照官网指南进行操作，在第三步启动 Docker 并挂载本地目录的时候却一直失败。报错信息为:</p>
<pre><code class="shell">docker: Error response from daemon: error while creating mount source path '/srv/jellyfin/cache': mkdir /srv/jellyfin: read-only file system.</code></pre>
<p>即使我给 <code>/srv/jellyfin</code> 赋予了 <code>777</code> 权限也没有效果。无奈之下，我决定放弃 Docker 安装方式，直接安装 server 版本的 Jellyfin。</p>
</li>
</ol>
<p><img src="https://s21.ax1x.com/2025/03/01/pE8IoGV.jpg" alt="pE8IoGV.jpg"></p>
<ol start="2">
<li><strong>安装 server 版本的 Jellyfin</strong>：在终端中输入命令 <code>curl https://repo.jellyfin.org/install-debuntu.sh | sudo bash</code>，安装过程非常顺利。</li>
</ol>
<p><img src="https://s21.ax1x.com/2025/03/01/pE8I7xU.jpg" alt="pE8I7xU.jpg"></p>
<ol start="3">
<li>
<p><strong>配置 Jellyfin</strong>：安装完成后，通过浏览器访问 <code>http://192.168.10.100:8096</code> 进入配置页面。在添加媒体库这里，我遇到了一个麻烦，网页只能选择到 <code>/home/bddxg</code> 目录，无法继续往下选择到我的媒体库位置 <code>/home/bddxg/nas</code>。于是我向 deepseek 求助，它告诉我需要执行命令:</p>
<pre><code class="shell">sudo usermod -aG bddxg jellyfin
# 并且重启 Jellyfin 服务
sudo systemctl restart jellyfin</code></pre>
<p>按照它的建议操作后，我刷新了网页，重新配置了 Jellyfin，终于可以正常添加媒体库了。</p>
</li>
<li>
<p><strong>电视端播放</strong>：在电视上安装好 Jellyfin apk 客户端后，现在终于可以正常读取 Ubuntu 服务器上的影视资源了，坐在沙发上，享受着大屏观影的乐趣，这种感觉真的太棒了！</p>
</li>
</ol>
<p><img src="https://s21.ax1x.com/2025/03/01/pE8IbMF.jpg" alt="pE8IbMF.jpg"></p>
<p>通过这次折腾，我成功地让闲置的 Ubuntu 服务器重新焕发生机，变成了一个功能强大的家庭影院。希望我的经验能够对大家有所帮助，也欢迎大家一起交流更多关于服务器利用和家庭影院搭建的经验。</p>
<blockquote>
<p>[!警告]<br>
令人遗憾的是,目前 jellyfin 似乎不支持<code>rmvb</code> 格式的影片, 下载资源的时候注意影片格式,推荐直接下载 <code>mp4</code> 格式的资源</p>
</blockquote>
<hr>
<p>本次使用到的软件名称和版本如下:</p>
<table>
<thead>
<tr>
<th>软件名</th>
<th>版本号</th>
<th>安装命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>samba</td>
<td>Version 4.19.5-Ubuntu</td>
<td><code>sudo apt-get install samba samba-common</code></td>
</tr>
<tr>
<td>jellyfin</td>
<td>Jellyfin.Server 10.10.6.0</td>
<td><code>curl https://repo.jellyfin.org/install-debuntu.sh \| sudo bash</code></td>
</tr>
<tr>
<td>ffmpeg(jellyfin 内自带)</td>
<td>ffmpeg version 7.0.2-Jellyfin</td>
<td>null</td>
</tr>
</tbody>
</table></div>
<div class="parsedown-markdown-end_FLAG_ZXSQ" style="display:none"></div></td></tr></tbody></table>


