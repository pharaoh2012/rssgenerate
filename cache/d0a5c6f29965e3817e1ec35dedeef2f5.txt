
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xwwin/p/18664668" title="发布于 2025-01-10 20:29">
    <span role="heading" aria-level="2">外部H5唤起常用小程序链接规则整理</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        目前工作是全职做小程序开发，需要发布抖音+快手+微信，年底了，公司准备做一波营销活动，更好传播的话首选H5活动营销页，需要考虑怎么把用户从H5页面引入到我们自己的小程序，整理了常用小程序唤起链接规则？
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="概述">概述</h2>
<p>我目前工作是全职做小程序开发，所负责的小程序需要发布抖音+快手+微信+支付宝四端，年底了，公司准备做一波营销活动，营销活动更好传播的话首选H5活动营销页，这就需要考虑怎么把用户从H5页面引入到我们自己的小程序以达到引流的目的，于是需要调研各家小程序平台是否有对应的能力可以满足此需求，于是有了此文，记录各家小程序平台的跳转链接规则，以备需要时查询。</p>
<h2 id="链接规则整理">链接规则整理</h2>
<p>此处只整理了我工作中开发有接触到的小程序平台</p>
<h3 id="微信小程序外部唤起url-scheme">微信小程序外部唤起URL Scheme</h3>
<p><strong>前提：</strong></p>
<p>开发者无需调用平台接口，在左边最底下小程名称-&gt;账号设置-&gt;基本设置-&gt;隐私与安全-&gt;明文Scheme拉起此小程序配置要做跳转的页面</p>
<p><strong>链接规则:</strong><br>
weixin://dl/business/?appid=[appid]&amp;path=[path]&amp;query=[query]&amp;env_version=[env_version]</p>
<ol>
<li>【必填】appid：要打开的小程序的 appid ；</li>
<li>【必填】path：要打开的小程序的页面 path ，必须是已经发布的小程序存在的页面，不可携带 query；</li>
<li>【选填】query：要打开的小程序的 query ，最大512个字符，只支持数字，大小写英文以及部分特殊字符：!#$&amp;'()*+,/:;=?@-._~%`，需要url_encode；</li>
<li>【选填】env_version：要打开的小程序版本,正式版为release，体验版为trial，开发版为develop，仅在微信外打开时生效。注意：若不填写，则默认打开正式版小程序。<br>
通过明文 URL Scheme 打开小程序的场景值为 1286。</li>
</ol>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/url-scheme.html" target="_blank" rel="noopener nofollow">官方文挡说明</a></p>
<h3 id="快手小程序外部唤起url-scheme">快手小程序外部唤起URL Scheme</h3>
<p><strong>链接规则:</strong><br>
kwai://miniapp?appId=[appId]&amp;KSMP_source=011012&amp;KSMP_internal_source=011012&amp;path=[path]</p>
<p>可根据此示例链接将appid和path替换为自己的小程序appid和具体页面的path（注意不要填写错误的场景值，会导致部分情况下无法打开小程序)，生成链接后将链接配置在服务TAB具体需要配置链接的模块即可。</p>
<ol>
<li>【必填】appId：要打开的小程序的 appid ；</li>
<li>【必填】path：要打开的小程序的页面 path ，必须是已经发布的小程序存在的页面，不可携带 query；</li>
<li>【必填】KSMP_source：打开小程序的场景值，固定值为0110120</li>
<li>【必填】KSMP_internal_source：打开小程序的场景值，固定值为0110120</li>
</ol>
<p><a href="https://open.kuaishou.com/docs/develop/functionAccessGuide/businessAccount/configuration.html#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84kwai%E9%93%BE%E6%8B%BC%E6%8E%A5%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener nofollow">官方文挡说明</a></p>
<h3 id="支付宝小程序外部唤起url-scheme">支付宝小程序外部唤起URL Scheme</h3>
<p><strong>链接规则:</strong><br>
alipays://platformapi/startapp?appId=[appId]&amp;page=[page]&amp;query=[query]</p>
<ol>
<li>【必填】appId：要打开的小程序的 appId。示例：20170713077xxxxx</li>
<li>【选填】page：要打开的小程序的页面 path ，要跳转到目标小程序的具体 page 页面，该值等于 app.json 里面的配置值；如果不带 page 字段，默认跳转到小程序首页。路径中可以在？后面附加跳转后的页面参数。页面参数必须进行 UrlEncode 编码，否则只能获取到第一个页面参数，示例：UrlEncode 编码前：pages/index/index?key1=1&amp;key2=2 UrlEncode 编码后：pages/index/index?key1%3D1%26key2%3D2</li>
<li>【选填】query：表示从外部 App 携带的参数透传到目标小程序，如果不需要携带参数给小程序，可以不带该参数。query：启动参数，内容按照格式为参数名=参数值&amp;参数名=参数值 注意： query 携带的启动参数必须进行 UrlEncode 编码否则只能获取到第一个参数，UrlEncode 编码前：key1=value1&amp;key2=value2 UrlEncode 编码后：key1%3Dvalue1%26key2%3Dvalue2</li>
</ol>
<p><a href="https://opensupport.alipay.com/support/FAQ/65b9bd584e1f5304773568ddprod" target="_blank" rel="noopener nofollow">官方文挡说明</a></p>
<p>支付宝小程序还贴心的提供了在线的链接生成工具：<a href="https://opensupport.alipay.com/support/diagnostic-tools/6630ae22-5336-4d67-a9b6-dbd987102fec" target="_blank" rel="noopener nofollow">官方生成工具</a></p>
<h3 id="京东小程序外部链接唤起">京东小程序外部链接唤起</h3>
<p><strong>链接规则：</strong><br>
<a href="https://mini-app-static.jd.com/apps/mpshare/index.html?appId=%5BappId%5D&amp;type=1&amp;pageAlias=xxx&amp;path=%5Bpath%5D" target="_blank" rel="noopener nofollow">https://mini-app-static.jd.com/apps/mpshare/index.html?appId=[appId]&amp;type=1&amp;pageAlias=[pageAlias]&amp;path=[path]</a></p>
<ol>
<li>【必填】appId:要打开的小程序的原始id</li>
<li>【选填】type:打开的小程序的类型，1 对应线上正式小程序 2 体验版小程序</li>
<li>【选填】pageAlias:要打开的页面的别名，需要在app.json中配置使用，详见<a href="https://mp-docs.jd.com/doc/first/second/504#heading-0" target="_blank" rel="noopener nofollow">全局配置</a>，优先级低于path字段</li>
<li>【选填】path后面的路径，需要url encode，如原始path字段值如下： page/index/index.html?name=aa，则需要转化成 page%2findex%2findex.html%3fname%3daa；path中的?后面的自定义参数值,可在 app.js 中 onLaunch 回调中获取。<br>
<a href="https://mp-docs.jd.com/doc/dev/api/1506#heading-5" target="_blank" rel="noopener nofollow">官方文挡说明</a></li>
</ol>
<h3 id="抖音小程序外部唤起url-scheme">抖音小程序外部唤起URL Scheme</h3>
<p>抖音暂时不支持用户手动拼写URL跳转路径，只能通过请求接口生成对应跳转链接。</p>
<p><a href="https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/develop/server/basic-abilities/url-and-qrcode/schema/generate-schema-v2" target="_blank" rel="noopener nofollow">官方文挡说明</a></p>
<p><a href="https://developer.open-douyin.com/forum/question/post/67808e1c0a34c109b3c51fca" target="_blank" rel="noopener nofollow">论坛求助贴子</a></p>
<h3 id="qq小程序">QQ小程序</h3>
<p>暂未找到有才能方式可以跳转，文挡上只有扫描普通二维码可以跳小程序，又备注限制在手机QQ“扫一扫”或“QQ内长按识别二维码”的情况下，又没有论坛，也找不到客服入口，二眼一模黑。</p>
<h2 id="期望">期望</h2>
<p>QQ小程序没有找到解决方案，如果有知道的，欢迎评论补充；对于其它各家小程序平台，如果你也开发有接触，并知道其中链接规则，也欢迎评论补充，一起学习一起进步。</p>

</div>
<div id="MySignature" role="contentinfo">
    好好学习！天天向上！
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.7424728600648148" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-10 20:29">2025-01-10 20:29</span>&nbsp;
<a href="https://www.cnblogs.com/xwwin">！win ！</a>&nbsp;
阅读(<span id="post_view_count">58</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18664668" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18664668);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18664668', targetLink: 'https://www.cnblogs.com/xwwin/p/18664668', title: '外部H5唤起常用小程序链接规则整理' })">举报</a>
</div>
        