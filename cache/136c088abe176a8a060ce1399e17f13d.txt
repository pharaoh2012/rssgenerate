
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/songweipeng/p/18956710" title="发布于 2025-06-29 20:24">
    <span role="heading" aria-level="2">Spring Boot 集成 tess4j 实现图片识别文本</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h4><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">前言</span></h4>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">Tesseract 是世界上最知名、应用最广泛的开源 OCR 引擎。它由 Google 积极维护，功能强大，支持多种语言和平台。虽然它在处理理想条件下的印刷文本时表现出色，但其精度会受到图像质量和复杂性的影响。它通常作为核心引擎被集成到各种应用程序、脚本和更大型的系统中，是许多需要文本提取功能的项目的首选开源解决方案。</span></p>
<p>&nbsp;</p>
<h2 id="%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85%C2%A0tesseract%C2%A0%EF%BC%88OCR%EF%BC%89"><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">一、安装&nbsp;tesseract&nbsp;（<a title="OCR" href="https://zhida.zhihu.com/search?content_id=235043430&amp;content_type=Article&amp;match_order=1&amp;q=OCR&amp;zhida_source=entity" rel="noopener nofollow">OCR</a>）</span></h2>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">安装链接：<a href="https://digi.bib.uni-mannheim.de/tesseract/" rel="noopener nofollow">Index of /tesseract (uni-mannheim.de)</a></span></p>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><img src="https://img2024.cnblogs.com/blog/2156747/202506/2156747-20250629195521826-1651657427.png" alt="" loading="lazy"></span></p>
<h2 id="%E4%BA%8C%E3%80%81%E4%B8%8B%E8%BD%BD%E8%AE%AD%E7%BB%83%E6%95%B0%E6%8D%AE"><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">二、下载<span class="words-blog hl-git-1" data-tit="训练数据" data-pretit="训练数据">训练数据</span></span></h2>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">通过网盘分享的文件：tessdata各语言集合包.zip</span><br><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">链接: https://pan.baidu.com/s/13oPR2r7qOE6lt6SgbpWOQA 提取码: uaaw&nbsp;</span></p>
<h2 id="%E4%B8%89%E3%80%81%E5%88%9B%E5%BB%BAspring%20boot%20%E9%A1%B9%E7%9B%AE"><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">三、创建springboot项目</span></h2>
<h3 id="%C2%A0%201%E3%80%81%E5%AF%BC%E5%85%A5%E4%BE%9D%E8%B5%96"><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">&nbsp;1、导入依赖</span></h3>
<div class="cnblogs_code">
<pre><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">dependency</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">groupId</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>net.sourceforge.tess4j<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">groupId</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">artifactId</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>tess4j<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">artifactId</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
            <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">version</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>5.3.0<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">version</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">dependency</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></span></pre>
</div>
<h3 id="2%E3%80%81%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E7%B1%BB"><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">2、编写配置类</span></h3>
<div class="cnblogs_code">
<pre><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><span style="color: rgba(0, 0, 255, 1)">package</span><span style="color: rgba(0, 0, 0, 1)"> com.songwp.config;

</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> net.sourceforge.tess4j.Tesseract;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.beans.factory.annotation.Value;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.context.annotation.Bean;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.context.annotation.Configuration;

</span><span style="color: rgba(0, 128, 0, 1)">/**</span><span style="color: rgba(0, 128, 0, 1)">
 * @ClassName：TesseractOcrConfig
 * @Description: ocr配置类
 * @Author: songwp
 * @Date: 2025/6/29 19:24
 </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
@Configuration
</span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> TesseractOcrConfig {

    @Value(</span>"${tess4j.data-path}"<span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">private</span><span style="color: rgba(0, 0, 0, 1)"> String dataPath;

    @Value(</span>"${tess4j.language}"<span style="color: rgba(0, 0, 0, 1)">)
    </span><span style="color: rgba(0, 0, 255, 1)">private</span><span style="color: rgba(0, 0, 0, 1)"> String language;

    @Bean
    </span><span style="color: rgba(0, 0, 255, 1)">public</span><span style="color: rgba(0, 0, 0, 1)"> Tesseract tesseract() {

        Tesseract tesseract </span>= <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Tesseract();
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 设置训练数据文件夹路径</span>
<span style="color: rgba(0, 0, 0, 1)">        tesseract.setDatapath(dataPath);
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 设置为中文简体</span>
<span style="color: rgba(0, 0, 0, 1)">        tesseract.setLanguage(language);
        </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> tesseract;
    }
}</span></span></pre>
</div>
<h3 id="3%E3%80%81%E7%BC%96%E5%86%99controller"><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">3、编写controller</span></h3>
<div class="cnblogs_code">
<pre><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><span style="color: rgba(0, 0, 255, 1)">package</span><span style="color: rgba(0, 0, 0, 1)"> com.songwp.controller;

</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> com.songwp.service.OcrService;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> lombok.extern.slf4j.Slf4j;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> net.sourceforge.tess4j.TesseractException;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.http.MediaType;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.web.bind.annotation.PostMapping;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.web.bind.annotation.RequestMapping;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.web.bind.annotation.RequestParam;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.web.bind.annotation.RestController;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.web.multipart.MultipartFile;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> java.io.IOException;

</span><span style="color: rgba(0, 128, 0, 1)">/**</span><span style="color: rgba(0, 128, 0, 1)">
 * @ClassName：OcrController
 * @Description: ocr识别controller
 * @Author: songwp
 * @Date: 2025/6/29 18:40
 </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
@RestController
@RequestMapping(</span>"/ocr"<span style="color: rgba(0, 0, 0, 1)">)
@Slf4j
</span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span><span style="color: rgba(0, 0, 0, 1)"> OcrController {

    </span><span style="color: rgba(0, 0, 255, 1)">private</span> <span style="color: rgba(0, 0, 255, 1)">final</span><span style="color: rgba(0, 0, 0, 1)"> OcrService ocrService;

    </span><span style="color: rgba(0, 0, 255, 1)">public</span><span style="color: rgba(0, 0, 0, 1)"> OcrController(OcrService ocrService) {
        </span><span style="color: rgba(0, 0, 255, 1)">this</span>.ocrService =<span style="color: rgba(0, 0, 0, 1)"> ocrService;
    }

    @PostMapping(value </span>= "/recognize", consumes =<span style="color: rgba(0, 0, 0, 1)"> MediaType.MULTIPART_FORM_DATA_VALUE)
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> String recognizeImage(@RequestParam("file") MultipartFile file) <span style="color: rgba(0, 0, 255, 1)">throws</span><span style="color: rgba(0, 0, 0, 1)"> TesseractException, IOException {

        log.info(ocrService.recognizeText(file));
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 调用OcrService中的方法进行文字识别</span>
        <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> ocrService.recognizeText(file);
    }
}</span></span></pre>
</div>
<h3><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">5、编写service</span></h3>
<div class="cnblogs_code">
<pre><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><span style="color: rgba(0, 0, 255, 1)">package</span><span style="color: rgba(0, 0, 0, 1)"> com.songwp.service;

</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> net.sourceforge.tess4j.TesseractException;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.web.multipart.MultipartFile;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> java.io.IOException;

</span><span style="color: rgba(0, 128, 0, 1)">/**</span><span style="color: rgba(0, 128, 0, 1)">
 * @ClassName：OcrService
 * @Description: ocr识别接口
 * @Author: songwp
 * @Date: 2025/6/29 19:27
 </span><span style="color: rgba(0, 128, 0, 1)">*/</span>
<span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">interface</span><span style="color: rgba(0, 0, 0, 1)"> OcrService {

    </span><span style="color: rgba(0, 0, 255, 1)">public</span> String recognizeText(MultipartFile imageFile) <span style="color: rgba(0, 0, 255, 1)">throws</span><span style="color: rgba(0, 0, 0, 1)"> IOException, TesseractException;
}</span></span></pre>
</div>
<h3><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">5、编写service实现类</span></h3>
<div class="cnblogs_code">
<pre><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><span style="color: rgba(0, 0, 255, 1)">package</span><span style="color: rgba(0, 0, 0, 1)"> com.songwp.service.impl;

</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> com.songwp.service.OcrService;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> net.sourceforge.tess4j.Tesseract;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> net.sourceforge.tess4j.TesseractException;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.stereotype.Service;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> org.springframework.web.multipart.MultipartFile;

</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> javax.imageio.ImageIO;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> java.awt.image.BufferedImage;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> java.io.ByteArrayInputStream;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> java.io.IOException;
</span><span style="color: rgba(0, 0, 255, 1)">import</span><span style="color: rgba(0, 0, 0, 1)"> java.io.InputStream;

</span><span style="color: rgba(0, 128, 0, 1)">/**</span><span style="color: rgba(0, 128, 0, 1)">
 * @ClassName：OcrServiceImpl
 * @Description: ocr识别实现类
 * @Author: songwp
 * @Date: 2025/6/29 19:28
 </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
@Service
</span><span style="color: rgba(0, 0, 255, 1)">public</span> <span style="color: rgba(0, 0, 255, 1)">class</span> OcrServiceImpl <span style="color: rgba(0, 0, 255, 1)">implements</span><span style="color: rgba(0, 0, 0, 1)"> OcrService {
    </span><span style="color: rgba(0, 0, 255, 1)">private</span> <span style="color: rgba(0, 0, 255, 1)">final</span><span style="color: rgba(0, 0, 0, 1)"> Tesseract tesseract;

    </span><span style="color: rgba(0, 0, 255, 1)">public</span><span style="color: rgba(0, 0, 0, 1)"> OcrServiceImpl(Tesseract tesseract) {
        </span><span style="color: rgba(0, 0, 255, 1)">this</span>.tesseract =<span style="color: rgba(0, 0, 0, 1)"> tesseract;
    }

    </span><span style="color: rgba(0, 128, 0, 1)">/**</span><span style="color: rgba(0, 128, 0, 1)">
     *
     * </span><span style="color: rgba(128, 128, 128, 1)">@param</span><span style="color: rgba(0, 128, 0, 1)"> imageFile 要识别的图片
     * </span><span style="color: rgba(128, 128, 128, 1)">@return</span>
     <span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(0, 0, 0, 1)">
    @Override
    </span><span style="color: rgba(0, 0, 255, 1)">public</span> String recognizeText(MultipartFile imageFile) <span style="color: rgba(0, 0, 255, 1)">throws</span><span style="color: rgba(0, 0, 0, 1)"> IOException, TesseractException {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 转换</span>
        InputStream sbs = <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> ByteArrayInputStream(imageFile.getBytes());
        BufferedImage bufferedImage </span>=<span style="color: rgba(0, 0, 0, 1)"> ImageIO.read(sbs);

        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 对图片进行文字识别</span>
        <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> tesseract.doOCR(bufferedImage);
    }
}</span></span></pre>
</div>
<h3><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px">6、运行调试</span></h3>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><img src="https://img2024.cnblogs.com/blog/2156747/202506/2156747-20250629201647109-999636739.png" alt="" loading="lazy"></span></p>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><img src="https://img2024.cnblogs.com/blog/2156747/202506/2156747-20250629201539211-1381757231.png" alt="" loading="lazy"></span></p>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><strong>&nbsp;注：图片颜色比较多的时候有有点识别不清楚了以及一些带字体的文本</strong></span></p>
<p><span style="font-family: 黑体, &quot;Heiti SC&quot;; font-size: 14px"><strong>参考链接：<a href="https://blog.csdn.net/m0_49726578/article/details/147306832" rel="noopener nofollow">Spring Boot 集成 tess4j 实现图片识别文本_springboot tesseract-CSDN博客</a></strong></span></p>
</div>
<div id="MySignature" role="contentinfo">
    古今成大事者，不唯有超世之才，必有坚韧不拔之志！
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.004166666666666667" data-date-updated="2025-06-29 20:30">2025-06-29 20:24</span>&nbsp;
<a href="https://www.cnblogs.com/songweipeng">[奋斗]</a>&nbsp;
阅读(<span id="post_view_count">5</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18956710);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18956710', targetLink: 'https://www.cnblogs.com/songweipeng/p/18956710', title: 'Spring Boot 集成 tess4j 实现图片识别文本' })">举报</a>
</div>
        