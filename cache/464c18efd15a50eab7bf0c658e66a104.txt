
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaobaiysf/p/18926973" title="发布于 2025-06-13 14:21">
    <span role="heading" aria-level="2">【干货分享】手把手教你实现AI应用对话批量自动化测试（含源码）</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="一场景说明">一、场景说明</h1>
<p>MaxKB对话应用在发布之后，可以使用本文提供的Python自动化测试脚本，快速验证对话应用的响应结果，响应时间，引用分段，消耗tokens数量等关键指标。请查看MaxKB-API.zip压缩包，详细了解Python自动化测试脚本的内容。</p>
<h1 id="二操作过程">二、操作过程</h1>
<h2 id="21环境准备">2.1环境准备</h2>
<p>提前安装python3和pip3 环境。</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613141859938-2035615741.png" alt="" loading="lazy"></p>
<p>执行pip3 install命令，安装python脚本运行时的依赖包。</p>
<p>pip3 install --trusted-host pypi.org --trusted-host files.pythonhosted.org pyyaml requests pandas openpyxl</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613141910799-590767050.png" alt="" loading="lazy"></p>
<h2 id="22修改configyaml文件的配置">2.2修改config.yaml文件的配置</h2>
<p>找到MaxKB应用模块在页面上的配置信息。</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613141929512-2129769642.png" alt="" loading="lazy"></p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613141936993-1622940858.png" alt="" loading="lazy"></p>
<p>修改config.yaml文件的BASE_URL，application_id，AUTHORIZATION配置。</p>
<pre><code># 基础API地址
BASE_URL: "https://MaxKB平台访问地址"
 
# 应用ID
application_id: "4ac310ca-3aa9-11f0-8bac-0242ac130003"
 
# 认证令牌
AUTHORIZATION: "user-**************************"
 
# Excel文件路径（默认读取messages.xlsx, 支持相对路径, Windows路径需采用'/'）
EXCEL_FILE_PATH: "问题.xlsx"
 
# 是否启用多轮对话（true/false）
USE_MULTI_TURN: true
 
# 最大重试次数
MAX_RETRIES: 30
 
# 重试间隔（秒）
RETRY_DELAY: 5.0
 
# 并发线程数（默认1，即顺序执行）
CONCURRENCY: 1
</code></pre>
<h2 id="23修改excel文件的问题列表">2.3修改Excel文件的问题列表</h2>
<p>根据MaxKB对话应用的实际使用场景，修改问题列表的文本信息。</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613141957337-2086115522.png" alt="" loading="lazy"></p>
<h2 id="24执行python脚本">2.4执行Python脚本</h2>
<p>执行python batch_question.py命令，等待脚本执行结束。</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613142005232-136125393.png" alt="" loading="lazy"></p>
<h2 id="25查看执行结果">2.5查看执行结果</h2>
<p>在Python脚本执行结束后，在脚本同级目录会生成一个Excel文件，文件内容包含本次批量自动化测试的统计数据。</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613142019670-1102670104.png" alt="" loading="lazy"></p>
<p>查看Excel文件的统计数据。</p>
<p><img src="https://img2024.cnblogs.com/blog/3600464/202506/3600464-20250613142029622-1054575033.png" alt="" loading="lazy"></p>
<p>附件：<br>
链接: <a href="https://pan.baidu.com/s/1e6XE3Tr61aMEi5EQHgjNrg?pwd=q9ma" target="_blank" rel="noopener nofollow">https://pan.baidu.com/s/1e6XE3Tr61aMEi5EQHgjNrg?pwd=q9ma</a> 提取码: q9ma</p>
<p>Bath_question.py、config.yaml、readme.md、问题_xlsx、问题_result_20250613_083104</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-13 14:22">2025-06-13 14:21</span>&nbsp;
<a href="https://www.cnblogs.com/xiaobaiysf">小白跃升坊</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18926973);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18926973', targetLink: 'https://www.cnblogs.com/xiaobaiysf/p/18926973', title: '【干货分享】手把手教你实现AI应用对话批量自动化测试（含源码）' })">举报</a>
</div>
        