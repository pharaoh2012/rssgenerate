
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yayujs/p/18733543" title="发布于 2025-02-24 10:45">
    <span role="heading" aria-level="2">Svelte 最新中文文档教程（18）—— 命令式组件 API</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="前言">前言</h2>
<p>Svelte，一个语法简洁、入门容易，面向未来的前端框架。从 Svelte 诞生之初，就备受开发者的喜爱，根据统计，<strong>从 2019 年到 2024 年，连续 6 年一直是开发者最感兴趣的前端框架 No.1</strong>：</p>
<p><img src="https://yayujs-blog.oss-cn-beijing.aliyuncs.com/405488775-48df16b1-939c-489b-8d52-6071869893f0.png" alt="image.png" loading="lazy"></p>
<p>Svelte 以其独特的编译时优化机制著称，具有<strong>轻量级</strong>、<strong>高性能</strong>、<strong>易上手</strong>等特性，<strong>非常适合构建轻量级 Web 项目，也是我做个人项目的首选技术栈。</strong></p>
<p>目前 Svelte 基于 Svelte 5 发布了最新的官方文档，但却缺少对应的中文文档。为了帮助大家学习 Svelte，为爱发电翻译了官方文档。</p>
<p>我同时搭建了 Svelte 最新的中文文档站点：<a href="https://svelte.yayujs.com" target="_blank" rel="noopener nofollow">https://svelte.yayujs.com</a> ，如果需要辅助学习，也可以入手我的小册<a href="https://s.juejin.cn/ds/iycmvygA/" target="_blank" rel="noopener nofollow">《Svelte 开发指南》</a>，语法篇、实战篇、原理篇三大篇章带你系统掌握 Svelte！</p>
<p>虽说是翻译，但个人并不喜欢严格遵守原文，为了保证中文阅读流畅，会删减部分语句，对难懂的部分也会另做补充解释，希望能给大家带来一个好的中文学习体验。</p>
<p>欢迎围观我的<a href="https://yayujs.com" target="_blank" rel="noopener nofollow">“网页版朋友圈”</a>、加入<a href="https://www.yuque.com/yayu/nice-people/xou8qr" target="_blank" rel="noopener nofollow">“冴羽·成长陪伴社群”</a>，踏上前端大佬成长之路。</p>
<h2 id="命令式组件-api">命令式组件 API</h2>

<p>每个 Svelte 应用程序都是从命令式创建根组件开始。在客户端，这个组件会被挂载到特定的元素上。在服务端，你需要获取一个可以渲染的 HTML 字符串。以下这些函数可以帮助你完成这些任务。</p>
<h2 id="mount"><code>mount</code></h2>
<p>实例化一个组件并将其挂载到指定目标：</p>
<pre><code class="language-js">// @errors: 2322
import { mount } from 'svelte';
import App from './App.svelte';

const app = mount(App, {
  target: document.querySelector('#app'),
  props: { some: 'property' }
});
</code></pre>
<p>你可以在每个页面上挂载多个组件，也可以在应用程序内部进行挂载，例如创建一个 tooltip 组件并将其附加到鼠标悬停的元素上。</p>
<p>请注意，与 Svelte 4 中调用 <code>new App(...)</code> 不同，effects（包括 <code>onMount</code> 回调和 action 函数）不会在 <code>mount</code> 期间运行。如果你需要强制执行待处理的 effects（例如在测试环境中），可以使用 <code>flushSync()</code>。</p>
<h2 id="unmount"><code>unmount</code></h2>
<p>卸载通过 <a href="https://svelte.yayujs.com/docs/svelte/imperative-component-api#mount" target="_blank" rel="noopener nofollow"><code>mount</code></a> 或 <a target="_blank"><code>hydrate</code></a> 创建的组件。</p>
<p>如果 <code>options.outro</code> 为 <code>true</code>，<a href="https://svelte.yayujs.com/docs/svelte/transition" target="_blank" rel="noopener nofollow">过渡效果</a>将在组件从 DOM 中移除之前播放：</p>
<pre><code class="language-js">import { mount, unmount } from 'svelte';
import App from './App.svelte';

const app = mount(App, { target: document.body });

// 稍后
unmount(app, { outro: true });
</code></pre>
<p>返回一个 <code>Promise</code>，如果 <code>options.outro</code> 为 true，则在过渡完成后 resolve，否则立即 resolve。</p>
<h2 id="render"><code>render</code></h2>
<p>仅在服务端且使用 <code>server</code> 选项编译时可用。接受一个组件并返回一个具有 <code>body</code> 和 <code>head</code> 属性的对象，你可以在服务端渲染应用程序时使用这些属性来填充 HTML：</p>
<pre><code class="language-js">// @errors: 2724 2305 2307
import { render } from 'svelte/server';
import App from './App.svelte';

const result = render(App, {
  props: { some: 'property' }
});
result.body; // 用于 &lt;body&gt; 标签中的某处的 HTML
result.head; // 用于 &lt;head&gt; 标签中的某处的 HTML
</code></pre>
<h2 id="hydrate"><code>hydrate</code></h2>
<p>与 <code>mount</code> 类似，但会复用 Svelte 的 SSR 输出（来自 <a href="https://svelte.yayujs.com/docs/svelte/imperative-component-api#render" target="_blank" rel="noopener nofollow"><code>render</code></a> 函数）中渲染的 HTML，并使其具有交互性：</p>
<pre><code class="language-js">// @errors: 2322
import { hydrate } from 'svelte';
import App from './App.svelte';

const app = hydrate(App, {
  target: document.querySelector('#app'),
  props: { some: 'property' }
});
</code></pre>
<p>与 <code>mount</code> 一样，effects 不会在 <code>hydrate</code> 期间运行 — 如果您需要它们立即生效，请立即使用 <code>flushSync()</code>。</p>
<h2 id="svelte-中文文档">Svelte 中文文档</h2>
<p>本篇已收录在掘金专栏 <a href="https://juejin.cn/column/7459299646696374284" target="_blank" rel="noopener nofollow">《Svelte 中文文档》</a>，该系列预计 40 篇。</p>
<p>系统学习 Svelte，欢迎入手小册<a href="https://s.juejin.cn/ds/iycmvygA/" target="_blank" rel="noopener nofollow">《Svelte 开发指南》</a>。语法篇、实战篇、原理篇三大篇章带你系统掌握 Svelte！</p>
<p>此外我还写过 <a href="https://juejin.cn/column/7035531575974592520" target="_blank" rel="noopener nofollow">JavaScript 系列</a>、<a href="https://juejin.cn/column/7029490086710345742" target="_blank" rel="noopener nofollow">TypeScript 系列</a>、<a href="https://juejin.cn/column/7142674773930147853" target="_blank" rel="noopener nofollow">React 系列</a>、<a href="https://juejin.cn/column/7343569488744611849" target="_blank" rel="noopener nofollow">Next.js 系列</a>、<a href="https://juejin.cn/column/7039526067891077151" target="_blank" rel="noopener nofollow">冴羽答读者问</a>等 14 个系列文章， 全系列文章目录：<a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener nofollow">https://github.com/mqyqingfeng/Blog</a></p>
<p>欢迎围观我的<a href="https://yayujs.com" target="_blank" rel="noopener nofollow">“网页版朋友圈”</a>、加入<a href="https://www.yuque.com/yayu/nice-people/xou8qr" target="_blank" rel="noopener nofollow">“冴羽·成长陪伴社群”</a>，踏上前端大佬成长之路。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="13.645853215260416" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-24 10:46">2025-02-24 10:45</span>&nbsp;
<a href="https://www.cnblogs.com/yayujs">冴羽</a>&nbsp;
阅读(<span id="post_view_count">11</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18733543" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18733543);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18733543', targetLink: 'https://www.cnblogs.com/yayujs/p/18733543', title: 'Svelte 最新中文文档教程（18）—— 命令式组件 API' })">举报</a>
</div>
        