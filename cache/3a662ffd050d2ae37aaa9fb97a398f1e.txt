
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/blbl-blog/p/18873791" title="å‘å¸ƒäº 2025-05-13 09:56">
    <span role="heading" aria-level="2">ç‹ç‚¸ï¼SpringBoot+MCP è®©ä½ çš„ç³»ç»Ÿç§’å˜AIå°åŠ©æ‰‹</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="ç‹ç‚¸springbootmcp-è®©ä½ çš„ç³»ç»Ÿç§’å˜aiå°åŠ©æ‰‹">ç‹ç‚¸ï¼SpringBoot+MCP è®©ä½ çš„ç³»ç»Ÿç§’å˜AIå°åŠ©æ‰‹</h1>
<p>æ„Ÿè§‰æœ¬ç¯‡å¯¹ä½ æœ‰å¸®åŠ©å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„<mark>å¾®ä¿¡å…¬ä¼—å·ï¼ˆæ·±å…¥æµ…å‡ºè°ˆjavaï¼‰</mark>ï¼Œä¼šä¸å®šæœŸæ›´æ–°çŸ¥è¯†å’Œé¢è¯•èµ„æ–™ã€æŠ€å·§ï¼ï¼ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/2719585/202504/2719585-20250424145859162-898697358.png" alt="" loading="lazy"></p>
<h2 id="ä¸€mcp-æ˜¯ä»€ä¹ˆ">ä¸€ã€<strong>MCP æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2>
<p><strong>MCPï¼ˆModel Context Protocolï¼‰</strong> å®˜ç½‘ï¼š<a href="https://modelcontextprotocol.io/introduction" target="_blank" rel="noopener nofollow">Introduction - Model Context Protocol</a></p>
<p><strong>è§£é‡Šï¼š</strong>Model Context Protocolï¼ˆMCPï¼‰æ˜¯ç”± Anthropic æ¨å‡ºçš„å¼€æ”¾åè®®ï¼Œæ—¨åœ¨æ ‡å‡†åŒ–å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¸å¤–éƒ¨æ•°æ®æºã€å·¥å…·çš„äº¤äº’æ–¹å¼ã€‚å®ƒç±»ä¼¼äºâ€œAI é¢†åŸŸçš„ USB-C æ¥å£â€ï¼Œé€šè¿‡ç»Ÿä¸€çš„é€šä¿¡è§„èŒƒï¼ˆå¦‚ JSON-RPC 2.0ï¼‰å®ç°è·¨æ¨¡å‹ã€è·¨å·¥å…·çš„å…¼å®¹æ€§ã€‚</p>
<p><strong>ç™½è¯è§£é‡Šï¼š</strong>MCPå°±åƒ AI å’Œå·¥å…·ä¹‹é—´çš„â€œç¿»è¯‘å®˜â€ï¼Œå®ƒåˆ¶å®šäº†ä¸€å¥—æ ‡å‡†å¯¹è¯è§„åˆ™ï¼Œè®©ä¸åŒ AI æ¨¡å‹ï¼ˆæ¯”å¦‚ ChatGPTã€Claudeï¼‰éƒ½èƒ½ç”¨åŒæ ·çš„æ–¹å¼å’Œä½ çš„ç³»ç»Ÿâ€œèŠå¤©â€ã€‚æ¯”å¦‚ä»¥å‰æ¯ä¸ª AI éƒ½è¦å­¦ä¸åŒçš„æ–¹è¨€æ‰èƒ½æ“ä½œä½ çš„æ•°æ®åº“ï¼Œç°åœ¨å®ƒä»¬åªè¦ä¼šè¯´ MCP è¿™ä¸ªâ€œæ™®é€šè¯â€å°±è¡Œï¼</p>
<p><strong>ä¸¾ä¸ªæ —å­ğŸŒ°</strong>ï¼šã€‚<br>
ä½ åšäº†ä¸€ä¸ªæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œç”¨ MCP æ”¹é€ åï¼Œä¸ç®¡æ˜¯ ChatGPT è¿˜æ˜¯ Claudeï¼Œéƒ½èƒ½ç”¨åŒä¸€å¥—æŒ‡ä»¤å¸®ä½ æŸ¥æ–‡ä»¶ã€åˆ æ–‡ä»¶ï¼Œä¸ç”¨ä¸ºæ¯ä¸ª AI å•ç‹¬å¼€å‘æ¥å£ã€‚</p>
<h3 id="äºŒmcp-çš„æ ¸å¿ƒåŸç†ä¸€å¼ å›¾çœ‹æ‡‚">äºŒã€<strong>MCP çš„æ ¸å¿ƒåŸç†ï¼ˆä¸€å¼ å›¾çœ‹æ‡‚ï¼‰</strong></h3>
<hr>
<p><img src="https://img2024.cnblogs.com/blog/2719585/202505/2719585-20250513094701359-733779749.jpg" alt="" loading="lazy"></p>
<p><strong>è§£é‡Š</strong>ï¼šMCP é‡‡ç”¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC/Sï¼‰æ¶æ„ï¼ŒåŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š</p>
<ol>
<li>
<p><strong>MCP Host</strong>ï¼šé›†æˆ AI æ¨¡å‹çš„åº”ç”¨ï¼ˆå¦‚ IDEã€èŠå¤©ç•Œé¢ï¼‰ï¼Œè´Ÿè´£å‘èµ·è¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>MCP Client</strong>ï¼šåè®®å®¢æˆ·ç«¯ï¼Œç®¡ç† Host ä¸ Server çš„é€šä¿¡ï¼ˆå¦‚å‘é€è¯·æ±‚ã€è§£æå“åº”ï¼‰ã€‚</p>
</li>
<li>
<p><strong>MCP Server</strong>ï¼šè½»é‡çº§ç¨‹åºï¼Œæä¾›ç‰¹å®šåŠŸèƒ½ï¼ˆå¦‚æ–‡ä»¶è¯»å†™ã€æ•°æ®åº“æŸ¥è¯¢ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®æº/å·¥å…·</strong>ï¼šæœ¬åœ°æ–‡ä»¶ã€æ•°æ®åº“ã€ç¬¬ä¸‰æ–¹ API ç­‰</p>
</li>
</ol>
<p><strong>æ ¸å¿ƒä¸‰å…„å¼Ÿ</strong>ï¼š</p>
<ol>
<li><strong>MCP Clientï¼ˆä¼ è¯ç­’ï¼‰</strong>ï¼šè´Ÿè´£æŠŠ AI çš„è¯·æ±‚è½¬å‘ç»™å·¥å…·ï¼Œç±»ä¼¼å¿«é€’å°å“¥ã€‚</li>
<li><strong>MCP Serverï¼ˆå·¥å…·ç®¡å®¶ï¼‰</strong>ï¼šç®¡ç†ä½ æä¾›çš„å·¥å…·ï¼ˆæ¯”å¦‚æŸ¥æ•°æ®åº“ã€è¯»æ–‡ä»¶ï¼‰ã€‚</li>
<li><strong>å·¥å…·</strong>ï¼šä½ ç°æœ‰çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚ SpringBoot é‡Œçš„è®¢å•æŸ¥è¯¢æ¥å£ï¼‰ã€‚</li>
</ol>
<p><strong>ç™½è¯è§£é‡Š:</strong></p>
<p>æƒ³è±¡ MCP æ˜¯ä¸ªâ€œä¸­é—´äººâ€ï¼Œè´Ÿè´£åè°ƒ AI å’Œä½ çš„ç³»ç»Ÿå·¥å…·(å¯ä»¥ç†è§£ä¸ºæ¥å£ä¹‹ç±»)ä¹‹é—´çš„å¯¹è¯ï¼š</p>
<pre><code class="language-plaintext">ç”¨æˆ·é—®AIï¼šâ€œå¸®æˆ‘æŸ¥æ˜¨å¤©çš„è®¢å•â€  
   â†“  
AI æŠŠé—®é¢˜ç¿»è¯‘æˆ MCP æ ¼å¼ï¼šâ€œè°ƒç”¨è®¢å•æŸ¥è¯¢å·¥å…·ï¼Œæ—¶é—´=æ˜¨å¤©â€  
   â†“  
MCP ä¸­é—´äººæ‰¾åˆ°å¯¹åº”çš„å·¥å…·æ‰§è¡Œ  
   â†“  
å·¥å…·è¿”å›æ•°æ®ï¼ŒMCP ç¿»è¯‘æˆè‡ªç„¶è¯­è¨€ç»™ç”¨æˆ· 


---------------------------------------------------------------

ç”¨æˆ·è¯´è¯
   â”‚
   â†“
AI ç¿»è¯‘æˆ MCP æ ¼å¼
   â”‚
   â†“
SpringBoot æ”¶åˆ°è¯·æ±‚
   â”‚
   â†“
æ‰§è¡Œå¯¹åº”çš„Serviceæ–¹æ³•ï¼ˆæ¯”å¦‚æŸ¥è®¢å•ï¼‰
   â”‚
   â†“
è¿”å›ç»“æœç»™AI â†’ AI ç¿»è¯‘æˆäººè¯ç»™ç”¨æˆ·
</code></pre>
<h3 id="ä¸‰mcp-èƒ½å¹²å•¥">ä¸‰ã€<strong>MCP èƒ½å¹²å•¥ï¼Ÿ</strong></h3>
<hr>
<ol>
<li><strong>è®©AIæ“ä½œä½ çš„ç³»ç»Ÿ</strong>
<ul>
<li>æ¯”å¦‚ç”¨æˆ·å¯¹AIè¯´ï¼šâ€œæŠŠè®¢å•123é€€è´§â€ï¼ŒAIè‡ªåŠ¨è°ƒç”¨ä½ çš„é€€æ¬¾æ¥å£ã€‚</li>
</ul>
</li>
<li><strong>æ— ç¼åˆ‡æ¢AIæ¨¡å‹</strong>
<ul>
<li>ä»Šå¤©ç”¨ ChatGPTï¼Œæ˜å¤©æ¢ Claudeï¼Œç³»ç»Ÿæ¥å£ä¸ç”¨æ”¹ï¼</li>
</ul>
</li>
<li><strong>åŠ¨æ€æ‰©å±•åŠŸèƒ½</strong>
<ul>
<li>æ–°å¢ä¸€ä¸ªå·¥å…·ï¼ˆæ¯”å¦‚çŸ­ä¿¡å‘é€ï¼‰ï¼Œæ‰€æœ‰æ”¯æŒçš„ AI éƒ½èƒ½ç«‹åˆ»ç”¨ä¸Šã€‚</li>
</ul>
</li>
</ol>
<p><strong>å®é™…åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å®¢æœæœºå™¨äººè‡ªåŠ¨æŸ¥è®¢å•ã€é€€æ¢è´§</li>
<li>AI åŠ©æ‰‹è‡ªåŠ¨å†™å‘¨æŠ¥ï¼ˆè¯»å–ä½ çš„ä¼šè®®è®°å½•å’Œé‚®ä»¶ï¼‰</li>
<li>æ™ºèƒ½ IDE è‡ªåŠ¨è°ƒæ¥å£ç”Ÿæˆä»£ç </li>
</ul>
<h2 id="å››ä¼ ç»Ÿæ–¹å¼ä¸mcp-æœåŠ¡-å¯¹æ¯”å›¾">å››ã€ä¼ ç»Ÿæ–¹å¼ä¸MCP æœåŠ¡ å¯¹æ¯”å›¾ï¼š</h2>
<pre><code class="language-plaintext">ä¼ ç»Ÿæ¥å£å¼€å‘æµç¨‹ï¼š
ç”¨æˆ·è¯·æ±‚â†’ å‰ç«¯ â†’ è·¯ç”±åˆ†å‘ â†’ æ§åˆ¶å™¨ â†’ æœåŠ¡å±‚ â†’ æ•°æ®åº“æ“ä½œ â†’ è¿”å›DTO-ã€‹å‰ç«¯

MCPæœåŠ¡å¼€å‘æµç¨‹ï¼š
ç”¨æˆ·è‡ªç„¶è¯­è¨€ â†’ MCPåè®®è½¬æ¢ â†’ å·¥å…·è·¯ç”± â†’ é¢†åŸŸæœåŠ¡ â†’ æ•°æ®åº“æ“ä½œ â†’ è‡ªç„¶è¯­è¨€ç”Ÿæˆ
</code></pre>
<p><img src="https://img2024.cnblogs.com/blog/2719585/202505/2719585-20250513094803576-1742610067.png" alt="" loading="lazy"></p>
<p><strong>æµç¨‹æ­¥éª¤è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p>ç”¨æˆ·è¯·æ±‚é˜¶æ®µ</p>
<ul>
<li>ç”¨æˆ·å‘MCP Clientå‘é€è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼š"å¸®æˆ‘æŸ¥æ˜¨å¤©çš„è®¢å•"</li>
<li>ğŸ“MCP Clientä½œç”¨ï¼šç”¨æˆ·äº¤äº’ç»ˆç«¯ï¼Œè´Ÿè´£è‡ªç„¶è¯­è¨€å¤„ç†</li>
</ul>
</li>
<li>
<p>æŒ‡ä»¤ç¿»è¯‘é˜¶æ®µ</p>
<ul>
<li>
<p>AIå°†æŒ‡ä»¤è½¬æ¢ä¸ºMCPæ ‡å‡†æ ¼å¼ï¼š</p>
<pre><code class="language-json">{
  "action": "order_query",
  "params": {"time": "yesterday"}
}
</code></pre>
</li>
<li>
<p>ğŸ”„ åè®®è½¬æ¢å‘ç”Ÿåœ¨MCP Clientå†…éƒ¨</p>
</li>
</ul>
</li>
<li>
<p>è¯·æ±‚è·¯ç”±é˜¶æ®µ</p>
<ul>
<li>MCP Clienté€šè¿‡HTTPSå°†ç»“æ„åŒ–æ•°æ®å‘é€è‡³MCP Server</li>
<li>ğŸŒ MCP Serverä½œç”¨ï¼šä¸­å¤®è°ƒåº¦å™¨ï¼ŒéªŒè¯è¯·æ±‚å¹¶åŒ¹é…æœåŠ¡ç«¯ç‚¹</li>
</ul>
</li>
<li>
<p>æœåŠ¡æ‰§è¡Œé˜¶æ®µ</p>
<ul>
<li>MCP Serverè¯†åˆ«éœ€è°ƒç”¨"è®¢å•æŸ¥è¯¢å·¥å…·"ï¼Œé€šè¿‡RPCè°ƒç”¨MCP Host</li>
<li>âš™ï¸ MCP Hostä½œç”¨ï¼šå¾®æœåŠ¡æ‰§è¡Œç¯å¢ƒï¼Œæ‰¿è½½å…·ä½“ä¸šåŠ¡é€»è¾‘å®ç°</li>
</ul>
</li>
<li>
<p>æ•°æ®å¤„ç†é˜¶æ®µ</p>
<ul>
<li>
<p>è®¢å•å·¥å…·åœ¨MCP Hostæ‰§è¡ŒSQLæŸ¥è¯¢ï¼š</p>
<pre><code class="language-sql">SELECT * FROM orders 
WHERE order_date = CURRENT_DATE - 1;
</code></pre>
</li>
<li>
<p>æŸ¥è¯¢ç»“æœç»æ•°æ®æ¸…æ´—åè¿”å›JSONæ ¼å¼</p>
</li>
</ul>
</li>
<li>
<p>å“åº”è¿”å›é˜¶æ®µ</p>
<ul>
<li>MCP Serveræ¥æ”¶Hostè¿”å›çš„åŸå§‹æ•°æ®</li>
<li>MCP Clientå°†ç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸ºè‡ªç„¶è¯­è¨€ï¼š<br>
"æ‚¨æ˜¨å¤©å…±æœ‰5ç¬”è®¢å•ï¼Œæ€»é‡‘é¢2380å…ƒï¼Œæœ€æ–°è®¢å•æ˜¯XXå•†å“..."</li>
</ul>
</li>
</ol>
<h2 id="äº”æ”¹é€ -springboot-é¡¹ç›®çš„æ­¥éª¤ä¿å§†çº§æ•™ç¨‹">äº”ã€<strong>æ”¹é€  SpringBoot é¡¹ç›®çš„æ­¥éª¤ï¼ˆä¿å§†çº§æ•™ç¨‹ï¼‰</strong></h2>
<p>æ ¸å¿ƒæ­¥éª¤ï¼š</p>
<ul>
<li>æ·»åŠ MCP çš„ä¾èµ–åŒ…</li>
<li>ä¿®æ”¹é…ç½®æ–‡ä»¶</li>
<li>æ”¹é€ ç°æœ‰æ¥å£</li>
<li>æ³¨å†Œåˆ°MCPæœåŠ¡å™¨</li>
</ul>
<h3 id="1æ·»åŠ ä¾èµ–">1ã€æ·»åŠ ä¾èµ–</h3>
<hr>
<p>ç”±äºç›®å‰è¿™äº›ä¾èµ–è¿˜æ˜¯é¢„è§ˆç‰ˆæœ¬ï¼Œæ‰€ä»¥åœ¨Mavenä¸­å¤®ä»“åº“ä¸­æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œéœ€è¦æˆ‘ä»¬é¢å¤–å¼•å…¥ä»“åº“åœ°å€ã€‚</p>
<pre><code class="language-xml">  &lt;!-- Spring AI æ ¸å¿ƒä¾èµ– --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
            &lt;artifactId&gt;spring-ai-core&lt;/artifactId&gt;
            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- Anthropic æ¨¡å‹æ”¯æŒ --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
            &lt;artifactId&gt;spring-ai-anthropic-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- MCP æœåŠ¡å™¨æ”¯æŒ - WebMVCç‰ˆæœ¬ --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
            &lt;artifactId&gt;spring-ai-mcp-server-webmvc-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>
<p><strong>å…¶ä»–ä»“åº“é…ç½®ä¿¡æ¯</strong></p>
<pre><code class="language-xml">&lt;repositories&gt;
&nbsp; &nbsp;&nbsp;&lt;repository&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;id&gt;spring-milestones&lt;/id&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;name&gt;Spring Milestones&lt;/name&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;snapshots&gt;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;enabled&gt;false&lt;/enabled&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;/snapshots&gt;
&nbsp; &nbsp;&nbsp;&lt;/repository&gt;
&nbsp; &nbsp;&nbsp;&lt;repository&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;id&gt;spring-snapshots&lt;/id&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;name&gt;Spring Snapshots&lt;/name&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;releases&gt;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;enabled&gt;false&lt;/enabled&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;/releases&gt;
&nbsp; &nbsp;&nbsp;&lt;/repository&gt;
&nbsp; &nbsp;&nbsp;&lt;repository&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;name&gt;Central Portal Snapshots&lt;/name&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;id&gt;central-portal-snapshots&lt;/id&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;url&gt;https://central.sonatype.com/repository/maven-snapshots/&lt;/url&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;releases&gt;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;enabled&gt;false&lt;/enabled&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;/releases&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;snapshots&gt;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;enabled&gt;true&lt;/enabled&gt;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&lt;/snapshots&gt;
&nbsp; &nbsp;&nbsp;&lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>
<hr>
<h3 id="2é¡¹ç›®é…ç½®">2ã€<strong>é¡¹ç›®é…ç½®</strong></h3>
<hr>
<p>æˆ‘ä»¬çš„ç›®çš„æ˜¯å°†ä¸€ä¸ªSpringæœåŠ¡æ”¹é€ æˆMCPæœåŠ¡ï¼Œæ‰€ä»¥è¿™é‡Œä¸éœ€è¦è¿›è¡Œå®¢æˆ·ç«¯çš„é…ç½®ï¼ŒåŒç†ï¼Œåœ¨å¼•å…¥ä¾èµ–çš„æ—¶å€™ä¹Ÿä¸ç”¨å¼•å…¥å®¢æˆ·ç«¯çš„ä¾èµ–ã€‚</p>
<p>Anthropic æ——ä¸‹å¼ºå¤§çš„ Claude å¤§è¯­è¨€æ¨¡å‹ key éœ€è¦åœ¨å®˜ç½‘ç”³è¯·       å®˜ç½‘åœ°å€ï¼š<a href="https://console.anthropic.com" target="_blank" rel="noopener nofollow">https://console.anthropic.com</a></p>
<pre><code class="language-properties"># Spring AI api-key
spring.ai.anthropic.api-key=è¿™é‡Œæ¢æˆä½ çš„api-key

# MCPæœåŠ¡ç«¯å¼€å¯
spring.ai.mcp.server.enabled=true

# MCPæœåŠ¡ç«¯é…ç½®
spring.ai.mcp.server.name=book-management-server
spring.ai.mcp.server.version=1.0.0
spring.ai.mcp.server.type=SYNC
spring.ai.mcp.server.sse-message-endpoint=/mcp/message
</code></pre>
<hr>
<h3 id="3æ”¹é€ åŸæœåŠ¡æ–¹æ³•">3ã€æ”¹é€ åŸæœåŠ¡æ–¹æ³•</h3>
<hr>
<p>æ”¹é€ æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li><strong>å·¥å…·é…ç½®</strong></li>
<li><strong>å‡½æ•°Bean</strong></li>
</ol>
<h4 id="æ–¹æ³•ä¸€å·¥å…·é…ç½®"><strong>æ–¹æ³•ä¸€ï¼šå·¥å…·é…ç½®</strong></h4>
<p>å·¥å…·é…ç½®æ–¹å¼åœ¨éœ€è¦æ”¹é€ çš„å®ç°ç±»å¯¹éœ€è¦æ”¹é€ çš„æ–¹æ³•åŠ ä¸Š<code>@Tool</code>å’Œ<code>@ToolParam</code>æ³¨è§£åˆ†åˆ«æ ‡è®°æ–¹æ³•å’Œå‚æ•°</p>
<pre><code class="language-java">@Service
@RequiredArgsConstructor
publicclass&nbsp;BookServiceImpl&nbsp;&nbsp;implements&nbsp;BookService&nbsp;{

@Resource
private&nbsp;BookRepository bookRepository;


@Override
@Tool(name =&nbsp;"findBooksByTitle", description =&nbsp;"æ ¹æ®ä¹¦åæ¨¡ç³ŠæŸ¥è¯¢å›¾ä¹¦ï¼Œæ”¯æŒéƒ¨åˆ†æ ‡é¢˜åŒ¹é…")
public&nbsp;List&lt;Book&gt;&nbsp;findBooksByTitle(@ToolParam(description =&nbsp;"ä¹¦åå…³é”®è¯")&nbsp;String title)&nbsp;{
&nbsp; &nbsp;&nbsp;return&nbsp;bookRepository.findByTitleContaining(title);
&nbsp; }

@Override
@Tool(name =&nbsp;"findBooksByAuthor", description =&nbsp;"æ ¹æ®ä½œè€…ç²¾ç¡®æŸ¥è¯¢å›¾ä¹¦")
public&nbsp;List&lt;Book&gt;&nbsp;findBooksByAuthor(@ToolParam(description =&nbsp;"ä½œè€…å§“å")&nbsp;String author)&nbsp;{
&nbsp; &nbsp;&nbsp;return&nbsp;bookRepository.findByAuthor(author);
&nbsp; }

@Override
@Tool(name =&nbsp;"findBooksByCategory", description =&nbsp;"æ ¹æ®å›¾ä¹¦åˆ†ç±»ç²¾ç¡®æŸ¥è¯¢å›¾ä¹¦")
public&nbsp;List&lt;Book&gt;&nbsp;findBooksByCategory(@ToolParam(description =&nbsp;"å›¾ä¹¦åˆ†ç±»")String category)&nbsp;{
&nbsp; &nbsp;&nbsp;return&nbsp;bookRepository.findByCategory(category);
&nbsp; }
}
</code></pre>
<p>æ¥ç€å°†è¿™ä¸ª <strong>BookServiceImpl</strong> å®ç°ç±»æ³¨å†Œåˆ°MCPæœåŠ¡å™¨é…ç½®ä¸Šå³å¯ã€‚</p>
<pre><code class="language-java">/**
&nbsp;* MCPæœåŠ¡å™¨é…ç½®ç±»ï¼Œè´Ÿè´£æ³¨å†ŒMCPå·¥å…·
&nbsp;*/
@Configuration
publicclass&nbsp;McpServerConfig&nbsp;{

/**
&nbsp; &nbsp;* æ³¨å†Œå·¥å…·å›è°ƒæä¾›è€…ï¼Œå°†BookQueryServiceä¸­çš„@Toolæ–¹æ³•æš´éœ²ä¸ºMCPå·¥å…·
&nbsp; &nbsp;*
&nbsp; &nbsp;*&nbsp;@param&nbsp;bookService å›¾ä¹¦æœåŠ¡
&nbsp; &nbsp;*&nbsp;@return&nbsp;å·¥å…·å›è°ƒæä¾›è€…
&nbsp; &nbsp;*/
@Bean
public&nbsp;ToolCallbackProvider&nbsp;bookToolCallbackProvider(BookService bookService)&nbsp;{
&nbsp; &nbsp;&nbsp;return&nbsp;MethodToolCallbackProvider.builder()
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .toolObjects(bookService)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .build();
&nbsp; }

}
</code></pre>
<p>åœ¨<strong>èŠå¤©å®¢æˆ·ç«¯</strong>é…ç½®å¼•å…¥æ³¨å†Œå·¥å…·</p>
<pre><code class="language-java">/**
&nbsp;* èŠå¤©å®¢æˆ·ç«¯é…ç½®ç±»
&nbsp;*/
@Configuration
publicclass&nbsp;ChatClientConfig&nbsp;{


@Autowired
private&nbsp;ToolCallbackProvider toolCallbackProvider;

/**
&nbsp; &nbsp;* é…ç½®ChatClientï¼Œæ³¨å†Œç³»ç»ŸæŒ‡ä»¤å’Œå·¥å…·å‡½æ•°
&nbsp; &nbsp;*/
@Bean
public&nbsp;ChatClient&nbsp;chatClient(ChatClient.Builder builder)&nbsp;{
&nbsp; &nbsp;&nbsp;return&nbsp;builder
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .defaultSystem("ä½ æ˜¯ä¸€ä¸ªå›¾ä¹¦ç®¡ç†åŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯ã€‚"&nbsp;+
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;"ä½ å¯ä»¥æ ¹æ®ä¹¦åæ¨¡ç³ŠæŸ¥è¯¢ã€æ ¹æ®ä½œè€…æŸ¥è¯¢å’Œæ ¹æ®åˆ†ç±»æŸ¥è¯¢å›¾ä¹¦ã€‚"&nbsp;+
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;"å›å¤æ—¶ï¼Œè¯·ä½¿ç”¨ç®€æ´å‹å¥½çš„è¯­è¨€ï¼Œå¹¶å°†å›¾ä¹¦ä¿¡æ¯æ•´ç†ä¸ºæ˜“è¯»çš„æ ¼å¼ã€‚")
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// æ³¨å†Œå·¥å…·æ–¹æ³•
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .defaultTools(toolCallbackProvider)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .build();
&nbsp; }
}
</code></pre>
<hr>
<h4 id="æ–¹æ³•äºŒå‡½æ•°bean"><strong>æ–¹æ³•äºŒï¼š</strong>å‡½æ•°Bean</h4>
<hr>
<p>å•ç‹¬å£°æ˜ä¸€ä¸ªç±»å°†æŸ¥è¯¢æ–¹æ³•ä½œä¸ºå‡½æ•°Beanå¯¼å‡º</p>
<pre><code class="language-java">/**
&nbsp;* å›¾ä¹¦æŸ¥è¯¢æœåŠ¡ï¼Œå°†æŸ¥è¯¢æ–¹æ³•ä½œä¸ºå‡½æ•°Beanå¯¼å‡º
&nbsp;*/
@Service
publicclass&nbsp;BookQueryService&nbsp;{

@Resource
private&nbsp;BookService bookService;

/**
&nbsp; &nbsp;* æ ¹æ®ä¹¦åæŸ¥è¯¢å›¾ä¹¦çš„å‡½æ•°Bean
&nbsp; &nbsp;*/
@Bean
public&nbsp;Function&lt;String, List&lt;Book&gt;&gt; findBooksByTitle() {
&nbsp; &nbsp;&nbsp;return&nbsp;title -&gt; bookService.findBooksByTitle(title);
&nbsp; }

/**
&nbsp; &nbsp;* æ ¹æ®ä½œè€…æŸ¥è¯¢å›¾ä¹¦çš„å‡½æ•°Bean
&nbsp; &nbsp;*/
@Bean
public&nbsp;Function&lt;String, List&lt;Book&gt;&gt; findBooksByAuthor() {
&nbsp; &nbsp;&nbsp;return&nbsp;author -&gt; bookService.findBooksByAuthor(author);
&nbsp; }

/**
&nbsp; &nbsp;* æ ¹æ®åˆ†ç±»æŸ¥è¯¢å›¾ä¹¦çš„å‡½æ•°Bean
&nbsp; &nbsp;*/
@Bean
public&nbsp;Function&lt;String, List&lt;Book&gt;&gt; findBooksByCategory() {
&nbsp; &nbsp;&nbsp;return&nbsp;category -&gt; bookService.findBooksByCategory(category);
&nbsp; }

}
</code></pre>
<p>è¿™ç§æ–¹å¼åœ¨å®šä¹‰AIèŠå¤©å®¢æˆ·ç«¯çš„æ—¶å€™éœ€è¦æ˜¾å¼åœ°å£°æ˜ã€‚</p>
<pre><code class="language-java">/**
&nbsp;* èŠå¤©å®¢æˆ·ç«¯é…ç½®ç±»
&nbsp;*/
@Configuration
publicclass&nbsp;ChatClientConfig&nbsp;{

/**
&nbsp; &nbsp;* é…ç½®ChatClientï¼Œæ³¨å†Œç³»ç»ŸæŒ‡ä»¤å’Œå·¥å…·å‡½æ•°
&nbsp; &nbsp;*/
@Bean
public&nbsp;ChatClient&nbsp;chatClient(ChatClient.Builder builder)&nbsp;{
&nbsp; &nbsp;&nbsp;return&nbsp;builder
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .defaultSystem("ä½ æ˜¯ä¸€ä¸ªå›¾ä¹¦ç®¡ç†åŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·æŸ¥è¯¢å›¾ä¹¦ä¿¡æ¯ã€‚"&nbsp;+
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;"ä½ å¯ä»¥æ ¹æ®ä¹¦åæ¨¡ç³ŠæŸ¥è¯¢ã€æ ¹æ®ä½œè€…æŸ¥è¯¢å’Œæ ¹æ®åˆ†ç±»æŸ¥è¯¢å›¾ä¹¦ã€‚"&nbsp;+
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;"å›å¤æ—¶ï¼Œè¯·ä½¿ç”¨ç®€æ´å‹å¥½çš„è¯­è¨€ï¼Œå¹¶å°†å›¾ä¹¦ä¿¡æ¯æ•´ç†ä¸ºæ˜“è¯»çš„æ ¼å¼ã€‚")
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;// æ³¨å†Œå·¥å…·æ–¹æ³•ï¼Œè¿™é‡Œä½¿ç”¨æ–¹æ³•åç§°æ¥å¼•ç”¨Springä¸Šä¸‹æ–‡ä¸­çš„å‡½æ•°Bean
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .defaultTools(
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;"findBooksByTitle",
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;"findBooksByAuthor",
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;"findBooksByCategory"
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .build();
&nbsp; }
}
</code></pre>
<hr>
<h3 id="4æ¥å£æµ‹è¯•">4ã€æ¥å£æµ‹è¯•</h3>
<hr>
<p>æœåŠ¡å¼€å‘åï¼Œå£°æ˜ä¸€ä¸ªæ§åˆ¶å™¨å¯¹å¤–æš´éœ²è¿›è¡Œè°ƒç”¨ã€‚</p>
<pre><code class="language-java">@Resource
private&nbsp;ChatClient chatClient;


/**
&nbsp; &nbsp;* å¤„ç†èŠå¤©è¯·æ±‚ï¼Œä½¿ç”¨AIå’ŒMCPå·¥å…·è¿›è¡Œå“åº”
&nbsp; &nbsp;*
&nbsp; &nbsp;*&nbsp;@param&nbsp;request èŠå¤©è¯·æ±‚
&nbsp; &nbsp;*&nbsp;@return&nbsp;åŒ…å«AIå›å¤çš„å“åº”
&nbsp; &nbsp;*/
@PostMapping
public&nbsp;ResponseEntity&lt;ChatResponse&gt;&nbsp;chat(@RequestBody ChatRequest request)&nbsp;{
&nbsp; &nbsp;&nbsp;try&nbsp;{
&nbsp; &nbsp; &nbsp;&nbsp;// åˆ›å»ºç”¨æˆ·æ¶ˆæ¯
&nbsp; &nbsp; &nbsp; String userMessage = request.getMessage();

&nbsp; &nbsp; &nbsp;&nbsp;// ä½¿ç”¨æµå¼APIè°ƒç”¨èŠå¤©
&nbsp; &nbsp; &nbsp; String content = chatClient.prompt()
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .user(userMessage)
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .call()
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .content();

&nbsp; &nbsp; &nbsp;&nbsp;return&nbsp;ResponseEntity.ok(new&nbsp;ChatResponse(content));
&nbsp; &nbsp; }&nbsp;catch&nbsp;(Exception e) {
&nbsp; &nbsp; &nbsp; e.printStackTrace();
&nbsp; &nbsp; &nbsp;&nbsp;return&nbsp;ResponseEntity.ok(new&nbsp;ChatResponse("å¤„ç†è¯·æ±‚æ—¶å‡ºé”™: "&nbsp;+ e.getMessage()));
&nbsp; &nbsp; }
&nbsp; }

}
</code></pre>
<h3 id="5æµ‹è¯•">5ã€æµ‹è¯•</h3>
<hr>
<p>é€šè¿‡æµ‹è¯•å·¥å…·è¿›è¡Œæ¥å£è¯·æ±‚</p>
<p><img src="https://img2024.cnblogs.com/blog/2719585/202505/2719585-20250513094925959-157088888.png" alt="" loading="lazy"></p>
<h3 id="æ³¨æ„äº‹é¡¹"><strong>æ³¨æ„äº‹é¡¹</strong></h3>
<ol>
<li><strong>æƒé™æ§åˆ¶</strong>ï¼šåˆ«è®©AIéšä¾¿åˆ æ•°æ®ï¼å¯ä»¥ç”¨ Spring Security é™åˆ¶æ•æ„Ÿæ“ä½œã€‚</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šAI ä¸æ‡‚â€œç³»ç»Ÿå¼‚å¸¸â€ï¼Œè®°å¾—æŠŠé”™è¯¯ä¿¡æ¯è½¬æˆäººè¯ï¼ˆæ¯”å¦‚â€œç³»ç»Ÿå¿™ï¼Œç¨åå†è¯•â€ï¼‰ã€‚</li>
<li><strong>æç¤ºè¯ä¼˜åŒ–</strong>ï¼šåœ¨ <code>@Tool</code> çš„ description é‡Œå†™æ¸…æ¥šåŠŸèƒ½ï¼ŒAI æ‰çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥è°ƒç”¨å®ƒã€‚</li>
</ol>
<h3 id="æ€»ç»“"><strong>æ€»ç»“</strong></h3>
<p>æ”¹é€  MCP å°±åƒç»™ä½ çš„ SpringBoot é¡¹ç›®è£…äº†ä¸ªâ€œAIä¸‡èƒ½æ’åº§â€ï¼š</p>
<ul>
<li><strong>çœæ—¶</strong>ï¼šä¸€æ¬¡å¼€å‘ï¼Œæ‰€æœ‰ AI éƒ½èƒ½ç”¨</li>
<li><strong>çµæ´»</strong>ï¼šåŠ æ–°åŠŸèƒ½åªéœ€æš´éœ²æ¥å£ï¼Œä¸ç”¨æ”¹ AI ç«¯</li>
<li><strong>æ™ºèƒ½</strong>ï¼šè®©ç”¨æˆ·ç”¨è‡ªç„¶è¯­è¨€æ“ä½œä½ çš„ç³»ç»Ÿ</li>
</ul>
<p>èµ¶ç´§è¯•è¯•ï¼Œè®©ä½ çš„é¡¹ç›®ç§’å˜ AI ç¥å™¨å§ï¼</p>
<p>æœ€åæ–‡ç« æœ‰å•¥ä¸å¯¹ï¼Œæ¬¢è¿å¤§ä½¬åœ¨è¯„è®ºåŒºæŒ‡ç‚¹ï¼ï¼ï¼<br>
å¦‚æœæ„Ÿè§‰å¯¹ä½ æœ‰å¸®åŠ©å°±ç‚¹èµæ¨èæˆ–è€…å…³æ³¨ä¸€ä¸‹å§ï¼ï¼ï¼</p>
<p><img src="https://img2024.cnblogs.com/blog/2719585/202409/2719585-20240927091023464-1188976011.gif" alt="img" loading="lazy"></p>

</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.18598934782407409" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-13 09:56">2025-05-13 09:56</span>&nbsp;
<a href="https://www.cnblogs.com/blbl-blog">å¤æ¸¡è“æŒ‰</a>&nbsp;
é˜…è¯»(<span id="post_view_count">34</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18873791);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18873791', targetLink: 'https://www.cnblogs.com/blbl-blog/p/18873791', title: 'ç‹ç‚¸ï¼SpringBoot+MCP è®©ä½ çš„ç³»ç»Ÿç§’å˜AIå°åŠ©æ‰‹' })">ä¸¾æŠ¥</a>
</div>
	