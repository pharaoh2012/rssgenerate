
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/heymar/p/18701148" title="发布于 2025-02-06 15:34">
    <span role="heading" aria-level="2">ThreeJs-13效果合成与后期处理</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="一合成效果原理与设置">一.合成效果原理与设置</h1>
<p>什么是效果合成，就是可以把一些效果经过后期处理再放出来</p>
<p>原来的物体是直接通过render渲染出来，而现在则是经过一条render通道，可以处理也可以叠加处理后再放出来</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153340450-1573346947.png" alt="image-20241228200144882" loading="lazy"></p>
<p>首先正常加载模型</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153339994-2030432468.png" alt="image-20241228200708400" loading="lazy"></p>
<p>首先导入效果合成器以及一些自带的效果</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153339452-641812425.png" alt="image-20241228200742594" loading="lazy"></p>
<p>创建合成效果渲染器，跟之前渲染器差不多，<strong>但是要注意注意添加渲染通道这个效果</strong></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153339064-1471349502.png" alt="image-20241228200832690" loading="lazy"></p>
<p>然后不再是渲染render而是用合成效果render</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153338681-973447895.png" alt="image-20241228200914816" loading="lazy"></p>
<p>此时就能看到基本的render一样的效果，然后就可以开始一些其他的效果有哪些效果可以在这个目录查看，实现效果可以上<strong>threejs官网查看</strong></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153338203-571031334.png" alt="image-20241228201026206" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153337680-443954250.png" alt="image-20241228201043344" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153337228-1183293946.png" alt="image-20241228201053234" loading="lazy"></p>
<h1 id="二实现抗锯齿点效果发光屏幕闪动等特效">二.实现抗锯齿，点效果，发光，屏幕闪动等特效</h1>
<p>什么是抗锯齿，一个物体在边缘处很容易出现锯齿感</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153336591-1117278642.png" alt="image-20241228202248255" loading="lazy"></p>
<p>而开启抗锯齿就是会把一些有锯齿感的地方经过计算，变得模糊看起来顺滑</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153336189-1083134307.png" alt="image-20241228202339597" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153335873-58834089.png" alt="image-20241228202348630" loading="lazy"></p>
<p><strong>发光效果</strong></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153335470-658299101.png" alt="image-20241228202505293" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153334965-1245047009.png" alt="image-20241228202517239" loading="lazy"></p>
<p>当然通过官网的例子的gui也可以去调节一些参数</p>
<h1 id="三使用shaderpass实现自定义合成效果">三.使用shaderpass实现自定义合成效果</h1>
<p>首先导入</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153334404-554685363.png" alt="image-20241228202950511" loading="lazy"></p>
<p>首先使用的默认的</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153333855-1204997174.png" alt="image-20241228203033067" loading="lazy"></p>
<p>添加到通道</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153333378-1741462726.png" alt="image-20241228203048301" loading="lazy"></p>
<p>会发现此时整个页面都是黄色，因为这个后期效果是对整个场景渲染</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153332943-1259881545.png" alt="image-20241228203115339" loading="lazy"></p>
<p><strong>那如果只是想对当前这个效果合成器，所有效果一起叠加使用</strong></p>
<p>首先正常设置uv，在片段着色器这边我们当前这个通道所有的效果都是默认传了一个纹理进来，并且名字如下，把他作为颜色即可</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153156298-520291930.png" alt="image-20241228203531369" loading="lazy"></p>
<p><strong>但是要注意一下，这个默认值要先设置在外面</strong></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153155941-794293395.png" alt="image-20241228203717241" loading="lazy"></p>
<p>静态效果，可以去设置一些颜色，比如整个色调偏蓝一点</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153155565-712550009.png" alt="image-20241228203916708" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153155216-603038317.png" alt="image-20241228203940310" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153154710-1462659398.png" alt="image-20241228204004695" loading="lazy"></p>
<h1 id="四使用法向纹理合成特色渲染镜头">四.使用法向纹理合成特色渲染镜头</h1>
<p>有一张法向纹理图案</p>
<p>想实现的效果，头盔周围都是六边形网格，中间部分可以反射</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153154124-576608243.png" alt="image-20241228204237030" loading="lazy"></p>
<p>加载纹理</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153153634-859226937.png" alt="image-20241228204332941" loading="lazy"></p>
<p>在刚才自定义特效定义法向纹理默认值</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153153164-1343998647.png" alt="image-20241228204509127" loading="lazy"></p>
<p>值传进来</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153152820-551875338.png" alt="image-20241228204532490" loading="lazy"></p>
<p>然后片段着色器拿到传进来的值</p>
<p>这是光线角度，参数是光线打进来的位置，normalize只是让他变成单向量</p>
<p>统一设置光线dot函数即可，由于normalcolor是一个四维向量所以只取xyz，加上光线形成思维向量</p>
<p>而clamp函数，设置一个区间，小于0就是0，大于1就是1</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153152316-511601323.png" alt="image-20241228205302300" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153151517-1469235553.png" alt="image-20241228205631101" loading="lazy"></p>
<h1 id="五运用时间打造水底波浪动态渲染效果">五.运用时间打造水底波浪动态渲染效果</h1>
<p>形成波浪效果首先得用sin函数，变的是uv</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153150831-448352515.png" alt="image-20241228205914137" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153150192-1699003572.png" alt="image-20241228210018519" loading="lazy"></p>
<p>然后加上时间</p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153149534-440380582.png" alt="image-20241228210049115" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/2680817/202502/2680817-20250206153143294-211818947.gif" alt="GIF" loading="lazy"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.029817332938657407" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-06 15:35">2025-02-06 15:34</span>&nbsp;
<a href="https://www.cnblogs.com/heymar">Heymar-10</a>&nbsp;
阅读(<span id="post_view_count">28</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18701148" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18701148);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18701148', targetLink: 'https://www.cnblogs.com/heymar/p/18701148', title: 'ThreeJs-13效果合成与后期处理' })">举报</a>
</div>
        