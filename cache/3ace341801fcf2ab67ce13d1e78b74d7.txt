
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/qife122/p/18953363" title="å‘å¸ƒäº 2025-06-28 10:37">
    <span role="heading" aria-level="2">RL Swarmï¼šå»ä¸­å¿ƒåŒ–å¼ºåŒ–å­¦ä¹ åä½œè®­ç»ƒå¹³å°</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        RL Swarm æ˜¯ä¸€ä¸ªå¼€æºã€æ— éœ€è®¸å¯çš„P2På¼ºåŒ–å­¦ä¹ åä½œè®­ç»ƒç³»ç»Ÿï¼Œæ”¯æŒåœ¨æ¶ˆè´¹çº§ç¬”è®°æœ¬ç”µè„‘æˆ–äº‘ç«¯GPUä¸Šè¿è¡Œï¼Œé€šè¿‡æ™ºèƒ½åˆçº¦å®ç°é“¾ä¸Šèº«ä»½è¿½è¸ªã€‚é¡¹ç›®æä¾›å®Œæ•´çš„è®­ç»ƒæ¡†æ¶ã€Web UIå’Œæ™ºèƒ½åˆçº¦é›†æˆï¼Œæ”¯æŒå¤šé˜¶æ®µå¤šæ™ºèƒ½ä½“ç¯å¢ƒå®šåˆ¶ã€‚
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="é¡¹ç›®æ¦‚è¿°">é¡¹ç›®æ¦‚è¿°</h2>
<p>RL Swarm æ˜¯ç”±Gensynå›¢é˜Ÿç»´æŠ¤çš„å»ä¸­å¿ƒåŒ–å¼ºåŒ–å­¦ä¹ åä½œè®­ç»ƒå¹³å°ã€‚è¯¥ç³»ç»Ÿå…è®¸ç”¨æˆ·åŠ å…¥"èœ‚ç¾¤"ä¸å…¶ä»–å‚ä¸è€…å…±åŒè®­ç»ƒæ¨¡å‹ï¼Œåˆ©ç”¨é›†ä½“æ™ºèƒ½æå‡è®­ç»ƒæ•ˆç‡ã€‚æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>çœŸæ­£çš„P2Pæ¶æ„ï¼Œæ— éœ€ä¸­å¿ƒåŒ–æœåŠ¡å™¨</li>
<li>æ”¯æŒä»æ¶ˆè´¹çº§è®¾å¤‡åˆ°ä¸“ä¸šGPUé›†ç¾¤çš„å¼‚æ„ç¡¬ä»¶</li>
<li>é€šè¿‡Gensynæµ‹è¯•ç½‘å®ç°é“¾ä¸Šèº«ä»½è¿½è¸ª</li>
<li>åŸºäºGenRL-Swarmåº“çš„å¯ç»„åˆæ¡†æ¶</li>
</ul>
<p>å½“å‰æµ‹è¯•ç½‘è¿è¡Œçš„æ˜¯<a href="https://github.com/open-thought/reasoning-gym/tree/main" target="_blank" rel="noopener nofollow">reasoning-gym</a>èœ‚ç¾¤ï¼Œä¸“æ³¨äºè®­ç»ƒæ¨¡å‹è§£å†³å¤šæ ·åŒ–æ¨ç†ä»»åŠ¡ã€‚</p>
<h2 id="åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</h2>
<h3 id="æ ¸å¿ƒèƒ½åŠ›">æ ¸å¿ƒèƒ½åŠ›</h3>
<ul>
<li>ğŸ å»ä¸­å¿ƒåŒ–åä½œè®­ç»ƒï¼šé€šè¿‡DHTç½‘ç»œå®ç°èŠ‚ç‚¹é—´é€šä¿¡</li>
<li>ğŸ”— åŒºå—é“¾é›†æˆï¼šæ™ºèƒ½åˆçº¦è®°å½•è®­ç»ƒè¿›åº¦å’Œè´¡çŒ®</li>
<li>ğŸ“Š åŠ¨æ€èµ„æºåˆ†é…ï¼šæ ¹æ®ç¡¬ä»¶æ€§èƒ½è‡ªåŠ¨åˆ†é…æ¨¡å‹å¤§å°</li>
<li>:puzzle_piece: æ¨¡å—åŒ–è®¾è®¡ï¼šæ”¯æŒè‡ªå®šä¹‰å¤šæ™ºèƒ½ä½“å¤šé˜¶æ®µç¯å¢ƒ</li>
<li>ğŸŒ Webç›‘æ§ç•Œé¢ï¼šå®æ—¶æŸ¥çœ‹è®­ç»ƒæŒ‡æ ‡å’ŒèŠ‚ç‚¹çŠ¶æ€</li>
</ul>
<h3 id="æ”¯æŒæ¨¡å‹">æ”¯æŒæ¨¡å‹</h3>
<p>å½“å‰é»˜è®¤æ¨¡å‹æ± åŒ…å«ï¼š</p>
<ul>
<li>Gensyn/Qwen2.5-0.5B-Instruct</li>
<li>Qwen/Qwen3-0.6B</li>
<li>nvidia/AceInstruct-1.5B</li>
<li>dnotitia/Smoothie-Qwen3-1.7B</li>
<li>Gensyn/Qwen2.5-1.5B-Instruct</li>
</ul>
<h2 id="å®‰è£…æŒ‡å—">å®‰è£…æŒ‡å—</h2>
<h3 id="ç¡¬ä»¶è¦æ±‚">ç¡¬ä»¶è¦æ±‚</h3>
<p><strong>æœ€ä½é…ç½®</strong>ï¼š</p>
<ul>
<li>arm64/x86 CPU (32GB RAM)</li>
<li>Python â‰¥ 3.8</li>
</ul>
<p><strong>æ¨èé…ç½®</strong>ï¼š</p>
<ul>
<li>NVIDIA GPU (RTX 3090/4090/5090, A100, H100)</li>
</ul>
<h3 id="å®‰è£…æ­¥éª¤">å®‰è£…æ­¥éª¤</h3>
<ol>
<li>å…‹éš†ä»“åº“ï¼š</li>
</ol>
<pre><code class="language-bash">git clone https://github.com/gensyn-ai/rl-swarm.git
cd rl-swarm
</code></pre>
<ol start="2">
<li>å®‰è£…ä¾èµ–ï¼š</li>
</ol>
<pre><code class="language-bash">pip install -r requirements.txt
</code></pre>
<ol start="3">
<li>é…ç½®ç¯å¢ƒå˜é‡ï¼š</li>
</ol>
<pre><code class="language-bash">export SWARM_CONTRACT="0xFaD7C5e93f28257429569B854151A1B8DCD404c2"
export CONNECT_TO_TESTNET=true
</code></pre>
<ol start="4">
<li>å¯åŠ¨è®­ç»ƒèŠ‚ç‚¹ï¼š</li>
</ol>
<pre><code class="language-bash">./start_swarm.sh
</code></pre>
<h2 id="ä½¿ç”¨è¯´æ˜">ä½¿ç”¨è¯´æ˜</h2>
<h3 id="åŸºç¡€ä½¿ç”¨">åŸºç¡€ä½¿ç”¨</h3>
<p>åŠ å…¥æµ‹è¯•ç½‘èœ‚ç¾¤ï¼š</p>
<pre><code class="language-python">from hivemind_exp import HivemindNode

node = HivemindNode(
    model_name="Gensyn/Qwen2.5-0.5B-Instruct",
    is_coordinator=False
)
node.connect_to_swarm()
</code></pre>
<h3 id="webç•Œé¢">Webç•Œé¢</h3>
<p>å¯åŠ¨ç›‘æ§æœåŠ¡ï¼š</p>
<pre><code class="language-bash">docker-compose build --no-cache
docker-compose up
</code></pre>
<p>è®¿é—® <code>http://localhost:8080</code> æŸ¥çœ‹å®æ—¶è®­ç»ƒæ•°æ®ã€‚</p>
<h2 id="æ ¸å¿ƒä»£ç ">æ ¸å¿ƒä»£ç </h2>
<h3 id="dhté€šä¿¡æ¨¡å—">DHTé€šä¿¡æ¨¡å—</h3>
<pre><code class="language-python">class HivemindNode:
    """P2PèŠ‚ç‚¹æ ¸å¿ƒç±»"""
    def __init__(self, model_name: str, key: str = ""):
        self.model_name = model_name
        self.key = key or str(uuid.uuid4())
        self.round_cache = defaultdict(dict)
        
    def get_stage_outputs(self, r, s):
        """è·å–æŒ‡å®šé˜¶æ®µè¾“å‡º"""
        return self.round_cache.get((r, s))
    
    def put_stage_outputs(self, r, s, question, value):
        """å­˜å‚¨é˜¶æ®µè¾“å‡º"""
        self.round_cache[(r, s)][question] = value
</code></pre>
<h3 id="æ™ºèƒ½åˆçº¦äº¤äº’">æ™ºèƒ½åˆçº¦äº¤äº’</h3>
<pre><code class="language-python">class SwarmCoordinator:
    """å¤„ç†é“¾ä¸Šäº¤äº’"""
    def __init__(self, web3: Web3, contract_address: str):
        self.web3 = web3
        self.contract = web3.eth.contract(
            address=contract_address,
            abi=json.load(open("contracts/SwarmCoordinator.json"))["abi"]
        )
    
    def register_peer(self, peer_id):
        """æ³¨å†ŒèŠ‚ç‚¹åˆ°åˆçº¦"""
        self.contract.functions.registerPeer(peer_id).transact()
</code></pre>
<h3 id="æ¶ˆæ¯å¤„ç†">æ¶ˆæ¯å¤„ç†</h3>
<pre><code class="language-python">def stage3_message(node_key: str, question: str, outputs: dict):
    """ç”Ÿæˆç¬¬ä¸‰é˜¶æ®µè®­ç»ƒæ¶ˆæ¯"""
    try:
        decision = outputs["final_agent_decision"][node_key]
        feedback = _extract_tagged(decision, "summarize_feedback")
        majority = _extract_tagged(decision, "majority")
        return f"{feedback}...Majority: {majority}"
    except Exception:
        return outputs["answer"]
</code></pre>
<h2 id="è´¡çŒ®æŒ‡å—">è´¡çŒ®æŒ‡å—</h2>
<p>æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹è§„èŒƒï¼š</p>
<ol>
<li>ä½¿ç”¨è‹±æ–‡æäº¤PR</li>
<li>æ¯ä¸ªåˆ†æ”¯åªåŒ…å«ä¸€ä¸ªåŠŸèƒ½ä¿®æ”¹</li>
<li>ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯</li>
<li>å…³è”ç›¸å…³issue</li>
</ol>
<p>é—®é¢˜æŠ¥å‘Šè¯·åŒ…å«ï¼š</p>
<ul>
<li>é‡ç°æ­¥éª¤</li>
<li>é¢„æœŸä¸å®é™…è¡Œä¸º</li>
<li>ç¯å¢ƒä¿¡æ¯</li>
<li>æ—¥å¿—æ–‡ä»¶ï¼ˆéæˆªå›¾ï¼‰<br>
æ›´å¤šç²¾å½©å†…å®¹ è¯·å…³æ³¨æˆ‘çš„ä¸ªäººå…¬ä¼—å· å…¬ä¼—å·ï¼ˆåŠå…¬AIæ™ºèƒ½å°åŠ©æ‰‹ï¼‰<br>
å…¬ä¼—å·äºŒç»´ç <br>
<img alt="" title="åŠå…¬AIæ™ºèƒ½å°åŠ©æ‰‹" loading="lazy" data-src="https://i.imgs.ovh/2025/06/21/AejG6.png" class="lazyload"></li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-28 10:38">2025-06-28 10:37</span>&nbsp;
<a href="https://www.cnblogs.com/qife122">qife</a>&nbsp;
é˜…è¯»(<span id="post_view_count">0</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18953363);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18953363', targetLink: 'https://www.cnblogs.com/qife122/p/18953363', title: 'RL Swarmï¼šå»ä¸­å¿ƒåŒ–å¼ºåŒ–å­¦ä¹ åä½œè®­ç»ƒå¹³å°' })">ä¸¾æŠ¥</a>
</div>
        