
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/1312mn/p/18655859" title="发布于 2025-02-14 10:25">
    <span role="heading" aria-level="2">.NET 8.0 + Linux 香橙派，实现高效的 IoT 数据采集与控制解决方案</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2 data-tool="mdnice编辑器"><span class="prefix" style="font-size: 16px"><span class="content">前言</span></span></h2>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">随着物联网（IoT）技术的迅猛发展，智能设备之间的互联互通变得越来越重要。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">推荐一套基于 C# 的高效 IoT 系统，该系统运行在 Linux 开发板上，并支持 Modbus RS485 传感器、NPN/PNP 开关等所有符合 485 通讯协议的设备进行数据采集和指令发送。这套系统在为智能家居、智能生产以及智能农场等领域提供全面的解决方案。</span></p>
<h2 data-tool="mdnice编辑器"><span class="prefix" style="font-size: 16px"><span class="content">项目介绍</span></span></h2>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">yihong 物联 IoT 系统是一款为实现物联网、智能家居、智能生产和智能农场而设计的高效数据采集与控制系统。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">该系统基于 Linux 开发板，支持 Modbus RS485 传感器、NPN/PNP 开关以及其他所有符合 485 通讯协议的设备进行数据采集和指令发送。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">通过集成这些先进的技术和硬件，yihong 物联 IoT 系统能够提供全面的解决方案，满足多种应用场景的需求。</span></p>
<h2 data-tool="mdnice编辑器"><span class="prefix" style="font-size: 16px"><span class="content">项目架构</span></span></h2>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">yihong 物联 IoT 系统采用分层架构设计，确保系统的灵活性、可扩展性和维护性。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">系统由以下几个主要部分组成：</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">1、网关层</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">负责与各种传感器和执行器进行通信，采集数据并发送指令。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">支持多种设备协议，包括 GPIO 操作、串口 Modbus RS485、I2C 和 NPN/PNP 信号。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">2、服务端层</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">使用 C# 和 .NET 8.0 开发，处理来自网关的数据，并通过 MQTT 协议与网关保持实时通信。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">提供 RESTful API 接口，支持第三方业务系统的接入，便于与其他系统集成。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">3、数据库层</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">使用 MySQL 数据库存储系统配置、设备信息、历史数据等。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">支持高效的数据查询和管理，确保数据的可靠性和完整性。</span></p>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">开发环境与技术栈</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">开发语言：C# (.NET 8.0)</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">数据库：MySQL</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">通信协议：</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">网关与服务端之间使用 MQTT 协议进行通讯。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">服务端提供 API 接入，支持第三方业务系统的集成。</span></p>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">设备协议支持</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">系统支持以下几种常见的设备操作协议：</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">GPIO 操作：控制通用输入输出引脚，适用于简单的开关控制。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">串口 Modbus RS485：用于工业自动化中的数据采集和命令发送。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">I2C：一种简单的双向二线制同步串行总线，适用于近距离通信。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">NPN/PNP：用于工业传感器和执行器的信号传输，支持高低电平检测和控制。</span></p>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">设备支持与预适配</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">系统已经预适配了多种常见设备，涵盖了广泛的应用场景。这些设备已经在实际生产环境中经过验证，确保其稳定性和可靠性。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">另外，系统具备高度的灵活性，可以根据项目需求添加新的设备类型。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">已预适配的设备列表（共23种）</span></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174447703-1957231527.png" alt="" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<h2 data-tool="mdnice编辑器"><span class="prefix" style="font-size: 16px"><span class="content">项目使用</span></span></h2>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">MySql数据库准备</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">脚本位于项目的Doc/mysqldata/yihongIOT.sql,复制到你的mysql中执行生成表即可</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">随后修改连接字符串 GatewayServer项目下面Configs目录中的配置文件appsettings.json</span></p>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">需要部署的程序</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">1、Mosquitto</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">mqtt服务端 或者安装其它的mqtt服务端也可以</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">Mosquitto是一个开源的MQTT消息代理，Linux、Windows和Mac OS上安装都可以，安装方法百度下，有很多教程，有问题可以群里咨询</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">初次使用可安装到自己电脑上测试，安装好后修改连接mqtt的参数：</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">GatewayServer项目下面Configs/appsettings.json</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">GatewayClient项目下面Configs/appsettings.json</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">2、GatewayServer 服务端</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">可以使用Microsoft Visual Studio打开项目运行起来先，没问题自己行按装到服务器上面</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">3、GatewayClient 网关客户端</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">独立发布后，上传到到香橙派中ubuntu中运行即可</span></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174542473-67229745.jpg" width="700" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174637848-1027184654.png" width="700" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174705440-1529631694.png" width="700" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">使用说明</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">GatewayServer运行起来后，本地打开http://localhost:8070/magermain/index</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">即可访问，账密admin/123456</span></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174733548-1328510756.png" alt="" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174744875-1253083435.png" alt="" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174753710-1084127828.png" width="700" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<h2 data-tool="mdnice编辑器"><span class="prefix" style="font-size: 16px"><span class="content">项目案例</span></span></h2>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">实现案例1</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">家用自动浇花系统</span></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174815638-453908280.jpg" width="700" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p data-tool="mdnice编辑器"><strong><span class="prefix" style="font-size: 16px"><span class="content">实现案例2</span></span></strong></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">大型自动化室内/集装箱式种植自动化控制</span></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174838136-807332760.jpg" width="700" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<p>&nbsp;</p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202501/576536-20250106174853790-195060211.jpg" width="700" loading="lazy" style="display: block; margin-left: auto; margin-right: auto"></p>
<h2 data-tool="mdnice编辑器"><span class="prefix" style="font-size: 16px"><span class="content">项目地址</span></span></h2>
<p data-tool="mdnice编辑器"><span style="font-size: 16px"><strong>Gitee：</strong>https://gitee.com/yihong-lin/yihong-iot</span></p>
<h2 data-tool="mdnice编辑器"><span class="prefix" style="font-size: 16px"><span class="content">总结</span></span></h2>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">以上仅展示了yihong物联IOT系统的部分功能。更多实用特性和详细信息，请大家访问项目地址。</span></p>
<p data-tool="mdnice编辑器"><span style="font-size: 16px">希望通过本文能为上位机机开发方面提供有价值的参考。欢迎在评论区留言交流，分享您的宝贵经验和建议。</span></p>
<h2><span class="md-plain md-expand" style="font-size: 16px">最后</span></h2>
<p><span style="font-size: 16px">如果你觉得这篇文章对你有帮助，不妨点个赞支持一下！你的支持是我继续分享知识的动力。如果有任何疑问或需要进一步的帮助，欢迎随时留言。</span></p>
<p><span style="font-size: 16px">也可以加入微信公众号<strong>[DotNet技术匠]</strong>&nbsp;社区，与其他热爱技术的同行一起交流心得，共同成长！<strong>优秀是一种习惯，欢迎大家留言学习！</strong></span></p>
<p><img src="https://img2024.cnblogs.com/blog/576536/202408/576536-20240814113403514-910171896.png" alt="" style="display: block; margin-left: auto; margin-right: auto"></p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="6.9300863498344905" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-02-14 10:44">2025-02-14 10:25</span>&nbsp;
<a href="https://www.cnblogs.com/1312mn">小码编匠</a>&nbsp;
阅读(<span id="post_view_count">944</span>)&nbsp;
评论(<span id="post_comment_count">2</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18655859" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18655859);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18655859', targetLink: 'https://www.cnblogs.com/1312mn/p/18655859', title: '.NET 8.0 + Linux 香橙派，实现高效的 IoT 数据采集与控制解决方案' })">举报</a>
</div>
        