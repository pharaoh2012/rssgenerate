
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/only9/p/19011681" title="发布于 2025-08-26 15:44">
    <span role="heading" aria-level="2">VASP计算其他性质（备忘录）</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>tip：以下归类的计算都在scf计算以后读取自洽计算的CHGCAR或者WAVCAR进行进一步计算</p>
<ol>
<li>光学性质计算<br>
<strong>关键参数</strong><br>
LOPTICS = .TRUE.    # 开启光学性质计算<br>
CSHIFT = 0.1        # Kramers-Kronig变换中的虚部偏移（典型值0.1-0.2 eV）<br>
NBANDS = 1000       # 增加能带数量（建议2-3倍于默认值，确保空带足够）<br>
NEDOS = 2000        # 态密度网格点数，控制能谱分辨率<br>
<strong>其他</strong><br>
ALGO = Normal       # 推荐Normal或Exact<br>
ISMEAR = 0          # 半导体用Gaussian平滑，金属使用1，如果半导体使用0报错则换1<br>
SIGMA = 0.05        # 平滑宽度<br>
LPEAD = .TRUE.      # 可选，计算动量矩阵元<br>
<strong>相关计算公式</strong><br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3639400/202507/3639400-20250729211911038-1998953876.png" class="lazyload"><br>
<strong>后处理</strong><br>
工具：使用vasprun.xml提取介电函数数据，可通过脚本（如p4vasp、VaspKit或Python脚本）绘制吸收光谱、折射率等。<br>
本人使用vaspkit，流程vaspkit——711，会先生成复介电函数实部和虚部文件（real.in和imge.in），然后再从介电函数中提取吸收系数、折射率、反射率、损失曲线的数据。</li>
</ol>
<p>###################################################################################################<br>
2. 使用DFT+U<br>
<strong>参数设置</strong><br>
以Gd₂O₃为例，适用性：DFT+U主要用于Gd₂O₃中Gd的4f电子，O的2p电子通常不加U。<br>
LDAU = .TRUE.        # 开启DFT+U计算<br>
LDAUTYPE = 2         # 使用Dudarev方法（推荐，Ueff = U - J）<br>
LDAUL = 2            # 应用U的轨道类型（Ti的3d电子，2表示d轨道）<br>
LDAUU = 5.0 0.0      # U值，(Gd: 5.0 eV, O: 0.0 eV，单位eV）<br>
LDAUJ = 0.0 0.0      # J值（Gd: 0.0 eV, O: 0.0 eV，单位eV）<br>
LMAXMIX = 6          # 控制f（d）电子的混合（d轨道用4，f轨道用6）</p>
<p>###################################################################################################<br>
3.其他<br>
LUSE_VDW = .TRUE.   # 开启 VASP 内部实现的范德华 (Van der Waals, vdW) 密度泛函修正，考虑长程范德华弱相互作用<br>
BPARAM = 15.7       # 这个参数用于设置 rVV10 范德华修正中的一个经验参数 B<br>
METAGGA=SCAN   # SCAN (Strongly Constrained and Appropriately Normed) 泛函是一种先进的 Meta-GGA 泛函<br>
LASPH = .TRUE.  # 启用非球形截断，对于过渡金属、稀土元素（具有 d 或 f 电子，其电子云分布通常是非球形的）以及具有共价键合的体系，启用 LASPH = .TRUE. 可以提高计算的准确性</p>
<p>###################################################################################################<br>
4.bader电荷计算<br>
默认使用优化以后的POSCAR结构<br>
（1）计算参数设置<br>
在INCAR文件中，需要设置以下参数来生成Bader电荷分析所需的文件：<br>
LCHARG = .TRUE.：这个参数告诉VASP写入电荷密度文件（CHGCAR）。<br>
LAECHG = .TRUE.：这个参数告诉VASP写入核心电荷密度文件（AECCAR0 和 AECCAR2）。这两个文件包含了所有电子的电荷密度信息，包括价电子和核心电子。<br>
（2）后处理 Bader 电荷<br>
第一步提交计算之后，得到 AECCAR0；AECCAR1；AECCAR2，将 chgsum.pl 和 bader 两个脚本放在～/bin 目录下，并复制到计算目录下<br>
在计算目录下执行：chgsum.pl AECCAR0 AECCAR2<br>
等待计算完成，完成后得到 CHGCAR_sum，然后执行：./bader CHGCAR -ref CHGCAR_sum<br>
结束后得到 ACF.dat；BCF.dat；AVF.dat，其中 ACF.dat 是包含价电子的电荷信息，一般都是查看此文件的结果。<br>
（3）注意说明<br>
第一列，是原子的序号，这和 POSCAR 中原子的顺序一致。每个原子的电荷大小是 CHGCAR 这一列所对应的数值，这是原子价层电子中的电子总数。我们想要分析原子得失电子的情况，则需要减去计算所用的赝势（POTCAR）中的电子数。或直接在 OUTCAR 中查看 ，grep ‘ZVAL’ OUTCAR</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.004861111111111111" data-date-updated="2025-08-26 15:51">2025-08-26 15:44</span>&nbsp;
<a href="https://www.cnblogs.com/only9">star111111</a>&nbsp;
阅读(<span id="post_view_count">7</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19011681);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19011681', targetLink: 'https://www.cnblogs.com/only9/p/19011681', title: 'VASP计算其他性质（备忘录）' })">举报</a>
</div>
        