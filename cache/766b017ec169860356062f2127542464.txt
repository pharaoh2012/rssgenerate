
        <h2>
            <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/jiejielin-blogs/p/18991361" title="发布于 2025-07-18 13:39">
    <span role="heading" aria-level="2">ADC常见误差参数来源与软件优化措施</span>
    

</a>

        </h2>
        <div class="postbody">
            <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="0-adc性能指标">0 ADC性能指标</h1>
<ol>
<li>
<p><strong>精度表示</strong></p>
<ol>
<li>
<p>DNL：Differential Non-Linearity——<strong>微分非线性度</strong></p>
</li>
<li>
<p>INL： Integral Non-Linearity——<strong>积分非线性度</strong></p>
</li>
<li>
<p><strong>LSB</strong>（Least Significant Bit），最低有效位；表示的是数字流中的最后一位，也表示组成满量程输入范围的<strong>最小单位</strong></p>
</li>
<li>
<p><strong>MSB</strong>（Most Significant Bit），最高有效位，若MSB=1，则表示数据为负值，若MSB=0，则表示数据为正</p>
</li>
</ol>
</li>
<li>
<p><strong>分辨率</strong></p>
<ol>
<li>位数</li>
</ol>
</li>
</ol>
<h2 id="01-inl">0.1 INL</h2>
<ul>
<li>
<p>INL精度(Integral Non-Linearity),积分线性度 ADC在所有的数值点上对应的模拟值和真实值之间误差最大的那一点的误差值。即输出偏离线性的最大距离，反映<strong>全局非线性****累积误差</strong>，单位LSB。</p>
</li>
<li>
<p>说明：理解为单值数据误差，对应该点模拟数据由于元器件及结构造成的不能精确测量产生的误差。</p>
</li>
<li>
<p>例子：比如12位ADC：假设基准Vref=4.095V,那么1LSB=Vref/2^12=0.001V。如果精度为1LSB，则它单值测量误差0.001V*1=0.001,比如测量结果为1.000V，实际在1.000+/-0.001V范围。如果精度为8LSB，则它的单值测量误差0.001*8=0.008V，假如结果为1.000V，实际在1.000+/-0.008范围。</p>
</li>
<li>
<p><strong>公式</strong>：</p>
<p>$$\text{INL}(k) = \sum_{i=0}^{k} \text{DNL}(i) \quad \text{或} \quad \text{INL}(k) = V_{\text{实际}}(k) - V_{\text{理想}}(k) $$<br>
显示不良移步飞书文档<a href="https://fcn87rfjn5yw.feishu.cn/docx/SJ4idZFi5oex9NxAe2YcJWf6nCb" target="_blank" rel="noopener nofollow">ADC常见误差参数来源与软件优化措施</a></p>
<ul>
<li>
<p><strong>端点法（End-point Fit）</strong>：以零点和满量程点为基准的理想直线</p>
</li>
<li>
<p><strong>最佳直线法（Best Straight Line）</strong>：最小化所有点的偏差</p>
</li>
</ul>
</li>
</ul>
<h2 id="02-dnl">0.2 DNL</h2>
<ul>
<li>
<p>DNL(Differential Non-Linearity),微分非线性值 理解为刻度间的差值，即对每个模拟数据按点量化，由于量化产生的误差，<strong>体现局部****线性度</strong>。</p>
</li>
<li>
<p>例子：比如12位ADC，假设基准vref=4.095V,那么1LSB=Vref/2^12=0.001V.不考虑精度，即精度为0LSB。没有单值误差。如果DNL=3LSB=0.001V*3=0.003V，假设A实际电压为1.001V，B实际电压为1.003V。理论上A点读数1.001/1LSB=1001,B点读数1.003V/1LSB=1003，B-A=2,B&gt;A，但由于DNL=3LSB=0.003V，模拟数据间的量化误差有0.003V，那么B-A会在-1(2-3=-1)到+5（2+3=5）之间的某一个数。</p>
</li>
<li>
<p>注：要保证没有丢码和单调的转移函数，ADC的DNL必须小于1LSB。</p>
</li>
<li>
<p><strong>公式</strong>：</p>
<p>$$\text{DNL}(k) = \frac{V_{\text{实际}}(k+1) - V_{\text{实际}}(k)}{LSB_{\text{理想}}} - 1 $$</p>
<ul>
<li>
<p><strong>DNL</strong> <strong>&gt; 1</strong> <strong>LSB</strong>：出现丢码（Missing Code）</p>
</li>
<li>
<p><strong>DNL</strong> <strong>&lt; -1</strong> <strong>LSB</strong>：导致码值重复（Code Overlap）</p>
</li>
</ul>
</li>
</ul>
<hr>
<h1 id="1-adc本身造成的误差静态误差">1 ADC本身造成的误差(静态误差)</h1>
<h2 id="11-adc-offset-error-adc偏移误差">1.1 ADC Offset Error ADC偏移误差</h2>
<ul>
<li>
<p>定义: 指当输入模拟信号为零时，ADC输出的数字码值偏离理想零点的偏差。</p>
</li>
<li>
<p>影响: 会导致输出的code值整体偏移一个固定值</p>
</li>
<li>
<p>软件校准: 采集一个低点电压值, 比较实际code值与理想code值, 后续计算叠加两者的差值</p>
</li>
</ul>
<h2 id="12-adc-gain-error-adc增益误差">1.2 ADC Gain Error ADC增益误差</h2>
<ul>
<li>
<p>定义: ADC实际转换曲线的斜率与理想斜率的偏差。即使偏移误差已校准，满量程点仍可能偏离理想值。</p>
</li>
<li>
<p>影响: 导致ADC的实际转换斜率大于或小于1</p>
</li>
<li>
<p>软件校准: 采集一个低点电压值 和 一个高点电压值(或多个点), 计算其实际斜率。 Gain Err = (实际斜率 - 理想斜率) / 理想斜率 = (实际高点code - 实际低点code) / (理想高点code - 理想低点code) Offset Err = Gain Err * (0 - 理想低点code) + 实际低点code</p>
</li>
</ul>
<hr>
<h1 id="2-环境造成的adc误差">2 环境造成的ADC误差</h1>
<h2 id="21-adc参考电压vrefvrefhi噪声">2.1 ADC参考电压(VREF+/VREFHI)噪声</h2>
<p>ADC的输出是模拟信号电压与参考电压之比，ADC的参考电压源存在噪声会导致误差 可以通过设计高质量的参考电压源来解决</p>
<h2 id="22-模拟输入信号噪声">2.2 模拟输入信号噪声</h2>
<p>模拟输入信号源自身的误差 针对信号源来设计滤波设计来减少误差</p>
<h2 id="23-adc动态范围匹配不良">2.3 ADC动态范围匹配不良</h2>
<p>例如: 模拟信号在0V-2.5V之间变化，参考电压源输入是3.3V，这样1.1V的转换范围相当于丢失了，等效于adc的位数下降，或者说LSB变大了</p>
<h2 id="24-模拟是信号源阻抗">2.4 模拟是信号源阻抗</h2>
<h2 id="25-模拟信号源电容和寄生">2.5 模拟信号源电容和寄生</h2>
<h2 id="26-注入电流影响">2.6 注入电流影响</h2>
<h2 id="27-io引脚串扰">2.7 IO引脚串扰</h2>
<h2 id="28-emi诱导的噪声">2.8 EMI诱导的噪声</h2>
<hr>
<h1 id="3-adc采样优化措施">3 ADC采样优化措施</h1>
<h3 id="31-软件校准补偿">3.1 软件校准补偿</h3>
<ol>
<li>
<p>offset 和 gain参数校准</p>
</li>
<li>
<p>分段函数插值拟合</p>
</li>
<li>
<p>分温度拟合</p>
</li>
</ol>
<hr>
<h1 id="4-注意">4 注意</h1>
<ol>
<li>
<p>adc 模拟部分校准只需要 offset , 制造导致的误差，改offset实际上是修改了电路</p>
</li>
<li>
<p>adc 数字部分校准需要 offset 和 gain ，也就是制造产生的误差, 但是数字只修改offset会导致整个range被抬高，造成高点饱和，所以需要添加一项 gain 来补偿</p>
</li>
</ol>
<p>DAC, ADC取offset 和 gain参数校准时, 我们常常需要取一个高点, 一个低点来做拟合</p>
<ul>
<li>为什么要选取低点?</li>
</ul>
<p>低点的gain err小</p>
<ul>
<li>为什么要选取高点</li>
</ul>
<p>两点差距大</p>
<hr>
<h1 id="参考文档">参考文档</h1>
<p><a href="https://zhuanlan.zhihu.com/p/590963810" target="_blank" rel="noopener nofollow">理解ADC微分非线性(DNL)误差</a></p>
<p><a href="https://www.eet-china.com/mp/a402026.html" target="_blank" rel="noopener nofollow">图解ADC常见误差参数来源与优化措施-电子工程专辑</a></p>
<p><a href="https://blog.csdn.net/qq_34310905/article/details/89399339" target="_blank" rel="noopener nofollow">关于精度、分辨率、LSB的理解_lsb是什么单位-CSDN博客</a></p>
<p><a href="https://www.elecfans.com/analog/202211241937550.html" target="_blank" rel="noopener nofollow">使用两点校准消除ADC失调和增益误差 - 模拟技术 - 电子发烧友网</a></p>
<p><a href="https://www.cnblogs.com/feitian629/archive/2012/11/13/2768757.html" target="_blank">高速ADC的关键指标:量化误差、offset/gain error、DNL、INL、ENOB、分辨率、RMS、SFDR、THD、SINAD、dBFS、TWO-TONE IMD - feitian629</a></p>
<p><a href="https://www.analog.com/cn/resources/technical-articles/successive-approximation-registers-sar-and-flash-adcs.html" target="_blank" rel="noopener nofollow">理解逐次逼近寄存器型ADC:与其它类型ADC的架构对比 | Analog Devices</a></p>
<p><a href="https://www.eet-china.com/mp/a324724.html" target="_blank" rel="noopener nofollow">关于高速ADC，看这一篇就够了!-电子工程专辑</a></p>

</div>
<div class="clear"></div>

        </div>
        <p class="postfoot">
            posted on 
<span id="post-date" data-last-update-days="0.00625" data-date-updated="2025-07-18 13:48">2025-07-18 13:39</span>&nbsp;
<a href="https://www.cnblogs.com/jiejielin-blogs">林接接</a>&nbsp;
阅读(<span id="post_view_count">88</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18991361);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18991361', targetLink: 'https://www.cnblogs.com/jiejielin-blogs/p/18991361', title: 'ADC常见误差参数来源与软件优化措施' })">举报</a>

        </p>
    