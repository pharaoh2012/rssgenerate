
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_52828686">
<strong><font style="background-color:white"><font face="微软雅黑"><img id="aimg_Ow7f0" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="1080" height="607" file="https://s1.locimg.com/2025/04/09/0ab4c17a8ee00.png" onmouseover="img_onmouseoverfunc(this)" style="cursor:pointer" border="0" alt="" src="https://s1.locimg.com/2025/04/09/0ab4c17a8ee00.png"></font></font></strong><br>
<br>
<strong><font style="background-color:white"></font></strong><strong>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<font color="#3366ff"><font face="微软雅黑"><font style="font-size:19.5pt"> </font></font></font>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<font color="#3366ff"><font face="微软雅黑"><font style="font-size:19.5pt"> </font></font></font> <font color="#3366ff"><font face="微软雅黑"><font style="font-size:19.5pt">本次演示部署环境：</font></font></font><font color="#3366ff"><font face="微软雅黑"><font style="font-size:19.5pt">Windows 10专业版，欢迎转载，转载请说明出处和附上原贴链接</font></font></font></strong><br>
<strong>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<font color="#3366ff"><font face="微软雅黑"><font style="font-size:19.5pt"> </font></font></font>&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<font color="#3366ff"><font face="微软雅黑"><font style="font-size:19.5pt">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; 我的博客：</font></font></font></strong><a rel="nofollow noopener" href="https://www.cnblogs.com/LaiYun" target="_blank"><font size="5"><font color="#8b0000"><strong>但风偏偏雨渐渐的博客</strong></font></font></a> <strong><font size="5">觉得不错的，帮忙点点<font color="#ff0000">好文要顶</font>和<font color="#ff0000">推荐</font>，谢谢啦！</font></strong><strong><font face="微软雅黑"><font size="6"><strong>下载安装Docker</strong></font></font></strong><br>
<font face="微软雅黑">　<font size="4">　Docker官网：<a rel="nofollow noopener" href="https://www.docker.com/" target="_blank">https://www.docker.com/</a></font></font><br>
<strong><font face="微软雅黑"><font size="6"><strong>自定义Docker安装路径</strong></font></font></strong><br>
<font face="微软雅黑">　　<font size="4">Docker默认安装在C盘，大小大概2.9G，做这行最忌讳的就是安装软件全装C盘，所以我调整了下安装路径。</font></font><font face="微软雅黑"><font size="4">新建安装目录：E:\MySoftware\Docker并将Docker安装包放在目录内，这里有个小细节，<strong><font color="#ff0000">安装包名称一定要改下（或者把安装程序放在别的目录也可以）</font></strong>，官网下载下来的名称叫：Docker Desktop Installer.exe，一定要修改一下，不能用这个名字，否则等下在CMD命令安装的时候就会报错说被资源占用，因为Docker在安装时会解压一个一模一样名称的exe程序，重名就会导致安装失败，所以一定要改下名字。</font></font><br>
<font face="微软雅黑"><img id="aimg_gN6Uv" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/5614572058aaa.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/5614572058aaa.png"></font><br>
<font color="#333333"><font style="font-size:14pt"><font face="微软雅黑">在文件路径输入cmd回车</font></font></font><br>
<font color="#333333"><font style="font-size:14pt"><font face="微软雅黑"><img id="aimg_m3573" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/424cae0a2a9b8.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/424cae0a2a9b8.png"></font></font></font><br>
<br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">输入：</font></font><font style="background-color:white"><font face="微软雅黑">.\"Docker.exe" install --installation-dir=E:\MySoftware\Docker</font></font></font><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4"><font color="#4169e1"><strong>语法：.\”安装程序名称” install --installation-dir=指定Docker安装的路径</strong></font></font></font></font><br>
<font color="#3366ff"><font style="font-size:14pt"><font face="微软雅黑"><img id="aimg_w1A0a" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/deaa4bd0974a7.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/deaa4bd0974a7.png"><br>
</font></font></font><br>
<font face="微软雅黑"><font size="4">安装完成后会提示Installation sueceeded</font></font><br>
<font color="#333333"><font style="font-size:12.5pt"><font face="微软雅黑"><img id="aimg_jx61V" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/b3e9de6773558.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/b3e9de6773558.png"><br>
</font></font></font><font color="#333333"><font style="font-size:14pt"><font face="微软雅黑">桌面会出现Docker图标</font></font></font><br>
<img id="aimg_civ0v" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/6b0f2a8004a36.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/6b0f2a8004a36.png"><br>
<font color="#333333"><font style="font-size:14pt"><font face="微软雅黑">启动Docker这里很多人会报这个错，这个是因为电脑没有WSL导致无法启动Docker容器。</font></font></font><br>
<font color="#333333"><font style="font-size:14pt"><font face="微软雅黑"><img id="aimg_M42Ic" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="612" height="475" file="https://s1.locimg.com/2025/04/09/dd05efbb42c45.png" border="0" alt="" src="https://s1.locimg.com/2025/04/09/dd05efbb42c45.png"><br>
</font></font></font><strong><font style="background-color:white"><font face="微软雅黑"><font size="5"><strong>下载WSL</strong></font></font></font></strong><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">　　进入微软官网按步骤执行即解决，几分钟完成。</font></font><font style="background-color:white"><font face="微软雅黑"><a href="https://www.52pojie.cn/file:///E:/Users/dhyy/Desktop/%E6%96%B0%E5%BB%BA%20DOCX%20%E6%96%87%E6%A1%A3.docx#step-4---download-the-linux-kernel-update-package" target="_blank">https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package</a></font></font></font><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">　　用<strong><font color="#ff0000">管理员身份打开Powershell窗口</font></strong>，粘贴微软官网的命令执行下载即可</font></font></font><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">粘贴执行：</font></font></font><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</font></font></font><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</font></font></font><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">wsl --set-default-version 2</font></font></font><br>
<font color="#000"><font style="font-size:11pt"><font face="微软雅黑"><img id="aimg_O71Q7" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/ae05858e39c27.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/ae05858e39c27.png"><br>
</font></font></font><font color="#333333"><font style="font-size:14pt"><font face="微软雅黑">下载完后会启动一个这个页面，可以关闭。</font></font></font><br>
<font color="#333333"><font style="font-size:14pt"><font face="微软雅黑"><img id="aimg_FgG2k" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/29caa0e9d0ea2.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/29caa0e9d0ea2.png"><br>
</font></font></font><font style="background-color:white"><font face="微软雅黑"><font size="4">注：完成内核更新包安装后需重启系统，再启动下Docker，出现这个界面就代表WSL和Docker都启动成功了。</font></font></font><br>
<font style="color:rgb(51, 51, 51)"><font style="font-size:14pt"><font face="微软雅黑"><img id="aimg_zo91W" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/2d7d951cc6d22.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/2d7d951cc6d22.png"><br>
</font></font></font><strong><font style="background-color:white"><font face="微软雅黑"><font size="5"><strong>Docker镜像存储迁移</strong></font></font></font></strong><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">　　这时进入Docker设置中，将Docker的镜像资源存放路径改一下，不然都会下载都C盘。</font></font></font><br>
<font color="#333333"><font style="font-size:14pt"><font face="微软雅黑"><img id="aimg_B8KpB" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/09/8362d1e0f22dd.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/09/8362d1e0f22dd.png"><br>
</font></font></font><strong><font style="background-color:white"><font face="微软雅黑"><font size="5"><strong>Docker</strong><strong>镜像源加速配置</strong></font></font></font></strong><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">　　<strong><font color="#ff0000">至关重要的地方来了</font></strong>，打开Docker的设置中的--&gt;Docker Engine，然后把国内的镜像源复制进去保存，我这里提供一些，如果失效了就百度找新的。</font></font></font><br>
{&nbsp; &nbsp; "registry-mirrors": [&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;"https://docker.m.daocloud.io",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://noohub.ru",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://huecker.io",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://dockerhub.timeweb.cloud",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://0c105db5188026850f80c001def654a0.mirror.swr.myhuaweicloud.com",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://5tqw56kt.mirror.aliyuncs.com",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://docker.1panel.live",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"http://mirrors.ustc.edu.cn/",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"http://mirror.azure.cn/",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://hub.rat.dev/",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://docker.ckyl.me/",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://docker.chenby.cn",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://docker.hpcloud.cloud",&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;"https://docker.m.daocloud.io"&nbsp; &nbsp; ]}<font face="微软雅黑"><img id="aimg_yWoow" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/640be087c0a87.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/640be087c0a87.png"></font><br>
<font size="4"><font face="微软雅黑"><font color="#333333"><font style="background-color:white">　</font></font></font><font style="background-color:white"><font face="微软雅黑">保存镜像源后就可以试一下拉取镜像，如果拉取不成功也可以重启下Docker，还是不行提示超时就说明镜像源失效了，就在网上搜索下新的镜像源。</font></font></font><br>
<strong><font style="background-color:white"><font face="微软雅黑"><font size="5"><strong>测试拉取镜像</strong></font></font></font></strong><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">　　在cmd命令窗口输入：</font></font><font style="background-color:white"><font face="微软雅黑">docker pull hello-world</font></font></font><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">　　出现这个Status: Dowloaded newer image for hello-world:latest就代表镜像源没有问题。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_A1EZT" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/7cccb4ca29b51.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/7cccb4ca29b51.png"><br>
</font><font size="5"><strong><font style="background-color:white"><font face="微软雅黑"><strong>安装Dify</strong></font></font></strong><strong><font style="background-color:white"><font face="微软雅黑"><strong>下载Dify代码包</strong></font></font></strong></font><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">　　进入github下载Dify代码包：<a rel="nofollow noopener" href="https://github.com/langgenius/dify" target="_blank">https://github.com/langgenius/dify</a></font></font></font><br>
<font face="微软雅黑"><img id="aimg_igx4u" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/84f28513f6db8.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/84f28513f6db8.png"><br>
</font><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">　　解压代码包后，把压缩后的文件夹复制到自己想要安装的目录下，这里复制一下.env.example文件，然后重命名一下改成.env</font></font></font><br>
<font face="微软雅黑"><img id="aimg_oaxry" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/32b5182f7dd7d.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/32b5182f7dd7d.png"><br>
</font><font style="background-color:white"><font face="微软雅黑"><font size="4">　　在当前文件路径下输入CMD回车</font></font></font><br>
<font face="微软雅黑"><img id="aimg_mR4l3" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/61c5338594c4e.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/61c5338594c4e.png"><br>
</font><strong><font style="background-color:white"><font face="微软雅黑"><font size="5"><strong>拉取Dify依赖镜像资源</strong></font></font></font></strong><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">　　粘贴以下命令回车，会自动下载一些依赖资源。如果你的下载失败就是镜像源失效了，换一个镜像源，重新拉取镜像。</font></font></font><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">docker-compose up -d</font></font></font><br>
<font face="微软雅黑"><img id="aimg_M9Eu9" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/99f107f6119b0.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/99f107f6119b0.png"></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">下载完成</font></font></font><br>
<img id="aimg_tfCF5" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/efd22c5d0de83.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/efd22c5d0de83.png"><br>
<font face="微软雅黑"><font style="font-size:14pt">　　回到Docker可以都看到已经下载好的镜像全部都显示了，并且都在运行。</font></font><br>
<font face="微软雅黑"><img id="aimg_cmLYr" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/1bcce617c9474.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/1bcce617c9474.png"></font><br>
<font size="5"><strong><font style="background-color:white"><font face="微软雅黑"><strong>进入</strong><strong>Dify后台</strong></font></font></strong></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　输入<a rel="nofollow noopener" href="http://127.0.0.1/" target="_blank">http://127.0.0.1/</a>会自动打开Dify的页面，有人会遇到这个Internal Server Error报错，这是因为镜像下载来后，有部分镜像还在启动中或未启动，这时候将所有镜像重启一次才可以。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_amumm" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/37cfdf01eb07c.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/37cfdf01eb07c.png"></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　重启所有镜像</font></font></font><br>
<font face="微软雅黑"><img id="aimg_U83Gu" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/3af348faf1cb7.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/3af348faf1cb7.png"></font><br>
<font size="5"><strong><font style="background-color:white"><font face="微软雅黑">创建管理员用户</font></font></strong></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　重新进入Dify管理后台，首次进入需创建管理员用户。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_PzmY3" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/2f2f07f36c5e3.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/2f2f07f36c5e3.png"></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　创建管理员用户后，将进入登录界面。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_bWj6J" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/5440e98f21d46.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/5440e98f21d46.png"><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　登录成功</font></font></font><br>
<font face="微软雅黑"><img id="aimg_xmYEy" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/c85190c58ff84.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/c85190c58ff84.png"></font><br>
<font size="5"><strong><font style="background-color:white"><font face="微软雅黑">添加AI模型</font></font></strong></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　点击右上角头像-设置</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">成员这里可以创建企业内成员进行登录使用。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_xg4K9" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/466944f76c61f.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/466944f76c61f.png"></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　选择模型供应商</font></font></font><br>
<font color="#3366ff"><font style="background-color:white"><font face="微软雅黑"><strong><font size="4">　　这里我本地已经安装部署好了Ollama和Deepseek R1和BGE-M3模型，如果没有部署好的请看我这篇文章</font><font style="font-size:13.3333px">：</font></strong></font></font></font><a rel="nofollow noopener" href="https://www.cnblogs.com/LaiYun/p/18695293" target="_blank"><font size="4"><font color="#ff00ff"><strong>本地电脑部署DeepSeek 大模型AI</strong></font></font></a><font face="微软雅黑"><img id="aimg_xPfd4" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/7fa19290ab73a.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/7fa19290ab73a.png"></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　由于我本地已经安装好了Ollama，所以就找到Ollama，点击安装插件，其他供应商选择对应安装。下载可能稍慢，请耐心等待。</font></font></font><font face="微软雅黑"><img id="aimg_KIqTw" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/c726e5696f013.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/c726e5696f013.png"></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　添加模型时，若不知模型名称，可在CMD中输入Ollama list查看本地模型名称并复制。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_BlTGh" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="712" height="268" file="https://s1.locimg.com/2025/04/10/e935d0f73f382.png" border="0" alt="" src="https://s1.locimg.com/2025/04/10/e935d0f73f382.png"></font><br>
<font size="4"><font face="微软雅黑">模型类型：</font><font style="background-color:white"><font face="微软雅黑">推理模型 → LLM<br>
嵌入模型 → Text Embedding</font></font><font style="background-color:white"><font face="微软雅黑">模型名称就把刚刚复制下来的粘贴上去就可以了。</font></font><font style="background-color:white"><font face="微软雅黑">这里IP地址要注意了，由于我没有用Docker容器里部署Ollama，而是在本地电脑安装的Ollama，这里对IP就要进行特殊处理下了，需要改为：<a rel="nofollow noopener" href="http://host.docker.internal:11434" target="_blank">http://host.docker.internal:11434</a>。</font></font></font><font style="background-color:white"><font face="微软雅黑"><font size="4">网络通信原理：<br>
host.docker.internal为Docker内置域名解析，实现容器与宿主机服务的桥接。简单说就是Docker自己和我们电脑主机网络做了一个映射关系</font>。</font></font><br>
<img id="aimg_p278z" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="1080" height="503" file="https://s1.locimg.com/2025/04/10/9e4ec761727bc.png" onmouseover="img_onmouseoverfunc(this)" style="cursor:pointer" border="0" alt="" src="https://s1.locimg.com/2025/04/10/9e4ec761727bc.png"><br>
<font face="微软雅黑"><font style="font-size:18px">　　模型添加完成</font></font><br>
<font face="微软雅黑"><img id="aimg_gjDah" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="1080" height="503" file="https://s1.locimg.com/2025/04/10/98e24400f1fe4.png" onmouseover="img_onmouseoverfunc(this)" style="cursor:pointer" border="0" alt="" src="https://s1.locimg.com/2025/04/10/98e24400f1fe4.png"></font><br>
<font size="5"><strong><font style="background-color:white"><font face="微软雅黑">创建应用</font></font></strong></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　其实我也不太会使用，就简单粗糙的做个示范吧，要深入研究需要找下资料学习下。</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">这里我选择创建聊天助手（每个不同应用的作用不一样，选择与自己相符的就行）</font></font></font><br>
<font face="微软雅黑"><img id="aimg_l05Zm" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/580f6828723dc.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/580f6828723dc.png"><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　添加一些提示词、变量、知识库、模型，设置好后在右边可以调试预览效果，调试完成后就可以发布应用了。</font></font></font><font face="微软雅黑"><img id="aimg_ZS0OF" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/52bc47210bd4d.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/52bc47210bd4d.png"><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font face="微软雅黑"><img id="aimg_WYW6N" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/133e0806e3444.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/133e0806e3444.png"><br>
</font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　这里提一句，由于我自己的电脑资源很一般，所以每次一提问的时候资源就占比很高，不过等AI思考完毕后资源占用会下降。</font></font></font><font face="微软雅黑"><img id="aimg_MOmiu" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/8176d9daca75d.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/8176d9daca75d.png"></font><font style="background-color:white"><font face="微软雅黑"><img id="aimg_VORFo" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://img2024.cnblogs.com/blog/1602588/202503/1602588-20250330191110963-162626929.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://img2024.cnblogs.com/blog/1602588/202503/1602588-20250330191110963-162626929.png"></font></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">&nbsp; &nbsp;&nbsp;&nbsp;测试结果，虽然回答是错误的。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_mZnAb" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/cbfd993dfa7fe.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/cbfd993dfa7fe.png"><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font size="5"><strong><font style="background-color:white"><font face="微软雅黑">知识库测试</font></font></strong></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　我这里测试了下知识库检索，上传了6个本地文档。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_SW980" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/21d758ae26d86.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/21d758ae26d86.png"><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑"> 　　然后我简单的定义了提示词后，对模型提出问题：结合知识库帮我找出住在向阳里桃源弄的人员的电话和姓名。</font></font></font><font face="微软雅黑"><img id="aimg_oR3JS" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/a2551618b87b5.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/a2551618b87b5.png"><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　然后真的回答对了，全体起立！</font></font></font><br>
<font face="微软雅黑">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; <img src="https://static.52pojie.cn/static/image/smiley/laohu/laohu31.gif" smilieid="995" border="0" alt=""><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　这是源文件里的内容。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_l5x8W" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/caedebaadca8c.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/caedebaadca8c.png"></font><br>
<font size="5"><strong><font style="background-color:white"><font face="微软雅黑">WSL资源控制</font></font></strong></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　由于我是针对个人学习，在学习完后我发现我的电脑内存占比一直居高不下，在任务管理器查到了是一个Vmmem的进程占用，大概也知道应该是<a href="https://www.52pojie.cn/thread-661779-1-1.html" target="_blank" class="relatedlink">虚拟机</a>类的占用。</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　搜索了下网上资源了解到vmmem是一个由WSL（Windows Subsystem for Linux）创建的虚拟进程，主要用于管理<font style="color:rgb(0, 0, 0)"><a rel="nofollow noopener" href="https://so.csdn.net/so/search?q=WSL2&amp;spm=1001.2101.3001.7020" target="_blank">WSL2</a></font>的内存和CPU资源。当WSL2运行时，Vmmem进程会占用大量的内存和CPU资源，以确保虚拟机的最佳性能。然而，这可能会导致主机系统的其他应用程序运行缓慢或无法正常运行&amp;#8204;。</font></font></font><br>
<font face="微软雅黑"><img id="aimg_NqN5q" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/519dfb1056e68.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/519dfb1056e68.png"><font style="background-color:white"><font style="font-size:14pt"><br>
</font></font></font><font size="5"><strong><font style="background-color:white"><font face="微软雅黑">关闭WSL服务</font></font></strong></font><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　所以如果不用的时候可以关闭掉WSL服务。</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">在cmd里输入：</font></font></font><font color="#333333"><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">wsl --shutdown</font></font></font></font><br>
<font face="微软雅黑"><img id="aimg_pPjJ9" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/6021ec5ebe94b.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/6021ec5ebe94b.png"></font><br>
<font face="微软雅黑"><font style="background-color:white"><font style="font-size:14pt">　　</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">关闭后电脑资源就回到正常状态了。</font></font></font><br>
<strong><font style="background-color:white"><font face="微软雅黑"><font size="5">启动WSL服务</font></font></font></strong><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　那如果我们后再用的时候就重新启动WSL服务就可以。</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">在cmd输入：</font></font></font><font color="#333333"><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">wsl</font></font></font></font><br>
<font face="微软雅黑"><img id="aimg_x0EEg" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" width="1015" height="527" file="https://s1.locimg.com/2025/04/10/9b74252042344.png" border="0" alt="" src="https://s1.locimg.com/2025/04/10/9b74252042344.png"></font><br>
<strong><font style="background-color:white"><font face="微软雅黑"><font size="5">最后的最后</font></font></font></strong><br>
<font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">　　关于Dify的作用文中提到的只是冰山一角，它真正的厉害之处是它的工作流，由于博主知识有限，只能教大家部署应用，具体的功能开发使用还要大家自行学习，后续博主也会去学习Dify的相关知识，有机会的话就再开一贴。如有讲的不对的地方，敬请指正。</font></font></font><font style="background-color:white"><font style="font-size:14pt"><font face="微软雅黑">附上Dify的官方操作手册地址：<a rel="nofollow noopener" href="https://docs.dify.ai/zh-hans" target="_blank">https://docs.dify.ai/zh-hans</a></font></font></font><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">　　这是我整个学习过程中遇到的问题，最后结合百度和AI最后都完成解决了。</font></font><font style="background-color:white"><font face="微软雅黑">总结几个小坑：</font></font></font><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">1、WSL2的安装。</font></font></font><br>
<font style="background-color:white"><font face="微软雅黑"><font size="4">2、Docker容器镜像源的设置。</font></font></font><br>
<font size="4"><font style="background-color:white"><font face="微软雅黑">3、Dify依赖镜像的拉取</font></font><font face="微软雅黑">。</font></font><br>
<font face="微软雅黑"><font size="4">4、Dify添加模型时IP映射设置。</font></font><br>
<font face="微软雅黑"><img id="aimg_lqqkK" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/253e121eee8f9.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/253e121eee8f9.png"></font><br>
<font face="微软雅黑"><font size="5"><font color="#4169e1">&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;</font><strong><font color="#ff00ff">觉得有帮助的麻烦大家动动发财的小手点下好问要顶和推荐，谢谢！！！</font></strong></font></font><br>
<font face="微软雅黑"><img id="aimg_Q513I" onclick="zoom(this, this.src, 0, 0, 0)" class="zoom" file="https://s1.locimg.com/2025/04/10/fcbaf31eae94c.png" onmouseover="img_onmouseoverfunc(this)" lazyloadthumb="1" border="0" alt="" src="https://s1.locimg.com/2025/04/10/fcbaf31eae94c.png"></font><font style="color:rgb(51, 51, 51)"><font face="sans-serif"><font style="font-size:14pt"><br>
</font></font></font></td></tr></tbody></table>


