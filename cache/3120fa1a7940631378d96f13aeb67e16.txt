
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/lradian/p/18827330" title="发布于 2025-04-15 19:27">
    <span role="heading" aria-level="2">文件IO-操作函数（3）</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                    <div id="cnblogs_post_description" style="display: none">
        
        文件IO-操作函数（3）
    </div>
<div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>使用Linux内核提供的函数对文件进行操作</p>
<h1 id="打开文件">打开文件</h1>
<pre><code>//头文件
#include&lt;sys/types.h&gt;
#include&lt;sys/stat.h&gt;
#include&lt;fcntl.h&gt;
//函数原型
//返回值：返回一个文件描述符，如果打开成功返回非负整数，失败返回-1
//flag:O_RDONLY（只读）、O_WRONLY（只写）、O_RDWR（可读可写）三选一
int open(const char *pathname,int flags);//要打开的文件路径
int open(const char *pathname,int flags,mode_t mode);
</code></pre>
<h1 id="关闭文件">关闭文件</h1>
<pre><code>//头文件
#include&lt;unistd.h&gt;
//函数原型
int close(int fd);//fd:文件描述符  返回值：成功返回0失败返回-1
</code></pre>
<h1 id="读取数据">读取数据</h1>
<pre><code>//头文件
#include&lt;unistd.h&gt;
//函数原型
ssize_t read(int fd,void *buf,size_t count);
//fd:文件描述符
//buf：放读取数据的缓冲区
//count:读取的字节数
//返回值：实际读取的数目，如果为零，则到文件末尾，为-1说明读取错误
</code></pre>
<h1 id="写入数据">写入数据</h1>
<pre><code>//头文件
#include&lt;unistd.h&gt;
//函数原型
ssize_t write(int fd,void *buf,size_t count);
//fd:文件描述符
//buf：放写入数据的缓冲区
//count:写入的字节数
//返回值：实际写入的数目，，为-1说明写入错误
</code></pre>
<h1 id="文件偏移">文件偏移</h1>
<pre><code>//头文件
#include&lt;unistd.h&gt;
#include&lt;sys/types.h&gt;
//函数原型
off_t lseek(int fd,off_t offset int whence);
//fd:文件描述符
//offset：相较于whence的偏移量
//whence:设置文件位置 SEEK_SET:文件开头  SEEK_CUR:当前位置  SEEK_END:文件末尾
//返回值：成功返回文件指示器相较于文件开头的偏移量，以字节为单位
</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.8841937368032408" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-16 19:09">2025-04-15 19:27</span>&nbsp;
<a href="https://www.cnblogs.com/lradian">LRadian</a>&nbsp;
阅读(<span id="post_view_count">6</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18827330);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18827330', targetLink: 'https://www.cnblogs.com/lradian/p/18827330', title: '文件IO-操作函数（3）' })">举报</a>
</div>
        