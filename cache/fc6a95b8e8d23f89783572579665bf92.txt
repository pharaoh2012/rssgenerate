
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/byhgz/p/18935251" title="发布于 2025-06-18 20:03">
    <span role="heading" aria-level="2">js代码修改react框架的input的值-2025年6月</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>需求，在1688商家工作台中的发布助手页面中，设置了模版依旧会有些输入框内容要自己填写，太麻烦了。</p>
<p>比如下面中的可售数量<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3292672/202506/3292672-20250618195106617-631633266.png" class="lazyload"></p>
<p>想着自己写了个脚本方便自己填充数据。<br>
试着尝试直接修改input标签的value值，点下其他空白处输入框内容就没有了。</p>
<p>通过插件看了下用到了react。<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3292672/202506/3292672-20250618195414697-47448887.png" class="lazyload"></p>
<p>在控制台看了下react的版本,我这里版本是16.14.0版本，其他版本的没测试<br>
<img alt="image" loading="lazy" data-src="https://img2024.cnblogs.com/blog/3292672/202506/3292672-20250618195847259-1037440555.png" class="lazyload"></p>
<p>封装好函数了，传入input元素对象和新的内容即可</p>
<pre><code class="language-js">/**
 * 修改react的input框的值，vue的没有测试
 * @param inputEl 输入框元素
 * @param newText 新的文本
 */
function setReactInputValue(inputEl, newText) {
    //1. 聚焦元素（模拟用户点击）
    inputEl.focus();
    //2. 使用setter方式修改值
    Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, 'value').set.call(inputEl, newText);
    //3. 创建并触发input事件（让React检测到变化）
    const inputEvent = new Event('input', {bubbles: true, cancelable: true});
    inputEl.dispatchEvent(inputEvent);
    //4. 创建并触发change事件（确保所有监听器触发）
    const changeEvent = new Event('change', {bubbles: true});
    inputEl.dispatchEvent(changeEvent);
    //5. 移除焦点（模拟用户完成操作）
    inputEl.blur();
}

</code></pre>
<p>如若转载请注明出处，别当csdn的dog</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0006944444444444445" data-date-updated="2025-06-18 20:04">2025-06-18 20:03</span>&nbsp;
<a href="https://www.cnblogs.com/byhgz">寒鸽子</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18935251);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18935251', targetLink: 'https://www.cnblogs.com/byhgz/p/18935251', title: 'js代码修改react框架的input的值-2025年6月' })">举报</a>
</div>
        