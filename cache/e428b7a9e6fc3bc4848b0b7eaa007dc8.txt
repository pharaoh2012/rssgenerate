
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/youlanjihua/p/18911529" title="发布于 2025-06-05 09:01">
    <span role="heading" aria-level="2">鸿蒙仓颉语言开发实战教程：商城搜索页</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p data-id="p124945a-XDYRFQ52">大家好，今天要分享的是仓颉语言商城应用的搜索页。</p>
<p data-id="pa028eb2-oDctxTV7"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202506/335653375e7b83e271b623936e0c4d15c16703.png" data-type="block"></p>
<p data-id="p124945a-6WZHpQnI">搜索页的内容比较多，都有点密集恐惧症了，不过我们可以从上至下将它拆分开来，逐一击破。</p>
<p data-id="p124945a-1fCyEWRY"><strong>导航栏</strong></p>
<p data-id="p124945a-5hoqCRpc">搜索页的的最顶部是导航栏，由返回按钮和搜索框两部分组成,比较简单，具体实现代码如下：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>Row(6){
    Image(@r(app.media.back))
    .width(30)
    .height(30)
    .onClick({evet =&gt; Router.back()})
    Row{
        Search(value: "", placeholder: "搜索商品")
        .searchButton("搜索")
         .width(100.percent)
        .height(35)
        .borderRadius(4)
        .backgroundColor(0xDDDDDD)
        .placeholderColor(0x000000)
    }
    .height(35)
    .layoutWeight(1)
    .backgroundColor(Color(236, 236, 236, alpha: 1.0))
    .borderRadius(4)
    .justifyContent(FlexAlign.SpaceBetween)
}
.padding( right: 10, left: 10)
.width(100.percent)</code></pre>
</div>
<p data-id="p124945a-GnJBX0zK"><strong>历史搜索</strong></p>
<p data-id="pa028eb2-8YJQSuCL"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202506/f96cce2502dd952a5c96995bc1baabb8ea7922.png" data-type="block"></p>
<p data-id="p124945a-lMAWiIEm">大家应该可以看出来这个页面除了导航栏之外其余内容都在List组件里，而且猜你想搜、历史搜索这两个标题样式相同，所以可以使用List组件的header来实现：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>@Builder func normalHead(text:String) {
    Row{
        Text(text)
        .fontSize(15)
        .backgroundColor(Color.WHITE)
        .padding(10)
        .fontWeight(FontWeight.Bold)
    }
    .width(100.percent)
    .height(35)
    .alignItems(VerticalAlign.Center)
}</code></pre>
</div>
<p data-id="p124945a-6syG9oiP">做完标题之后再看历史搜索的内容，这种不规则的排列看起来比较难，其实使用Flex布局就可以轻松实现，然后仔细设置一个Text组件的字体、边框、间距等样式即可，其次大家还是需要继续熟悉仓颉语言中LIst组件的使用和Foreach的写法，具体实现代码如下：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>@State var hisList:ArrayList&lt;String&gt; = ArrayList&lt;String&gt;(['毛巾','衬衫','男士牛仔裤','一次性塑料盆','可乐啊','茶壶','保温壶','指甲刀','polo衫','超级智能手机'])

ListItemGroup(ListItemGroupParams(header:{=&gt;bind(this.normalHead,this)('历史搜索')})){
    ListItem{
        Flex(FlexParams(direction: FlexDirection.Row, wrap: FlexWrap.Wrap)){
            ForEach(hisList, itemGeneratorFunc: {str:String,index:Int64 =&gt;
             Text(str)
            .margin(left:5,top:5)
            .padding(left:6,right:6,top:4,bottom:4)
            .fontSize(12)
            .fontColor(0x4a4a4a)
            .border(width: Length(1, unitType: LengthType.vp), color: Color(216, 216, 216, alpha: 1.0 ), radius: Length(4, unitType: LengthType.vp), style: BorderStyle.Solid)
                        })
        }
        .width(100.percent)
        .padding( right: 10, left: 10)
    }
}</code></pre>
</div>
<p data-id="p124945a-IlY1YjVn"><strong>猜你想搜</strong></p>
<p data-id="p124945a-A7Lx7Qs6">猜你想搜部分比历史搜索要简单一些，而且标题我们已经写过了，内容部分只要将每个text组件的宽度设置50%就能实现两列的效果，实现代码如下：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>@State var guessList:ArrayList&lt;String&gt; = ArrayList&lt;String&gt;(['水晶粽子','男士轻薄裤子','超好看Polo衫','超智能手机','超快洗衣机','茶壶','实木家具窗'])

ListItemGroup(ListItemGroupParams(header:{=&gt;bind(this.normalHead,this)('猜你想搜')})){
    ListItem{
        Flex(FlexParams(direction: FlexDirection.Row, wrap: FlexWrap.Wrap)){
            ForEach(hisList, itemGeneratorFunc: {str:String,index:Int64 =&gt;
                 Text(str)
                 .margin(top:5)
                 .fontSize(15)
                 .fontColor(0x4a4a4a).width(50.percent)
                        })
        }
        .width(100.percent)
        .padding( right: 10, left: 10)
    }
}</code></pre>
</div>
<p data-id="p124945a-Xr8LLzkG"><strong>热搜</strong></p>
<p data-id="p124945a-8LpHrbop">热搜部分是这个页面最难的内容了，它两个部分都可以滑动但又是不同的滑动方式，标题部分可以自由滑动，而内容列表左右滑动时是分页的，所以标题部分使用Scroll容器，内容部分使用Swiper容器，这两部分还有联动效果。</p>
<p data-id="pa028eb2-3V0WCP4P"><img src="https://harmonyos.oss-cn-beijing.aliyuncs.com/images/202506/185cc2253fed006490b98695f87fd78dc38a0e.png" data-type="block"></p>
<p data-id="pa028eb2-3V0WCP4P">先看标题部分的具体代码，我依然把它视作List组件的Head：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>@Builder func hotHead(text:String) {
     Scroll(this.scroller){
        Row(30){
            ForEach(this.hotTypeList, itemGeneratorFunc: {str:String,index:Int64 =&gt;
                        if(this.hotIndex == index){
                             Text(str)
                             .fontSize(15)
                             .fontWeight(FontWeight.Bold)
                             .fontColor(Color.RED)
                        }else {
                          Text(str)
                            .fontSize(15)
                             .fontColor(Color.GRAY)
                        }
                        
		})
        }
    }
    .height(45)
    .padding( right: 12, left: 12)
    .scrollable(ScrollDirection.Horizontal)
    .scrollBar(BarState.Off)
    
}</code></pre>
</div>
<p data-id="p124945a-X3srrwkz">然后是热搜内容列表，这是我们第一次在仓颉语言中遇到Swiper容器，它有一些小小的坑，首先我暂时没找到隐藏控制圆点的属性，还有它代码控制翻页只支持上一页和下一页，无法通过按钮点击自由的翻页。所以这里我并没有给标题添加点击事件，只写了内容列表向标题列表的单向联动：</p>
<div>
<pre class="language-plain highlighter-hljs"><code>ListItemGroup(ListItemGroupParams(header:{=&gt;bind(this.hotHead,this)('')})){
    ListItem{
        Swiper(swiperController){
              ForEach(hotTypeList, itemGeneratorFunc: {str:String,index:Int64 =&gt;
                        Column{
                             ForEach(hotContentList, itemGeneratorFunc: {str:String,index:Int64 =&gt;
                                    Row{
                                        Row(10){
                                         Text((index + 1).toString())
                                         .fontWeight(FontWeight.Bold)
                                         .fontSize(16)
                                         .fontColor(Color.BLACK)
                                        Text(str)
                                         .fontSize(16)
                                         .fontColor(Color.BLACK)
                                         }
                                    
                                        Text('热度100万')
                                    .fontColor(Color.GRAY)
                                    .fontSize(14)
                                    }
                                    .width(100.percent)
                                     .height(48)
                                .justifyContent(FlexAlign.SpaceBetween)
                                    })
                        }
                        })
        }
        .padding( right: 12,  left: 12)
        .onChange( {
             index =&gt; this.hotIndex = Int64(index)
     })
    }
}</code></pre>
</div>
<p data-id="p124945a-JddWY2iy">以上就是商城搜索页的相关内容。#HarmonyOS语言##仓颉##购物#</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.09258228365046296" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-06-05 09:01">2025-06-05 09:01</span>&nbsp;
<a href="https://www.cnblogs.com/youlanjihua">幽蓝计划</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18911529);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18911529', targetLink: 'https://www.cnblogs.com/youlanjihua/p/18911529', title: '鸿蒙仓颉语言开发实战教程：商城搜索页' })">举报</a>
</div>
        