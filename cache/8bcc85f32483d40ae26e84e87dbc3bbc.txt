
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhaloe/p/18937271" title="发布于 2025-06-20 12:36">
    <span role="heading" aria-level="2">ArkUI-X平台桥接Bridge说明</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="简介">简介</h2>
<p>平台桥接用于客户端（ArkUI）和平台（Android或iOS）之间传递消息，即用于ArkUI与平台双向数据传递、ArkUI侧调用平台的方法、平台调用ArkUI侧的方法。</p>
<p>以Android平台为例，ArkTS和Java没有相互调用的能力，为了实现ArkTS和Java交互，需要ArkTS与C++交互，C++再与Java交互，反之亦然。但是对于开发者，就像是ArkTS和Java直接交互。</p>
<p>本文介绍如何通过平台桥接编写自定义的Android、iOS平台代码。ArkUI侧具体用法请参考<a href="../reference/apis/js-apis-bridge.md" target="_blank" rel="noopener nofollow">Bridge API</a>，Android侧参考<a href="../reference/arkui-for-android/BridgePlugin.md" target="_blank" rel="noopener nofollow">BridgePlugin</a>，iOS侧参考<a href="../reference/arkui-for-ios/BridgePlugin.md" target="_blank" rel="noopener nofollow">BridgePlugin</a>。</p>
<h2 id="使用场景及能力">使用场景及能力</h2>
<h3 id="使用场景">使用场景</h3>
<p>平台桥接主要用于这样的场景：应用需要复用平台的代码，而在OpenHarmony中没有对应的跨平台API（不包括UI相关）实现。</p>
<p>具体可用于以下场景：</p>
<p>1、ArkUI与平台双向传递数据，如传递JSON数据、图片等；<br><br>
2、ArkUI侧调用平台的API，如获取Android或iOS平台上的电池电量、复用平台上的三方库等；<br><br>
3、平台调用ArkUI侧的方法，如复用JavaScript的三方库等。</p>
<blockquote>
<p><strong>说明</strong></p>
<p>平台桥接支持ArkUI调用Android Java API和iOS Objective-C API。此外，一些平台相关功能可直接通过已有的<a href="../reference/apis/README.md" target="_blank" rel="noopener nofollow">OpenHarmony跨平台API</a>实现。</p>
</blockquote>
<h3 id="数据类型支持">数据类型支持</h3>
<p>平台桥接通过JSON格式或二进制格式序列化编解码传递数据，支持基础数据类型、数组类型和结构化数据。具体支持类型如下表</p>
<p>JSON格式数据支持类型表：</p>
<table>
<thead>
<tr>
<th>ArkTS</th>
<th>Java</th>
<th>Objective-C</th>
</tr>
</thead>
<tbody>
<tr>
<td>string</td>
<td>java.lang.String</td>
<td>NSString</td>
</tr>
<tr>
<td>number(32bit integer)</td>
<td>java.lang.Integer</td>
<td>NSNumber numberWithInt</td>
</tr>
<tr>
<td>number(64bit integer)</td>
<td>java.lang.Long</td>
<td>NSNumber numberWithLong</td>
</tr>
<tr>
<td>number(double)</td>
<td>java.lang.Double</td>
<td>NSNumber numberWithDouble</td>
</tr>
<tr>
<td>boolean</td>
<td>java.lang.Boolean</td>
<td>NSNumber numberWithBool</td>
</tr>
<tr>
<td>null</td>
<td>null</td>
<td>NSNull</td>
</tr>
<tr>
<td>Array&lt;string&gt;</td>
<td>string[]</td>
<td>NSArray</td>
</tr>
<tr>
<td>Array&lt;number&gt;</td>
<td>int[], long[], double[]</td>
<td>NSArray</td>
</tr>
<tr>
<td>Array&lt;boolean&gt;</td>
<td>boolean[]</td>
<td>NSArray</td>
</tr>
<tr>
<td>Record&lt;string, S&gt;</td>
<td>java.util.HashMap</td>
<td>NSDictionary</td>
</tr>
</tbody>
</table>
<p>二进制格式数据支持类型表：</p>
<table>
<thead>
<tr>
<th>ArkTS</th>
<th>java类型</th>
<th>OC类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>null</td>
<td>null</td>
<td>NSNull</td>
</tr>
<tr>
<td>boolean</td>
<td>java.lang.Boolean</td>
<td>NSNumber numberWithBool</td>
</tr>
<tr>
<td>number(32bit integer)</td>
<td>java.lang.Integer</td>
<td>NSNumber numberWithInt</td>
</tr>
<tr>
<td>number(64bit integer)</td>
<td>java.lang.Long</td>
<td>NSNumber numberWithLong</td>
</tr>
<tr>
<td>number(double)</td>
<td>java.lang.Double</td>
<td>NSNumber numberWithDouble</td>
</tr>
<tr>
<td>string</td>
<td>java.lang.String</td>
<td>NSString</td>
</tr>
<tr>
<td>ArrayBuffer</td>
<td>java.nio.ByteBuffer</td>
<td>NSData</td>
</tr>
<tr>
<td>Array&lt;string&gt;</td>
<td>string[]</td>
<td>NSArray</td>
</tr>
<tr>
<td>Array&lt;number&gt;</td>
<td>int[], long[], double[]</td>
<td>NSArray</td>
</tr>
<tr>
<td>Array&lt;boolean&gt;</td>
<td>boolean[]</td>
<td>NSArray</td>
</tr>
<tr>
<td>Record&lt;string, S&gt;</td>
<td>java.util.HashMap</td>
<td>NSDictionary</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>说明</strong></p>
<p>1、S表示string、number、boolean类型；<br><br>
2、Record表示&lt;key, value&gt;类型，key仅为string类型，value为S类型；<br><br>
3、string类型数据最大传输大小限制为2MB;<br></p>
</blockquote>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-06-20 12:36">2025-06-20 12:36</span>&nbsp;
<a href="https://www.cnblogs.com/zhaloe">龙儿筝</a>&nbsp;
阅读(<span id="post_view_count">6</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18937271);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18937271', targetLink: 'https://www.cnblogs.com/zhaloe/p/18937271', title: 'ArkUI-X平台桥接Bridge说明' })">举报</a>
</div>
        