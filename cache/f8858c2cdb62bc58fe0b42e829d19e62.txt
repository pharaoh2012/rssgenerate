
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/tianwuyvlianshui/p/18870062" title="发布于 2025-05-10 19:49">
    <span role="heading" aria-level="2">ESP32S3 OTA升级</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="esp32s3-ota升级">ESP32S3 OTA升级</h1>
<p>学习自b站视频【ESP-IDF-OTA远程升级简单介绍-宋工】<a href="https://www.bilibili.com/video/BV1X1zbYGEix?vd_source=a9a2fcd65fa0817628dc9bf362927b6e%EF%BC%8C%E4%B9%90%E9%91%AB%E4%BE%8B%E7%A8%8B" target="_blank" rel="noopener nofollow">https://www.bilibili.com/video/BV1X1zbYGEix?vd_source=a9a2fcd65fa0817628dc9bf362927b6e，乐鑫例程</a></p>
<h2 id="选择idf例程">选择idf例程</h2>
<p>选择原生OTA升级</p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194740606-67884072.png" alt="image-20250510143604147" loading="lazy"></p>
<h2 id="配置wifi">配置wifi</h2>
<p>更改为自己wifi的名称和密码</p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194741109-1169376351.png" alt="image-20250510150443372" loading="lazy"></p>
<p>修改升级的固件地址（URL）：</p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194741442-1916877820.png" alt="image-20250510153540775" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194741837-1247747026.png" alt="image-20250510155838951" loading="lazy"></p>
<p>添加终端打印当前固件版本（main函数中）</p>
<pre><code class="language-c">    const esp_app_desc_t *desc = esp_app_get_description();//获取并打印当前固件的版本信息
    ESP_LOGI(TAG, "version: %s", desc-&gt;version);
</code></pre>
<h2 id="制作ota升级固件">制作OTA升级固件</h2>
<p>修改CMakeLists，编译固件</p>
<p>路径：</p>
<p>D:\Esp_ALL_Project\native_ota_example\CMakeLists.txt</p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194742226-1093918693.png" alt="image-20250510193336555" loading="lazy"></p>
<p>固件生成路径：</p>
<p>工程目录 -&gt; build文件夹下 -&gt; 工程名字.bin</p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194742577-713810032.png" alt="image-20250510193525929" loading="lazy"></p>
<h2 id="上传需要更新的固件">上传需要更新的固件</h2>
<p>选择巴法云作为固件更新云服务器</p>
<p><a href="https://cloud.bemfa.com/tcp/ota.html?did=OTALX&amp;v=1" target="_blank" rel="noopener nofollow">巴法开放平台_巴法云_巴法物联网云平台</a></p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194742901-1948219107.png" alt="image-20250510193020571" loading="lazy"></p>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194743301-1880051127.png" alt="image-20250510193052853" loading="lazy"></p>
<h2 id="运行程序ota升级">运行程序，OTA升级</h2>
<h3 id="1固件版本相同不升级">1、固件版本相同，不升级</h3>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194743716-1619792190.png" alt="image-20250510161328843" loading="lazy"></p>
<h3 id="2固件版本落后更新固件">2、固件版本落后，更新固件</h3>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194744312-1208913573.png" alt="image-20250510162136190" loading="lazy"></p>
<h3 id="运行新的固件">运行新的固件</h3>
<p><img src="https://img2023.cnblogs.com/blog/3281938/202505/3281938-20250510194744695-807258322.png" alt="image-20250510162339015" loading="lazy"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.026605411175925926" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-10 19:49">2025-05-10 19:49</span>&nbsp;
<a href="https://www.cnblogs.com/tianwuyvlianshui">沁拒离</a>&nbsp;
阅读(<span id="post_view_count">3</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18870062);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18870062', targetLink: 'https://www.cnblogs.com/tianwuyvlianshui/p/18870062', title: 'ESP32S3 OTA升级' })">举报</a>
</div>
        