
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/chenshibao/p/18754916" title="发布于 2025-03-06 13:01">
    <span role="heading" aria-level="2">docker和docker compose安装使用</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="1两者的区别是什么">1.两者的区别是什么？</h2>
<p>Docker 是一个开源的容器化平台，可以帮助我们快速构建、打包和运行应用程序。而 Docker Compose 则是用于管理多个容器应用的工具，可以轻松定义和管理多个容器之间的关系。</p>
<h3 id="11-apt安装">1.1 apt安装</h3>
<pre><code>- sudo apt update
- apt install docker.io
- sudo systemctl status docker
</code></pre>
<h3 id="12-配置镜像加速">1.2 配置镜像加速</h3>
<pre><code>vim /etc/docker/daemon.json
</code></pre>
<p>配置信息</p>
<pre><code>	{
	  "registry-mirrors": ["https://registry.docker-cn.com","https://hmdsd139.mirror.aliyuncs.com","https://docker.mirrors.ustc.edu.cn"],
	  "log-driver":"json-file",
	  "log-opts": {"max-size":"500m", "max-file":"3","compress": "true"}
	}
</code></pre>
<h3 id="13-重启docker守护进程">1.3 重启docker守护进程</h3>
<pre><code>systemctl daemon-reload
systemctl restart docker
</code></pre>
<h3 id="14-验证安装">1.4 验证安装</h3>
<pre><code>docker -v
</code></pre>
<p>有版本信息说明安装成功</p>
<h2 id="2docker-compose的安装">2.docker-compose的安装</h2>
<p>Compose 项目是 Docker 官方的开源项目，负责实现对 Docker 容器集群的快速编排。Dockerfile我们很容易定义一个单独的应用容器。然而在日常开发工作中，经常会碰到需要多个容器相互配合来完成某项任务的情况。例如要实现一个 Web 项目，除了 Web 服务容器本身，往往还需要再加上后端的数据库服务容器；再比如在分布式应用一般包含若干个服务，每个服务一般都会部署多个实例。如果每个服务都要手动启停，那么效率之低、维护量之大可想而知。这时候就需要一个工具能够管理一组相关联的的应用容器，这就是Docker Compose。</p>
<h3 id="21-compose重要的概念">2.1 Compose重要的概念</h3>
<p>项目（Project）：由一组关联的应用容器组成的一个完整业务单元，在 docker-compose.yml 文件中定义。<br>
服务（Service）：一个应用的容器，实际上可以包括若干运行相同镜像的容器实例。</p>
<p>docker compose运行目录下的所有yml文件组成一个工程，一个工程包含多个服务，每个服务中定义了容器运行的镜像、参数、依赖。一个服务可包括多个容器实例。docker-compose就是docker容器的编排工具，主要就是解决相互有依赖关系的多个容器的管理。</p>
<h3 id="22-docker-compose安装">2.2 docker-compose安装</h3>
<p>从github上下载docker-compose二进制文件安装</p>
<pre><code>下载最新版的docker-compose文件
</code></pre>
<p>官方文档地址：</p>
<pre><code>https://docs.docker.com/compose/install/
</code></pre>
<p>下载地址：</p>
<pre><code>https://github.com/docker/compose/releases/
</code></pre>
<p>下载最新的release版的docker-compose-linux-x86_64</p>
<h3 id="23-添加可执行权限">2.3 添加可执行权限</h3>
<pre><code>cd /usr/local/bin/
mv docker-compose-linux-x86_64 docker-compose
sudo chmod +x docker-compose
</code></pre>
<h3 id="24-测试安装结果-docker-compose---version">2.4 测试安装结果 docker-compose --version</h3>
<pre><code>Docker Compose version v2.5.0
</code></pre>
<h3 id="3-docker使用过程中常见问题">3 docker使用过程中常见问题</h3>
<p>Docker中下载阿里云镜像时报错<br>
报错信息</p>
<pre><code>Error response from daemon: manifest for registry.cn-hangzhou.aliyuncs.com/mindoc/mindoc:v0.12 not found: manifest unknown: manifest unknown
</code></pre>
<ul>
<li>检查网络连接：确保你的服务器能够正常连接到互联网。尝试使用浏览器或其他工具测试服务器的网络连接。</li>
<li>检查Docker配置：查看你的Docker配置文件（通常是/etc/docker/daemon.json），确认是否配置了正确的镜像加速器地址。阿里云提供了加速器地址，你可以在阿里云官网找到相应的文档。</li>
<li>重启Docker服务：在修改了Docker配置文件后，你需要重启Docker服务使配置生效。可以使用以下命令重启Docker：</li>
</ul>
<p>重启命令：</p>
<pre><code>sudo systemctl restart docker
</code></pre>
<ul>
<li>
<p>清理缓存：有时候Docker的缓存可能导致问题，尝试清理Docker的缓存并重新下载镜像。可以使用以下命令清理缓存：</p>
<pre><code>  docker system prune -a
</code></pre>
</li>
</ul>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="12.836859175474537" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-06 13:02">2025-03-06 13:01</span>&nbsp;
<a href="https://www.cnblogs.com/chenshibao">似梦亦非梦</a>&nbsp;
阅读(<span id="post_view_count">69</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18754916" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18754916);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18754916', targetLink: 'https://www.cnblogs.com/chenshibao/p/18754916', title: 'docker和docker compose安装使用' })">举报</a>
</div>
        