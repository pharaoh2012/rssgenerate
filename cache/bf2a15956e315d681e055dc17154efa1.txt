
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/yayujs/p/18691975" title="发布于 2025-01-26 17:00">
    <span role="heading" aria-level="2">Svelte 最新中文文档翻译（5）—— 基础标记</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="前言">前言</h2>
<p>Svelte，一个非常“有趣”、用起来“很爽”的前端框架。从 Svelte 诞生之初，就备受开发者的喜爱，根据统计，<strong>从 2019 年到 2024 年，连续 6 年一直是开发者最感兴趣的前端框架 No.1</strong>：</p>
<p><img src="https://github.com/user-attachments/assets/48df16b1-939c-489b-8d52-6071869893f0" alt="Image" loading="lazy"></p>
<p>Svelte 以其独特的编译时优化机制著称，具有<strong>轻量级</strong>、<strong>高性能</strong>、<strong>易上手</strong>等特性，<strong>非常适合构建轻量级 Web 项目，也是我做个人项目的首选技术栈。</strong></p>
<p>目前 Svelte 基于 Svelte 5 发布了最新的官方文档，但却缺少对应的中文文档。为了帮助大家学习 Svelte，为爱发电翻译了官方文档。</p>
<p>我同时搭建了 Svelte 最新的中文文档站点：<a href="https://svelte.yayujs.com" target="_blank" rel="noopener nofollow">https://svelte.yayujs.com</a> ，如果需要辅助学习，也可以入手我的小册<a href="https://s.juejin.cn/ds/iycmvygA/" target="_blank" rel="noopener nofollow">《Svelte 开发指南》</a>，语法篇、实战篇、原理篇三大篇章带你系统掌握 Svelte！</p>
<p>虽说是翻译，但个人并不喜欢严格遵守原文，为了保证中文阅读流畅，会删减部分语句，对难懂的部分也会另做补充解释，希望能给大家带来一个好的中文学习体验。</p>
<p>欢迎围观我的<a href="https://yayujs.com" target="_blank" rel="noopener nofollow">“朋友圈”</a>、加入<a href="https://www.yuque.com/yayu/nice-people/xou8qr" target="_blank" rel="noopener nofollow">“低调务实优秀中国好青年”</a>前端社群，分享技术，带你成长。</p>
<h2 id="基础标记">基础标记</h2>
<p>Svelte 组件内的标记可以被理解为增强版的 HTML。</p>
<h3 id="标签">标签</h3>
<p>小写标签，如 <code>&lt;div&gt;</code>，表示常规的 HTML 元素。大写标签或使用点符号的标签，如 <code>&lt;Widget&gt;</code> 或 <code>&lt;my.stuff&gt;</code>，表示一个<em>组件</em>。</p>
<pre><code class="language-svelte">&lt;script&gt;
	import Widget from './Widget.svelte';
&lt;/script&gt;

&lt;div&gt;
	&lt;Widget /&gt;
&lt;/div&gt;
</code></pre>
<h3 id="元素属性">元素属性</h3>
<p>默认情况下，属性的工作方式与其 HTML 对应项完全相同。</p>
<pre><code class="language-svelte">&lt;div class="foo"&gt;
	&lt;button disabled&gt;can't touch this&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p>与 HTML 一样，属性值可以不加引号。</p>

<pre><code class="language-svelte">&lt;input type=checkbox /&gt;
</code></pre>
<p>属性值可以包含 JavaScript 表达式。</p>
<pre><code class="language-svelte">&lt;a href="page/{p}"&gt;page {p}&lt;/a&gt;
</code></pre>
<p>或者它们本身就可以<em>是</em> JavaScript 表达式。</p>
<pre><code class="language-svelte">&lt;button disabled={!clickable}&gt;...&lt;/button&gt;
</code></pre>
<p>如果布尔属性的值为<a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy" target="_blank" rel="noopener nofollow">真值</a>，则会包含在元素中，如果为<a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" target="_blank" rel="noopener nofollow">假值</a>，则会被排除。</p>
<p>所有其他属性除非其值为<a href="https://developer.mozilla.org/en-US/docs/Glossary/Nullish" target="_blank" rel="noopener nofollow">空值</a>（<code>null</code> 或 <code>undefined</code>），否则都会被包含。</p>
<pre><code class="language-svelte">&lt;input required={false} placeholder="This input field is not required" /&gt;
&lt;div title={null}&gt;This div has no title attribute&lt;/div&gt;
</code></pre>
<blockquote>
<p>[!NOTE] 在单个表达式外加引号不会影响值的解析方式，但在 Svelte 6 中会导致值被强制转换为字符串：</p>

<pre><code class="language-svelte">&lt;button disabled="{number !== 42}"&gt;...&lt;/button&gt;
</code></pre>
</blockquote>
<p>当属性名和值相同时（<code>name={name}</code>），可以简写为 <code>{name}</code>。</p>
<pre><code class="language-svelte">&lt;button {disabled}&gt;...&lt;/button&gt;
&lt;!-- 等同于
&lt;button disabled={disabled}&gt;...&lt;/button&gt;
--&gt;
</code></pre>
<h3 id="组件属性">组件属性</h3>
<p>按照惯例，传递给组件的值被称为<em>属性（properties）</em>或<em>props</em>，而不是<em>特性（attributes）</em>，后者是 DOM 的一个特征。</p>
<blockquote>
<p>译者注：Property 和 Attributes 通常都翻译为“属性”，在做区分时，通常会将 Attributes 翻译为“特性”。Attributes 指的是直接在 HTML 元素上设置的值，通过提供元素的附加信息来指导其初始行为和状态。</p>
</blockquote>
<p>与元素一样，<code>name={name}</code> 可以简写为 <code>{name}</code>。</p>
<pre><code class="language-svelte">&lt;Widget foo={bar} answer={42} text="hello" /&gt;
</code></pre>
<p><em>展开属性</em>允许一次性将多个特性或属性传递给元素或组件。</p>
<p>一个元素或组件可以有多个展开属性，并与常规属性交错使用。</p>
<pre><code class="language-svelte">&lt;Widget {...things} /&gt;
</code></pre>
<h3 id="事件">事件</h3>
<p>通过在元素上添加以 <code>on</code> 开头的属性，可以监听 DOM 事件。例如，要监听 <code>click</code> 事件，在按钮上添加 <code>onclick</code> 属性：</p>
<pre><code class="language-svelte">&lt;button onclick={() =&gt; console.log('clicked')}&gt;click me&lt;/button&gt;
</code></pre>
<p>事件属性区分大小写。<code>onclick</code> 监听 <code>click</code> 事件，<code>onClick</code> 监听 <code>Click</code> 事件，这是不同的。这确保你可以监听包含大写字符的自定义事件。</p>
<p>因为事件只是属性，所以适用与属性相同的规则：</p>
<ul>
<li>你可以使用简写形式：<code>&lt;button {onclick}&gt;click me&lt;/button&gt;</code></li>
<li>你可以展开它们：<code>&lt;button {...thisSpreadContainsEventAttributes}&gt;click me&lt;/button&gt;</code></li>
</ul>
<p>在时序上，事件属性总是在绑定事件之后触发（例如，<code>oninput</code> 总是在 <code>bind:value</code> 更新后触发）。在底层，一些事件处理程序是直接通过 <code>addEventListener</code> 附加的，而其他的则是<em>委托</em>的。</p>
<p>当使用 <code>ontouchstart</code> 和 <code>ontouchmove</code> 事件属性时，处理程序是<a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#using_passive_listeners" target="_blank" rel="noopener nofollow">passive</a>可以获得更好的性能。这极大地提高了响应性，因为浏览器可以立即滚动文档，而不是等待查看事件处理程序是否调用 <code>event.preventDefault()</code>。</p>
<p>在极少数情况下，如果你需要阻止这些事件的默认行为，你应该使用 <a href="https://svelte.yayujs.com/docs/svelte/svelte-events#on" target="_blank" rel="noopener nofollow"><code>on</code></a>（例如在 action 内部）。</p>
<h4 id="事件委托">事件委托</h4>
<p>为了减少内存占用并提高性能，Svelte 使用了一种称为事件委托的技术。这意味着对于某些事件（见下面的列表），在应用程序根部的单个事件监听器负责运行事件路径上的所有处理程序。</p>
<p>需要注意以下几个陷阱：</p>
<ul>
<li>当你手动触发一个带有委托监听器的事件时，确保设置 <code>{ bubbles: true }</code> 选项，否则它将无法到达应用程序根部</li>
<li>当直接使用 <code>addEventListener</code> 时，避免调用 <code>stopPropagation</code>，否则事件将无法到达应用程序根部，处理程序将不会被调用。同样，在应用程序根部手动添加的处理程序将在 DOM 深处声明式添加的处理程序（例如用 <code>onclick={...}</code>）之前运行，无论是在捕获还是冒泡阶段。出于这些原因，最好使用从 <code>svelte/events</code> 导入的 <code>on</code> 函数，而不是 <code>addEventListener</code>，因为它将确保顺序得到保持，并且正确处理 <code>stopPropagation</code>。</li>
</ul>
<p>以下事件处理程序是委托的：</p>
<ul>
<li><code>beforeinput</code></li>
<li><code>click</code></li>
<li><code>change</code></li>
<li><code>dblclick</code></li>
<li><code>contextmenu</code></li>
<li><code>focusin</code></li>
<li><code>focusout</code></li>
<li><code>input</code></li>
<li><code>keydown</code></li>
<li><code>keyup</code></li>
<li><code>mousedown</code></li>
<li><code>mousemove</code></li>
<li><code>mouseout</code></li>
<li><code>mouseover</code></li>
<li><code>mouseup</code></li>
<li><code>pointerdown</code></li>
<li><code>pointermove</code></li>
<li><code>pointerout</code></li>
<li><code>pointerover</code></li>
<li><code>pointerup</code></li>
<li><code>touchend</code></li>
<li><code>touchmove</code></li>
<li><code>touchstart</code></li>
</ul>
<h3 id="文本表达式">文本表达式</h3>
<p>可以通过将 JavaScript 表达式用大括号括起来将其作为文本包含。</p>
<pre><code class="language-svelte">{expression}
</code></pre>
<p>可以通过使用它们的 <a href="https://developer.mozilla.org/docs/Glossary/Entity" target="_blank" rel="noopener nofollow">HTML 实体</a>字符串在 Svelte 模板中包含大括号：<code>&amp;lbrace;</code>、<code>&amp;lcub;</code> 或 <code>&amp;#123;</code> 表示 <code>{</code>，<code>&amp;rbrace;</code>、<code>&amp;rcub;</code> 或 <code>&amp;#125;</code> 表示 <code>}</code>。</p>
<p>如果你使用正则表达式（<code>RegExp</code>）<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#literal_notation_and_constructor" target="_blank" rel="noopener nofollow">字面量表示法</a>，你需要用括号将其括起来。</p>

<pre><code class="language-svelte">&lt;h1&gt;Hello {name}!&lt;/h1&gt;
&lt;p&gt;{a} + {b} = {a + b}.&lt;/p&gt;

&lt;div&gt;{(/^[A-Za-z ]+$/).test(value) ? x : y}&lt;/div&gt;
</code></pre>
<p>表达式将被字符串化并转义以防止代码注入。如果你想渲染 HTML，请使用 <code>{@html}</code> 标签。</p>
<pre><code class="language-svelte">{@html potentiallyUnsafeHtmlString}
</code></pre>
<blockquote>
<p>[!NOTE] 确保你要么对传入的字符串进行转义，要么只使用你控制下的值来填充它，以防止 <a href="https://owasp.org/www-community/attacks/xss/" target="_blank" rel="noopener nofollow">XSS 攻击</a></p>
</blockquote>
<h3 id="注释">注释</h3>
<p>你可以在组件内使用 HTML 注释。</p>
<pre><code class="language-svelte">&lt;!-- this is a comment! --&gt;&lt;h1&gt;Hello world&lt;/h1&gt;
</code></pre>
<p>以 <code>svelte-ignore</code> 开头的注释会禁用下一个标记块的警告。通常，这些是可访问性警告；确保你有充分的理由禁用它们。</p>
<pre><code class="language-svelte">&lt;!-- svelte-ignore a11y-autofocus --&gt;
&lt;input bind:value={name} autofocus /&gt;
</code></pre>
<p>你可以添加一个以 <code>@component</code> 开头的特殊注释，当在其他文件中悬停在组件名称上时会显示该注释。</p>
<pre><code class="language-svelte">&lt;!--
@component
- You can use markdown here.
- You can also use code blocks here.
- Usage:
  ```html
  &lt;Main name="Arethra"&gt;
  ```
--&gt;
&lt;script&gt;
	let { name } = $props();
&lt;/script&gt;

&lt;main&gt;
	&lt;h1&gt;
		Hello, {name}
	&lt;/h1&gt;
&lt;/main&gt;
</code></pre>
<h2 id="svelte-中文文档">Svelte 中文文档</h2>
<p>本篇已收录在掘金专栏 <a href="https://juejin.cn/column/7459299646696374284" target="_blank" rel="noopener nofollow">《Svelte 中文文档》</a>，该系列预计 40 篇。</p>
<p>系统学习 Svelte，欢迎入手小册<a href="https://s.juejin.cn/ds/iycmvygA/" target="_blank" rel="noopener nofollow">《Svelte 开发指南》</a>。语法篇、实战篇、原理篇三大篇章带你系统掌握 Svelte！</p>
<p>此外我还写过 <a href="https://juejin.cn/column/7035531575974592520" target="_blank" rel="noopener nofollow">JavaScript 系列</a>、<a href="https://juejin.cn/column/7029490086710345742" target="_blank" rel="noopener nofollow">TypeScript 系列</a>、<a href="https://juejin.cn/column/7142674773930147853" target="_blank" rel="noopener nofollow">React 系列</a>、<a href="https://juejin.cn/column/7343569488744611849" target="_blank" rel="noopener nofollow">Next.js 系列</a>、<a href="https://juejin.cn/column/7039526067891077151" target="_blank" rel="noopener nofollow">冴羽答读者问</a>等 14 个系列文章， 全系列文章目录：<a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener nofollow">https://github.com/mqyqingfeng/Blog</a></p>
<p>通过文字建立交流本身就是一种缘分，欢迎围观我的<a href="https://yayujs.com" target="_blank" rel="noopener nofollow">“朋友圈”</a>、加入<a href="https://www.yuque.com/yayu/nice-people/xou8qr" target="_blank" rel="noopener nofollow">“低调务实优秀中国好青年”</a>前端社群，分享技术，带你成长。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="4.554747220884259" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-01-26 17:00">2025-01-26 17:00</span>&nbsp;
<a href="https://www.cnblogs.com/yayujs">冴羽</a>&nbsp;
阅读(<span id="post_view_count">99</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18691975" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18691975);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18691975', targetLink: 'https://www.cnblogs.com/yayujs/p/18691975', title: 'Svelte 最新中文文档翻译（5）—— 基础标记' })">举报</a>
</div>
        