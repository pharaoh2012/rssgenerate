
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/heymar/p/18577025" title="发布于 2024-11-29 16:27">
    <span role="heading" aria-level="2">ThreeJs-04详解材质与纹理</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="一matcap材质">一.matcap材质</h1>
<p>这个材质不会受到光照影响，但是如果图片本身有光就可以一直渲染这个图片本来的样子，用来将一个图片纹理渲染到物体上的材质</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625171.png" alt="image-20241121203036600" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625188.png" alt="image-2024112120314790" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625194.png" alt="image-20241121203130183" loading="lazy"></p>
<p>代码实现</p>
<p>加载模型后，开启纹理渲染，并把它的材质变为这个材质，并且贴上纹理图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625204.png" alt="image-20241121203303922" loading="lazy"></p>
<h1 id="二lambert材质">二.Lambert材质</h1>
<p>Lambert网格材质是Three.js中最基本和常用的材质之一。本文将详细介绍Lambert网格材质的定义、特点、应用以及使用方法。</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625215.png" alt="image-20241121203350029" loading="lazy"></p>
<p>简单来说就是这个材质当你设置好各种贴图之后 <mark>实现凹凸不平地面等是比较好的</mark></p>
<p>设置好Lambert材质后，打一个光进来，会发现是漫反射哑光的反射类似于</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625230.png" alt="image-20241121204636638" loading="lazy"></p>
<h1 id="三phong材质">三.phong材质</h1>
<p>PHONG材质是Three.js中常用的一种材质，它是一种基于Phong光照模型的材质，可以用于实现高光和阴影效果。Phong光照模型是一种基于漫反射、镜面反射和环境反射的光照模型，可以用于模拟真实物体的光照效果。</p>
<p>比如涂了漆面的木材，光滑的材质</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625490.png" alt="image-20241121205608593" loading="lazy"></p>
<p>设置为phone材质，在设置高光颜色就可以形成对点光源的反射</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625522.png" alt="image-20241121205751928" loading="lazy"></p>
<p>设置好环境贴图后</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625545.png" alt="image-2024112120583105" loading="lazy"></p>
<p><mark>代码操作</mark></p>
<p>创建光源，把一个平面设置成phone材质</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625619.png" alt="image-20241121210053452" loading="lazy"></p>
<p>添加环境贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625676.png" alt="image-20241121210317472" loading="lazy"></p>
<p>光滑的反射就出来了</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625729.gif" alt="GIF" loading="lazy"></p>
<h2 id="1实现玻璃水晶效果">1.实现玻璃水晶效果</h2>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625242.png" alt="image-20241121210637829" loading="lazy"></p>
<p>加载模型，设置环境光，把这个模型改为phone材质，并且设置两个折射率</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625302.png" alt="image-20241121211041274" loading="lazy"></p>
<p>envmap是环境贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625325.png" alt="image-20241121211105343" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625342.png" alt="image-20241121211116253" loading="lazy"></p>
<p>如果想要折射效果还需要把环境贴图改为折射球形，上下不一样注意</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625370.png" alt="image-20241121211244469" loading="lazy"></p>
<p>当把上面的反射变为折射后，这里的反射率也变为了折射率</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625748.png" alt="image-20241121211339694" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625924.gif" alt="GIF" loading="lazy"></p>
<h1 id="四基础材质详解">四.基础材质详解</h1>
<h2 id="1标准网格材质">1.标准网格材质</h2>
<p>在 Three.js 中，MeshBasicMaterial 是一个用于创建基本材质的类。它能够让您快速创建不需要光照效果的几何体，并且配置非常简单，可以使用颜色、透明度和纹理等属性来自定义材质。MeshBasicMaterial 在 Three.js 中非常重要，因为它是创建简单3D图形的常用材质之一，而且渲染速度很快，能够让您的应用程序保持流畅的交互体验。如果您想要创建更复杂的3D图形，了解 MeshBasicMaterial 是非常有用的，因为它是其他更复杂材质的基础。</p>
<p><mark>注意：标准网格材质需要设定环境贴图</mark></p>
<p><mark>这里做一个记录，系统性的介绍一下各种贴图的作用，在之前的材质也有各种贴图，但是标准是最齐全的能够达到漫反射也能镜反射</mark></p>
<p>加载一个剑的模型</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625604.png" alt="image-20241121212931300" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625625.png" alt="image-20241121212959222" loading="lazy"></p>
<p>先上环境贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625505.png" alt="image-20241121213022720" loading="lazy"></p>
<p>粗糙度为1，漫反射</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625947.png" alt="image-20241121213104366" loading="lazy"></p>
<p>粗糙度为0，镜反射</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626151.png" alt="image-20241121213122418" loading="lazy"></p>
<p>金属度为0</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626370.png" alt="image-20241121213134760" loading="lazy"></p>
<p>金属度为1</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626430.png" alt="image-20241121213145115" loading="lazy"></p>
<p>还原默认，先贴上贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626706.png" alt="image-20241121213227685" loading="lazy"></p>
<p>金属度贴图和金属度是一个相乘的关系，越大就越金属</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626174.png" alt="image-2024112121332269" loading="lazy">法线贴图实现凹凸不平的效果</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626625.png" alt="image-20241121213350159" loading="lazy"></p>
<p>凹凸贴图同理，两个只能设置一个</p>
<p>置换贴图可以让顶点有一个起伏的效果，上面是看起来，这个是真起来</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626803.png" alt="image-20241121213508952" loading="lazy"></p>
<p>粗糙度贴图可以让其光滑</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626973.png" alt="image-20241121213603671" loading="lazy"></p>
<p><mark>注意：真实环境只需要导入进来就是这个样子，不需要一个一个贴图，只是有时候改可以了解</mark></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626292.png" alt="image-20241121213659463" loading="lazy"></p>
<p><mark>代码实现</mark></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626512.png" alt="image-20241121214628508" loading="lazy"></p>
<p><mark>创建环境贴图，背景一定要添加</mark></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626366.png" alt="image-20241121220437668" loading="lazy"></p>
<h2 id="2物理网格材质">2.物理网格材质</h2>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626673.png" alt="image-202411212116590" loading="lazy"></p>
<p>物理材质就是能够在刚才标准材质的基础上新增更多的功能</p>
<p><strong>透光率</strong></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626798.png" alt="image-20241122204625828" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626110.png" alt="image-20241122204733564" loading="lazy"></p>
<p>当粗糙度为0，很光滑的时候就完全透明了</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626255.png" alt="image-20241122204804798" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626292.png" alt="image-2024112220481002" loading="lazy"><strong>厚度</strong></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626772.png" alt="image-20241122204820807" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626960.png" alt="image-20241122204844113" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626108.png" alt="image-20241122204905093" loading="lazy"></p>
<p><strong>折射率，反射率</strong></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626330.png" alt="image-20241122204934596" loading="lazy"></p>
<p><strong>衰减颜色，距离</strong></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626360.png" alt="image-20241122205004480" loading="lazy"></p>
<p>衰减距离越小，就越快到达衰减颜色</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626609.png" alt="image-20241122205157040" loading="lazy"></p>
<p>偏红色</p>
<p><mark>注意：衰减颜色最好都设置1以下不要整的</mark></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626791.png" alt="image-20241122205222422" loading="lazy"></p>
<p><strong>厚度贴图</strong></p>
<p>呈现一个不均匀的厚度</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626125.png" alt="image-20241122205424614" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626259.png" alt="image-20241122205451174" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291625729.gif" alt="GIF" loading="lazy"></p>
<p><strong>清漆效果与清漆透明度</strong></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626406.png" alt="image-20241122205759196" loading="lazy"></p>
<p>单纯设置一个清漆强度为1后</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626710.gif" alt="GIF" loading="lazy"></p>
<p>清漆光滑度，1漫反射，0镜反射</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626265.png" alt="image-20241122205955389" loading="lazy"></p>
<p>map就是通过纹理决定哪些地方要清漆哪些地方不要</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626281.png" alt="image-20241122211724856" loading="lazy"></p>
<p>中间光滑，周围不清漆</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626313.png" alt="image-20241122211758974" loading="lazy"></p>
<p>注意此时应该粗糙度为1，到时候纹理会乘以粗糙度，如果为0始终 都是光滑</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626363.png" alt="image-20241122211904061" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626389.png" alt="image-2024112221191452" loading="lazy"></p>
<p>法线贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626515.png" alt="image-20241122211946090" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626619.png" alt="image-20241122212038525" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626679.png" alt="image-20241122212051464" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626891.png" alt="image-20241122212020950" loading="lazy"></p>
<h2 id="3-布料织物材料光泽效果">3. 布料织物材料光泽效果</h2>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626189.png" alt="image-20241122212504250" loading="lazy"></p>
<p>创建一个物理材质球体</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626254.png" alt="image-2024112221310557" loading="lazy"></p>
<p>设置光泽及颜色后</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626314.png" alt="image-20241122213125629" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626392.png" alt="image-20241122213133129" loading="lazy"></p>
<p>光泽粗糙程度</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626959.png" alt="image-20241122213159760" loading="lazy"></p>
<p>设置纹理贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626316.png" alt="image-20241122213308545" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626347.png" alt="image-20241122213313943" loading="lazy"></p>
<h2 id="4肥皂泡油滴蝴蝶翅膀等薄膜的虹彩效应">4.肥皂泡、油滴、蝴蝶翅膀等薄膜的虹彩效应</h2>
<p>反射出各种颜色的材质</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626448.png" alt="image-20241122213453225" loading="lazy"></p>
<p>这种效果实际是有两层组成，外面一层负责反射折射</p>
<p>创建一个基本球体，有粗糙度，透明度，还有一层厚度</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626615.png" alt="image-20241122214131627" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626156.png" alt="image-20241122214150959" loading="lazy"></p>
<p>设置彩虹色，反射率和彩虹色折射率</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626270.png" alt="image-20241122214426056" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626425.gif" alt="GIF" loading="lazy"></p>
<p>薄膜厚度范围</p>
<p>默认</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626744.png" alt="image-20241122214542012" loading="lazy"></p>
<p>设置薄膜厚度贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626807.png" alt="image-20241122214626750" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626955.png" alt="image-2024112221461734" loading="lazy"></p>
<h2 id="5清除物体_几何体_材质_纹理保证性能和内存不泄漏">5.清除物体_几何体_材质_纹理保证性能和内存不泄漏</h2>
<p>比如这里不断创建一个随机材质，随机几何体的物体，不断回调自身</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626045.png" alt="image-20241122215953044" loading="lazy"></p>
<p>此时cpu使用率和内存大小都在不断增加，到一定程度就会网页崩溃</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626095.gif" alt="GIF" loading="lazy"></p>
<p>要优化这种情况就是</p>
<p><mark>每一帧渲染完毕，render.render就是渲染的语句，就去清除掉物体几何体等</mark></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626238.png" alt="image-20241122220154401" loading="lazy"></p>
<h2 id="6巧用物理发光属性打造逼真iphone产品">6.巧用物理发光属性打造逼真IPHONE产品</h2>
<p><mark>在很多建模软件直接导出来给到3D导入会发现有些属性发光等会缺失，这是因为两者有些内容并不兼用，所以这个时候通常是加载到three的编辑器里面，进行编辑之后，满意之后再导出到three里面进行模型加载</mark></p>
<p>刚加载进来</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626256.png" alt="image-20241122221251880" loading="lazy"></p>
<p>找到屏幕材质，设置好之后导出</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626906.png" alt="image-20241122222931053" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626095.png" alt="image-20241122222937759" loading="lazy"></p>
<p>加载进来就行了</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626164.png" alt="image-20241122223013122" loading="lazy"></p>
<h2 id="7修改模型光泽效果打造逼真室内场景">7.修改模型光泽效果打造逼真室内场景</h2>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626214.png" alt="image-20241122223145966" loading="lazy"></p>
<p>刚导入进来</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626670.png" alt="image-20241122223537547" loading="lazy"></p>
<p>设置光泽光泽颜色</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626808.png" alt="image-20241122223739589" loading="lazy"></p>
<p>毛绒效果，法线贴图</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626870.png" alt="image-20241122224209173" loading="lazy"></p>
<p><mark>控制角度</mark></p>
<p>如果让用户随意去转动很容易穿帮</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626925.png" alt="image-20241122224856196" loading="lazy"></p>
<p><mark>首先设置起始位置</mark></p>
<p>可以添加轨道控制器来辅助查看</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626303.png" alt="image-20241122225650253" loading="lazy"></p>
<p>设置相机初始位置，以及一开始看向的角度，x轴是横向看多宽，y是看多高，要设置lookat一开始看的角度还得配合控制器</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626221.png" alt="image-20241122225756210" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626272.png" alt="image-20241122225836884" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626293.png" alt="image-20241122225823919" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626379.png" alt="image-20241122225912473" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626452.png" alt="image-20241122225928130" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626481.png" alt="image-20241122230031381" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626561.gif" alt="GIF" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626551.png" alt="image-20241122230117022" loading="lazy"></p>
<p>垂直的最小角度是网上旋转，最大角度是往下旋转</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626501.png" alt="image-20241122230255085" loading="lazy"></p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626565.gif" alt="GIF" loading="lazy"></p>
<p>水平左右的角度</p>
<p><img src="https://heymar.oss-cn-chengdu.aliyuncs.com/undefined202411291626528.png" alt="image-20241122230404132" loading="lazy"></p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="28.491941912452546" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2024-11-29 16:27">2024-11-29 16:27</span>&nbsp;
<a href="https://www.cnblogs.com/heymar">Heymar-10</a>&nbsp;
阅读(<span id="post_view_count">211</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18577025" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18577025);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18577025', targetLink: 'https://www.cnblogs.com/heymar/p/18577025', title: 'ThreeJs-04详解材质与纹理' })">举报</a>
</div>
        