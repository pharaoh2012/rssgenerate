
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/xiaokang-coding/p/19049373" title="å‘å¸ƒäº 2025-08-20 19:33">
    <span role="heading" aria-level="2">C++æ–°æ‰‹å¿…å­¦ï¼šç”¨libcurlè½»æ¾å®ç°æ–‡ä»¶ä¸‹è½½ï¼Œ10åˆ†é’Ÿä¸Šæ‰‹ï¼</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°åº·ã€‚</p>
<p>å˜¿ï¼Œå„ä½C++å°ä¼™ä¼´ä»¬ğŸ‘‹</p>
<p>æœ€è¿‘å¾ˆå¤šåŒå­¦åœ¨åå°é—®æˆ‘ï¼š"åº·å“¥ï¼Œæƒ³ç”¨C++å®ç°æ–‡ä»¶ä¸‹è½½åŠŸèƒ½ï¼Œä½†ä¸çŸ¥é“ä»å“ªé‡Œå…¥æ‰‹ï¼Œç½‘ä¸Šçš„æ•™ç¨‹è¦ä¹ˆå¤ªç®€å•ï¼Œè¦ä¹ˆå¤ªå¤æ‚ï¼Œæœ‰æ²¡æœ‰é€‚åˆæ–°æ‰‹çš„å®æˆ˜æ•™ç¨‹ï¼Ÿ"</p>
<p>ä»Šå¤©å°±æ¥æ»¡è¶³å¤§å®¶çš„éœ€æ±‚ï¼ç”¨æœ€ç®€å•çš„æ–¹å¼ï¼Œå¸¦ä½ æŒæ¡<strong>C++ + libcurlå®ç°æ–‡ä»¶ä¸‹è½½</strong>çš„æ ¸å¿ƒæŠ€æœ¯ã€‚</p>
<p>ä¸ä»…è®©ä½ å­¦ä¼šåŸºç¡€ä¸‹è½½ï¼Œæ›´é‡è¦çš„æ˜¯ä¸ºåç»­çš„<strong>å¤šçº¿ç¨‹é«˜æ€§èƒ½ä¸‹è½½å™¨</strong>æ‰“ä¸‹åšå®åŸºç¡€ï¼</p>
<h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©libcurl">ä¸ºä»€ä¹ˆé€‰æ‹©libcurlï¼Ÿ</h2>
<p>åœ¨C++ä¸­å®ç°HTTPä¸‹è½½ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šé€‰æ‹©ï¼š</p>
<ul>
<li><strong>socketç¼–ç¨‹</strong>ï¼šå¤ªåº•å±‚ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†HTTPåè®®</li>
<li><strong>ç¬¬ä¸‰æ–¹ç½‘ç»œåº“</strong>ï¼šå­¦ä¹ æˆæœ¬é«˜ï¼Œä¾èµ–å¤æ‚</li>
<li><strong>libcurl</strong>ï¼šå·¥ä¸šçº§æ ‡å‡†ï¼Œç®€å•æ˜“ç”¨ï¼Œå‡ ä¹æ‰€æœ‰Linuxç³»ç»Ÿéƒ½é¢„è£…</li>
</ul>
<p>libcurlçš„ä¼˜åŠ¿ï¼š</p>
<p>âœ… <strong>ä¹…ç»è€ƒéªŒ</strong>ï¼š è¢«Gitç”¨äºHTTPæ“ä½œï¼Œè¢«PHPå†…ç½®cURLæ‰©å±•é‡‡ç”¨<br>
âœ… <strong>åŠŸèƒ½å¼ºå¤§</strong>ï¼šæ”¯æŒHTTP/HTTPS/FTPç­‰20+åè®®<br>
âœ… <strong>æ–‡æ¡£å®Œå–„</strong>ï¼šå®˜æ–¹æ–‡æ¡£è¯¦ç»†ï¼Œç¤¾åŒºæ´»è·ƒ<br>
âœ… <strong>æ€§èƒ½ä¼˜ç§€</strong>ï¼šCè¯­è¨€å®ç°ï¼Œæ•ˆç‡æé«˜<br>
âœ… <strong>è·¨å¹³å°</strong>ï¼šWindows/Linux/macOSå…¨æ”¯æŒ</p>
<h2 id="ç¯å¢ƒå‡†å¤‡">ç¯å¢ƒå‡†å¤‡</h2>
<h3 id="ubuntudebianç³»ç»Ÿ">Ubuntu/Debianç³»ç»Ÿï¼š</h3>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get install libcurl4-openssl-dev
</code></pre>
<h3 id="centosrhelç³»ç»Ÿ">CentOS/RHELç³»ç»Ÿï¼š</h3>
<pre><code class="language-bash">sudo yum install libcurl-devel
# æˆ–è€…æ–°ç‰ˆæœ¬ä½¿ç”¨
sudo dnf install libcurl-devel
</code></pre>
<h3 id="éªŒè¯å®‰è£…">éªŒè¯å®‰è£…ï¼š</h3>
<pre><code class="language-bash">curl-config --version
</code></pre>
<p>å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼</p>
<h2 id="ç¬¬ä¸€ä¸ªä¸‹è½½ç¨‹åºhellodownloader">ç¬¬ä¸€ä¸ªä¸‹è½½ç¨‹åºï¼šHelloDownloader</h2>
<p>æˆ‘ä»¬ä»æœ€ç®€å•çš„ä¾‹å­å¼€å§‹ã€‚åˆ›å»ºæ–‡ä»¶ <code>hello_downloader.cpp</code>ï¼š</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;curl/curl.h&gt;

// æ•°æ®å†™å…¥å›è°ƒå‡½æ•°
size_t writeData(void* ptr, size_t size, size_t nmemb, FILE* stream) {
    size_t written = fwrite(ptr, size, nmemb, stream);
    return written;
}

int main() {
    CURL* curl;
    FILE* fp;
    CURLcode res;
    
    // ä¸‹è½½é“¾æ¥ï¼ˆè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼‰
    const char* url = "https://httpbin.org/json";
    const char* outfilename = "test.json";
    
    // å…¨å±€åˆå§‹åŒ–curl
    curl_global_init(CURL_GLOBAL_DEFAULT);
    
    // åˆ›å»ºcurlå¥æŸ„
    curl = curl_easy_init();
    if(curl) {
        // æ‰“å¼€æœ¬åœ°æ–‡ä»¶å‡†å¤‡å†™å…¥
        fp = fopen(outfilename, "wb");
        if(!fp) {
            std::cerr &lt;&lt; "æ— æ³•åˆ›å»ºæ–‡ä»¶ï¼" &lt;&lt; std::endl;
            curl_easy_cleanup(curl);
            curl_global_cleanup();
            return 1;
        }
        
        // è®¾ç½®URL
        curl_easy_setopt(curl, CURLOPT_URL, url);
        
        // è®¾ç½®å†™å…¥å›è°ƒå‡½æ•°
        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, writeData);
        
        // è®¾ç½®å†™å…¥æ–‡ä»¶æŒ‡é’ˆ
        curl_easy_setopt(curl, CURLOPT_WRITEDATA, fp);
        
        // è·Ÿéšé‡å®šå‘
        curl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);
        
        // æ‰§è¡Œä¸‹è½½
        res = curl_easy_perform(curl);
        
        // æ£€æŸ¥ç»“æœ
        if(res != CURLE_OK) {
            std::cerr &lt;&lt; "ä¸‹è½½å¤±è´¥: " &lt;&lt; curl_easy_strerror(res) &lt;&lt; std::endl;
        } else {
            std::cout &lt;&lt; "ä¸‹è½½æˆåŠŸï¼æ–‡ä»¶ä¿å­˜ä¸º: " &lt;&lt; outfilename &lt;&lt; std::endl;
        }
        
        // æ¸…ç†
        fclose(fp);
        curl_easy_cleanup(curl);
    }
    
    curl_global_cleanup();
    return 0;
}
</code></pre>
<p><strong>ç¼–è¯‘è¿è¡Œï¼š</strong></p>
<pre><code class="language-bash">g++ -o hello_downloader hello_downloader.cpp -lcurl
./hello_downloader
</code></pre>
<p>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="language-plain">ä¸‹è½½æˆåŠŸï¼æ–‡ä»¶ä¿å­˜ä¸º: test.json
</code></pre>
<p><strong>æ­å–œï¼ä½ çš„ç¬¬ä¸€ä¸ªC++ä¸‹è½½å™¨è¯ç”Ÿäº†ï¼</strong></p>
<h2 id="è¿›é˜¶ç‰ˆæœ¬å¸¦è¿›åº¦æ˜¾ç¤ºçš„ä¸‹è½½å™¨">è¿›é˜¶ç‰ˆæœ¬ï¼šå¸¦è¿›åº¦æ˜¾ç¤ºçš„ä¸‹è½½å™¨</h2>
<p>åŸºç¡€ç‰ˆæœ¬å¤ªæœ´ç´ ï¼Ÿæ¥ä¸ªç‚«é…·çš„è¿›åº¦æ¡ç‰ˆæœ¬ï¼</p>
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;iomanip&gt;
#include &lt;curl/curl.h&gt;

// è¿›åº¦å›è°ƒå‡½æ•°
int progressCallback(void* ptr, double totalToDownload, double nowDownloaded, 
                    double totalToUpload, double nowUploaded) {
    if (totalToDownload &lt;= 0.0) return 0;
    
    double percentage = (nowDownloaded / totalToDownload) * 100.0;
    int barWidth = 50;
    int pos = static_cast&lt;int&gt;(barWidth * percentage / 100.0);
    
    std::cout &lt;&lt; "\r[";
    for (int i = 0; i &lt; barWidth; ++i) {
        if (i &lt; pos) std::cout &lt;&lt; "=";
        else if (i == pos) std::cout &lt;&lt; "&gt;";
        else std::cout &lt;&lt; " ";
    }
    std::cout &lt;&lt; "] " &lt;&lt; std::fixed &lt;&lt; std::setprecision(1) &lt;&lt; percentage &lt;&lt; "%";
    std::cout &lt;&lt; " (" &lt;&lt; static_cast&lt;long&gt;(nowDownloaded) &lt;&lt; "/" 
              &lt;&lt; static_cast&lt;long&gt;(totalToDownload) &lt;&lt; " bytes)";
    std::cout.flush();
    
    return 0;
}

// å†™å…¥æ•°æ®å›è°ƒ
size_t writeData(void* ptr, size_t size, size_t nmemb, FILE* stream) {
    return fwrite(ptr, size, nmemb, stream);
}

class SimpleDownloader {
private:
    CURL* curl;
    
public:
    SimpleDownloader() {
        curl_global_init(CURL_GLOBAL_DEFAULT);
        curl = curl_easy_init();
    }
    
    ~SimpleDownloader() {
        if (curl) {
            curl_easy_cleanup(curl);
        }
        curl_global_cleanup();
    }
    
    bool download(const std::string&amp; url, const std::string&amp; filename) {
        if (!curl) return false;
        
        FILE* fp = fopen(filename.c_str(), "wb");
        if (!fp) {
            std::cerr &lt;&lt; "æ— æ³•åˆ›å»ºæ–‡ä»¶: " &lt;&lt; filename &lt;&lt; std::endl;
            return false;
        }
        
        // åŸºæœ¬è®¾ç½®
        curl_easy_setopt(curl, CURLOPT_URL, url.c_str());
        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, writeData);
        curl_easy_setopt(curl, CURLOPT_WRITEDATA, fp);
        curl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);
        
        // è¿›åº¦æ˜¾ç¤ºè®¾ç½®
        curl_easy_setopt(curl, CURLOPT_NOPROGRESS, 0L);
        curl_easy_setopt(curl, CURLOPT_PROGRESSFUNCTION, progressCallback);
        
        // ç”¨æˆ·ä»£ç†ï¼ˆæœ‰äº›ç½‘ç«™éœ€è¦ï¼‰
        curl_easy_setopt(curl, CURLOPT_USERAGENT, "SimpleDownloader/1.0");
        
        // è¶…æ—¶è®¾ç½®
        curl_easy_setopt(curl, CURLOPT_TIMEOUT, 300L);  // 5åˆ†é’Ÿè¶…æ—¶
        curl_easy_setopt(curl, CURLOPT_CONNECTTIMEOUT, 30L);  // è¿æ¥30ç§’è¶…æ—¶
        
        std::cout &lt;&lt; "å¼€å§‹ä¸‹è½½: " &lt;&lt; url &lt;&lt; std::endl;
        CURLcode res = curl_easy_perform(curl);
        std::cout &lt;&lt; std::endl;  // æ¢è¡Œ
        
        fclose(fp);
        
        if (res != CURLE_OK) {
            std::cerr &lt;&lt; "ä¸‹è½½å¤±è´¥: " &lt;&lt; curl_easy_strerror(res) &lt;&lt; std::endl;
            return false;
        }
        
        std::cout &lt;&lt; "ä¸‹è½½å®Œæˆï¼æ–‡ä»¶ä¿å­˜ä¸º: " &lt;&lt; filename &lt;&lt; std::endl;
        return true;
    }
};

int main() {
    SimpleDownloader downloader;
    
    // ä½ å¯ä»¥æ›¿æ¢æˆä»»ä½•ä½ æƒ³ä¸‹è½½çš„æ–‡ä»¶
    std::string url = "https://httpbin.org/json";
    std::string filename = "downloaded_file.json";
    
    if (downloader.download(url, filename)) {
        std::cout &lt;&lt; "ä¸‹è½½æˆåŠŸï¼" &lt;&lt; std::endl;
    } else {
        std::cout &lt;&lt; "ä¸‹è½½å¤±è´¥ï¼" &lt;&lt; std::endl;
    }
    
    return 0;
}
</code></pre>
<p><strong>ç¼–è¯‘è¿è¡Œï¼š</strong></p>
<pre><code class="language-bash">g++ -o progress_downloader progress_downloader.cpp -lcurl
./progress_downloader
</code></pre>
<p>ä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æ•ˆæœï¼š</p>
<pre><code class="language-plain">å¼€å§‹ä¸‹è½½: https://httpbin.org/json
[==================================================] 100.0% (429/429 bytes)
</code></pre>
<h2 id="æ ¸å¿ƒæ¦‚å¿µè¯¦è§£">æ ¸å¿ƒæ¦‚å¿µè¯¦è§£</h2>
<h3 id="1-curlå¥æŸ„ç®¡ç†">1. CURLå¥æŸ„ç®¡ç†</h3>
<pre><code class="language-cpp">// å…¨å±€åˆå§‹åŒ–ï¼ˆç¨‹åºå¯åŠ¨æ—¶è°ƒç”¨ä¸€æ¬¡ï¼‰
curl_global_init(CURL_GLOBAL_DEFAULT);

// åˆ›å»ºä¼šè¯å¥æŸ„
CURL* curl = curl_easy_init();

// ä½¿ç”¨å®Œæ¯•åæ¸…ç†
curl_easy_cleanup(curl);
curl_global_cleanup();
</code></pre>
<h3 id="2-å…³é”®é€‰é¡¹è®¾ç½®">2. å…³é”®é€‰é¡¹è®¾ç½®</h3>
<pre><code class="language-cpp">// åŸºç¡€è®¾ç½®
curl_easy_setopt(curl, CURLOPT_URL, url);                    // è®¾ç½®URL
curl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);          // è·Ÿéšé‡å®šå‘
curl_easy_setopt(curl, CURLOPT_USERAGENT, "MyApp/1.0");      // ç”¨æˆ·ä»£ç†

// è¶…æ—¶æ§åˆ¶
curl_easy_setopt(curl, CURLOPT_TIMEOUT, 300L);               // æ€»è¶…æ—¶æ—¶é—´
curl_easy_setopt(curl, CURLOPT_CONNECTTIMEOUT, 30L);         // è¿æ¥è¶…æ—¶

// SSLè®¾ç½®ï¼ˆHTTPSéœ€è¦ï¼‰
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYPEER, 1L);          // éªŒè¯è¯ä¹¦
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYHOST, 2L);          // éªŒè¯ä¸»æœºå
</code></pre>
<h3 id="3-å›è°ƒå‡½æ•°æœºåˆ¶">3. å›è°ƒå‡½æ•°æœºåˆ¶</h3>
<p>libcurlé€šè¿‡å›è°ƒå‡½æ•°å¤„ç†æ•°æ®ï¼š</p>
<pre><code class="language-cpp">// æ•°æ®æ¥æ”¶å›è°ƒ
size_t writeCallback(void* contents, size_t size, size_t nmemb, void* userp) {
    size_t realsize = size * nmemb;
    // å¤„ç†æ¥æ”¶åˆ°çš„æ•°æ®
    return realsize;  // è¿”å›å¤„ç†çš„å­—èŠ‚æ•°
}

// è¿›åº¦å›è°ƒ
int progressCallback(void* clientp, double dltotal, double dlnow, 
                    double ultotal, double ulnow) {
    // æ˜¾ç¤ºè¿›åº¦ä¿¡æ¯
    return 0;  // è¿”å›0ç»§ç»­ï¼Œé0ä¸­æ­¢
}
</code></pre>
<h2 id="å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 id="é—®é¢˜1ç¼–è¯‘æ—¶æ‰¾ä¸åˆ°curlh">é—®é¢˜1ï¼šç¼–è¯‘æ—¶æ‰¾ä¸åˆ°curl.h</h3>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="language-bash"># æ£€æŸ¥æ˜¯å¦å®‰è£…å¼€å‘åŒ…
dpkg -l | grep curl
# å¦‚æœæ²¡æœ‰ï¼Œé‡æ–°å®‰è£…
sudo apt-get install libcurl4-openssl-dev
</code></pre>
<h3 id="é—®é¢˜2ä¸‹è½½httpsé“¾æ¥å¤±è´¥">é—®é¢˜2ï¼šä¸‹è½½HTTPSé“¾æ¥å¤±è´¥</h3>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="language-cpp">// æ·»åŠ SSLè®¾ç½®
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYPEER, 1L);
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYHOST, 2L);
curl_easy_setopt(curl, CURLOPT_CAINFO, "/etc/ssl/certs/ca-certificates.crt");
</code></pre>
<h3 id="é—®é¢˜3æŸäº›ç½‘ç«™è¿”å›403é”™è¯¯">é—®é¢˜3ï¼šæŸäº›ç½‘ç«™è¿”å›403é”™è¯¯</h3>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="language-cpp">// è®¾ç½®æ›´çœŸå®çš„ç”¨æˆ·ä»£ç†
curl_easy_setopt(curl, CURLOPT_USERAGENT, 
    "Mozilla/5.0 (Linux; x86_64) AppleWebKit/537.36");

// æ·»åŠ è¯·æ±‚å¤´
struct curl_slist* headers = NULL;
headers = curl_slist_append(headers, "Accept: */*");
headers = curl_slist_append(headers, "Accept-Encoding: gzip, deflate");
curl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);
</code></pre>
<h2 id="æ€§èƒ½ä¼˜åŒ–å°è´´å£«">æ€§èƒ½ä¼˜åŒ–å°è´´å£«</h2>
<h3 id="1-å¯ç”¨å‹ç¼©">1. å¯ç”¨å‹ç¼©</h3>
<pre><code class="language-cpp">curl_easy_setopt(curl, CURLOPT_ACCEPT_ENCODING, "");  // è‡ªåŠ¨å¤„ç†æ‰€æœ‰æ”¯æŒçš„ç¼–ç 
</code></pre>
<h3 id="2-å¤ç”¨è¿æ¥">2. å¤ç”¨è¿æ¥</h3>
<pre><code class="language-cpp">curl_easy_setopt(curl, CURLOPT_TCP_KEEPALIVE, 1L);
curl_easy_setopt(curl, CURLOPT_TCP_KEEPIDLE, 120L);
curl_easy_setopt(curl, CURLOPT_TCP_KEEPINTVL, 60L);
</code></pre>
<h3 id="3-è®¾ç½®åˆé€‚çš„ç¼“å†²åŒº">3. è®¾ç½®åˆé€‚çš„ç¼“å†²åŒº</h3>
<pre><code class="language-cpp">curl_easy_setopt(curl, CURLOPT_BUFFERSIZE, 102400L);  // 100KBç¼“å†²åŒº
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ç¯‡æ•™ç¨‹ï¼Œæˆ‘ä»¬å­¦ä¼šäº†ï¼š</p>
<p>âœ… <strong>libcurlç¯å¢ƒæ­å»º</strong>ï¼šå¿«é€Ÿå®‰è£…å’Œé…ç½®<br>
âœ… <strong>åŸºç¡€ä¸‹è½½å®ç°</strong>ï¼šä»æœ€ç®€å•çš„ demo å¼€å§‹<br>
âœ… <strong>è¿›é˜¶åŠŸèƒ½æ·»åŠ </strong>ï¼šè¿›åº¦æ˜¾ç¤ºã€é”™è¯¯å¤„ç†ã€è¶…æ—¶æ§åˆ¶<br>
âœ… <strong>é¢å‘å¯¹è±¡å°è£…</strong>ï¼šç”¨ç±»å°è£…æé«˜ä»£ç å¤ç”¨æ€§<br>
âœ… <strong>å¸¸è§é—®é¢˜è§£å†³</strong>ï¼šå®é™…å¼€å‘ä¸­çš„å‘ç‚¹å’Œè§£å†³æ–¹æ¡ˆ</p>
<p>ç°åœ¨ä½ å·²ç»æŒæ¡äº†C++å•çº¿ç¨‹ä¸‹è½½çš„æ ¸å¿ƒæŠ€æœ¯ï¼</p>
<p>ä½†æ˜¯ï¼Œå•çº¿ç¨‹ä¸‹è½½åœ¨é¢å¯¹å¤§æ–‡ä»¶æ—¶è¿˜æ˜¯å¤ªæ…¢äº†ã€‚è¯•æƒ³ä¸€ä¸‹ï¼š</p>
<ul>
<li>ä¸‹è½½å‡ GBçš„æ–‡ä»¶éœ€è¦ç­‰å¾ˆä¹…</li>
<li>ç½‘ç»œä¸­æ–­ååˆè¦é‡æ–°å¼€å§‹</li>
<li>....</li>
</ul>
<p><strong>å¦‚æœèƒ½å®ç°å¤šçº¿ç¨‹å¹¶å‘ä¸‹è½½ï¼Œé€Ÿåº¦æå‡10å€ä»¥ä¸Šï¼Œé‚£è¯¥å¤šçˆ½ï¼</strong></p>
<hr>
<h2 id="-æƒ³å­¦æ›´å¼ºå¤§çš„å¤šçº¿ç¨‹ä¸‹è½½å™¨å—">ğŸš€ æƒ³å­¦æ›´å¼ºå¤§çš„å¤šçº¿ç¨‹ä¸‹è½½å™¨å—ï¼Ÿ</h2>
<p>å­¦å®Œè¿™ä¸ªåŸºç¡€æ•™ç¨‹ï¼Œç›¸ä¿¡ä½ å·²ç»æ„Ÿå—åˆ°äº†libcurlçš„å¼ºå¤§ã€‚ä½†è¿™åªæ˜¯å†°å±±ä¸€è§’ï¼</p>
<p><strong>æƒ³è±¡ä¸€ä¸‹</strong>ï¼š</p>
<ul>
<li>âš¡ <strong>32çº¿ç¨‹å¹¶å‘ä¸‹è½½</strong> - 1GBæ–‡ä»¶ä»10åˆ†é’Ÿç¼©çŸ­åˆ°1åˆ†é’Ÿ</li>
<li>ğŸ”„ <strong>æ™ºèƒ½æ–­ç‚¹ç»­ä¼ </strong> - ç½‘æ–­ç”µæ–­éƒ½ä¸æ€•ï¼Œæ— ç¼ç»§ç»­</li>
<li>ğŸ› ï¸ <strong>ç³»ç»Ÿçº§å·¥å…·</strong> - å®‰è£…ååƒwgetä¸€æ ·ç›´æ¥ä½¿ç”¨</li>
<li>ğŸ† <strong>é¢è¯•åŠ åˆ†</strong> - èƒ½è®²æ¸…æ¥šé«˜æ€§èƒ½ä¸‹è½½å™¨è®¾è®¡çš„äººä¸å¤š</li>
<li>ç­‰ç­‰......</li>
</ul>
<p>æˆ‘æœ€æ–°è®¾è®¡çš„<strong>FastDLå¤šçº¿ç¨‹æ–‡ä»¶ä¸‹è½½å™¨å®æˆ˜é¡¹ç›®</strong>èƒ½è®©ä½ å®ç°è¿™äº›ï¼</p>
<h3 id="-è¿™ä¸ªé¡¹ç›®æœ‰å¤šå¼º">ğŸ¯ è¿™ä¸ªé¡¹ç›®æœ‰å¤šå¼ºï¼Ÿ</h3>
<ul>
<li><strong>çœŸæ­£çš„ç”Ÿäº§çº§åº”ç”¨</strong> - ä¸æ˜¯Demoï¼Œæ˜¯å¯ä»¥å®‰è£…ä½¿ç”¨çš„å‘½ä»¤è¡Œå·¥å…·</li>
<li><strong>æ ¸å¿ƒæŠ€æœ¯å…¨è¦†ç›–</strong> - å¤šçº¿ç¨‹è°ƒåº¦ã€HTTPåè®®ä¼˜åŒ–ã€æ–‡ä»¶ç³»ç»Ÿæ“ä½œ</li>
<li><strong>2200+è¡Œæ ¸å¿ƒä»£ç </strong> - å®Œæ•´çš„å·¥ä¸šçº§å®ç°</li>
<li><strong>7å¤©æ¸è¿›å¼æ•™å­¦</strong> - æ¯å¤©1å°æ—¶ï¼Œä»é›¶åˆ°å®Œæ•´ç³»ç»Ÿ</li>
</ul>
<p><strong>é¡¹ç›®äº®ç‚¹</strong>ï¼š</p>
<pre><code class="language-bash"># å®‰è£…åç›´æ¥ä½¿ç”¨
fastdl https://example.com/bigfile.zip -t 32 # 16çº¿ç¨‹ä¸‹è½½

# æ•ˆæœå¯¹æ¯”
æ™®é€šä¸‹è½½ï¼š[========&gt;             ] 33% (è‡³å°‘éœ€è¦1å°æ—¶)
FastDLï¼š [========================&gt;] 98% (åªéœ€å‡ åˆ†é’Ÿï¼)
</code></pre>
<h3 id="-7å¤©å®Œæ•´è¯¾ç¨‹å®‰æ’">ğŸ“š 7å¤©å®Œæ•´è¯¾ç¨‹å®‰æ’ï¼š</h3>
<ul>
<li><strong>ç¬¬1å¤©</strong>ï¼šHTTPä¸‹è½½åŸºç¡€ + libcurlè¿›é˜¶</li>
<li><strong>ç¬¬2å¤©</strong>ï¼šå‘½ä»¤è¡Œå·¥å…· + æ—¥å¿—ç³»ç»Ÿ</li>
<li><strong>ç¬¬3å¤©</strong>ï¼šæ–‡ä»¶ç³»ç»Ÿ + ç¾è§‚è¿›åº¦æ¡</li>
<li><strong>ç¬¬4å¤©</strong>ï¼šå¤šçº¿ç¨‹æ ¸å¿ƒ + å®šä½å†™å…¥æŠ€æœ¯</li>
<li><strong>ç¬¬5å¤©</strong>ï¼šä¸‹è½½ç®¡ç†å™¨ + ç³»ç»Ÿæ¶æ„</li>
<li><strong>ç¬¬6å¤©</strong>ï¼šæ–­ç‚¹ç»­ä¼  + ä¿¡å·å¤„ç†</li>
<li><strong>ç¬¬7å¤©</strong>ï¼šæ€§èƒ½ä¼˜åŒ– + ç³»ç»Ÿå®‰è£…</li>
</ul>
<p><strong>å­¦å®Œåä½ å°†è·å¾—</strong>ï¼š</p>
<ul>
<li>âœ… ä¸€ä¸ªçœŸæ­£èƒ½ç”¨çš„é«˜æ€§èƒ½ä¸‹è½½å™¨</li>
<li>âœ… å®Œæ•´çš„å¤šçº¿ç¨‹ç¼–ç¨‹å®æˆ˜ç»éªŒ</li>
<li>âœ… ç³»ç»Ÿçº§C++åº”ç”¨å¼€å‘èƒ½åŠ›</li>
<li>âœ… é¢è¯•ä¸­çš„æŠ€æœ¯äº®ç‚¹å’Œè°ˆèµ„</li>
</ul>
<h3 id="ç‰¹ä»·ä¼˜æƒ 299å…ƒ">ç‰¹ä»·ä¼˜æƒ ï¼š299å…ƒ</h3>
<p><strong>ä¸ºä»€ä¹ˆå€¼è¿™ä¸ªä»·ï¼Ÿ</strong></p>
<ul>
<li>æ¶µç›–ç½‘ç»œç¼–ç¨‹ã€å¤šçº¿ç¨‹ã€ç³»ç»Ÿç¼–ç¨‹ä¸‰å¤§æ ¸å¿ƒæŠ€èƒ½é¢†åŸŸ</li>
<li>è¿™ä¸ä»…æ˜¯æ•™ç¨‹ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´å¯ç”¨çš„ç”Ÿäº§çº§å·¥å…·</li>
<li>2200+è¡Œæ ¸å¿ƒä»£ç ï¼Œå®Œæ•´çš„å·¥ä¸šçº§é¡¹ç›®å®ç°</li>
<li>åŒ…å«ä¸“å±æŠ€æœ¯ç¾¤ç­”ç–‘å’Œä»£ç æŒ‡å¯¼</li>
</ul>
<p><strong>ğŸ‘¥ é™é¢æ‹›å‹Ÿï¼šä»…20äºº</strong></p>
<h3 id="-å¦‚ä½•æŠ¥å">ğŸ¤ å¦‚ä½•æŠ¥åï¼Ÿ</h3>
<ol>
<li>å¾®ä¿¡æœç´¢æ·»åŠ ï¼š<strong>jkfwdkf</strong></li>
<li>å¤‡æ³¨"<strong>ä¸‹è½½å·¥å…·</strong>"</li>
<li>ä»˜æ¬¾ <strong>299å…ƒ</strong> å³å¯å¼€å§‹å­¦ä¹ </li>
</ol>
<p><strong>æˆ–è€…æ‰«æä¸‹æ–¹äºŒç»´ç </strong>ï¼š</p>
<p><img alt="" loading="lazy" data-src="https://files.mdnice.com/user/48364/56963a9a-c51f-41d7-ad9c-2efc890f6ee6.png" class="lazyload"></p>
<hr>
<p><strong>ğŸ’¡æ¸©é¦¨æç¤º</strong>ï¼šå³ä½¿æš‚æ—¶ä¸æŠ¥åé¡¹ç›®ï¼Œä¹Ÿæ¬¢è¿åŠ æˆ‘å¾®ä¿¡äº¤æµC++æŠ€æœ¯é—®é¢˜ã€‚æˆ‘ä¼šä¸å®šæœŸåˆ†äº«ä¸€äº›å¹²è´§å†…å®¹å’Œå­¦ä¹ å¿ƒå¾—ï¼</p>
<p>è®°ä½ï¼ŒæŒæ¡äº†å¤šçº¿ç¨‹ä¸‹è½½å™¨çš„è®¾è®¡å’Œå®ç°ï¼Œä½ å°±æ‹¥æœ‰äº†ä¸€é¡¹çœŸæ­£çš„ç¡¬æ ¸æŠ€èƒ½ã€‚æ— è®ºæ˜¯å·¥ä½œä¸­çš„æŠ€æœ¯æŒ‘æˆ˜ï¼Œè¿˜æ˜¯é¢è¯•ä¸­çš„æŠ€æœ¯å±•ç¤ºï¼Œè¿™éƒ½å°†æ˜¯ä½ çš„æ ¸å¿ƒç«äº‰åŠ›ï¼</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0" data-date-updated="2025-08-20 19:34">2025-08-20 19:33</span>&nbsp;
<a href="https://www.cnblogs.com/xiaokang-coding">æ±Ÿå°åº·</a>&nbsp;
é˜…è¯»(<span id="post_view_count">7</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(19049373);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '19049373', targetLink: 'https://www.cnblogs.com/xiaokang-coding/p/19049373', title: 'C++æ–°æ‰‹å¿…å­¦ï¼šç”¨libcurlè½»æ¾å®ç°æ–‡ä»¶ä¸‹è½½ï¼Œ10åˆ†é’Ÿä¸Šæ‰‹ï¼' })">ä¸¾æŠ¥</a>
</div>
        