
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/huangSir-devops/p/18856906" title="发布于 2025-05-01 21:03">
    <span role="heading" aria-level="2">Docker自定义镜像输出日志</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h2 id="概述">概述</h2>
<p>本文主要解决Docker自定义镜像之后，通过<code>docker logs</code>命令查看不到相关日志的问题</p>
<p>在 Docker 中自定义镜像输出日志，通常需要确保你的应用程序将日志输出到 <strong>标准输出(stdout) 和 标准错误(stderr)</strong>，因为 Docker 默认会捕获这些输出并记录到容器日志中。</p>
<p>以下是实现这一目标的几种方法：</p>
<h2 id="编写代码时直接输出到stdoutstderr">编写代码时直接输出到stdout/stderr</h2>
<p>大多数编程语言支持将日志直接写入标准输出/错误流：</p>
<p>python示例：</p>
<pre><code>import sys
import logging

logging.basicConfig(stream=sys.stdout, level=logging.INFO)
logging.info("This log will be captured by Docker")
</code></pre>
<p>java示例：</p>
<pre><code>logging.file.name=STDOUT
</code></pre>
<h2 id="将日志文件重定向到stdoutstderr推荐使用">将日志文件重定向到stdout/stderr（推荐使用！！！）</h2>
<p>如果应用程序必须写入文件，可以通过符号链接或脚本将文件内容转发到标准输出：</p>
<p>在Dockerfile中操作：</p>
<pre><code># 创建符号连接
RUN ln -sf /dev/stdout /path/to/your/logfile.log
RUN ln -sf /dev/stderr /path/to/your/error.log
</code></pre>

</div>
<div id="MySignature" role="contentinfo">
    <p>本文来自博客园，作者：<a href="https://www.cnblogs.com/huangSir-devops/" target="_blank">huangSir-devops</a>，转载请注明原文链接：<a href="https://www.cnblogs.com/huangSir-devops/p/18856906" target="_blank">https://www.cnblogs.com/huangSir-devops/p/18856906</a>，微信Vac666666，欢迎交流</p>
</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0015816938622685184" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-01 21:03">2025-05-01 21:03</span>&nbsp;
<a href="https://www.cnblogs.com/huangSir-devops">huangSir-devops</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18856906);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18856906', targetLink: 'https://www.cnblogs.com/huangSir-devops/p/18856906', title: 'Docker自定义镜像输出日志' })">举报</a>
</div>
        