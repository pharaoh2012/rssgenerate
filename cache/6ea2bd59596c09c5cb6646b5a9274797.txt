
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/HarmonyOSSDK/p/18866017" title="发布于 2025-05-08 11:56">
    <span role="heading" aria-level="2">【FAQ】HarmonyOS SDK 闭源开放能力 — PDF Kit</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<p><strong>1.问题描述：</strong></p>
<p>预览PDF文件，文档上所描述的loadDocument接口，可以返回文件的状态，并无法实现PDF的预览，是否有能预览PDF相关接口？</p>
<p><strong>解决方案：</strong></p>
<p>1、执行loadDocument进行加载PDF文件后，可以通过pdfDocument.getPage(index)获取PDF页信息。</p>
<p>2、可以根据PDF页信息，获取当前页的pixelMap信息，然后根据pixelMap自己实现预览效果。</p>
<p><strong>2.问题描述：</strong></p>
<p>项目中有“查看发票”的功能，已拿到发票的url地址，请问如何在页面进行展示？</p>
<p><strong>解决方案：</strong></p>
<p>pdfservice应该是不支持加载网络PDF的，可以把文件下载到沙箱目录加载，或者使用Web组件，Web组件可以加载网络的PDF文件。</p>
<p><strong>3.问题描述：</strong></p>
<p>应用文件分享时，若只有一个可打开pdf文件的应用，直接请提示“xx app”想要打开"WPS Office"，是否为系统的逻辑。</p>
<p><strong>解决方案：</strong></p>
<p>1、当前提供了应用内打开PDF的组件，可以使用：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/pdf-pdfview-open-V5" target="_blank" rel="noopener nofollow">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/pdf-pdfview-open-V5</a></p>
<p>2、如果想要跳转至某个应用比如WPS， 看是否可以联系WPS或者使用：“通过startAbility拉起文件处理类应用”能力：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/file-processing-apps-startup-V5" target="_blank" rel="noopener nofollow">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/file-processing-apps-startup-V5</a></p>
<p><strong>4.问题描述：</strong></p>
<p>pdf组件的滚动条是否支持自定义，目前的滚动条没法显示具体在哪个页面？</p>
<p><strong>解决方案：</strong></p>
<p>暂时不支持自定义。但可以自定义滚动条组件，结合pdf组件，将原生的滚动条组件隐藏，来实现自定义滚动条的效果，</p>
<p>大概思路：使用ScrollParam 来监听滑动到百分之多少，pdf总宽高，当前容器的宽高都可设置，使用registerPageChangedListener监听可以显示页面数目。<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/pdf-arkts-pdfviewmanage-V5#section1866313201" target="_blank" rel="noopener nofollow">https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V5/pdf-arkts-pdfviewmanage-V5#section1866313201</a></p>
<p>0121</p>
<p><strong>5.问题描述：</strong></p>
<p>目前鸿蒙可以通过Web组件预览PDF，也可以通过PDF Kit进行预览，和可以通过filePreview模块金瓜看预览。三种方式都是什么使用场景呢？有什么区别？</p>
<p>PDF Kit：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/pdf-introduction-V5" target="_blank" rel="noopener nofollow">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/pdf-introduction-V5</a></p>
<p>Web组件：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-pdf-preview-V5" target="_blank" rel="noopener nofollow">https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/web-pdf-preview-V5</a></p>
<p>Preview Kit：<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-preview-1-V5" target="_blank" rel="noopener nofollow">https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs-V5/faqs-preview-1-V5</a></p>
<p><strong>解决方案：</strong></p>
<p>1、PDF Kit、Preview Kit当前仅支持打开本地文件，不支持打开在线文件。 web组件支持打开本地和在线文件。</p>
<p>2、Preview Kit预览文件是在非应用本进程预览的 ，不支持在应用的进程中预览文件。</p>
<p><strong>6.问题描述：</strong></p>
<p>pdfView 加载加密pdf文件，能否自动弹出密码输入框？</p>
<p><strong>解决方案：</strong></p>
<p>pdfkit 暂时没做规划搞一个密码输入框.</p>
<p>web加载pdf底层就是 PDF kit的能力， 但是密码框 是由web自己实现的。</p>
<p>如果是加密文件的话 伙伴在调用loadDocument之前 可以由应用自己弹出一个框让用户输入密码。密码正确的话 再执行loadDocument。</p>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.016539501034722223" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-05-08 11:57">2025-05-08 11:56</span>&nbsp;
<a href="https://www.cnblogs.com/HarmonyOSSDK">HarmonyOS_SDK</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18866017);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18866017', targetLink: 'https://www.cnblogs.com/HarmonyOSSDK/p/18866017', title: '【FAQ】HarmonyOS SDK 闭源开放能力 — PDF Kit' })">举报</a>
</div>
        