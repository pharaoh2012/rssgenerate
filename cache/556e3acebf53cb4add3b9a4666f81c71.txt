
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zoom-liang/p/18774143" title="发布于 2025-03-15 20:24">
    <span role="heading" aria-level="2">[算法][二分]数的范围</span>
    

</a>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h3 id="数的范围">数的范围</h3>
<p>给定一个按照升序排列的长度为 n 的整数数组，以及 q 个查询。</p>
<p>对于每个查询，返回一个元素 k 的起始位置和终止位置（位置从 0 开始计数）。</p>
<p>如果数组中不存在该元素，则返回 <code>-1 -1</code>。</p>
<h4 id="输入格式">输入格式</h4>
<p>第一行包含整数 n 和 q，表示数组长度和询问个数。</p>
<p>第二行包含 n 个整数（均在 1∼100001∼10000 范围内），表示完整数组。</p>
<p>接下来 q 行，每行包含一个整数 k，表示一个询问元素。</p>
<h4 id="输出格式">输出格式</h4>
<p>共 q 行，每行包含两个整数，表示所求元素的起始位置和终止位置。</p>
<p>如果数组中不存在该元素，则返回 <code>-1 -1</code>。</p>
<h4 id="数据范围">数据范围</h4>
<p><code>1≤n≤100000</code><br>
<code>1≤q≤10000</code><br>
<code>1≤k≤10000</code></p>
<h4 id="输入样例">输入样例：</h4>
<pre><code>6 3
1 2 2 3 3 4
3
4
5
</code></pre>
<h4 id="输出样例">输出样例：</h4>
<pre><code class="language-bash">3 4
5 5
-1 -1
</code></pre>
<p><strong>注意的点</strong></p>
<ul>
<li>查找过程中 中断条件为：<code>lowi &lt;= highi</code></li>
<li>在二分过程中，若没满足条件，需要将条件缩减一半（不含原来的边界）
<ul>
<li>e.g. : <code>lowi = mid + 1</code> , <code>highi = mid - 1</code></li>
</ul>
</li>
</ul>
<pre><code class="language-python">nums_len, query = map(int, input().split())
nums = list(map(int, input().split()))
start, end = 0, nums_len - 1


def find_index(i):
    lowi = start
    highi = nums_len - 1

    while lowi &lt;= highi:
        # print("test")
        mid = (lowi + highi) // 2
        if nums[mid] &lt; i:
            lowi = mid + 1
        elif nums[mid] &gt; i:
            highi = mid - 1
        elif nums[mid] == i:
            left = mid
            right = mid
            while left &gt; 0 and nums[left - 1] == nums[mid]:
                    left -= 1
            while right &lt; nums_len - 1 and nums[right + 1] == nums[mid]:
                    right += 1

            return [left, right]
    else:
        result = [-1, -1]
        return result


for i in range(query):
    # 使用二分
    query_k = int(input())
    result = find_index(query_k)
    print(str(result[0]) + ' ' + str(result[1]))

</code></pre>

</div>
<div class="clear"></div>

            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.0009691899594907407" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-03-15 20:24">2025-03-15 20:24</span>&nbsp;
<a href="https://www.cnblogs.com/zoom-liang">zoom&amp;3</a>&nbsp;
阅读(<span id="post_view_count">0</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18774143" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18774143);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18774143', targetLink: 'https://www.cnblogs.com/zoom-liang/p/18774143', title: '[算法][二分]数的范围' })">举报</a>
</div>
        