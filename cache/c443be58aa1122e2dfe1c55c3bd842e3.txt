<!----> <meta itemprop="headline" content="å‰ç«¯å®ç°ç”»ä¸­ç”»è¶…ç®€å•ï¼Œè®©ç½‘é¡µé£å‡ºæµè§ˆå™¨"> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"> <meta itemprop="datePublished" content="2024-11-28T01:17:54.000Z"> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯é‡‘ç†Š"> <meta itemprop="url" content="https://juejin.cn/user/97193028493655"></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"> <meta itemprop="width" content="180"> <meta itemprop="height" content="180"></div></div> <h1 class="article-title" data-v-7cdd11fb="">
            å‰ç«¯å®ç°ç”»ä¸­ç”»è¶…ç®€å•ï¼Œè®©ç½‘é¡µé£å‡ºæµè§ˆå™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-7cdd11fb=""><div class="author-info-box" data-v-7cdd11fb=""><div class="author-name" data-v-7cdd11fb=""><a href="/user/97193028493655/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-1800aadb="" data-v-7cdd11fb=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-1800aadb="">
    å‰ç«¯é‡‘ç†Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-7cdd11fb=""><time datetime="2024-11-28T01:17:54.000Z" title="Thu Nov 28 2024 01:17:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-7cdd11fb="">
                    2024-11-28
                  </time> <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-7cdd11fb=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-7cdd11fb=""></path><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-7cdd11fb=""></circle></svg> <span class="views-count" data-v-7cdd11fb="">
                    6,668
                  </span> <span class="read-time" data-v-7cdd11fb=""><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-7cdd11fb=""><rect width="16" height="16" fill="none" data-v-7cdd11fb=""></rect><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-7cdd11fb=""></circle><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-7cdd11fb=""></path></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-7cdd11fb=""></div> <!----> <!----></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-7cdd11fb=""><div class="article-viewer markdown-body result"><h2 data-id="heading-0">Document Picture-in-Picture ä»‹ç»</h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;ä»Šå¤©ï¼Œæˆ‘æ¥ä»‹ç»ä¸€ä¸ªéå¸¸é…·çš„å‰ç«¯åŠŸèƒ½ï¼š<strong>æ–‡æ¡£ç”»ä¸­ç”»</strong> (Document Picture-in-Picture, æœ¬æ–‡ç®€ç§° PiP)ã€‚ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œç½‘é¡µä¸Šçš„ä»»ä½•å†…å®¹èƒ½æ‚¬æµ®åœ¨æ¡Œé¢ä¸Šï¼ŸğŸ˜</p>
<h3 data-id="heading-1">ğŸ¬ è§†é¢‘æµåª’ä½“çš„ç”»ä¸­ç”»åŠŸèƒ½</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯èƒ½å·²ç»åœ¨è§†é¢‘å¹³å°ï¼ˆå¦‚<code>è…¾è®¯è§†é¢‘</code>ã€<code>å“”å“©å“”å“©</code>ç­‰ç½‘é¡µï¼‰è§è¿‡è¿™ç§æ•ˆæœï¼šè§†é¢‘æ’­æ”¾æ—¶ï¼Œå¯ä»¥ç‚¹å‡»ç”»ä¸­ç”»åã€‚æ— è®ºä½ åˆ‡æ¢é¡µé¢ï¼Œå®ƒéƒ½å§‹ç»ˆæ˜¾ç¤ºåœ¨å±å¹•çš„æœ€ä¸Šå±‚ï¼Œéå¸¸é€‚åˆ<code>ä¸Šç­å·å·çœ‹ç”µè§†</code>ğŸ’»</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ade085da74d54c76847fda6173496d02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=9uFgp6ymUuGjaw1lT5tx9JfburI%3D" alt="pip.gif" width="70%" loading="lazy"></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä»Šå¤©çš„æ•™ç¨‹ä¸­ï¼Œä¸ä»…ä»…æ˜¯è§†é¢‘ï¼Œæˆ‘å°†æ•™ä½ å¦‚ä½•<code>å°†ä»»ä½• HTML å†…å®¹æ”¾å…¥ç”»ä¸­ç”»</code>æ¨¡å¼ï¼Œæ— è®ºæ˜¯åŠ¨æ€å†…å®¹ã€æ–‡æœ¬ã€å›¾ç‰‡ï¼Œè¿˜æ˜¯çº¯ç‚«é…·çš„ divï¼Œç»Ÿç»Ÿéƒ½èƒ½â€œé£â€èµ·æ¥ã€‚âœ¨</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªå¦‚æ­¤æœ‰è¶£çš„åŠŸèƒ½ï¼Œåœ¨ç½‘ä¸Šå´å¾ˆå°‘æœ‰è¯¦ç»†çš„æ•™ç¨‹æ¥ä»‹ç»è¿™ä¸ªåŠŸèƒ½çš„ä½¿ç”¨ã€‚äºæ˜¯æˆ‘å†³å®šå†™ä¸€ç¯‡è¯¦ç»†çš„æ•™ç¨‹æ¥æ•™å¤§å®¶å¦‚ä½•å®ç°ç”»ä¸­ç”» (å»ºè®®æ”¶è—)ğŸ˜</p>
<h4 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Fxionglongbing.github.io%2FTreasure-Navigation" target="_blank" title="https://xionglongbing.github.io/Treasure-Navigation" ref="nofollow noopener noreferrer">ä½“éªŒç½‘å€ï¼šTreasure-Navigation<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8ed6f00c976489182de9932a5bfa3d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=yr4DlEva0pfVVMb%2FIoYzNKrEnqA%3D" alt="pip08.gif" width="100%" loading="lazy"></a></h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxionglongbing%2FTreasure-Navigation" target="_blank" title="https://github.com/xionglongbing/Treasure-Navigation" ref="nofollow noopener noreferrer">githubåœ°å€</a></p>
<hr>
<h2 data-id="heading-3">ğŸ“– Document Picture-in-Picture è¯¦ç»†æ•™ç¨‹</h2>
<h3 data-id="heading-4">ğŸ›  HTML åŸºæœ¬ä»£ç ç»“æ„</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘ä»¬éšä¾¿å†™ä¸€ä¸ªç®€å•çš„ <code>HTML é¡µé¢</code>ï¼Œåç»­çš„ JS å’Œæ ·å¼éƒ½ä¼šåŸºäºå®ƒå®ç°ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document Picture-in-Picture API ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-id">#pipContent</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">background</span>: pink;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"pipContent"</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªå°†è¦æ”¾å…¥ç”»ä¸­ç”»çš„ div å…ƒç´ ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"clickBtn"</span>&gt;</span>åˆ‡æ¢ç”»ä¸­ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// åœ¨è¿™é‡Œå†™ä½ çš„ JavaScript ä»£ç </span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr>
<h3 data-id="heading-5">1ï¸. è¯·æ±‚ PiP çª—å£</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<code>PiP</code> çš„æ ¸å¿ƒæ–¹æ³•æ˜¯ <code>window.documentPictureInPicture.requestWindow</code>ã€‚å®ƒæ˜¯ä¸€ä¸ª <code>å¼‚æ­¥æ–¹æ³•</code>ï¼Œè¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„ <code>window</code> å¯¹è±¡ã€‚<br>
&nbsp;&nbsp;&nbsp;&nbsp;<code>PIP çª—å£</code>å¯ä»¥å°†å…¶çœ‹ä½œä¸€ä¸ªæ–°çš„ç½‘é¡µï¼Œä½†å®ƒå§‹ç»ˆæ‚¬æµ®åœ¨å±å¹•ä¸Šæ–¹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"clickBtn"</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-comment">// è·å–å°†è¦æ”¾å…¥ PiP çª—å£çš„ DOM å…ƒç´ </span>
    <span class="hljs-keyword">const</span> pipContent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"pipContent"</span>);
    <span class="hljs-comment">// è¯·æ±‚åˆ›å»ºä¸€ä¸ª PiP çª—å£</span>
    <span class="hljs-keyword">const</span> pipWindow = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">documentPictureInPicture</span>.<span class="hljs-title function_">requestWindow</span>({
        <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,  <span class="hljs-comment">// è®¾ç½®çª—å£çš„å®½åº¦</span>
        <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>  <span class="hljs-comment">// è®¾ç½®çª—å£çš„é«˜åº¦</span>
    });

    <span class="hljs-comment">// å°†åŸå§‹å…ƒç´ æ·»åŠ åˆ° PiP çª—å£ä¸­</span>
    pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(pipContent);
});
</code></pre>
<h4 data-id="heading-6">æ¼”ç¤ºï¼š</h4>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9c58e9a1b9149fb99cf596a391e86e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=mOxMzE35Dj8ZZrur2bXw7qRcnys%3D" alt="pip01.gif" width="100%" loading="lazy"></p>
<p>ğŸ‘ <strong>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªç”»ä¸­ç”»çª—å£ï¼</strong>
è¿™æ®µä»£ç å±•ç¤ºäº†å¦‚ä½•å°†ç½‘é¡µä¸­çš„å…ƒç´ æ”¾å…¥ä¸€ä¸ªæ–°çš„ç”»ä¸­ç”»çª—å£ï¼Œå¹¶è®©å®ƒæ‚¬æµ®åœ¨æœ€ä¸Šé¢ã€‚éå¸¸ç®€å•å§<br></p>
<h4 data-id="heading-7">å…³é—­PIPçª—å£</h4>
<p>å¯ä»¥ç›´æ¥ç‚¹å³ä¸Šè§’å…³é—­PIPçª—å£ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨ä»£ç ä¸­å®ç°å…³é—­ï¼Œç›´æ¥è°ƒç”¨<code>windowä¸Šçš„api</code>å°±å¯ä»¥äº†</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">window</span>.<span class="hljs-property">documentPictureInPicture</span>.<span class="hljs-property">window</span>.<span class="hljs-title function_">close</span>();
</code></pre>
<hr>
<h3 data-id="heading-8">2ï¸. æ£€æŸ¥æ˜¯å¦æ”¯æŒ PiP åŠŸèƒ½</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;ä¸€åˆ‡ä¸èƒ½<strong>å…¼å®¹æµè§ˆå™¨</strong>çš„åŠŸèƒ½ä»‹ç»éƒ½æ˜¯è€æµæ°“ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦<code>æ”¯æŒPIIPåŠŸèƒ½</code>ã€‚
å®é™…å°±æ˜¯æ£€æŸ¥documentPictureInPictureå±æ€§æ˜¯å¦å­˜åœ¨äºwindowä¸Š ğŸ”§</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (<span class="hljs-string">'documentPictureInPicture'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸš€ æµè§ˆå™¨æ”¯æŒ PiP åŠŸèƒ½ï¼"</span>);
} <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"âš ï¸ å½“å‰æµè§ˆå™¨ä¸æ”¯æŒ PiP åŠŸèƒ½ï¼Œæ›´æ–°æµè§ˆå™¨æˆ–è€…æ¢å°ç”µè„‘å§ï¼"</span>);
}
</code></pre>
<p>&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæ˜¯åªéœ€è¦å°†è§†é¢‘å®ç°ç”»ä¸­ç”»åŠŸèƒ½ï¼Œ<code>è§†é¢‘ç”»ä¸­ç”» (Picture-in-Picture)</code> çš„å…¼å®¹æ€§ä¼šå¥½ä¸€ç‚¹ï¼Œä½†æ˜¯å®ƒåªèƒ½å°†å…ƒç´ æ”¾å…¥ç”»ä¸­ç”»çª—å£ã€‚å®ƒä¸æœ¬æ–‡ä»‹ç»çš„ <code>æ–‡æ¡£ç”»ä¸­ç”»(Document Picture-in-Picture)</code> ä½¿ç”¨æ–¹æ³•ä¹Ÿæ˜¯ååˆ†ç›¸ä¼¼çš„ã€‚</p>
<hr>
<h3 data-id="heading-9">3ï¸. è®¾ç½® PiP æ ·å¼</h3>
<p>&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬ä¼šå‘ç°åˆšåˆšåˆ›å»ºçš„ç”»ä¸­ç”»<code>æ²¡æœ‰æ ·å¼</code>ï¼Œä¸€ç‚¹éƒ½ä¸ç¾è§‚ã€‚é‚£æ˜¯å› ä¸ºæˆ‘ä»¬åªæ”¾å…¥äº†domå…ƒç´ ï¼Œæ²¡æœ‰æ·»åŠ cssæ ·å¼ã€‚</p>
<h4 data-id="heading-10">3.1. å…¨å±€æ ·å¼åŒæ­¥</h4>
<p>å‡è®¾ç½‘é¡µä¸­çš„æ‰€æœ‰æ ·å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-id">#pipContent</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">background</span>: pink;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://abc.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre>
<p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠä¹‹å‰çš„ç½‘é¡µçš„<code>cssæ ·å¼å…¨éƒ¨èµ‹å€¼ç»™ç”»ä¸­ç”»</code>ã€‚<br></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. document.styleSheetsè·å–æ‰€æœ‰çš„cssæ ·å¼ä¿¡æ¯</span>
[...<span class="hljs-variable language_">document</span>.<span class="hljs-property">styleSheets</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">styleSheet</span>) =&gt;</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// è½¬æˆå­—ç¬¦ä¸²æ–¹ä¾¿èµ‹å€¼</span>
        <span class="hljs-keyword">const</span> cssRules = [...styleSheet.<span class="hljs-property">cssRules</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">rule</span>) =&gt;</span> rule.<span class="hljs-property">cssText</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
        <span class="hljs-comment">// åˆ›å»ºstyleæ ‡ç­¾</span>
        <span class="hljs-keyword">const</span> style = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'style'</span>);
        <span class="hljs-comment">// è®¾ç½®ä¸ºä¹‹å‰é¡µé¢ä¸­çš„cssä¿¡æ¯</span>
        style.<span class="hljs-property">textContent</span> = cssRules;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'style'</span>, style);
        <span class="hljs-comment">// æŠŠstyleæ ‡ç­¾æ”¾åˆ°ç”»ä¸­ç”»çš„&lt;head&gt;&lt;head/&gt;æ ‡ç­¾ä¸­</span>
        pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(style);
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-comment">// é€šè¿‡ link å¼•å…¥æ ·å¼ï¼Œå¦‚æœæœ‰è·¨åŸŸï¼Œè®¿é—®styleSheet.cssRulesæ—¶ä¼šæŠ¥é”™ã€‚æ²¡æœ‰è·¨åŸŸåˆ™ä¸ä¼šæŠ¥é”™</span>
        <span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'link'</span>);
        <span class="hljs-comment">/**
         * rel = stylesheet å¯¼å…¥æ ·å¼è¡¨
         * type: å¯¹åº”çš„æ ¼å¼
         * media: åª’ä½“æŸ¥è¯¢ï¼ˆå¦‚ screen and (max-width: 600px)ï¼‰
         *  href: å¤–éƒ¨æ ·å¼è¡¨çš„ URL
         */</span>
        link.<span class="hljs-property">rel</span> = <span class="hljs-string">'stylesheet'</span>;
        link.<span class="hljs-property">type</span> = styleSheet.<span class="hljs-property">type</span>;
        link.<span class="hljs-property">media</span> = styleSheet.<span class="hljs-property">media</span>;
        link.<span class="hljs-property">href</span> = styleSheet.<span class="hljs-property">href</span> ?? <span class="hljs-string">''</span>;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'error: link'</span>, link);
        pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(link);
    }
});
</code></pre>
<h5 data-id="heading-11">æ¼”ç¤ºï¼š</h5>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b2806a03f494ac29ab7b194f4ceec99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=%2BEV3nsB0JV0YrQ3ptRK%2FnU28b5g%3D" alt="image.png" width="100%" loading="lazy"></p>
<hr>
<h4 data-id="heading-12">3.2. ä½¿ç”¨ <code>link</code> å¼•å…¥å¤–éƒ¨ CSS æ–‡ä»¶</h4>
<p>å‘å…¶ä»–æ™®é€š<code>html</code>æ–‡ä»¶ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡<code>link</code>æ ‡ç­¾å¼•å…¥ç‰¹å®š<code>css</code>æ–‡ä»¶:</p>
<p>åˆ›å»º <code>pip.css</code> æ–‡ä»¶:</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-id">#pipContent</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">background</span>: skyblue;
}
</code></pre>
<p><code>js</code>å¼•ç”¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å…¶ä»–ä¸å˜</span>
<span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'link'</span>);
link.<span class="hljs-property">rel</span> = <span class="hljs-string">'stylesheet'</span>;
link.<span class="hljs-property">href</span> = <span class="hljs-string">'./pip.css'</span>;  <span class="hljs-comment">// å¼•å…¥å¤–éƒ¨ CSS æ–‡ä»¶</span>
pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(link);
pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(pipContent);
</code></pre>
<h5 data-id="heading-13">æ¼”ç¤ºï¼š</h5>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f68a70e7d85d40baad68719b4bb06d86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=SxtpsQsUvxhZomXgTlxTJugpZzM%3D" alt="pip02.gif" width="70%" loading="lazy"></p>
<h4 data-id="heading-14">3.3. åª’ä½“æŸ¥è¯¢çš„æ”¯æŒ</h4>
<p>å¯ä»¥è®¾ç½®åª’ä½“æŸ¥è¯¢ <code>@media (display-mode: picture-in-picture)</code>ã€‚åœ¨æ™®é€šé¡µé¢ä¸­ä¼šè‡ªåŠ¨å¿½ç•¥æ ·å¼ï¼Œåœ¨ç”»ä¸­ç”»æ¨¡å¼ä¼šè‡ªåŠ¨æ¸²æŸ“æ ·å¼</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-id">#pipContent</span> {
        <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
        <span class="hljs-attribute">background</span>: pink;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
    }
    
    &lt;!-- æ™®é€šç½‘é¡µä¸­ä¼šå¿½ç•¥ --&gt;
    <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">display-mode</span>: picture-in-picture) {
        <span class="hljs-selector-id">#pipContent</span> {
            <span class="hljs-attribute">background</span>: lightgreen;
        }
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>åœ¨æ™®é€šé¡µé¢ä¸­æ˜¾ç¤ºä¸º<code>ç²‰è‰²</code>ï¼Œåœ¨ç”»ä¸­ç”»è‡ªåŠ¨å˜ä¸º<code>æµ…ç»¿è‰²</code></p>
<h5 data-id="heading-15">æ¼”ç¤ºï¼š</h5>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea5c057d81874147aae9e801fb9bafc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=qlNzBqHuJiDdoGwA7eWXMDsT8Wc%3D" alt="pip03.gif" width="70%" loading="lazy"></p>
<hr>
<h3 data-id="heading-16">4ï¸. ç›‘å¬è¿›å…¥å’Œé€€å‡º PiP æ¨¡å¼çš„äº‹ä»¶</h3>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä¸º <code>PiP çª—å£</code> æ·»åŠ <code>äº‹ä»¶ç›‘å¬</code>ï¼Œç›‘æ§ç”»ä¸­ç”»æ¨¡å¼çš„ <strong>è¿›å…¥</strong> å’Œ <strong>é€€å‡º</strong>ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥åœ¨ç”¨æˆ·æ“ä½œæ—¶ï¼Œåšå‡ºç›¸åº”çš„åé¦ˆï¼Œæ¯”å¦‚æ˜¾ç¤ºæç¤ºæˆ–æ‰§è¡Œå…¶ä»–æ“ä½œã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è¿›å…¥ PIP äº‹ä»¶</span>
documentPictureInPicture.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"enter"</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å·²è¿›å…¥ PIP çª—å£"</span>);
});

<span class="hljs-keyword">const</span> pipWindow = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">documentPictureInPicture</span>.<span class="hljs-title function_">requestWindow</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>
});
<span class="hljs-comment">// é€€å‡º PIP äº‹ä»¶</span>
pipWindow.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"pagehide"</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å·²é€€å‡º PIP çª—å£"</span>);
});
</code></pre>
<h4 data-id="heading-17">æ¼”ç¤º</h4>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70197163347c43a3973c2370d480674a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=NCxjxW0vntbc1g54QKp6UEkgiTA%3D" alt="pip04.gif" width="70%" loading="lazy"></p>
<hr>
<h3 data-id="heading-18">5ï¸. ç›‘å¬ PiP ç„¦ç‚¹å’Œå¤±ç„¦äº‹ä»¶</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> pipWindow = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">documentPictureInPicture</span>.<span class="hljs-title function_">requestWindow</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>
});

pipWindow.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'focus'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"PiP çª—å£è¿›å…¥äº†ç„¦ç‚¹çŠ¶æ€"</span>);
});

pipWindow.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'blur'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"PiP çª—å£å¤±å»äº†ç„¦ç‚¹"</span>);
});
</code></pre>
<h4 data-id="heading-19">æ¼”ç¤º</h4>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/648479b07cf440f8803569be686c4588~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=cppRZkhvXi0KsHXBYW8KsQd49RE%3D" alt="pip05.gif" width="70%" loading="lazy"></p>
<hr>
<h3 data-id="heading-20">6. å…‹éš†èŠ‚ç‚¹ç”»ä¸­ç”»</h3>
<p>æˆ‘ä»¬ä¼šå‘ç°æˆ‘ä»¬æŠŠåŸå§‹å…ƒç´ ä¼ å…¥åˆ°PIPçª—å£åï¼ŒåŸæ¥çª—å£ä¸­çš„å…ƒç´ å°±ä¸è§äº†ã€‚<br>
æˆ‘ä»¬å¯ä»¥æŠŠåŸå§‹å…ƒç´ å…‹éš†åå†ä¼ å…¥ç»™PIPçª—å£ï¼Œè¿™æ ·åŸå§‹çª—å£ä¸­çš„å…ƒç´ å°±ä¸ä¼šæ¶ˆå¤±äº†</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> pipContent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"pipContent"</span>);
<span class="hljs-keyword">const</span> pipWindow = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">documentPictureInPicture</span>.<span class="hljs-title function_">requestWindow</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>
});
<span class="hljs-comment">// æ ¸å¿ƒä»£ç ï¼špipContent.cloneNode(true)</span>
pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(pipContent.<span class="hljs-title function_">cloneNode</span>(<span class="hljs-literal">true</span>));
</code></pre>
<h4 data-id="heading-21">æ¼”ç¤º</h4>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acece07feb034fb68d1fe8e716aacbd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6YeR54aK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1736853724&amp;x-signature=E7CoF7kOSNK4VT0AcJPT8qoWutU%3D" alt="pip07.gif" width="70%" loading="lazy"></p>
<h3 data-id="heading-22">PIP å®Œæ•´ç¤ºä¾‹ä»£ç </h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document Picture-in-Picture API ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-id">#pipContent</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
            <span class="hljs-attribute">background</span>: pink;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"pipContent"</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªå°†è¦æ”¾å…¥ç”»ä¸­ç”»çš„ div å…ƒç´ ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"clickBtn"</span>&gt;</span>åˆ‡æ¢ç”»ä¸­ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ”¯æŒ PiP åŠŸèƒ½</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'documentPictureInPicture'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸš€ æµè§ˆå™¨æ”¯æŒ PiP åŠŸèƒ½ï¼"</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"âš ï¸ å½“å‰æµè§ˆå™¨ä¸æ”¯æŒ PiP åŠŸèƒ½ï¼Œæ›´æ–°æµè§ˆå™¨æˆ–è€…æ¢å°ç”µè„‘å§ï¼"</span>);
        }

        <span class="hljs-comment">// è¯·æ±‚ PiP çª—å£</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"clickBtn"</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
            <span class="hljs-keyword">const</span> pipContent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"pipContent"</span>);

            <span class="hljs-comment">// è¯·æ±‚åˆ›å»ºä¸€ä¸ª PiP çª—å£</span>
            <span class="hljs-keyword">const</span> pipWindow = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">documentPictureInPicture</span>.<span class="hljs-title function_">requestWindow</span>({
                <span class="hljs-attr">width</span>: <span class="hljs-number">200</span>,  <span class="hljs-comment">// è®¾ç½®çª—å£çš„å®½åº¦</span>
                <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>  <span class="hljs-comment">// è®¾ç½®çª—å£çš„é«˜åº¦</span>
            });

            <span class="hljs-comment">// å°†åŸå§‹å…ƒç´ å…‹éš†å¹¶æ·»åŠ åˆ° PiP çª—å£ä¸­</span>
            pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(pipContent.<span class="hljs-title function_">cloneNode</span>(<span class="hljs-literal">true</span>));

            <span class="hljs-comment">// è®¾ç½® PiP æ ·å¼åŒæ­¥</span>
            [...<span class="hljs-variable language_">document</span>.<span class="hljs-property">styleSheets</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">styleSheet</span>) =&gt;</span> {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">const</span> cssRules = [...styleSheet.<span class="hljs-property">cssRules</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">rule</span>) =&gt;</span> rule.<span class="hljs-property">cssText</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
                    <span class="hljs-keyword">const</span> style = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'style'</span>);
                    style.<span class="hljs-property">textContent</span> = cssRules;
                    pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(style);
                } <span class="hljs-keyword">catch</span> (e) {
                    <span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'link'</span>);
                    link.<span class="hljs-property">rel</span> = <span class="hljs-string">'stylesheet'</span>;
                    link.<span class="hljs-property">type</span> = styleSheet.<span class="hljs-property">type</span>;
                    link.<span class="hljs-property">media</span> = styleSheet.<span class="hljs-property">media</span>;
                    link.<span class="hljs-property">href</span> = styleSheet.<span class="hljs-property">href</span> ?? <span class="hljs-string">''</span>;
                    pipWindow.<span class="hljs-property">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(link);
                }
            });

            <span class="hljs-comment">// ç›‘å¬è¿›å…¥å’Œé€€å‡º PiP æ¨¡å¼çš„äº‹ä»¶</span>
            pipWindow.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"pagehide"</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å·²é€€å‡º PIP çª—å£"</span>);
            });

            pipWindow.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'focus'</span>, <span class="hljs-function">() =&gt;</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"PiP çª—å£è¿›å…¥äº†ç„¦ç‚¹çŠ¶æ€"</span>);
            });

            pipWindow.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'blur'</span>, <span class="hljs-function">() =&gt;</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"PiP çª—å£å¤±å»äº†ç„¦ç‚¹"</span>);
            });
        });

        <span class="hljs-comment">// å…³é—­ PiP çª—å£</span>
        <span class="hljs-comment">// pipWindow.close();  // å¯ä»¥æ‰‹åŠ¨è°ƒç”¨å…³é—­çª—å£</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<hr>
<h2 data-id="heading-23">æ€»ç»“</h2>
<p>ğŸ‰ <strong>ä½ ç°åœ¨å·²ç»æŒæ¡äº†å¦‚ä½•ä½¿ç”¨ <code>Document Picture-in-Picture</code> API æ¥æ‚¬æµ®ä»»æ„ HTML å†…å®¹ï¼
å¸Œæœ›èƒ½å¸¦æ¥æ›´çµæ´»çš„äº¤äº’ä½“éªŒã€‚âœ¨</strong></p>
<p>å¦‚æœä½ æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ–è€…å¯¹ PiP åŠŸèƒ½æœ‰æ›´å¤šçš„æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºä¸æˆ‘è®¨è®ºï¼ğŸ‘‡ğŸ“¬</p></div></div>