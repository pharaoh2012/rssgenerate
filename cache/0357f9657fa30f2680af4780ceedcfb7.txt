
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/keatkeat/p/18817678" title="å‘å¸ƒäº 2025-04-10 00:42">
    <span role="heading" aria-level="2">JavaScript Library â€“ Embla Carousel</span>
    

</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<h2>å‰è¨€</h2>
<p>2022 å¹´ 4 æœˆï¼Œæˆ‘å†™äº†ä¸€ç¯‡&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/16124065.html" target="_blank">Swiper</a>&nbsp;ä»‹ç»ã€‚</p>
<p>Swiper æ˜¯å½“æ—¶å‰ç«¯æœ€å¤šäººä½¿ç”¨çš„ Slider åº“ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œä¸€éª‘ç»å°˜ã€‚</p>
<p>ä½†æ˜¯ï¼æ—¶è¿‡å¢ƒè¿ï¼Œè¿™ä¸¤å¹´å·²ç»æœ‰ä¸€åŒ¹ç¥ç§˜çš„é»‘é©¬æ‚„æ‚„æ€ä¸Šæ¥äº†ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250405200326843-1037942657.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>å®ƒå°±æ˜¯æœ¬ç¯‡çš„ä¸»è§’ --&nbsp;<a href="https://www.embla-carousel.com/" rel="noopener nofollow" target="_blank">Embla Carousel</a>ã€‚</p>
<p>&nbsp;</p>
<h2>Embla Carousel çš„å–ç‚¹</h2>
<p>Embla Carousel (ç®€ç§° Embla) ä½•å¾·ä½•èƒ½ï¼Ÿå®ƒå‡­ä»€ä¹ˆåœ¨ Swiper å„æ–­çš„å¸‚åœºé‡Œèƒ½æ€å‡ºä¸€æ¡è¡€è·¯ğŸ¤”ï¼Ÿ</p>
<ol>
<li>
<p>lightweight</p>
<p>Embla æœ€å¤§çš„å–ç‚¹æ˜¯ lightweightã€‚</p>
<p>æ®è¯´å®ƒéå¸¸éå¸¸è½»ï¼Œä¸”æ€§èƒ½éå¸¸å¥½ã€‚</p>
<p>p.s.ï¼šå…·ä½“å¤šè½»æˆ‘ä¸æ¸…æ¥šï¼Œä½†è‚¯å®šæ¯” Swiper è½»å¾ˆå¤šï¼Œæˆ‘å°±æ˜¯å«Œ Swiper åˆé‡åˆæ…¢ï¼Œæ‰åœ¨ research æ›¿ä»£æ–¹æ¡ˆæ—¶æ‰¾åˆ°äº† Emblaã€‚</p>
</li>
<li>
<p>framework&nbsp;integration</p>
<p>Embla å¯ä»¥å¾ˆå®¹æ˜“å¾—é›†æˆåˆ°å„ç§å‰ç«¯æ¡†æ¶ï¼Œæ¯”å¦‚ï¼šReact/Next.jsï¼ŒSvelteï¼ŒVueï¼ŒSolid.js ç­‰ (å“å“Ÿï¼Œä¸é”™å“¦ï¼Œæ²¡æœ‰ Angular)ã€‚</p>
</li>
<li>
<p>Customization and&nbsp;independent of CSS</p>
<p>Embla ä¸æºå’Œ styling CSSï¼Œå®ƒåªè´Ÿè´£ JS é€»è¾‘ï¼Œå¹¶ä¸”å¼€æ”¾åº•å±‚ API æ¥å£ï¼Œè®©ä½¿ç”¨è€…å¯ä»¥æ ¹æ®è‡ªå·±é¡¹ç›®éœ€æ±‚è®¢åšä¸“å±çš„ Carousel (a.k.a Slider)ã€‚</p>
</li>
</ol>
<p>ä»¥ä¸Šä¸‰ç‚¹æ— ç–‘æ˜¯è¿‘å‡ å¹´å‰ç«¯çš„è¶‹åŠ¿å’Œåˆšéœ€ï¼Œé›·å†›è¯´è¿‡ï¼Œç«™åœ¨é£å£ä¸Šï¼ŒçŒªä¹Ÿèƒ½é£ï¼ŒEmbla åœ¨è¿™é‡Œåšäº†æœ€å¥½çš„ç¤ºèŒƒğŸ‘ã€‚</p>
<p>&nbsp;</p>
<h2>Swiper to Embla Carousel</h2>
<p>æƒ³ä» Swiper ç›´æ¥åˆ‡æ¢åˆ° Embla Carousel å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸º Embla æ¯” Swiper low levelï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±è¡¥ä¸Šè®¸å¤šä¸Šå±‚çš„å°è£…æ‰è¡Œã€‚</p>
<p>æœ¬ç¯‡æˆ‘ä¼šæŠŠæˆ‘ä½¿ç”¨åˆ°çš„ Swiper èŒƒå›´ (<a href="https://www.cnblogs.com/keatkeat/p/16124065.html" target="_blank">è¿™ç¯‡</a>é‡Œçš„å†…å®¹) ç”¨ Embla æ¥å®ç°ä¸€éï¼Œå¤§å®¶å¯ä»¥æ„Ÿå—ä¸€ä¸‹å®ƒä¿©åœ¨ä½¿ç”¨ä¸Šçš„åŒºåˆ«ã€‚</p>
<p>æ³¨ï¼šæœ¬ç¯‡ä¸ä¼šä» 0 åŸºç¡€è®²èµ·ï¼Œæœ€å¥½ä½ ä½¿ç”¨è¿‡ Swiper æˆ–è€…å…¶å®ƒ Slider Libraryã€‚</p>
<p>&nbsp;</p>
<h2>å‚è€ƒï¼š</h2>
<p><a href="https://www.embla-carousel.com/" rel="noopener nofollow" target="_blank">å®˜ç½‘ â€“&nbsp;Embla Carousel</a></p>
<p>&nbsp;</p>
<h2>å®‰è£…</h2>
<div class="cnblogs_code">
<pre>yarn add embla-carousel</pre>
</div>
<h3>HTML</h3>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slider"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide-list"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/tifa.webp"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="tifa"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/nana.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="nana"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<p>HTML ç»“æ„å’Œ Swiper æ˜¯ä¸€æ ·çš„ï¼Œslider &gt; slide-list &gt; slide ä¸‰å±‚ã€‚</p>
<h3>Styles</h3>
<p>å’Œ Swiper ä¸åŒï¼ŒEmbla ä¸æ¶‰åŠ CSS (æ³¨ï¼šfirst render çš„æ—¶å€™ä¸æ¶‰åŠ CSS è€Œå·²ï¼Œäº¤äº’æ—¶å®ƒæ˜¯è‚¯å®šæ˜¯è¦æ”¹ CSS çš„)ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ç»™ first render çš„ CSS Stylesï¼Œåƒè¿™æ ·</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(128, 0, 0, 1)">.slider </span>{<span style="color: rgba(255, 0, 0, 1)">
  max-width</span>:<span style="color: rgba(0, 0, 255, 1)"> 512px</span>;<span style="color: rgba(255, 0, 0, 1)">
  overflow</span>:<span style="color: rgba(0, 0, 255, 1)"> hidden</span>;<span style="color: rgba(255, 0, 0, 1)">

  .slide-list {
    display</span>:<span style="color: rgba(0, 0, 255, 1)"> flex</span>;<span style="color: rgba(255, 0, 0, 1)">

    .slide {
      flex-shrink</span>:<span style="color: rgba(0, 0, 255, 1)"> 0</span>;<span style="color: rgba(255, 0, 0, 1)">
      width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">

      img {
        width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">
        height</span>:<span style="color: rgba(0, 0, 255, 1)"> auto</span>;<span style="color: rgba(255, 0, 0, 1)">

        aspect-ratio</span>:<span style="color: rgba(0, 0, 255, 1)"> 16 / 9</span>;<span style="color: rgba(255, 0, 0, 1)">
        object-fit</span>:<span style="color: rgba(0, 0, 255, 1)"> cover</span>;
      }<span style="color: rgba(128, 0, 0, 1)">
    }
  }
}</span></pre>
</div>
<p>ç›®å‰çš„æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250405234554742-150365079.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>åªä¼šçœ‹è§ä¸€å¼ å›¾ï¼Œå› ä¸ºå¦å¤–ä¸¤ä¸ª slide è¢« overflow hide èµ·æ¥äº†ã€‚</p>
<h3>Scripts</h3>
<div class="cnblogs_code">
<pre>import emblaCarousel from 'embla-carousel'<span style="color: rgba(0, 0, 0, 1)">;

const sliderElement </span>= document.querySelector&lt;HTMLElement&gt;('.slider')!<span style="color: rgba(0, 0, 0, 1)">;
const slider </span>=<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(sliderElement, {
  container: </span>'.slide-list'<span style="color: rgba(0, 0, 0, 1)">,
  slides: </span>'.slide'<span style="color: rgba(0, 0, 0, 1)">,
});</span></pre>
</div>
<p>emblaCarousel æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä¼ å…¥ slider element å°±å¯ä»¥äº†ã€‚</p>
<p>container å¦‚æœæ˜¯&nbsp;slider çš„ first child é‚£å¯ä»¥ä¸éœ€è¦æŒ‡å®šã€‚(æˆ‘æŒ‡å®šåªæ˜¯ä¸ºäº†æ¼”ç¤º)</p>
<p>slides å¦‚æœæ˜¯ container çš„ children ä¹Ÿå¯ä»¥ä¸éœ€è¦æŒ‡å®šã€‚(æˆ‘æŒ‡å®šåªæ˜¯ä¸ºäº†æ¼”ç¤º)</p>
<p>ç›¸å…³æºç åœ¨&nbsp;<a href="https://github.com/davidjerleke/embla-carousel/blob/v8.6.0/packages/embla-carousel/src/components/EmblaCarousel.ts#L59" rel="noopener nofollow" target="_blank">EmblaCarousel.ts</a></p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406000006838-882342887.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>åˆ°è¿™é‡Œå°±å·²ç»å¯ä»¥è·‘èµ·æ¥äº†</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406000322529-1273586734.gif" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<h2>Navigation</h2>
<p><a href="https://www.embla-carousel.com/examples/predefined/#default" rel="noopener nofollow" target="_blank">å‚è€ƒï¼šå®˜ç½‘</a></p>
<p>Swiper æœ‰ built-in å®Œæ•´çš„ navigationï¼ŒEmbla æ²¡æœ‰ã€‚</p>
<p>Embla åªæä¾›äº†åº•å±‚æ“ä½œ slider çš„ APIï¼Œä¸Šå±‚éœ€è¦æˆ‘ä»¬è‡ªå·±å†™ã€‚</p>
<h3>HTML</h3>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_2de46c92-bae5-4d6c-9196-bebccd6ff6a6" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_2de46c92-bae5-4d6c-9196-bebccd6ff6a6" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_2de46c92-bae5-4d6c-9196-bebccd6ff6a6" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slider-container"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slider"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide-list"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/tifa.webp"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="tifa"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/nana.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="nana"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="navigation"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">button </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="prev"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;</span><span style="color: rgba(128, 0, 0, 1)">&lt;/button</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">button </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="next"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>&gt;<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">button</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>å¢åŠ ä¸€ä¸ª container è¿˜æœ‰ navigation buttons</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406102418363-191294777.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<h3>Styles</h3>
<p>ç»™ä¸€ç‚¹ Styles ç¾è§‚ä¸€ä¸‹</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_157c2a01-6dcf-46fc-8f83-317d74621d0f" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_157c2a01-6dcf-46fc-8f83-317d74621d0f" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_157c2a01-6dcf-46fc-8f83-317d74621d0f" class="cnblogs_code_hide">
<pre><span style="color: rgba(128, 0, 0, 1)">.slider-container </span>{<span style="color: rgba(255, 0, 0, 1)">
  max-width</span>:<span style="color: rgba(0, 0, 255, 1)"> 512px</span>;<span style="color: rgba(255, 0, 0, 1)">
  overflow</span>:<span style="color: rgba(0, 0, 255, 1)"> hidden</span>;<span style="color: rgba(255, 0, 0, 1)">

  .slider {
    width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">

    .slide-list {
      display</span>:<span style="color: rgba(0, 0, 255, 1)"> flex</span>;<span style="color: rgba(255, 0, 0, 1)">

      .slide {
        flex-shrink</span>:<span style="color: rgba(0, 0, 255, 1)"> 0</span>;<span style="color: rgba(255, 0, 0, 1)">
        width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">

        img {
          width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">
          height</span>:<span style="color: rgba(0, 0, 255, 1)"> auto</span>;<span style="color: rgba(255, 0, 0, 1)">

          aspect-ratio</span>:<span style="color: rgba(0, 0, 255, 1)"> 16 / 9</span>;<span style="color: rgba(255, 0, 0, 1)">
          object-fit</span>:<span style="color: rgba(0, 0, 255, 1)"> cover</span>;
        }<span style="color: rgba(128, 0, 0, 1)">
      }
    }
  }

  .navigation </span>{<span style="color: rgba(255, 0, 0, 1)">
    display</span>:<span style="color: rgba(0, 0, 255, 1)"> grid</span>;<span style="color: rgba(255, 0, 0, 1)">
    grid-template-columns</span>:<span style="color: rgba(0, 0, 255, 1)"> 1fr 1fr</span>;<span style="color: rgba(255, 0, 0, 1)">
    gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

    .prev,
    .next {
      font-size</span>:<span style="color: rgba(0, 0, 255, 1)"> 32px</span>;<span style="color: rgba(255, 0, 0, 1)">
      font-weight</span>:<span style="color: rgba(0, 0, 255, 1)"> 700</span>;<span style="color: rgba(255, 0, 0, 1)">
      padding</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px 24px</span>;<span style="color: rgba(255, 0, 0, 1)">
      background-color</span>:<span style="color: rgba(0, 0, 255, 1)"> lightblue</span>;<span style="color: rgba(255, 0, 0, 1)">
      color</span>:<span style="color: rgba(0, 0, 255, 1)"> blue</span>;<span style="color: rgba(255, 0, 0, 1)">
      border-width</span>:<span style="color: rgba(0, 0, 255, 1)"> 0</span>;<span style="color: rgba(255, 0, 0, 1)">
      cursor</span>:<span style="color: rgba(0, 0, 255, 1)"> pointer</span>;<span style="color: rgba(255, 0, 0, 1)">

      &amp;[disabled] {
        opacity</span>:<span style="color: rgba(0, 0, 255, 1)"> 0.4</span>;<span style="color: rgba(255, 0, 0, 1)">
        cursor</span>:<span style="color: rgba(0, 0, 255, 1)"> unset</span>;<span style="color: rgba(255, 0, 0, 1)">
        pointer-events</span>:<span style="color: rgba(0, 0, 255, 1)"> none</span>;
      }<span style="color: rgba(128, 0, 0, 1)">
    }
  }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>ç›®å‰çš„æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406102702490-178760766.gif" alt="" class="medium-zoom-image"></p>
<p>ä¸¤ä¸ª button è¿˜åªæ˜¯æ‘†è®¾ï¼Œç‚¹å‡»ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚</p>
<h3>Scripts</h3>
<div class="cnblogs_code">
<pre>const sliderContainer = document.querySelector&lt;HTMLElement&gt;('.slider-container')!<span style="color: rgba(0, 0, 0, 1)">;
const sliderElement </span>= sliderContainer.querySelector&lt;HTMLElement&gt;('.slider')!<span style="color: rgba(0, 0, 0, 1)">;
const slider </span>=<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(sliderElement);

const prevBtn </span>= sliderContainer.querySelector&lt;HTMLButtonElement&gt;('.navigation .prev')!<span style="color: rgba(0, 0, 0, 1)">;
const nextBtn </span>= sliderContainer.querySelector&lt;HTMLButtonElement&gt;('.navigation .next')!<span style="color: rgba(0, 0, 0, 1)">;

</span><span style="color: rgba(0, 0, 255, 1)">for</span><span style="color: rgba(0, 0, 0, 1)"> (const button of [prevBtn, nextBtn]) {
  const directive </span>= button === prevBtn ? 'Prev' : 'Next'<span style="color: rgba(0, 0, 0, 1)">;
  </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ç›‘å¬ prev next button click</span>
  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å½“ user ç‚¹å‡»åï¼Œè°ƒç”¨ slider.scrollPrev() æˆ– scrollNext æ–¹æ³•æ¥ç§»åŠ¨ slide</span>
  button.addEventListener('click', () =&gt;<span style="color: rgba(0, 0, 0, 1)"> slider[`scroll${directive}`]());
}</span></pre>
</div>
<p>ç›‘å¬ prev å’Œ next button clickï¼Œå½“ user ç‚¹å‡»åï¼Œè°ƒç”¨ slider.scrollPrev æˆ– scrollNext æ¥ç§»åŠ¨ slideã€‚</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406105125652-1610868177.gif" alt="" class="medium-zoom-image"></p>
<h4>disabled ä½“éªŒ</h4>
<p>navigation button é€šå¸¸ä¼šæœ‰ disabled ä½“éªŒã€‚</p>
<p>å½“ user next åˆ°æœ€åä¸€ä¸ª slideï¼Œæˆ‘ä»¬éœ€è¦ disable next buttonï¼Œè®© user çŸ¥é“å·²ç»åˆ°å¤´äº†ï¼Œä¸å¯ä»¥å†ç»§ç»­ nextã€‚</p>
<p>ç›¸åï¼Œä¸€å¼€å§‹åœ¨ç¬¬ä¸€ä¸ª slide æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ disable prev buttonã€‚</p>
<p>é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ª handler</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> handleStateChange() {
  prevBtn.disabled </span>= !<span style="color: rgba(0, 0, 0, 1)">slider.canScrollPrev();
  nextBtn.disabled </span>= !<span style="color: rgba(0, 0, 0, 1)">slider.canScrollNext();
}</span></pre>
</div>
<p>é€è¿‡&nbsp;slider.canScrollPrev æˆ–&nbsp;canScrollNext æ–¹æ³•æ¥ detect å½“å‰ slider æ˜¯å¦å¯ä»¥ next or prevã€‚</p>
<p>å¦‚æœå½“å‰æ˜¯åœ¨ç¬¬ä¸€ä¸ª slide é‚£&nbsp;canScrollPrev å°†è¿”å› falseï¼Œå¦‚æœå½“å‰æ˜¯åœ¨æœ€åä¸€ä¸ª slide é‚£&nbsp;canScrollNext å°†è¿”å› falseã€‚</p>
<p>æ³¨ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•è¿˜ä¼šè€ƒé‡ slider æ˜¯å¦æ”¯æŒ loopingï¼Œå¦‚æœæ”¯æŒ looping çš„è¯ï¼Œé‚£ä¸ç®¡å½“å‰åœ¨å“ªä¸€ä¸ª slideï¼Œå®ƒä»¬ä¸€å®šè¿”å› trueã€‚</p>
<p>æ¥ç€æˆ‘ä»¬è¦ç›‘å¬ slider çš„ slide å˜æ›´ï¼Œç„¶å apply handlerã€‚</p>
<div class="cnblogs_code">
<pre>slider.on('init'<span style="color: rgba(0, 0, 0, 1)">, handleStateChange);
slider.on(</span>'select'<span style="color: rgba(0, 0, 0, 1)">, handleStateChange);
slider.on(</span>'reInit', handleStateChange);</pre>
</div>
<p>æœ‰ä¸‰ä¸ªäº‹ä»¶æˆ‘ä»¬éœ€è¦ç›‘å¬ã€‚</p>
<p>init å°±æ˜¯åˆå§‹åŒ–å®Œæˆï¼Œæ­¤æ—¶ä¼šæ˜¯ç¬¬ä¸€ä¸ª slideï¼Œæ‰€ä»¥ prev button ä¼š disabledã€‚</p>
<p>select æ˜¯æ¯ä¸€æ¬¡ slide changeï¼Œæ¯”å¦‚æˆ‘ä»¬ click next / prev buttonï¼Œæˆ–è€… swipe slide çš„æ—¶å€™ã€‚</p>
<p>reInit æ˜¯å½“ slider è¢«ä¿®æ”¹ (e.g. add/remove slide, options change) é‡ç½®ã€‚</p>
<h4>æœ€ç»ˆæ•ˆæœ</h4>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406110710682-1894228618.gif" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<h2>looping æ— é™å¾ªç¯</h2>
<p>Embla æ”¯æŒ loopingï¼Œé…ç½® options å°±å¯ä»¥äº†ã€‚</p>
<div class="cnblogs_code">
<pre>const slider = emblaCarousel(sliderElement, { loop: <span style="color: rgba(0, 0, 255, 1)">true</span> });</pre>
</div>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406113614659-241602868.gif" alt="" class="medium-zoom-image"></p>
<p>è¶…çº§ä¸æ»‘...è¿™ä¸ª slide çš„ä½“éªŒç§’æ€ Swiperã€‚</p>
<p>ä¸Šä¸€ part æˆ‘ä»¬æåˆ°çš„&nbsp;canScrollPrev å’Œ&nbsp;canScrollNext åœ¨ looping çš„æƒ…å†µä¸‹ï¼Œä¸€å®šè¿”å› trueã€‚</p>
<p>&nbsp;</p>
<h2>Autoplay</h2>
<p><a href="https://www.embla-carousel.com/examples/predefined/" rel="noopener nofollow" target="_blank">å‚è€ƒï¼šå®˜ç½‘</a></p>
<p>Autoplay æ˜¯è‡ªåŠ¨ swipe åŠŸèƒ½ï¼Œä½“éªŒæ˜¯è¿™æ · -- delay å‡ ç§’åï¼Œè‡ªåŠ¨ swipe to next slideï¼Œç„¶ååˆ delay åˆ swipe ä»¥æ­¤ç±»æ¨ã€‚</p>
<p>Embla Carousel å¯ä»¥é€è¿‡ Autoplay Plugin å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h3>å®‰è£… Plugin</h3>
<p>é¦–å…ˆï¼Œéœ€è¦å¦å¤–å®‰è£… npm package</p>
<div class="cnblogs_code">
<pre>yarn add embla-carousel-autoplay</pre>
</div>
<h3>setup &amp; options</h3>
<p>ç„¶åé…ç½®</p>
<div class="cnblogs_code">
<pre>import autoplay from 'embla-carousel-autoplay'<span style="color: rgba(0, 0, 0, 1)">;

const slider </span>= emblaCarousel(sliderElement, { loop: <span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)"> }, [
  autoplay(),
]);</span></pre>
</div>
<p>emblaCarousel ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ç”¨æ¥é…ç½® plugins çš„ã€‚</p>
<p>autoplay æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å®ƒä¼šè¿”å› plugin å®ä¾‹ã€‚</p>
<p>å®ƒæœ‰ä¸€äº› options å¯ä»¥è°ƒ</p>
<ol>
<li>
<p>autoPlay({ delay: 1000 })</p>
<p>delay å¤šä¹…å auto swipe to next slideï¼Œé»˜è®¤æ˜¯ 4000 millisecondsã€‚</p>
</li>
<li>
<p>playOnInit</p>
<p>æ˜¯ä¸æ˜¯ä¸€å¼€å§‹å°± start autoplayï¼Œé»˜è®¤æ˜¯ trueï¼Œå¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±å†³å®šä½•æ—¶ start é‚£å°± set to falseï¼Œç„¶åè‡ªå·±è°ƒç”¨ API è®©å®ƒ startï¼Œä¸‹é¢ä¼šæ•™ã€‚</p>
</li>
<li>
<p>stopOnFocusIn</p>
<p>å½“ slider å†…æœ‰ä»»ä½• element è¢« focusedï¼Œautoplay å°±ä¼šç»ˆæ­¢ (ä¸æ˜¯ pauseï¼Œæ˜¯ stop)ï¼Œé»˜è®¤æ˜¯ trueã€‚</p>
</li>
<li>
<p>stopOnMouseEnter</p>
<p>mouse hover åˆ° sliderï¼Œautoplay å°±ç»ˆæ­¢ï¼Œé»˜è®¤æ˜¯ falseã€‚</p>
</li>
<li>
<p>stopOnInteraction</p>
<p>interaction æŒ‡çš„æ˜¯ slider è¢« pointerdownï¼Œé»˜è®¤æ˜¯ trueã€‚</p>
æ¯”å¦‚ swipe to next slide è¿™ä¸ªäº¤äº’å°±æ¶‰åŠåˆ°äº† pointerdownï¼Œæ‰€ä»¥å®ƒä¼š stop autoplayã€‚
<p>æ³¨ï¼šå¦‚æœæˆ‘ä»¬æ˜¯é€è¿‡ click navigation button æ¥ next slideï¼Œè¿™å¯ä¸ä¼š stop autoplay å“¦ï¼Œå› ä¸º button æ˜¯åœ¨ slider å¤–é¢ï¼Œclick button ä¸ä¼šè§¦å‘ slider çš„ pointerdownã€‚</p>
</li>
<li>
<p>stopOnLastSnap</p>
<p>autoplay åˆ°æœ€åä¸€ä¸ª slide å°±ç»ˆæ­¢ï¼Œé»˜è®¤æ˜¯ falseã€‚</p>
<p>å¦‚æœæ²¡æœ‰è®¾ç½® loopingï¼Œåœ¨æœ€åä¸€ä¸ª slide å®ƒä¾ç„¶ä¼šå€’é€€å›åˆ°ç¬¬ä¸€ä¸ª slideã€‚</p>
</li>
<li>
<p>é»˜è®¤ options</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406125430954-1549584363.png" alt="" class="medium-zoom-image" loading="lazy"></p>
</li>
</ol>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406132301775-2146755429.gif" alt="" class="medium-zoom-image"></p>
<h3>Autoplay plugin å®ä¾‹ã€æ–¹æ³•ã€äº‹ä»¶</h3>
<p>æƒ³æ“æ§ autoplayï¼Œæˆ‘ä»¬å¯ä»¥ä» slider é‡Œé¢å–å‡º autoplay plugin å®ä¾‹ï¼Œç„¶åè°ƒç”¨å®ƒçš„å„ç§æ–¹æ³•</p>
<div class="cnblogs_code">
<pre>const autoplayPlugin = slider.plugins().autoplay; <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> autoplay plugin å®ä¾‹</span></pre>
</div>
<p>æˆ–è€…å…ˆåˆ›å»ºå®ä¾‹ï¼Œå†ä¼ ç»™ embla slider ä¹Ÿè¡Œã€‚</p>
<div class="cnblogs_code">
<pre>const autoplayPlugin = autoplay({ delay: 1000 }); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> autoplay plugin å®ä¾‹</span>
const slider = emblaCarousel(sliderElement, { loop: <span style="color: rgba(0, 0, 255, 1)">false</span> }, [autoplayPlugin]); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¼ å…¥ embla slider</span></pre>
</div>
<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ol>
<li>
<p>autoplayPlugin.play();</p>
å¯åŠ¨ timerï¼Œåˆ°ç‚¹ auto swipe to next slideã€‚
<p>å¦‚æœæˆ‘ä»¬é…ç½® playOnInit: falseï¼Œé‚£ autoplay å°±ä¸ä¼šå¼€å¯ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è°ƒç”¨ play æ–¹æ³•è®©å®ƒå¯åŠ¨ã€‚</p>
</li>
<li>
<p>stop()</p>
<p>stop å°±æ˜¯å®Œå…¨åœæ‰ autoplayï¼Œtimer ä¼šé©¬ä¸Šè¢« clear æ‰ã€‚</p>
<p>stop äº†ä»¥åï¼Œå¯ä»¥ç”¨ play è®©å®ƒæ¢å¤ã€‚</p>
</li>
<li>
<p>isPlaying()</p>
<p>è¿”å› booleanï¼Œåˆ¤æ–­å½“å‰ autoplay æ˜¯å¦æ˜¯å¯åŠ¨çŠ¶æ€ã€‚</p>
</li>
<li>
<p>reset()</p>
reset çš„æ„æ€æ˜¯é‡ç®— timerã€‚(æ³¨ï¼šautoplay åœ¨å¯åŠ¨çŠ¶æ€ä¸‹æ‰èƒ½ reset å“¦)
<p>æ¯”å¦‚è¯´ï¼Œtimer delay 4 ç§’åä¼š auto swipeï¼Œå½“å‰æ˜¯ç¬¬äºŒç§’ï¼Œæˆ‘ä»¬æ‰§è¡Œ resetï¼Œé‚£ timer å°±é‡ç®—ï¼Œè¦å†ç­‰ 4 ç§’åæ‰ä¼š auto swipeã€‚</p>
</li>
<li>
<p>timeUntilNext()</p>
<p>è·ç¦»ä¸‹ä¸€æ¬¡ auto swipe çš„æ—¶é—´ï¼Œå®ƒè¿”å›çš„æ˜¯ millisecondã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œtimer delay 4 ç§’åä¼š auto swipeï¼Œå½“å‰æ˜¯ç¬¬ä¸‰ç§’ï¼Œæˆ‘ä»¬æ‰§è¡Œ timeUntilNext ä¼šå¾—åˆ° 1000ï¼Œä»£è¡¨ 1 ç§’åä¼š auto swipeã€‚</p>
</li>
<li>
<p>init()</p>
<p>æ‰€æœ‰ plugin éƒ½å¿…é¡»å®ç° init æ–¹æ³•ï¼Œè¿™ä¸ªæ˜¯ç»™ slider åˆå§‹åŒ– plugin æ—¶ç”¨çš„ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è°ƒç”¨å®ƒã€‚</p>
</li>
<li>
<p>destroy()</p>
<p>æ‰€æœ‰ plugin éƒ½å¿…é¡»å®ç° destroy æ–¹æ³•ï¼Œè¿™ä¸ªæ˜¯ç»™ slider destroy æ—¶ç”¨çš„ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è°ƒç”¨å®ƒã€‚</p>
</li>
<li>
<p>name</p>
<p>æ¯ä¸ª plugin éƒ½æœ‰åå­—ï¼Œautoplay plugin çš„åå­—å« 'autoplay'ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406173947949-1727507415.png" alt="" class="medium-zoom-image" loading="lazy"></p>
</li>
<li>
<p>options</p>
<p>è¿™ä¸ª options å¯¹è±¡å°±æ˜¯æˆ‘ä»¬è°ƒç”¨ autoplay å‡½æ•°æ—¶ä¼ å…¥çš„é‚£ä¸ª options å¯¹è±¡ã€‚</p>
<p>ç‰¹åˆ«è¦ç•™æ„çš„åœ°æ–¹æ˜¯ï¼Œè¿™ä¸ªå¯¹è±¡ä¸åŒ…å« default optionsã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œä¼ å…¥çš„ options å¯¹è±¡æ˜¯ { delay: 1000 }ï¼Œdefault options æ˜¯è¿™æ ·</p>
<img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406125430954-1549584363.png" alt="" class="medium-zoom-image" loading="lazy">
<p>æ‹¿ autoplayPlugin.options.stopOnInteraction å°†å¾—åˆ° undefinedï¼Œè€Œä¸æ˜¯ trueï¼Œå› ä¸º&nbsp;stopOnInteraction æ˜¯å®šä¹‰åœ¨ default options é‡Œï¼Œè€Œä¸æ˜¯åœ¨æˆ‘ä»¬ä¼ å…¥çš„ options å¯¹è±¡é‡Œã€‚</p>
<p>æˆ‘ä¸ªäººè§‰å¾—å®ƒè¿™æ ·è®¾è®¡å¾ˆä¸æ–¹ä¾¿ï¼Œåº”è¯¥è¦æä¾›ä¸€ä¸ª merged options ç»™æˆ‘ä»¬ç”¨æ‰å¯¹ã€‚</p>
</li>
</ol>
<p>å¸¸ç”¨äº‹ä»¶ï¼š</p>
<ol>
<li>autoplay:stop<br>
<div class="cnblogs_code">
<pre>const slider = emblaCarousel(sliderElement, { loop: <span style="color: rgba(0, 0, 255, 1)">false</span> }, [autoplay({ delay: 1000<span style="color: rgba(0, 0, 0, 1)"> })]);
const autoplayPlugin </span>=<span style="color: rgba(0, 0, 0, 1)"> slider.plugins().autoplay;

slider.on(`autoplay:stop`, () </span>=&gt; console.log('stop')); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ç›‘å¬äº‹ä»¶</span>
window.setTimeout(() =&gt; autoplayPlugin.stop(), 1000);  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> è§¦å‘ stop event</span></pre>
</div>
<p>äº‹ä»¶ç›‘å¬æ˜¯é€è¿‡ slider.on ç»‘å®šçš„ï¼Œäº‹ä»¶åçš„è§„èŒƒæ˜¯ autoplayPlugin.name + ':' + supportedEventNameã€‚</p>
<p>stop event ä¼šåœ¨ autoplay stop çš„æ—¶å€™è§¦å‘ï¼Œå¾ˆå¤šæƒ…å†µä¼šå¯¼è‡´ autoplay stopï¼Œæ¯”å¦‚ focus, hover, interaction, last slide, call stop methodï¼Œä¸ç®¡ä»€ä¹ˆæƒ…å†µï¼Œåªè¦çŠ¶æ€ä» play to stopï¼Œå®ƒå°±ä¼šè§¦å‘ã€‚</p>
</li>
<li>
<p>autoplay:play</p>
<p>çŠ¶æ€ä» stop to play æ—¶è§¦å‘ã€‚</p>
<p>æ³¨ï¼šplay on init ä¸ä¼šè§¦å‘ï¼Œå› ä¸ºæˆ‘ä»¬ç›‘å¬çš„æ¯”è¾ƒæ™šï¼Œå®ƒçš„é¡ºåºæ˜¯è¿™æ ·ï¼š</p>
<p>emblaCarousel é‡Œé¢ä¼šè°ƒç”¨ autoplayPlugin.initï¼Œinit é‡Œé¢ä¼šè°ƒç”¨&nbsp;startAutoplayï¼Œå› ä¸ºé»˜è®¤ playOnInit: trueï¼ŒstartAutoplay é‡Œé¢ä¼š fire 'autoplay:play' eventï¼Œ</p>
<p>ç­‰ emblaCarousel è·‘å®Œï¼Œæˆ‘ä»¬æ‰è°ƒç”¨ slider.on('autoplay:play')ï¼Œæ­¤æ—¶ event å·²ç» fire æ‰äº†ã€‚</p>
</li>
<li>
<p>autoplay:select</p>
<p>autoplay å¼€å¯åï¼Œä¼šå…ˆ delayï¼Œç­‰ timer åˆ°ç‚¹åï¼Œå®ƒä¼š auto swipeï¼Œè¿™ä¸ª select event å°±æ˜¯åœ¨ auto swipe çš„æ—¶å€™è§¦å‘çš„ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406175508419-719929577.png" alt="" class="medium-zoom-image" loading="lazy"></p>
</li>
<li>
<p>autoplay:timerset</p>
<p>autoplay çš„æµç¨‹æ˜¯ delay &gt; swipe &gt; delay &gt; swipeï¼Œæ¯ä¸€æ¬¡ delay éƒ½æ˜¯ç”¨ setTimeout å®Œæˆçš„ï¼Œæ¯ä¸€æ¬¡ set è¿™ä¸ª timer éƒ½ä¼š fire 'autoplay:timerset' eventã€‚</p>
</li>
<li>
<p>autoplay:timerstopped</p>
<p>é¡¾åæ€ä¹‰ï¼Œå½“ clearTimeout æ—¶å®ƒå°±ä¼š fire 'autoplay:timerstopped' eventã€‚(e.g. when autoplay stop çš„æ—¶å€™ï¼Œæ³¨ï¼šstop ä¼šæ¯” timerstopped æ—©ä¸€æ‹ fire)ã€‚</p>
</li>
</ol>
<h3>Change autoplay options?</h3>
<p>å¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹ options å¯ä»¥å—ï¼Ÿ</p>
<p>æ¯”å¦‚è¯´ï¼Œä¸€å¼€å§‹é…ç½® delay: 1000ï¼Œ2 ç§’åæˆ‘æƒ³æ”¹å» delay: 4000ã€‚</p>
<p>æˆ‘ä»¬å…ˆå¤©çœŸçš„è¯•ä¸€è¯•</p>
<div class="cnblogs_code">
<pre>const autoplayPlugin = autoplay({ delay: 1000<span style="color: rgba(0, 0, 0, 1)"> });
const slider </span>= emblaCarousel(sliderElement, { loop: <span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)"> }, [autoplayPlugin]);
window.setTimeout(() </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> {
  autoplayPlugin.options.delay </span>= 4000; <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 2 ç§’åä¿®æ”¹ delay ä» 1 ç§’å˜ 4 ç§’</span>
}, 2000);</pre>
</div>
<p>ç»“æœä»€ä¹ˆéƒ½æ²¡æœ‰æ”¹å˜ï¼Œä¾ç„¶ç»´æŒ delay 1 ç§’ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬åŠ ä¸€å¥ reset å‘¢ï¼Ÿ</p>
<div class="cnblogs_code">
<pre>autoplayPlugin.reset();</pre>
</div>
<p>è¿˜æ˜¯ä¸è¡Œã€‚</p>
<p>é‚£ stop &gt; change delay &gt; play å‘¢ï¼Ÿ</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 0, 1)">autoplayPlugin.stop();
autoplayPlugin.options.delay </span>= 4000; <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 2 ç§’åä¿®æ”¹ delay ä» 1 ç§’å˜ 4 ç§’</span>
autoplayPlugin.play();</pre>
</div>
<p>é€šé€šä¸è¡Œã€‚</p>
<p>why? çœ‹ä¸€çœ‹æºç </p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406190423808-249940787.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>æ¯å½“ setTimeout çš„æ—¶å€™ï¼Œå®ƒä¼šä» delay å¯¹è±¡ä¸­æ‹¿å‡º options çš„ 4 ç§’ã€‚</p>
<p>è¿™ä¸ª delay å¯¹è±¡æ˜¯åœ¨ plugin.init æ—¶åˆ¶ä½œå¥½çš„ï¼Œå¹¶ä¸”åç»­æ²¡æœ‰ç›‘å¬ options å˜æ›´ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹ options å®ƒæ˜¯ä¸ç®¡çš„ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406190510317-285358920.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>å› æ­¤ï¼Œå€˜è‹¥æˆ‘ä»¬æƒ³ä¿®æ”¹ optionsï¼Œå”¯ä¸€çš„æ–¹æ³•å°±æ˜¯æ‰‹åŠ¨è°ƒç”¨ destoryï¼Œç„¶åå†è°ƒç”¨ initï¼Œè®©å®ƒæ•´ä¸ª plugin é‡å¯ã€‚</p>
<p>è°ƒç”¨ destroy ä¸éš¾ï¼Œä½†è°ƒç”¨ init å°±æœ‰ç‚¹å›°éš¾äº†ã€‚</p>
<p>init æ–¹æ³•éœ€è¦ä¸€ä¸ª optionsHandler å¯¹è±¡</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406190905743-740707092.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>è¿™ä¸ªå¯¹è±¡æ˜¯é€è¿‡ä¸€ä¸ªå†…éƒ¨å‡½æ•° OptionsHandler åˆ›å»ºçš„ (åœ¨æ‰§è¡Œ emblaCarousel å‡½æ•°çš„æ—¶å€™ï¼Œæ³¨ï¼šEmbla çš„å‡½æ•°å‘½åè§„èŒƒæ˜¯ PascalCaseï¼Œè€Œä¸æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ camelCaseï¼Œåœ¨ç¿»é˜…æºç çš„æ—¶å€™è¦çœ‹å¾—æ‡‚å“¦)</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406191014466-754162237.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>Embla æ²¡æœ‰å…¬å¼€è¿™ä¸ª OptionsHandler&nbsp;å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•è°ƒç”¨ plugin.init æ–¹æ³•ã€‚</p>
<h4>emblaCarousel.reInit (a.k.a reActive)</h4>
<p>æˆ‘ä»¬åªå‰©ä¸‹æœ€åä¸€æ¡è·¯ --&nbsp;emblaCarousel.reInit æ–¹æ³•</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406191744498-714409209.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>è¿™ä¸ªæ–¹æ³•ä¼šé‡å¯æ•´ä¸ª sliderï¼Œæ‰€æœ‰çš„ plugin ä¼šè¢« destroy ç„¶åå† initã€‚</p>
<p>é‡å¯ä¸ä¼šæŠŠ slide è·³å›ç¬¬ä¸€ä¸ªï¼Œè€Œæ˜¯ä¿æŒåœ¨å½“å‰ä½ç½®ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¼ å…¥æ–°çš„ options æˆ– pluginsï¼Œé‚£å®ƒä¼šä½¿ç”¨å›ä¹‹å‰çš„ options å’Œ pluginsã€‚</p>
<p>æœ€åçš„å®ç°ä»£ç æ˜¯è¿™æ ·</p>
<div class="cnblogs_code">
<pre>window.setTimeout(() =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
  autoplayPlugin.options.delay </span>= 4000; <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 2 ç§’åä¿®æ”¹ delay ä» 1 ç§’å˜ 4 ç§’</span>
<span style="color: rgba(0, 0, 0, 1)">  slider.reInit();
}, </span>2000);</pre>
</div>
<h3>å½“ Autoplay é‡ä¸Š Navigation</h3>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406181301328-741681226.gif" alt="" class="medium-zoom-image"></p>
<p>çœ‹åˆ°å—ï¼ŒAutoplay å’Œ Navigation æ‰“èµ·æ¥äº†ã€‚</p>
<p>è™½ç„¶&nbsp;stopOnInteraction: trueï¼Œä½† navigation æ“ä½œå¯¹ autoplay plugin æ¥è¯´å¹¶ä¸ç®—æ˜¯ interactionï¼Œåªæœ‰ slider pointerdown æ‰ç®—æ˜¯ interactionï¼Œæ‰€ä»¥ navigation æ“ä½œä¸ä¼š stop autoplayã€‚</p>
<p>å®˜æ–¹ç»™çš„ä¾‹å­æ˜¯è¿™æ ·è§£å†³çš„</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250406181731454-42957772.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>ç›‘å¬ navigation button clickï¼Œç„¶åè°ƒç”¨ reset æˆ– stop æ¥æ§åˆ¶ autoplayã€‚</p>
<p>è¿™ä¸ªåšæ³•å¯ä»¥è¾¾åˆ°æ•ˆæœï¼Œä½†æœ‰ä¸€ç‚¹ç‚¹æ‰£ç®¡ç†åˆ†ã€‚</p>
<p>å› ä¸ºè¿™æ ·åšä¼šæŠŠ navigation å’Œ autoplay çš„å…³ç³»ç»‘çš„å¾ˆç´§ï¼Œè€Œä¸”å€˜è‹¥å“ªå¤©å†å‡ºç°ä¸€ä¸ª pagination (å¦ä¸€ç§æ“ä½œ slide çš„æ–¹å¼)ï¼Œæˆ‘ä»¬åˆå¾—å†å†™ä¸€å¥—ç±»ä¼¼çš„é€»è¾‘ç»™å®ƒï¼Œè¿™æ ·å¾ˆç¹çã€‚</p>
<p>æˆ‘è¿™é‡Œæœ‰ä¸€ä¸ª ideaï¼Œæˆ‘ä»¬å¯ä»¥ç›‘å¬ select change äº‹ä»¶ï¼Œå¦‚æœæ˜¯ select change by not autoplayï¼Œé‚£æˆ‘ä»¬å°± stop or reset autoplayã€‚</p>
<p>è¿™æ ·å°±å¯ä»¥ cover navigation å’Œ pagination ç”šè‡³å…¶å®ƒæ›´å¤šçš„ slide æ“ä½œã€‚</p>
<p>ä»£ç å¤§æ¦‚æ˜¯è¿™æ ·</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ç›‘å¬æ¯ä¸€æ¬¡çš„ select</span>
slider.on('select', () =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
  </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åˆ¤æ–­è¿™ä¸€æ¬¡çš„ select æ˜¯ trigger by autoplay or not</span>
  let isAutoSelect = <span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)">;

  </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å› ä¸ºæ˜¯å…ˆè§¦å‘ select åè§¦å‘ autoplay:select (åŒæ­¥)</span>
  <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ¥åˆ¤æ–­ select æ˜¯ trigger by autoplay or not</span>
  const callback = () =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
    isAutoSelect </span>= <span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">;
    slider.off(</span>'autoplay:select'<span style="color: rgba(0, 0, 0, 1)">, callback);
  };
  slider.on(</span>'autoplay:select'<span style="color: rgba(0, 0, 0, 1)">, callback);

  queueMicrotask(() </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> {
    slider.off(</span>'autoplay:select'<span style="color: rgba(0, 0, 0, 1)">, callback);
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¦‚æœæ˜¯ autoplay é‚£å°± skip</span>
    <span style="color: rgba(0, 0, 255, 1)">if</span> (isAutoSelect) <span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)">;

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å¦‚æœ select trigger by navigation, pagination æˆ–å…¶å®ƒçš„ï¼Œé‚£æˆ‘ä»¬å°± stop or reset autoplayã€‚</span>
    (autoplayPlugin.options.stopOnInteraction ?? <span style="color: rgba(0, 0, 255, 1)">true</span>) ?<span style="color: rgba(0, 0, 0, 1)"> autoplayPlugin.stop() : autoplayPlugin.reset();
  });
});</span></pre>
</div>
<p><a href="https://www.cnblogs.com/keatkeat/p/17297763.html" target="_blank">RxJS</a>&nbsp;çš„å†™æ³•æ˜¯è¿™æ ·</p>
<div class="cnblogs_code">
<pre>fromEvent(slider, 'select'<span style="color: rgba(0, 0, 0, 1)">)
  .pipe(
    switchMap(() </span>=&gt;<span style="color: rgba(0, 0, 0, 1)">
      merge(fromEvent(slider, </span>'autoplay:select').pipe(map(() =&gt; <span style="color: rgba(0, 0, 255, 1)">true</span>)), of(<span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)">).pipe(observeOn(asapScheduler))).pipe(
        take(</span>1<span style="color: rgba(0, 0, 0, 1)">),
      ),
    ),
    filter(isAutoplaySelect </span>=&gt; !<span style="color: rgba(0, 0, 0, 1)">isAutoplaySelect),
  )
  .subscribe(() </span>=&gt;<span style="color: rgba(0, 0, 0, 1)">
    (autoplayPlugin.options.stopOnInteraction </span>?? <span style="color: rgba(0, 0, 255, 1)">true</span>) ?<span style="color: rgba(0, 0, 0, 1)"> autoplayPlugin.stop() : autoplayPlugin.reset(),
  );</span></pre>
</div>
<p>&nbsp;</p>
<h2>Slides per view &amp; Slides to scroll</h2>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407000250277-1600177919.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>çº¢æ¡†æ˜¯ slideï¼Œç»¿æ¡†æ˜¯ view (a.k.a scroll snap)ã€‚</p>
<p>slides per view æ˜¯æŒ‡ï¼Œä¸€ä¸ª view é‡Œé¢æœ‰å¤šå°‘ä¸ª slideã€‚</p>
<p>æˆ‘ä»¬ä¸Šé¢æè¿‡çš„ä¾‹å­ï¼Œéƒ½æ˜¯ä¸€ä¸ª view ä¸€ä¸ª slideï¼Œè€Œè¿™ä¸€ä¸ªåˆ™æ˜¯ä¸€ä¸ª view ä¸¤ä¸ª slidesã€‚</p>
<p>é‚£è¦å¦‚ä½•å®ç°å®ƒå‘¢ï¼Ÿ</p>
<p>Swiper çš„&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/16124065.html#:~:text=Slide%20per%20view%20/%20group" target="_blank">slides per view</a>&nbsp;ä¸»è¦æ˜¯é  JavaScript æ¥å®Œæˆçš„ (åŒ…æ‹¬å¸ƒå±€)ã€‚</p>
<p>è€Œ Embla çš„ slides per view åˆ™ä¸»è¦æ˜¯é  CSS Styles æ¥å®Œæˆçš„ (äº¤äº’ä¾ç„¶æ˜¯é  JavaScript)ã€‚</p>
<h3>Styles</h3>
<p>æˆ‘ä¸ªäººæ¯”è¾ƒä¹ æƒ¯ç”¨ grid åš slider å¸ƒå±€</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407001236860-1642687010.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>æ‰€ä»¥è¿™é‡ŒæŠŠä¹‹å‰çš„ flex æ”¹æˆ grid (æ³¨ï¼šä¸¤ç§å¸ƒå±€æ–¹å¼éƒ½å¯ä»¥è¾¾åˆ°æœ€ç»ˆæ•ˆæœï¼Œæ‰€ä»¥é€‰å“ªä¸ªçœ‹ä¸ªäººå–œå¥½å°±å¥½)ã€‚</p>
<p>æ¯ä¸€ä¸ª column (ä¹Ÿå°±æ˜¯ slide) width æ˜¯ 50%ï¼Œé‚£å°±ä»£è¡¨ä¸€ä¸ª view é‡Œä¼šæœ‰ä¸¤ä¸ª slidesã€‚</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407000311722-1683133523.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<h4>add slide gap</h4>
<p>slide ä¸ slide ä¹‹å‰æ²¡æœ‰ gapï¼Œä¸å¥½çœ‹ï¼Œæˆ‘ä»¬åŠ  gap è¿›å»</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(128, 0, 0, 1)">.slide-list </span>{<span style="color: rgba(255, 0, 0, 1)">
  --slides-per-view</span>:<span style="color: rgba(0, 0, 255, 1)"> 2</span>;<span style="color: rgba(255, 0, 0, 1)">
  --slide-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

  display</span>:<span style="color: rgba(0, 0, 255, 1)"> grid</span>;<span style="color: rgba(255, 0, 0, 1)">
  grid-auto-flow</span>:<span style="color: rgba(0, 0, 255, 1)"> column</span>;<span style="color: rgba(255, 0, 0, 1)">
  grid-auto-columns</span>:<span style="color: rgba(0, 0, 255, 1)"> calc((100% - (var(--slide-gap) * (var(--slides-per-view) - 1))) / var(--slides-per-view))</span>;<span style="color: rgba(255, 0, 0, 1)">
  gap</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--slide-gap)</span>;
}</pre>
</div>
<p>ç›´æ¥åŠ  gap ä¼šå½±å“åˆ° slide widthï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†™ä¸€äº›ç®€å•çš„&nbsp;calculationã€‚</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407002642845-1135189412.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>æ’ç‰ˆè™½ç„¶æ˜¯å¯¹çš„ï¼Œä½†äº¤äº’ä¼šæœ‰ä¸€äº›ä½“éªŒé—®é¢˜</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407024712500-570068282.gif" alt="" class="medium-zoom-image"></p>
<p>å½“é¼ æ ‡åœ¨ gap å±€åŸŸ swipe æ—¶ï¼Œå®ƒä¼šä¸å°å¿ƒ select åˆ° slideã€‚</p>
<p>è¿™æ˜¯å› ä¸º gap åŒºåŸŸæ˜¯ div.slide-list çš„ areaï¼Œå®ƒæ˜¯ slide çš„ parent äº†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å‚è€ƒå®˜ç½‘çš„å®ç°æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒçš„ gap æ˜¯ç”¨ slide padding-left åšå‡ºæ¥çš„ã€‚</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(128, 0, 0, 1)">.slide-list </span>{<span style="color: rgba(255, 0, 0, 1)">
  --slides-per-view</span>:<span style="color: rgba(0, 0, 255, 1)"> 2</span>;<span style="color: rgba(255, 0, 0, 1)">
  --slide-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

  display</span>:<span style="color: rgba(0, 0, 255, 1)"> grid</span>;<span style="color: rgba(255, 0, 0, 1)">
  grid-auto-flow</span>:<span style="color: rgba(0, 0, 255, 1)"> column</span>;<span style="color: rgba(255, 0, 0, 1)">
  grid-auto-columns</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(100% / var(--slides-per-view))</span>;<span style="color: rgba(255, 0, 0, 1)">
  margin-left</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(-1 * var(--slide-gap))</span>;<span style="color: rgba(255, 0, 0, 1)">

  .slide {
    padding-left</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--slide-gap)</span>;
  }<span style="color: rgba(128, 0, 0, 1)">
}</span></pre>
</div>
<p>é¦–å…ˆç»™æ¯ä¸ª slide ä¸€ä¸ª padding-left ä½œä¸º slide gapã€‚</p>
<p>ç¬¬äºŒæ­¥æ˜¯ç»™ .slide-list ä¸€ä¸ª negative margin-leftï¼Œç›®çš„æ˜¯æŠŠç¬¬ä¸€ä¸ª slide çš„ padding-left åƒæ‰ã€‚</p>
<p>å¦‚æœä½ è§‰å¾—ä¸Šé¢è¿™ç§ overriding çš„å†™æ³•ä¸å¤ªå¥½ç†è§£çš„è¯ï¼Œé‚£å¯ä»¥æ”¹æˆä¸‹é¢è¿™æ ·</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(128, 0, 0, 1)">.slide-list </span>{<span style="color: rgba(255, 0, 0, 1)">
  --slides-per-view</span>:<span style="color: rgba(0, 0, 255, 1)"> 3</span>;<span style="color: rgba(255, 0, 0, 1)">
  --slide-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

  display</span>:<span style="color: rgba(0, 0, 255, 1)"> grid</span>;<span style="color: rgba(255, 0, 0, 1)">
  grid-auto-flow</span>:<span style="color: rgba(0, 0, 255, 1)"> column</span>;<span style="color: rgba(255, 0, 0, 1)">
  grid-template-columns</span>:<span style="color: rgba(0, 0, 255, 1)"> calc((100% / var(--slides-per-view)) - var(--slide-gap))</span>; <span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> for first slide width </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(255, 0, 0, 1)">
  grid-auto-columns</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(100% / var(--slides-per-view))</span>;<span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> for other slide width </span><span style="color: rgba(0, 128, 0, 1)">*/</span>

  <span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> first slide æ²¡æœ‰ padding-left </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(255, 0, 0, 1)">
  .slide &amp;</span>:<span style="color: rgba(0, 0, 255, 1)">not(:first-child) {
    padding-left: var(--slide-gap)</span>;
  }<span style="color: rgba(128, 0, 0, 1)">
}</span></pre>
</div>
<p>é¦–å…ˆ first slide æ²¡æœ‰ padding-leftã€‚</p>
<p>è¿™ä¼šå¯¼è‡´ first slide å’Œå…¶å®ƒ slides çš„ width ä¸ä¸€è‡´ï¼Œæˆ‘ä»¬éœ€è¦å¦å¤–å¤„ç† -- ç”¨ grid-template-columns æ¥è°ƒæ•´ first slide widthï¼Œè®©å®ƒå’Œå…¶å®ƒ slides ä¿æŒä¸€è‡´ã€‚</p>
<p>æœ€ç»ˆæ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407025650444-967245399.gif" alt="" class="medium-zoom-image"></p>
<h3>slides per group</h3>
<p>è®¾ç½® slides per view = 2 ä¹‹åï¼Œæˆ‘ä»¬å» swipe å®ƒä¼šå‘ç°ä½“éªŒæ€ªæ€ªçš„ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407015636605-162480180.gif" alt="" class="medium-zoom-image"></p>
<p>swipe ä¸€ä¸‹åªç§»åŠ¨äº†åŠä¸ª slideã€‚åŸå› æ˜¯ alignment è·‘æ‰äº†ã€‚</p>
<h4>EmblaOptions.align</h4>
<p>slider é»˜è®¤ align æ˜¯ 'center'ï¼Œæˆ‘ä»¬ swipe å¤šå‡ ä¸‹å°±èƒ½çœ‹å‡ºè¿™ä¸ª align: 'center' çš„å«ä¹‰äº†</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407020817931-255649218.gif" alt="" class="medium-zoom-image"></p>
<p>center ä¼šæ˜¯ä¸€ä¸ªå®Œæ•´çš„ slideï¼Œç„¶åå·¦å³ slide å„å  50% widthï¼Œè¿™å°±æ˜¯ align: center çš„æ„æ€ã€‚</p>
<p>æˆ‘ä»¬æŠŠ align æ¢æˆ 'start' çœ‹çœ‹æ•ˆæœ</p>
<div class="cnblogs_code">
<pre>const slider = emblaCarousel(sliderElement, { align: 'start' });</pre>
</div>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407021419344-1035073067.gif" alt="" class="medium-zoom-image"></p>
<p>yesï¼Œè¿™æ˜¯æˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„ swipe ä½“éªŒã€‚</p>
<h4>EmblaOptions.slidesToScroll</h4>
<p>Swiper æœ‰ä¸€ä¸ªæ„Ÿå¿µå« slides per groupï¼Œæ„æ€æ˜¯å½“æˆ‘ä»¬ swipe çš„æ—¶å€™ï¼Œå®ƒä¼šç§»åŠ¨å¤šå°‘ä¸ª slideã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œåœ¨ä¸€ä¸ª view ä¸€ä¸ª slide çš„æƒ…å†µä¸‹ï¼Œswipe é€šå¸¸å°±æ˜¯ä¸€ä¸ª slideã€‚</p>
<p>è€Œåœ¨ä¸€ä¸ª view ä¸¤ä¸ª slides çš„æƒ…å†µä¸‹ï¼Œswipe ä¸€æ¬¡æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç§»åŠ¨ä¸€ä¸ª slide æˆ–è€…ç§»åŠ¨ä¸¤ä¸ª slidesã€‚</p>
<p>ä¸Šé¢æ˜¯ä¸€ä¸ª swipe ä¸€ä¸ª slide çš„ä½“éªŒï¼Œä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ª swipe ä¸¤ä¸ª slides çš„ä½“éªŒã€‚</p>
<div class="cnblogs_code">
<pre>const slider = emblaCarousel(sliderElement, { align: 'start', slidesToScroll: 2 });</pre>
</div>
<p>slidesToScroll: 2 è¡¨ç¤º scrollNext ä¼šç›´æ¥è·³ä¸¤ä¸ª slidesï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ä¸€ä¸ªã€‚</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407022006752-206566684.gif" alt="" class="medium-zoom-image"></p>
<p>å¦å¤–ï¼ŒslidesToScroll è¿˜æ”¯æŒ 'auto'&nbsp; å€¼ã€‚</p>
<div class="cnblogs_code">
<pre>const slider = emblaCarousel(sliderElement, { align: 'start', slidesToScroll: 'auto' });</pre>
</div>
<p>'auto' çš„æ„æ€å°±æ˜¯ä¾æ® slides per viewã€‚</p>
<p>æ¯”å¦‚ slides per view æ˜¯ 3 çš„è¯ï¼Œé‚£ slidesToScroll ä¹Ÿè‡ªåŠ¨ä¼šæ˜¯ 3ã€‚</p>
<p>&nbsp;</p>
<h2>SlidesInView</h2>
<p>EmblaCarousel.slidesInView æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒä¼šè¿”å›å½“å‰æœ‰å“ªäº› slides åœ¨ view é‡Œé¢ (è¿™ä¸ª view æŒ‡çš„æ˜¯ slider å¯è§åŒºåŸŸ)ã€‚</p>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸ªå®˜æ–¹çš„<a href="https://www.embla-carousel.com/examples/predefined/#default" rel="noopener nofollow" target="_blank">ä¾‹å­</a></p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250408102628379-388110910.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>ä¸€ä¸ª view ä¸€ä¸ª slideï¼Œç›®å‰æ˜¾ç¤ºçš„æ˜¯ä¸€å· slideï¼Œä¹Ÿå°±æ˜¯ç¬¬ 0 ä¸ªï¼Œindex 0ã€‚</p>
<div class="cnblogs_code">
<pre>emblaApi.on('slidesInView', () =&gt; console.log(emblaApi.slidesInView())); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> [0, 1]</span></pre>
</div>
<p>slidesInView è¿”å›çš„æ˜¯ [0, 1]ï¼Œæ„æ€æ˜¯è¯´ï¼Œindex 0 å’Œ 1 slide ç›®å‰æ˜¾ç¤ºåœ¨ view é‡Œã€‚</p>
<p>å‘ƒ...è¿™ä¸å¯¹å•ŠğŸ¤”æ˜æ˜æ˜¾ç¤ºçš„åªæœ‰ index 0 å•Š...</p>
<p><a href="https://github.com/davidjerleke/embla-carousel/issues/650" rel="noopener nofollow" target="_blank">Github Issue â€“&nbsp;slidesInView returns one too many slides</a></p>
<p>ä½œè€…ç»™å‡ºäº†è§£ç­”</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250408110204795-1476624800.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>slidesInView æ˜¯ä¾é &nbsp;<a href="https://www.cnblogs.com/keatkeat/p/15993834.html" target="_blank">IntersectionObserver</a>&nbsp;æ¥è®¡ç®—çš„ï¼Œæºç åœ¨&nbsp;<a href="https://github.com/davidjerleke/embla-carousel/blob/v8.6.0/packages/embla-carousel/src/components/SlidesInView.ts#L28" rel="noopener nofollow" target="_blank">SlidesInView.ts</a>ã€‚</p>
<p>æˆ‘ä»¬è‡ªå·±ç”¨ IntersectionObserver æµ‹ä¸€ä¸‹çœ‹çœ‹</p>
<div class="cnblogs_code">
<pre>window.setTimeout(() =&gt;<span style="color: rgba(0, 0, 0, 1)"> {

  const io </span>= <span style="color: rgba(0, 0, 255, 1)">new</span> IntersectionObserver(entries =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
    console.log(entries.map(e </span>=&gt; e.isIntersecting)); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> [true, true, false, false, false]</span>
<span style="color: rgba(0, 0, 0, 1)">  });
  const slides </span>= Array.from(viewportNode.querySelectorAll('.embla__slide'<span style="color: rgba(0, 0, 0, 1)">));
  slides.forEach(slide </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> io.observe(slide));

}, </span>2000); <span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> delay æ˜¯ä¸ºäº†ç­‰å®ƒ render å®Œ</span></pre>
</div>
<p>å¯ä»¥çœ‹åˆ° 5 ä¸ª slides é‡Œï¼Œå¤´ä¸¤ä¸ª (index 0 å’Œ 1) isIntersecting çœŸçš„æ˜¯ trueã€‚</p>
<p>è¿™ç§è¯¡å¼‚çš„ç°è±¡é€šå¸¸æ˜¯å¾®å·®æˆ–è€… "åˆšåˆšå¥½åŠ¨åˆ°è¦ä¸è¦ç®—" é€ æˆçš„ï¼Œä½œè€…ç»™çš„è§£æ–¹æ˜¯ -- è®¾ç½®&nbsp;thresholdã€‚</p>
<div class="cnblogs_code">
<pre>const emblaApi = EmblaCarousel(viewportNode, { inViewThreshold: 0.01 });</pre>
</div>
<p>ä¸æ‡‚åŸç†æƒ³æ˜ç™½çš„è¯»å‹å¯ä»¥çœ‹<a href="https://www.cnblogs.com/keatkeat/p/15993834.html#:~:text=%E5%B0%B1%E6%85%A2%E6%8E%89%E4%BA%86.-,threshold,-%E6%98%AF%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0" target="_blank">è¿™ç¯‡</a>ã€‚</p>
<p>&nbsp;</p>
<h2>Text Selection</h2>
<p>slide é‡Œé¢çš„ text æ˜¯å¾ˆéš¾è¢« select çš„ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407100251583-1187816634.gif" alt="" class="medium-zoom-image"></p>
<p>double click select text å¯ä»¥ï¼Œä½† drag select å°±ä¸è¡Œã€‚</p>
<p>å› ä¸º drag ä¼šç§»åŠ¨ slideï¼Œè¿™å’Œ select text äº¤äº’æ˜¯æ‰“æ¶çš„ã€‚</p>
<p>Swiper å¯ä»¥é€è¿‡ class&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/16124065.html#:~:text=slide%2Dactive%20class-,Text%20Selection,-%E5%8F%82%E8%80%83%3A%20stackoverflow" target="_blank">swiper-no-swiping</a>&nbsp;è§£å†³è¿™ç§å†²çªï¼Œå¾ˆé—æ†¾ Embla æ²¡æœ‰æ”¯æŒã€‚</p>
<p>ç›¸å…³ Issueï¼š</p>
<p><a href="https://stackoverflow.com/questions/73858832/embla-carousel-select-inner-text" rel="noopener nofollow" target="_blank">Stack Overflow â€“&nbsp;Embla Carousel - select inner text</a></p>
<p>ä¸‰ä¸ªæ€è·¯ï¼Œ</p>
<p>ç¬¬ä¸€ï¼Œç»™ slider æ·»åŠ  cursor styles</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(128, 0, 0, 1)">.slider </span>{<span style="color: rgba(255, 0, 0, 1)">
  cursor</span>:<span style="color: rgba(0, 0, 255, 1)"> grab</span>;<span style="color: rgba(255, 0, 0, 1)">
  user-select</span>:<span style="color: rgba(0, 0, 255, 1)"> none</span>;
}</pre>
</div>
<p>å‘ŠçŸ¥ user æ— æ³• select textã€‚</p>
<p>ç¬¬äºŒï¼Œé…ç½®&nbsp;watchDrag: false</p>
<div class="cnblogs_code">
<pre>const slider = emblaCarousel(sliderElement, { watchDrag: <span style="color: rgba(0, 0, 255, 1)">false</span> });</pre>
</div>
<p>ç›´æ¥ disable æ‰ drag çš„åŠŸèƒ½ï¼Œuser åªèƒ½é€è¿‡å…¶å®ƒæ–¹å¼ç§»åŠ¨ slideï¼Œæ¯”å¦‚ navigation æˆ– paginationã€‚</p>
<p>ç¬¬ä¸‰ï¼Œæ¨¡æ‹Ÿ&nbsp;swiper-no-swiping</p>
<p>æ·»åŠ  'drag-disabled' class åˆ° slide é‡Œçš„ heading element</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">h1 </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="drag-disabled"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>Yang Mi<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">h1</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<p>ä»£è¡¨è¿™ä¸ª element ä¸å¯ä»¥ dragã€‚</p>
<p>æ¥ç€ç›‘å¬ slider mousedown å’Œ touchstart äº‹ä»¶ï¼Œç„¶å&nbsp;stopPropagation é˜»æ­¢ Embla dragã€‚</p>
<div class="cnblogs_code">
<pre>const slider =<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(sliderElement);
</span><span style="color: rgba(0, 0, 255, 1)">for</span> (const eventName of ['touchstart', 'mousedown'<span style="color: rgba(0, 0, 0, 1)">]) {
  sliderElement.addEventListener(
    eventName,
    e </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> {
      </span><span style="color: rgba(0, 0, 255, 1)">if</span> ((e.target as HTMLElement).classList.contains('drag-disabled'<span style="color: rgba(0, 0, 0, 1)">)) {
        e.stopPropagation();
      }
    },
    { capture: </span><span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)"> },
  );
}</span></pre>
</div>
<p>æˆ‘ä»¬å¿…é¡»èµ¶åœ¨ Embla çš„å‰é¢ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨&nbsp;capture: trueã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407162542664-91920001.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>Embla ä¼š binding å„ç§äº‹ä»¶åˆ° node (è¿™ä¸ª node å°±æ˜¯ slider element) ä¸Šï¼Œæˆ‘ä»¬èµ¶åœ¨å®ƒä¹‹å‰&nbsp;stopPropagation å°±å¯ä»¥é˜»æ­¢æ‰å®ƒä»¬äº†ã€‚</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407111230123-1084197524.gif" alt="" class="medium-zoom-image"></p>
<p>Yang Mi å¯ä»¥ select text äº†ã€‚</p>
<p>&nbsp;</p>
<h2>Breakpoints</h2>
<p>è¦åœ¨ä¸åŒçš„ viewport size å‘ˆç°ä¸åŒçš„ slide å¸ƒå±€æˆ– optionsï¼Œæˆ‘ä»¬éœ€è¦é…ç½® breakpointsã€‚</p>
<h3>CSS media query</h3>
<p>slides å¸ƒå±€é€šå¸¸åªéœ€è¦å®šä¹‰ CSS media query å°±å¯ä»¥äº†ã€‚</p>
<p>Embla æœ¬èº«ä¼šç›‘å¬ window resizeï¼Œç„¶å getComputedStyle æ‹¿åˆ°å½“å‰çš„ Styles åšç›¸åº”çš„å¤„ç†ã€‚</p>
<p>æ¯”å¦‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407183146639-1844187054.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>slides per view é»˜è®¤æ˜¯ 1ï¼Œslide gap é»˜è®¤æ˜¯ 0pxã€‚</p>
<p>åœ¨ viewport width 1920px æ—¶ï¼Œslides per view å˜æˆ 2ï¼Œslide gap å˜æˆ 16pxã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦ CSS å°±å¤Ÿäº†ï¼ŒJavaScript ä¸éœ€è¦å†™ã€‚</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407183555660-15200390.gif" alt="" class="medium-zoom-image"></p>
<h3>breakpoints options<button class="cnblogs-toc-button" title="æ˜¾ç¤ºç›®å½•å¯¼èˆª"></button></h3>
<p>éœ€æ±‚ï¼šé»˜è®¤è¦ loopingï¼Œå¤§è¿‡ 1024px ä¸è¦ loopingï¼Œå¤§è¿‡ 1920 åˆè¦ loopingã€‚</p>
<div class="cnblogs_code">
<pre>const slider =<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(sliderElement, {
  align: </span>'start'<span style="color: rgba(0, 0, 0, 1)">,
  slidesToScroll: </span>'auto'<span style="color: rgba(0, 0, 0, 1)">,
  loop: </span><span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">,
  breakpoints: {
    </span>'(min-width: 1024px)'<span style="color: rgba(0, 0, 0, 1)">: {
      loop: </span><span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)">,
    },
    </span>'(min-width: 1920px)'<span style="color: rgba(0, 0, 0, 1)">: {
      loop: </span><span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">,
    },
  },
});</span></pre>
</div>
<p>ä¸Šé¢æœ‰ä¸‰ä¸ª loop options å®šä¹‰ï¼Œå®ƒçš„è¦†ç›–é€»è¾‘ (Object.assign) æ˜¯ä»ä¸‹åˆ°ä¸Š (ä¸‹é¢ç›–ä¸Šé¢ï¼Œä¸‹é¢èµ¢)ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬å®šä¹‰ media query æ˜¯ä»å°(ä¸Š)åˆ°å¤§(ä¸‹)ã€‚</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407190149358-1314121885.gif" alt="" class="medium-zoom-image"></p>
<p>é¢˜å¤–è¯ï¼šbreakpoint change å¯¼è‡´ options changeï¼ŒEmbla åº•å±‚ä¼šä½¿ç”¨ reInit æ–¹æ³•é‡ç½®ï¼ŒreInit äº‹ä»¶å½“ç„¶ä¹Ÿä¼šè§¦å‘ã€‚</p>
<p>Embla æœ‰ä¸€ç‚¹æ¯” Swiper å¼ºï¼ŒEmbla å¯ä»¥ä¾æ® braekpoints é…ç½® acitve or inactiveã€‚(æˆ‘å½±å“ä¸­ï¼ŒSwiper æ˜¯æ— æ³• inactive çš„)ã€‚</p>
<div class="cnblogs_code">
<pre>const slider =<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(sliderElement, {
  align: </span>'start'<span style="color: rgba(0, 0, 0, 1)">,
  slidesToScroll: </span>'auto'<span style="color: rgba(0, 0, 0, 1)">,
  breakpoints: {
    </span>'(min-width: 1024px)'<span style="color: rgba(0, 0, 0, 1)">: {
      active: </span><span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)">,
    },
    </span>'(min-width: 1920px)'<span style="color: rgba(0, 0, 0, 1)">: {
      active: </span><span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">,
    },
  },
});</span></pre>
</div>
<p>ç›´æ¥æ”¹ active å±æ€§å°±å¯ä»¥äº†ã€‚</p>
<p>&nbsp;</p>
<h2>Pagination</h2>
<p>Swiper æœ‰ bulit-in çš„&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/16124065.html#:~:text=import%20CSS%20%E5%93%A6-,Pagination,-HTML" target="_blank">pagination</a>ï¼Œä¹Ÿæ”¯æŒ&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/16124065.html#:~:text=Fully%20Custom%20Pagination" target="_blank">full custom pagination</a>ã€‚</p>
<p>Embla æ²¡æœ‰ built-in çš„ paginationï¼Œæˆ‘ä»¬éœ€è¦åƒ navigation é‚£æ ·ï¼Œä½¿ç”¨ Embla åº•å±‚ APIï¼Œè‡ªå·±å†™ä¸Šå±‚å®ç°ä»£ç ã€‚</p>
<h3>å®ç°è¦ç‚¹</h3>
<p>paignation é•¿è¿™æ ·</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250408202532268-741240510.gif" alt="" class="medium-zoom-image"></p>
<p>ä¸‹é¢ä¸€ç²’ä¸€ç²’çš„å« bulletã€‚</p>
<p>ä¸‰ä¸ªè¦ç‚¹ï¼š</p>
<ol>
<li>
<p>ç‚¹å‡» bullet ä¼šç§»åŠ¨ slide</p>
</li>
<li>
<p>active bullet</p>
<p>active bullet å°±æ˜¯é‚£é¢—æ¯”è¾ƒäº®çš„ bulletï¼Œslide åœ¨ç¬¬å‡ ä¸ªï¼Œactive bullet å°±è¦åœ¨ç¬¬å‡ ä¸ªã€‚</p>
</li>
<li>
<p>bullet çš„æ•°é‡</p>
ä¸Šé¢çš„ä¾‹å­æœ‰ 6 ä¸ª slides (6 å¼ å›¾)ï¼Œä¸€ä¸ª view æ˜¾ç¤ºä¸€ä¸ª slideï¼Œbullet æœ‰ 6 ç²’ã€‚<br>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸€æ ·æ˜¯ 6 ä¸ª slidesï¼Œä½†ä¸€ä¸ª view æ˜¾ç¤ºäº†ä¸¤ä¸ª slidesï¼Œbullet å˜æˆäº† 3 ç²’ã€‚</p>

<img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250408203222514-1926556897.png" alt="" class="medium-zoom-image" loading="lazy">
<p>æ‰€ä»¥ï¼Œbullet çš„æ•°é‡æ˜¯çœ‹æœ‰å¤šå°‘ä¸ª view å†³å®šçš„ã€‚</p>

</li>

</ol>
<h3>å…·ä½“å®ç°</h3>
<h4>HTML</h4>
<p>é¦–å…ˆæ˜¯ HTML</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250408204045488-1192846187.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_357adf86-73a8-4938-a7f3-4c5d8f9223f6" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_357adf86-73a8-4938-a7f3-4c5d8f9223f6" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_357adf86-73a8-4938-a7f3-4c5d8f9223f6" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="pagination"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="bullet"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>bullet çš„æ•°é‡ä¾æ® view countï¼Œæˆ‘ä»¬ç”¨ JavaScript åŠ¨æ€è¾“å‡ºä¼šæ¯”è¾ƒå®¹æ˜“ç®¡ç†ã€‚(ç”¨ CSS åªèƒ½ç¨¿ display: none ä¼šæ¯”è¾ƒä¹±)</p>
<p>HTML å®šä¹‰ä¸€ä¸ª bullet template å°±å¥½ã€‚</p>
<h4>Styles</h4>
<p>æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œå°±æ˜¯ç¾è§‚ä¸€ä¸‹è€Œå·²</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_f532341c-b047-43d2-a624-b998ff6c0fde" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_f532341c-b047-43d2-a624-b998ff6c0fde" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_f532341c-b047-43d2-a624-b998ff6c0fde" class="cnblogs_code_hide">
<pre><span style="color: rgba(128, 0, 0, 1)">.pagination </span>{<span style="color: rgba(255, 0, 0, 1)">
  --bullet-size</span>:<span style="color: rgba(0, 0, 255, 1)"> 24px</span>;<span style="color: rgba(255, 0, 0, 1)">

  margin-top</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

  display</span>:<span style="color: rgba(0, 0, 255, 1)"> flex</span>;<span style="color: rgba(255, 0, 0, 1)">
  justify-content</span>:<span style="color: rgba(0, 0, 255, 1)"> center</span>;<span style="color: rgba(255, 0, 0, 1)">
  gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

  height</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--bullet-size)</span>; <span style="color: rgba(0, 128, 0, 1)">/*</span><span style="color: rgba(0, 128, 0, 1)"> ææ—©ç»™ç©ºé—´ </span><span style="color: rgba(0, 128, 0, 1)">*/</span><span style="color: rgba(255, 0, 0, 1)">

  .bullet {
    width</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--bullet-size)</span>;<span style="color: rgba(255, 0, 0, 1)">
    height</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--bullet-size)</span>;<span style="color: rgba(255, 0, 0, 1)">
    border-radius</span>:<span style="color: rgba(0, 0, 255, 1)"> 999px</span>;<span style="color: rgba(255, 0, 0, 1)">
    border</span>:<span style="color: rgba(0, 0, 255, 1)"> 1px solid blue</span>;<span style="color: rgba(255, 0, 0, 1)">
    cursor</span>:<span style="color: rgba(0, 0, 255, 1)"> pointer</span>;<span style="color: rgba(255, 0, 0, 1)">

    &amp;.active {
      background-color</span>:<span style="color: rgba(0, 0, 255, 1)"> lightblue</span>;
    }<span style="color: rgba(128, 0, 0, 1)">
  }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h4>Scripts</h4>
<div class="cnblogs_code">
<pre>const pagination = document.querySelector&lt;HTMLElement&gt;('.pagination')!<span style="color: rgba(0, 0, 0, 1)">;
const bulletTemplate </span>= pagination.querySelector('template')!<span style="color: rgba(0, 0, 0, 1)">;

</span><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> rebuildPagination() {
  </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> å½“å‰åœ¨ç¬¬å‡ ä¸ª view</span>
  const currentViewIndex =<span style="color: rgba(0, 0, 0, 1)"> slider.selectedScrollSnap();
  </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> æ€»å…±æœ‰å‡ ä¸ª view</span>
  const viewCount =<span style="color: rgba(0, 0, 0, 1)"> slider.scrollSnapList().length;

  const bulletsFrag </span>=<span style="color: rgba(0, 0, 0, 1)"> document.createDocumentFragment();

  </span><span style="color: rgba(0, 0, 255, 1)">for</span> (let index = 0; index &lt; viewCount; index++<span style="color: rgba(0, 0, 0, 1)">) {
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> åˆ›å»º bullet element based on view count</span>
    const bulletTemplateFrag = bulletTemplate.content.cloneNode(<span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">) as DocumentFragment;
    const bullet </span>= bulletTemplateFrag.firstElementChild!<span style="color: rgba(0, 0, 0, 1)">;

    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> add click event to bullet</span>
    bullet.addEventListener('click', () =&gt;<span style="color: rgba(0, 0, 0, 1)"> slider.scrollTo(index));

    </span><span style="color: rgba(0, 0, 255, 1)">if</span> (index ===<span style="color: rgba(0, 0, 0, 1)"> currentViewIndex) {
      </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> set active class to bullet</span>
      bullet.classList.add('active'<span style="color: rgba(0, 0, 0, 1)">);
    }

    bulletsFrag.appendChild(bullet);
  }

  </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> clear and re-append bullets</span>
  pagination.innerHTML = ''<span style="color: rgba(0, 0, 0, 1)">;
  pagination.appendChild(bulletsFrag);
}

</span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> ä¸‰ç§æƒ…å†µæœ‰å¯èƒ½å¯¼è‡´ bullet æ•°é‡æˆ– active å˜æ›´ï¼Œå½“å˜æ›´æ—¶æˆ‘ä»¬å°± rebuild pagination</span>
slider.on('select'<span style="color: rgba(0, 0, 0, 1)">, rebuildPagination);
slider.on(</span>'init'<span style="color: rgba(0, 0, 0, 1)">, rebuildPagination);
slider.on(</span>'reInit', rebuildPagination);</pre>
</div>
<p>ä½¿ç”¨åˆ°äº†ä¸¤ä¸ª Embla API</p>
<ol>
<li>
<p>EmblaCarousel.selectedScrollSnap æ–¹æ³•</p>
<p>scroll snap å°±æ˜¯ view çš„åˆ«å (alias)ã€‚</p>
<p>selectedScrollSnap ä¼šè¿”å›å½“å‰ view index (å½“å‰åœ¨ç¬¬å‡ ä¸ª view)ã€‚</p>
</li>
<li>
<p>EmblaCarousel.scrollSnapList æ–¹æ³•</p>
<p>å®ƒä¼šè¿”å›ä¸€ä¸ª arrayï¼Œé•¿è¿™æ ·&nbsp;[-0, 0.2, 0.4, 0.6, 0.8, 1] æˆ–ç€è¿™æ ·&nbsp;[-0, 0.5, 1]ã€‚</p>
<p>é‡Œé¢çš„å·ç ä¸é‡è¦ï¼Œarray.length ä»£è¡¨ view çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦çš„ bullet æ•°é‡ã€‚</p>
</li>
</ol>
<p>æœ€ç»ˆæ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250408202532268-741240510.gif" alt="" class="medium-zoom-image"></p>
<h3>Dynamic bullets</h3>
<p>å½“ bullets å¤ªå¤šçš„æ—¶å€™ä¼šä¸å¥½çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥åšæˆ dynamic bullets é™åˆ¶å®ƒçš„æ•°é‡ã€‚</p>
<p>é•¿è¿™æ ·</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409012135281-1480196394.gif" alt="" class="medium-zoom-image"></p>
<p>é™„ä¸Šå®Œæ•´ä»£ç ï¼Œå°±ä¸è§£é‡Šäº†ã€‚</p>
<p>HTML</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_3bb0e46b-7326-4245-ba0b-dc4bd795480d" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_3bb0e46b-7326-4245-ba0b-dc4bd795480d" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_3bb0e46b-7326-4245-ba0b-dc4bd795480d" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slider-container"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slider"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide-list"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi1.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi1"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/tifa.webp"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="tifa"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/nana.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="nana"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi2.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi2"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi3.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi3"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/dilireba.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="dilireba"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi1.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi1"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/tifa.webp"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="tifa"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/nana.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="nana"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi2.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi2"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi3.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi3"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/dilireba.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="dilireba"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="pagination"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="bullet"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">template</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="bullet-list"</span><span style="color: rgba(0, 0, 255, 1)">&gt;&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>Styles</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_a857e854-ffe2-4b4c-8f44-2d22fa3502da" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_a857e854-ffe2-4b4c-8f44-2d22fa3502da" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_a857e854-ffe2-4b4c-8f44-2d22fa3502da" class="cnblogs_code_hide">
<pre><span style="color: rgba(128, 0, 0, 1)">.slider-container </span>{<span style="color: rgba(255, 0, 0, 1)">
  max-width</span>:<span style="color: rgba(0, 0, 255, 1)"> 512px</span>;<span style="color: rgba(255, 0, 0, 1)">
  overflow</span>:<span style="color: rgba(0, 0, 255, 1)"> hidden</span>;<span style="color: rgba(255, 0, 0, 1)">

  .slider {
    width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">

    .slide-list {
      --slides-per-view</span>:<span style="color: rgba(0, 0, 255, 1)"> 1</span>;<span style="color: rgba(255, 0, 0, 1)">
      --slide-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 0px</span>;<span style="color: rgba(255, 0, 0, 1)">

      display</span>:<span style="color: rgba(0, 0, 255, 1)"> grid</span>;<span style="color: rgba(255, 0, 0, 1)">
      grid-auto-flow</span>:<span style="color: rgba(0, 0, 255, 1)"> column</span>;<span style="color: rgba(255, 0, 0, 1)">
      grid-auto-columns</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(100% / var(--slides-per-view))</span>;<span style="color: rgba(255, 0, 0, 1)">
      margin-left</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(-1 * var(--slide-gap))</span>;<span style="color: rgba(255, 0, 0, 1)">

      .slide {
        padding-left</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--slide-gap)</span>;<span style="color: rgba(255, 0, 0, 1)">

        img {
          display</span>:<span style="color: rgba(0, 0, 255, 1)"> block</span>;<span style="color: rgba(255, 0, 0, 1)">
          width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">
          height</span>:<span style="color: rgba(0, 0, 255, 1)"> auto</span>;<span style="color: rgba(255, 0, 0, 1)">

          aspect-ratio</span>:<span style="color: rgba(0, 0, 255, 1)"> 16 / 9</span>;<span style="color: rgba(255, 0, 0, 1)">
          object-fit</span>:<span style="color: rgba(0, 0, 255, 1)"> cover</span>;
        }<span style="color: rgba(128, 0, 0, 1)">
      }

      @media (width &gt;= 768px) </span>{<span style="color: rgba(255, 0, 0, 1)">
        --slides-per-view</span>:<span style="color: rgba(0, 0, 255, 1)"> 2</span>;<span style="color: rgba(255, 0, 0, 1)">
        --slide-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;
      }<span style="color: rgba(128, 0, 0, 1)">
    }
  }

  .pagination </span>{<span style="color: rgba(255, 0, 0, 1)">
    margin-top</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

    --max-bullet-count</span>:<span style="color: rgba(0, 0, 255, 1)"> 5</span>;<span style="color: rgba(255, 0, 0, 1)">
    --bullet-size</span>:<span style="color: rgba(0, 0, 255, 1)"> 24px</span>;<span style="color: rgba(255, 0, 0, 1)">
    --bullet-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">

    max-width</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(
      (var(--max-bullet-count) * var(--bullet-size)) + ((var(--max-bullet-count) - 1) * var(--bullet-gap))
    )</span>;<span style="color: rgba(255, 0, 0, 1)">
    margin-inline</span>:<span style="color: rgba(0, 0, 255, 1)"> auto</span>;<span style="color: rgba(255, 0, 0, 1)">
    overflow</span>:<span style="color: rgba(0, 0, 255, 1)"> hidden</span>;<span style="color: rgba(255, 0, 0, 1)">

    .bullet-list {
      --active-index</span>:<span style="color: rgba(0, 0, 255, 1)"> 0</span>;<span style="color: rgba(255, 0, 0, 1)"> // JS will fill in

      margin-left</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(50% - (var(--bullet-size) / 2))</span>;<span style="color: rgba(255, 0, 0, 1)">
      transition</span>:<span style="color: rgba(0, 0, 255, 1)"> transform 0.4s</span>;<span style="color: rgba(255, 0, 0, 1)">

      transform</span>:<span style="color: rgba(0, 0, 255, 1)"> translateX(calc(-1 * (var(--active-index) * (var(--bullet-size) + var(--bullet-gap)))))</span>;<span style="color: rgba(255, 0, 0, 1)">

      display</span>:<span style="color: rgba(0, 0, 255, 1)"> flex</span>;<span style="color: rgba(255, 0, 0, 1)">
      gap</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--bullet-gap)</span>;<span style="color: rgba(255, 0, 0, 1)">
      height</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--bullet-size)</span>;<span style="color: rgba(255, 0, 0, 1)">

      .bullet {
        flex-shrink</span>:<span style="color: rgba(0, 0, 255, 1)"> 0</span>;<span style="color: rgba(255, 0, 0, 1)">
        width</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--bullet-size)</span>;<span style="color: rgba(255, 0, 0, 1)">
        height</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--bullet-size)</span>;<span style="color: rgba(255, 0, 0, 1)">
        border-radius</span>:<span style="color: rgba(0, 0, 255, 1)"> 999px</span>;<span style="color: rgba(255, 0, 0, 1)">
        border</span>:<span style="color: rgba(0, 0, 255, 1)"> 1px solid blue</span>;<span style="color: rgba(255, 0, 0, 1)">
        cursor</span>:<span style="color: rgba(0, 0, 255, 1)"> pointer</span>;<span style="color: rgba(255, 0, 0, 1)">

        transition</span>:<span style="color: rgba(0, 0, 255, 1)"> transform 0.4s</span>;<span style="color: rgba(255, 0, 0, 1)">

        &amp;.active {
          background-color</span>:<span style="color: rgba(0, 0, 255, 1)"> lightblue</span>;
        }<span style="color: rgba(128, 0, 0, 1)">

        &amp;:not(.active) </span>{<span style="color: rgba(255, 0, 0, 1)">
          transform</span>:<span style="color: rgba(0, 0, 255, 1)"> scale(0.5)</span>;
        }<span style="color: rgba(128, 0, 0, 1)">

        &amp;:has(+ .active) </span>{<span style="color: rgba(255, 0, 0, 1)">
          transform</span>:<span style="color: rgba(0, 0, 255, 1)"> scale(0.75)</span>;
        }<span style="color: rgba(128, 0, 0, 1)">

        &amp;.active + .bullet </span>{<span style="color: rgba(255, 0, 0, 1)">
          transform</span>:<span style="color: rgba(0, 0, 255, 1)"> scale(0.75)</span>;
        }<span style="color: rgba(128, 0, 0, 1)">
      }
    }
  }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>Scripts</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_06919db9-7720-4ff1-a750-55a604ec7a72" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_06919db9-7720-4ff1-a750-55a604ec7a72" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_06919db9-7720-4ff1-a750-55a604ec7a72" class="cnblogs_code_hide">
<pre>import emblaCarousel from 'embla-carousel'<span style="color: rgba(0, 0, 0, 1)">;

const sliderContainer </span>= document.querySelector&lt;HTMLElement&gt;('.slider-container')!<span style="color: rgba(0, 0, 0, 1)">;
const sliderElement </span>= sliderContainer.querySelector&lt;HTMLElement&gt;('.slider')!<span style="color: rgba(0, 0, 0, 1)">;

const slider </span>=<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(sliderElement, {
  align: </span>'start'<span style="color: rgba(0, 0, 0, 1)">,
  slidesToScroll: </span>'auto'<span style="color: rgba(0, 0, 0, 1)">,
  inViewThreshold: </span>0.1<span style="color: rgba(0, 0, 0, 1)">,
});

const pagination </span>= document.querySelector&lt;HTMLElement&gt;('.pagination')!<span style="color: rgba(0, 0, 0, 1)">;
const bulletList </span>= pagination.querySelector&lt;HTMLElement&gt;('.bullet-list')!<span style="color: rgba(0, 0, 0, 1)">;
const bulletTemplate </span>= pagination.querySelector('template')!<span style="color: rgba(0, 0, 0, 1)">;
const cachedBullets: HTMLElement[] </span>=<span style="color: rgba(0, 0, 0, 1)"> [];

</span><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> rebuildPagination() {
  const currentViewIndex </span>=<span style="color: rgba(0, 0, 0, 1)"> slider.selectedScrollSnap();
  const viewCount </span>=<span style="color: rgba(0, 0, 0, 1)"> slider.scrollSnapList().length;
  bulletList.style.setProperty(</span>'--active-index'<span style="color: rgba(0, 0, 0, 1)">, currentViewIndex.toString());
  cachedBullets.forEach(bullet </span>=&gt; bullet.classList.remove('active'<span style="color: rgba(0, 0, 0, 1)">));

  </span><span style="color: rgba(0, 0, 255, 1)">if</span> (cachedBullets.length &gt;<span style="color: rgba(0, 0, 0, 1)"> viewCount) {
    const bulletsToRemove </span>=<span style="color: rgba(0, 0, 0, 1)"> cachedBullets.splice(viewCount);
    bulletsToRemove.forEach(bullet </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> bullet.remove());
  }

  </span><span style="color: rgba(0, 0, 255, 1)">if</span> (cachedBullets.length &lt;<span style="color: rgba(0, 0, 0, 1)"> viewCount) {
    const gap </span>= viewCount -<span style="color: rgba(0, 0, 0, 1)"> cachedBullets.length;
    const bulletsToAdd </span>= <span style="color: rgba(0, 0, 255, 1)">new</span> Array(gap).fill(undefined).map((_, index) =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
      const bulletTemplateFrag </span>= bulletTemplate.content.cloneNode(<span style="color: rgba(0, 0, 255, 1)">true</span><span style="color: rgba(0, 0, 0, 1)">) as DocumentFragment;
      const bullet </span>=<span style="color: rgba(0, 0, 0, 1)"> bulletTemplateFrag.firstElementChild as HTMLElement;
      const scrollToIndex </span>= cachedBullets.length +<span style="color: rgba(0, 0, 0, 1)"> index;
      bullet.addEventListener(</span>'click', () =&gt;<span style="color: rgba(0, 0, 0, 1)"> slider.scrollTo(scrollToIndex));
      </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> bullet;
    });
    cachedBullets.push(...bulletsToAdd);
    const frag </span>=<span style="color: rgba(0, 0, 0, 1)"> document.createDocumentFragment();
    bulletsToAdd.forEach(bullet </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> frag.appendChild(bullet));
    bulletList.appendChild(frag);
  }

  cachedBullets[currentViewIndex].classList.add(</span>'active'<span style="color: rgba(0, 0, 0, 1)">);
}

slider.on(</span>'select'<span style="color: rgba(0, 0, 0, 1)">, rebuildPagination);
slider.on(</span>'init'<span style="color: rgba(0, 0, 0, 1)">, rebuildPagination);
slider.on(</span>'reInit', rebuildPagination);</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<h2>Auto Height</h2>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªåœºæ™¯</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409141627057-276375915.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>ç²‰è‰²æ˜¯æ•´ä¸ª sliderï¼Œä¸ºä»€ä¹ˆä¸‹åŠæ®µä¼šç©ºç©ºï¼Ÿ</p>
<p>å› ä¸ºæœ‰éšè—çš„ slide å†…å®¹å¾ˆå¤šï¼Œå¾ˆé«˜ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409140834902-659741754.gif" alt="" class="medium-zoom-image"></p>
<p>åé¢éšè—çš„ slide æŠŠæ•´ä¸ª slider æ’‘é«˜äº†ã€‚</p>
<p>æ˜¾ç„¶å¯¹ç”¨æˆ·æ¥è¯´è¿™ä¸ªä½“éªŒä¸ okï¼Œå› ä¸ºè¿™ä¼šè®©ç”¨æˆ·æ„Ÿåˆ°å›°æƒ‘ -- æ€ä¹ˆä¸‹é¢ç©ºç©ºçš„ğŸ¤”ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ Auto Height Plugin æ¥è§£å†³è¿™ä¸ªé—®é¢˜ (æ³¨ï¼š<a href="https://www.cnblogs.com/keatkeat/p/16124065.html#:~:text=%E4%B8%8D%E5%90%8C%E7%9A%84%20config-,Auto%20Height,-%E6%AF%8F%E4%B8%AA%20slide" target="_blank">Swiper</a>&nbsp;ä¹Ÿæœ‰è¿™ä¸ªåŠŸèƒ½)ã€‚</p>
<p>å®‰è£… package</p>
<div class="cnblogs_code">
<pre>yarn add embla-carousel-auto-height</pre>
</div>
<p>import plugin å‡½æ•°ï¼Œè°ƒç”¨å®ƒåˆ›å»º plugin å®ä¾‹ï¼Œå†ä¼ ç»™ Embla Carousel å°±è¡Œäº†ã€‚(å’Œ Autoplay Plugin ç©æ³•ä¸€æ ·)</p>
<div class="cnblogs_code">
<pre>import autoHeight from 'embla-carousel-auto-height'<span style="color: rgba(0, 0, 0, 1)">;

const slider </span>=<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(
  sliderElement,
  { align: </span>'start', slidesToScroll: 'auto', inViewThreshold: 0.1<span style="color: rgba(0, 0, 0, 1)"> },
  [autoHeight()],
);</span></pre>
</div>
<p>æ·»åŠ  Styles</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409142059304-1633576951.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>align-items: flex-start çš„ç›®çš„æ˜¯è®©æ¯ä¸€ä¸ª slide height å˜æˆ hug content (é»˜è®¤æ˜¯ stretchï¼Œä¼šè¢«å…¶å®ƒ slide æ‹‰å¤§ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬è¦çš„)ã€‚</p>
<p>transition åªæ˜¯ä¸ºäº†ä½“éªŒä¸æ»‘</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409143027453-1394687677.gif" alt="" class="medium-zoom-image"></p>
<p>å½“ç”¨æˆ· swipe åˆ°æ¯”è¾ƒé«˜çš„ slide æ—¶ï¼Œslider çš„ height æ‰ä¼šæ’‘å¼€ã€‚</p>
<h3>Auto Height çš„è®¡ç®—æ–¹å¼</h3>
<p>ä¸Šé¢ä¾‹å­æœ‰ 6 ä¸ª slides (6 å¼ å›¾)ï¼Œæ¯ä¸€ä¸ª view æ˜¾ç¤ºä¸¤ä¸ª slidesã€‚</p>
<p>æˆ‘ä»¬åˆ é™¤æœ€åä¸€ä¸ª slideï¼Œå˜æˆ 5 ä¸ª slidesï¼Œç„¶å swipe åˆ°æœ€åä¸€ä¸ª viewï¼Œå®ƒé•¿è¿™æ ·</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409143415801-368104120.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>ç¬¬ 4 ä¸ª slide æ²¡æœ‰æ˜¾ç¤ºæ‰€æœ‰çš„å†…å®¹ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>æˆ‘ç¿»äº†ä¸€ä¸‹æºç ï¼Œå‘ç°å®ƒä½¿ç”¨çš„æ˜¯ slideRegistry æ¥è·å–å½“å‰ view çš„ slidesï¼Œè€Œä¸æ˜¯æˆ‘ä»¬ä¸Šé¢æè¿‡çš„&nbsp;slidesInViewã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409143830625-604979339.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>æˆ‘ä»¬æµ‹ä¸€ä¸‹</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> detect() {
  window.setTimeout(() </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> {
    console.log(</span>'slidesInView'<span style="color: rgba(0, 0, 0, 1)">, slider.slidesInView());
    console.log(</span>'slideRegistry'<span style="color: rgba(0, 0, 0, 1)">, slider.internalEngine().slideRegistry[slider.selectedScrollSnap()]);
  }, </span>500<span style="color: rgba(0, 0, 0, 1)">);
}
slider.on(</span>'select'<span style="color: rgba(0, 0, 0, 1)">, detect);
slider.on(</span>'init', detect);</pre>
</div>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409144256178-675340532.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæœ€åä¸€ä¸ª viewï¼ŒslideRegistry åªæ‹¿åˆ°äº† slide index 4 (ä¹Ÿå°±æ˜¯ç¬¬ 5 ä¸ª slide)ï¼Œæ‰€ä»¥åœ¨è®¡ç®— auto height æ—¶ï¼Œå®ƒåªç”¨äº†ç¬¬ 5 ä¸ª slide çš„é«˜åº¦ï¼Œæ²¡æœ‰æŠŠç¬¬ 4 ä¸ª slide è€ƒé‡è¿›å»ã€‚</p>
<p>è€Œç¬¬ 4 ä¸ª slide æ¯”ç¬¬ 5 ä¸ªé«˜ï¼Œé‚£æœ€ç»ˆç¬¬ 4 ä¸ª slide å°±è¢« overflow clip æ‰äº†ã€‚</p>
<p>æˆ‘æäº†ä¸€ä¸ª&nbsp;<a href="https://github.com/davidjerleke/embla-carousel/discussions/1174" rel="noopener nofollow" target="_blank">Issue</a>ï¼Œå¸Œæœ›æœ‰äººèƒ½è§£é‡Šæ¸…æ¥šè¿™æ˜¯ä¸æ˜¯ä»–ä»¬é¢„æƒ³ä¸­çš„ä½“éªŒã€‚</p>
<p>æˆ‘çš„çŒœæµ‹æ˜¯è¿™æ ·ï¼ŒslidesInView ä¾èµ– IntersectionObserverï¼Œå¦‚æœè¦ä¾é å®ƒçš„è¯ï¼Œéœ€è¦ç­‰åˆ° slide å®Œå…¨åœä¸‹æ¥æ‰å‡†ï¼Œè¿™ä¼šå¯¼è‡´ auto height å¾ˆæ™šæ‰å» update heightï¼Œå¯èƒ½è¿™ä¸ªä½“éªŒä¹Ÿä¸ okã€‚</p>
<p>æ‰€ä»¥ä½œè€…åœ¨è¿™é‡Œåšäº†ä¸€ä¸ª trade-offã€‚</p>
<p>è¦è¾¾åˆ°æˆ‘é¢„æœŸçš„æ•ˆæœï¼Œå”¯ä¸€çš„åŠæ³•å°±æ˜¯ä¸è¦é &nbsp;IntersectionObserverï¼Œè€Œæ˜¯è‡ªå·±ä¾æ® slide çš„ boundingClientRect è®¡ç®—å‡º slides in viewã€‚</p>
<h3>Auto height based on&nbsp;slides in view</h3>
<p>æˆ‘å°è¯•äº†ä¸€ä¸‹è‡ªå·±è®¡ç®— slides in viewï¼Œæœç„¶æœ‰ç‚¹éš¾åº¦ï¼Œå¯èƒ½å°±æ˜¯è¿™ä¸ªåŸå›  Embla æ‰ä¸åŸºäº&nbsp;slides in view å§ã€‚</p>
<p>è¿™é‡Œåˆ†äº«æˆ‘çš„å°è¯•</p>
<p>HTML</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_e5e2db8d-b72b-4677-bccc-d706f7d02f03" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_e5e2db8d-b72b-4677-bccc-d706f7d02f03" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_e5e2db8d-b72b-4677-bccc-d706f7d02f03" class="cnblogs_code_hide">
<pre><span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slider-container"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slider"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide-list"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="card"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi1.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi1"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis, quidem!<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="card"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/tifa.webp"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="tifa"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nemo aliquid consequatur quis quibusdam quam soluta nihil numquam, tempora sit amet?<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="card"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/nana.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="nana"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptates illo dolore iste rerum eum porro, aperiam assumenda et ad veniam vitae numquam, suscipit, perferendis hic. Ullam voluptatum quos impedit eaque?<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="card"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi2.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi2"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ducimus eius dignissimos, earum nam architecto molestiae saepe dolore quidem. Placeat, quasi nihil dolor nulla consequatur nam perferendis vero. Fuga consectetur, earum eos, dolore magni consequuntur non officia dolores minus est excepturi.<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="slide"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">div </span><span style="color: rgba(255, 0, 0, 1)">class</span><span style="color: rgba(0, 0, 255, 1)">="card"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">img </span><span style="color: rgba(255, 0, 0, 1)">src</span><span style="color: rgba(0, 0, 255, 1)">="../images/yangmi3.jpg"</span><span style="color: rgba(255, 0, 0, 1)"> alt</span><span style="color: rgba(0, 0, 255, 1)">="yangmi3"</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
          <span style="color: rgba(0, 0, 255, 1)">&lt;</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Illum consequatur laboriosam doloribus tempora atque aperiam?<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">p</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
        <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
      <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
    <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
  <span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span>
<span style="color: rgba(0, 0, 255, 1)">&lt;/</span><span style="color: rgba(128, 0, 0, 1)">div</span><span style="color: rgba(0, 0, 255, 1)">&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>Styles</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_d78531d3-7036-4265-9795-efd9de9e7a03" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_d78531d3-7036-4265-9795-efd9de9e7a03" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_d78531d3-7036-4265-9795-efd9de9e7a03" class="cnblogs_code_hide">
<pre><span style="color: rgba(128, 0, 0, 1)">.slider-container </span>{<span style="color: rgba(255, 0, 0, 1)">
  max-width</span>:<span style="color: rgba(0, 0, 255, 1)"> 512px</span>;<span style="color: rgba(255, 0, 0, 1)">
  overflow</span>:<span style="color: rgba(0, 0, 255, 1)"> hidden</span>;<span style="color: rgba(255, 0, 0, 1)">

  .slider {
    width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">
    background-color</span>:<span style="color: rgba(0, 0, 255, 1)"> pink</span>;<span style="color: rgba(255, 0, 0, 1)">

    .slide-list {
      --slides-per-view</span>:<span style="color: rgba(0, 0, 255, 1)"> 1</span>;<span style="color: rgba(255, 0, 0, 1)">
      --slide-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 0px</span>;<span style="color: rgba(255, 0, 0, 1)">

      display</span>:<span style="color: rgba(0, 0, 255, 1)"> grid</span>;<span style="color: rgba(255, 0, 0, 1)">
      grid-auto-flow</span>:<span style="color: rgba(0, 0, 255, 1)"> column</span>;<span style="color: rgba(255, 0, 0, 1)">
      grid-auto-columns</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(100% / var(--slides-per-view))</span>;<span style="color: rgba(255, 0, 0, 1)">

      align-items</span>:<span style="color: rgba(0, 0, 255, 1)"> flex-start</span>;<span style="color: rgba(255, 0, 0, 1)">
      transition</span>:<span style="color: rgba(0, 0, 255, 1)"> height 0.4s</span>;<span style="color: rgba(255, 0, 0, 1)">

      margin-left</span>:<span style="color: rgba(0, 0, 255, 1)"> calc(-1 * var(--slide-gap))</span>;<span style="color: rgba(255, 0, 0, 1)">

      .slide {
        padding-left</span>:<span style="color: rgba(0, 0, 255, 1)"> var(--slide-gap)</span>;<span style="color: rgba(255, 0, 0, 1)">

        .card {
          img {
            display</span>:<span style="color: rgba(0, 0, 255, 1)"> block</span>;<span style="color: rgba(255, 0, 0, 1)">
            width</span>:<span style="color: rgba(0, 0, 255, 1)"> 100%</span>;<span style="color: rgba(255, 0, 0, 1)">
            height</span>:<span style="color: rgba(0, 0, 255, 1)"> auto</span>;<span style="color: rgba(255, 0, 0, 1)">

            aspect-ratio</span>:<span style="color: rgba(0, 0, 255, 1)"> 16 / 9</span>;<span style="color: rgba(255, 0, 0, 1)">
            object-fit</span>:<span style="color: rgba(0, 0, 255, 1)"> cover</span>;
          }<span style="color: rgba(128, 0, 0, 1)">

          p </span>{<span style="color: rgba(255, 0, 0, 1)">
            padding</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;<span style="color: rgba(255, 0, 0, 1)">
            line-height</span>:<span style="color: rgba(0, 0, 255, 1)"> 1.5</span>;<span style="color: rgba(255, 0, 0, 1)">
            font-size</span>:<span style="color: rgba(0, 0, 255, 1)"> 18px</span>;
          }<span style="color: rgba(128, 0, 0, 1)">
        }
      }

      @media (width &gt;= 768px) </span>{<span style="color: rgba(255, 0, 0, 1)">
        --slides-per-view</span>:<span style="color: rgba(0, 0, 255, 1)"> 2</span>;<span style="color: rgba(255, 0, 0, 1)">
        --slide-gap</span>:<span style="color: rgba(0, 0, 255, 1)"> 16px</span>;
      }<span style="color: rgba(128, 0, 0, 1)">
    }
  }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>Scripts</p>
<div class="cnblogs_code"><img src="https://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_d2d50777-7366-44f0-a703-5727b9d446d7" class="code_img_closed"><img src="https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" id="code_img_opened_d2d50777-7366-44f0-a703-5727b9d446d7" class="code_img_opened" style="display: none">
<div id="cnblogs_code_open_d2d50777-7366-44f0-a703-5727b9d446d7" class="cnblogs_code_hide">
<pre>const sliderContainer = document.querySelector&lt;HTMLElement&gt;('.slider-container')!<span style="color: rgba(0, 0, 0, 1)">;
const sliderElement </span>= sliderContainer.querySelector&lt;HTMLElement&gt;('.slider')!<span style="color: rgba(0, 0, 0, 1)">;

const sliderOptions: EmblaOptionsType </span>=<span style="color: rgba(0, 0, 0, 1)"> {
  align: </span>'start'<span style="color: rgba(0, 0, 0, 1)">,
  slidesToScroll: </span>'auto'<span style="color: rgba(0, 0, 0, 1)">,
  inViewThreshold: </span>0.1<span style="color: rgba(0, 0, 0, 1)">,
};
const slider </span>=<span style="color: rgba(0, 0, 0, 1)"> emblaCarousel(sliderElement, sliderOptions);

</span><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> updateHeight() {
  const viewIndex </span>=<span style="color: rgba(0, 0, 0, 1)"> slider.selectedScrollSnap();
  const slideList </span>=<span style="color: rgba(0, 0, 0, 1)"> slider.containerNode();
  const slideListElementRect </span>=<span style="color: rgba(0, 0, 0, 1)"> slideList.getBoundingClientRect();
  const slideRects </span>= slider.slideNodes().map(slide =&gt;<span style="color: rgba(0, 0, 0, 1)"> slide.getBoundingClientRect());
  const lastSlideRects </span>= slideRects[slideRects.length - 1<span style="color: rgba(0, 0, 0, 1)">];

  let viewCoordinateXEnd </span>= Math.round((viewIndex + 1) *<span style="color: rgba(0, 0, 0, 1)"> slideListElementRect.width);
  </span><span style="color: rgba(0, 0, 255, 1)">if</span> (sliderOptions.containScroll !== <span style="color: rgba(0, 0, 255, 1)">false</span><span style="color: rgba(0, 0, 0, 1)">) {
    const lastSlideCoordinateXEnd </span>= Math.round(lastSlideRects.left - slideListElementRect.left +<span style="color: rgba(0, 0, 0, 1)"> lastSlideRects.width);
    viewCoordinateXEnd </span>=<span style="color: rgba(0, 0, 0, 1)"> Math.min(viewCoordinateXEnd, lastSlideCoordinateXEnd);
  }
  const viewCoordinateX </span>=<span style="color: rgba(0, 0, 0, 1)"> {
    start: viewCoordinateXEnd </span>- slideListElementRect.width + 1<span style="color: rgba(0, 0, 0, 1)">,
    end: viewCoordinateXEnd,
  };

  const intersectingSlides </span>= slideRects.filter(rect =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
    const left </span>= rect.left -<span style="color: rgba(0, 0, 0, 1)"> slideListElementRect.left;
    const slideCoordinateX </span>=<span style="color: rgba(0, 0, 0, 1)"> {
      start: Math.round(left </span>+ 1<span style="color: rgba(0, 0, 0, 1)">),
      end: Math.round(left </span>+<span style="color: rgba(0, 0, 0, 1)"> rect.width),
    };
    const isIntersecting </span>=<span style="color: rgba(0, 0, 0, 1)">
      (slideCoordinateX.start </span>&gt;= viewCoordinateX.start &amp;&amp; slideCoordinateX.start &lt;= viewCoordinateX.end) ||<span style="color: rgba(0, 0, 0, 1)">
      (slideCoordinateX.end </span>&gt;= viewCoordinateX.start &amp;&amp; slideCoordinateX.end &lt;= viewCoordinateX.end) ||<span style="color: rgba(0, 0, 0, 1)">
      (slideCoordinateX.start </span>&lt; viewCoordinateX.start &amp;&amp; slideCoordinateX.end &gt;<span style="color: rgba(0, 0, 0, 1)"> viewCoordinateX.end);
    </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> isIntersecting;
  });

  const height </span>= Math.max(...intersectingSlides.map(rect =&gt;<span style="color: rgba(0, 0, 0, 1)"> rect.height));
  slideList.style.height </span>=<span style="color: rgba(0, 0, 0, 1)"> `${height}px`;
}

slider.on(</span>'init'<span style="color: rgba(0, 0, 0, 1)">, updateHeight);
slider.on(</span>'reInit'<span style="color: rgba(0, 0, 0, 1)">, updateHeight);
slider.on(</span>'select', updateHeight);</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409202243493-2032989656.gif" alt="" class="medium-zoom-image"></p>
<p>å’Œ Auto Heigh Plugin çš„åŒºåˆ«æ˜¯åœ¨æœ€åä¸€ä¸ª viewï¼Œå®ƒçš„ç¬¬ 4 ä¸ª slide ä¼šè¢« overflowï¼Œæˆ‘çš„ä¸ä¼šã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409202342173-862465446.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>æˆ‘è§£é‡Šä¸€ä¸‹å®ç°æ€è·¯ï¼š</p>
<p>é¦–å…ˆï¼Œæ‹¿ä¸‰ä¸ªä¿¡æ¯</p>
<ol>
<li>slide-list boundingClientRect</li>
<li>slide&nbsp;boundingClientRect</li>
<li>view index</li>
</ol>
<p>ç„¶åæ¨¡æ‹Ÿè®¡ç®—å‡ºè¿™ä¸ª view index å†…ä¼šå‡ºç°å“ªäº› slidesï¼Œç„¶åæ‹¿æœ€é«˜çš„ slide å°±å¯ä»¥äº†ã€‚</p>
<p>é‡Œé¢ä¼šå‡ºç°ä¸€ä¸ªç¨‹å’¬é‡‘ --&nbsp;containScroll</p>
<p>å®ƒæ˜¯ä¸€ä¸ª options</p>
<div class="cnblogs_code">
<pre>const sliderOptions: EmblaOptionsType =<span style="color: rgba(0, 0, 0, 1)"> {
  containScroll: </span>'trimSnaps'<span style="color: rgba(0, 0, 0, 1)">,
};</span></pre>
</div>
<p>æœ‰ä¸‰ä¸ªå€¼å¯ä»¥æ”¾ï¼Œé»˜è®¤æ˜¯ 'trimSnaps'ï¼Œå¦å¤–ä¸€ä¸ª 'keepSnaps'ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯ falseã€‚</p>
<p>æˆ‘ä¸æ¸…æ¥š 'keepSnaps' å’Œ 'trimSnaps'&nbsp;æœ‰ä»€ä¹ˆåŒºåˆ« (æ²¡æ‰¾åˆ°æ–‡æ¡£ï¼Œçœ‹æºç æœ‰ç‚¹æ˜)ï¼Œä½†æˆ‘çŸ¥é“&nbsp;trimSnaps å’Œ false åœ¨ä½“éªŒä¸Šæœ‰åŒºåˆ«ã€‚</p>
<p>ä¸Šè¿°ä¾‹å­æœ‰ 5 ä¸ª slidesï¼Œæ¯ä¸€ä¸ª view å¯ä»¥æ˜¾ç¤ºä¸¤ä¸ª slidesï¼Œä¸€å…±æœ‰ä¸‰ä¸ª viewsã€‚</p>
<p>å…³é”®åœ¨ç¬¬ä¸‰ä¸ª view é•¿ä»€ä¹ˆæ ·</p>
<p>containScroll: false é•¿è¿™æ ·</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409203313240-546398609.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>å› ä¸ºæœ‰ä¸‰ä¸ª viewï¼Œæ¯ä¸ª view æ˜¾ç¤ºä¸¤ä¸ª slidesï¼Œé‚£æœ€åä¸€ä¸ª view ç†åº”æ˜¾ç¤ºç¬¬ 5 å’Œç¬¬ 6 ä¸ª slideã€‚</p>
<p>ä¸è¿‡æˆ‘ä»¬åªæœ‰ 5 ä¸ª slidesï¼Œæ‰€ä»¥ç¬¬ 6 ä¸ª slide çš„ä½ç½®å°±ç•™ç©ºäº†ã€‚</p>
<p>containScroll: 'trimSnaps' é•¿è¿™æ ·</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409203528607-1018445145.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>å®ƒä¸ä¼šç•™ç©ºï¼Œç¬¬ä¸‰ä¸ª view ä¼šæ˜¾ç¤ºç¬¬ 4 å’Œç¬¬ 5 ä¸ª slideã€‚</p>
<p>é¢˜å¤–è¯ï¼š</p>
<p>æˆ‘åœ¨ Swiper æ–‡ç« é‡Œæœ‰æåˆ°ä¸€ä¸ªé—®é¢˜ --&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/Auto%20Height%20and%20Same%20Height" rel="noopener nofollow" target="_blank">Auto Height and Same Height</a>ã€‚</p>
<p>åœ¨ Embla ä¹Ÿä¼šé‡åˆ°ç›¸åŒçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åŒæ ·çš„è§£å†³æ–¹æ¡ˆï¼Œåªä¸è¿‡é‚£ä¸ªæ–¹æ¡ˆä¾èµ– slides in viewï¼Œ</p>
<p>æ”¾è¿‡æ¥ Embla çš„è¯ï¼Œè¦å˜›æˆ‘ä»¬è‡ªå·±è®¡ç®— slides in viewï¼Œè¦å˜›å­¦ Auto Height Plugin ç”¨&nbsp;slideRegistry å°±å¥½ã€‚</p>
<h2>Handle content resize</h2>
<p>å‡å¦‚æˆ‘ä»¬ slide é‡Œé¢æœ‰åŠ¨æ€å†…å®¹ä¼šå¯¼è‡´ height å¢åŠ ï¼Œé‚£æˆ‘ä»¬éœ€è¦ç‰¹åˆ«å¤„ç†ï¼Œçœ‹ä¾‹å­ï¼š</p>
<p>åŠ ä¸€ä¸ª more content å’Œ read more button</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409145130802-108861946.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>ç‚¹å‡» button æ˜¾ç¤º more content</p>
<div class="cnblogs_code">
<pre>const readMoreBtn = document.querySelector&lt;HTMLElement&gt;('.read-more-btn')!<span style="color: rgba(0, 0, 0, 1)">;

readMoreBtn.addEventListener(</span>'click', () =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
  const moreContent </span>= document.querySelector&lt;HTMLElement&gt;('.more-content')!<span style="color: rgba(0, 0, 0, 1)">;
  moreContent.style.display </span>= 'revert'<span style="color: rgba(0, 0, 0, 1)">;
});</span></pre>
</div>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409145329114-2078376240.gif" alt="" class="medium-zoom-image"></p>
<p>å®Œå…¨æ²¡æœ‰ååº”ï¼Œæ˜¾ç„¶&nbsp;Auto Height Plugin é»˜è®¤æ˜¯ä¸ä¼šç›‘å¬ resize çš„ã€‚</p>
<p>ç›¸å…³&nbsp;<a href="https://github.com/davidjerleke/embla-carousel/discussions/1142" rel="noopener nofollow" target="_blank">Issue â€“&nbsp;Auto Height and slide changing height</a></p>
<p>ä½œè€…ç»™çš„è§£æ–¹æ˜¯é€è¿‡ EmblaCarousel.reInit æ–¹æ³•</p>
<div class="cnblogs_code">
<pre>readMoreBtn.addEventListener('click', () =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
  const moreContent </span>= document.querySelector&lt;HTMLElement&gt;('.more-content')!<span style="color: rgba(0, 0, 0, 1)">;
  moreContent.style.display </span>= 'revert'<span style="color: rgba(0, 0, 0, 1)">;

  slider.reInit(); </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> resize åè°ƒç”¨ reInit æ–¹æ³•é€šçŸ¥ Auto Height Plugin</span>
});</pre>
</div>
<p>è¿™æ ·å°±è¡Œäº†ã€‚(noteï¼šæ„Ÿè§‰æœ‰ç‚¹å°é¢˜å¤§åšï¼Œä½†ä¹Ÿæ²¡æœ‰å…¶å®ƒç®¡é“äº†ï¼Œæˆ–è®¸ä½œè€…æ˜¯æƒ³ç»Ÿä¸€æ¥å£ï¼Œä¹Ÿå¯èƒ½ reInit å†…éƒ¨å·²ç»åšäº†å¾ˆå¤šä¼˜åŒ–ï¼Œå¯ä»¥ä¸ç”¨æ‹…å¿ƒæ€§èƒ½é—®é¢˜)</p>
<p>æ•ˆæœ</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409150023310-1132410405.gif" alt="" class="medium-zoom-image"></p>
<h3>è¿ç»­ Next ä½“éªŒé—®é¢˜</h3>
<p>è¿™ä¸ªé—®é¢˜æˆ‘åœ¨ Swiper&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/16124065.html#:~:text=%E6%98%AF%E6%9C%80%E5%A4%A7%E5%80%BC%E4%BA%86.-,%E8%BF%9E%E7%BB%AD%20Next%20%E4%BD%93%E9%AA%8C%E9%97%AE%E9%A2%98,-auto%20height%20%E6%AF%8F%E6%AC%A1" target="_blank">é‚£ç¯‡</a>ä¹Ÿæœ‰æè¿‡ã€‚</p>
<p>auto height æ¯æ¬¡æ¢ slide æ—¶éƒ½ä¼šæ”¹å˜ slider é«˜åº¦ï¼Œå¦‚æœ navigation / pagination button ä¾èµ–è¿™ä¸ªé«˜åº¦ï¼Œé‚£ä½“éªŒå°±ä¼šè¢«å½±å“ã€‚</p>
<p><img src="https://img2023.cnblogs.com/blog/641294/202308/641294-20230808173121721-911321289.gif" alt="" class="medium-zoom-image"></p>
<p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ— æ³•è¿ç»­æŒ‰ next buttonï¼Œå› ä¸ºå®ƒä¼šè·³ä¸Šè·³ä¸‹ã€‚</p>
<p>è§£å†³æ€è·¯æœ‰ä¸¤ä¸ªæ–¹å‘ã€‚</p>
<p>ç¬¬ä¸€ï¼Œnavigation button ä¸è¦ä¾èµ– slide çš„é«˜åº¦ï¼Œæ¯”å¦‚æˆ‘ä»¬æŠŠå®ƒä» slider ä¸‹é¢ç§»åˆ° slider å·¦è¾¹ã€‚(ä½†æœ‰æ—¶å€™ç©ºé—´å¤ªå°‘ï¼ŒçœŸçš„æ²¡æœ‰åœ°æ–¹å¯ä»¥æ”¾)</p>
<p>ç¬¬äºŒï¼Œè®©è¿™ä¸ª auto height æ…¢ä¸€ç‚¹è§¦å‘ï¼Œæ¯”å¦‚ next äº†ä¸€ç§’åæ‰ update heightã€‚</p>
<p>for ç¬¬äºŒä¸ªæ–¹å‘ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™</p>
<div class="cnblogs_code">
<pre><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> updateHeight() {
  let slidesInView </span>=<span style="color: rgba(0, 0, 0, 1)"> slider.slidesInView();
  </span><span style="color: rgba(0, 0, 255, 1)">if</span> (slidesInView.length === 0<span style="color: rgba(0, 0, 0, 1)">) {
    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> init or reInit æ—¶ slidesInView å¯èƒ½æ˜¯ empty array</span>
    slidesInView =<span style="color: rgba(0, 0, 0, 1)"> slider.internalEngine().slideRegistry[slider.selectedScrollSnap()];
  }
  const slideRects </span>= slider.internalEngine().slideRects.filter((_, index) =&gt;<span style="color: rgba(0, 0, 0, 1)"> slidesInView.includes(index));
  const height </span>= Math.max(...slideRects.map(rect =&gt;<span style="color: rgba(0, 0, 0, 1)"> rect.height));
  slider.containerNode().style.height </span>=<span style="color: rgba(0, 0, 0, 1)"> `${height}px`;
}

slider.on(</span>'init'<span style="color: rgba(0, 0, 0, 1)">, updateHeight);
slider.on(</span>'reInit'<span style="color: rgba(0, 0, 0, 1)">, updateHeight);
slider.on(</span>'settle', updateHeight);</pre>
</div>
<p>ä¸éœ€è¦ä½¿ç”¨&nbsp;Auto Height Pluginï¼Œå•çº¯ Embla åº•å±‚ API å°±å¯ä»¥äº†ã€‚(å…¶å® Auto Height Plugin å†…éƒ¨ä¹Ÿæ˜¯è°ƒç”¨è¿™å‡ ä¸ª API å®ç°çš„)</p>
<p>settle äº‹ä»¶ä¼šåœ¨ slide moving transition ç»“æŸåè§¦å‘ï¼Œéå¸¸éå¸¸çš„æ™šã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250409163839748-137626450.gif" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<h2>Add / Remove / Sort Slides</h2>
<p>æ²¡æœ‰ add / remove / sort æ¥å£ï¼Œæˆ‘ä»¬è¦å¢åŠ  / å‡å°‘ / æ”¹ slide çš„ä½ç½®çš„è¯ï¼Œç›´æ¥ DOM manipulation å°±å¥½ã€‚</p>
<p>DOM manipulation å®Œåè°ƒç”¨ EmblaCarousel.reInit() å°±å¯ä»¥äº†ã€‚</p>
<p>æ€»ä¹‹ï¼Œå®ƒå°±åªæœ‰ä¸€ä¸ªæ¥å£ï¼Œä¸ç®¡æ˜¯ change options, change plugin, change size, change elements éƒ½æ˜¯è°ƒç”¨ reInit å°±å¯¹äº†ã€‚</p>
<p>&nbsp;</p>
<h2>CSS ä¼˜åŒ–æ‰‹æ³•</h2>
<p>å‚è€ƒå®˜ç½‘çš„&nbsp;<a href="https://codesandbox.io/p/sandbox/txs9c5?file=%2Fsrc%2Fcss%2Fembla.css%3A43%2C15" rel="noopener nofollow" target="_blank">example</a>ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°å‡ ä¸ª CSS ä¼˜åŒ–æ‰‹æ³•ã€‚</p>
<p>HTML ç»“æ„é•¿è¿™æ ·</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407170900870-939972374.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>CSS</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407170735358-967878858.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>touch-action æ˜¯å‘Šè¯‰æ¸¸è§ˆå™¨ï¼Œå®ƒåªè´Ÿè´£ pan-y (vertical scroll) å’Œ pinch-zoom (scale æ”¾å¤§) å°±å¥½ï¼Œå…¶å®ƒæ‰‹åŠ¿äº¤ç»™æˆ‘ä»¬è´Ÿè´£ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407171024898-491543438.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>transform: translate3d(0, 0, 0); æ˜¯è®©æ¸¸è§ˆå™¨ä½¿ç”¨ GPU æ¥æ¸²æŸ“æ¯ä¸ª slideã€‚</p>
<p>embla__container è‚¯å®šä¼šä½¿ç”¨ GPU æ¸²æŸ“ï¼Œå› ä¸ºå®ƒè´Ÿè´£ transform å˜›ï¼Œslides åˆ™ä¸ä¼šï¼Œæ‰€ä»¥è¦å¿«å°±è¦ç‰¹åˆ«å£°æ˜ã€‚</p>
<p><img src="https://img2024.cnblogs.com/blog/641294/202504/641294-20250407165657225-664343833.png" alt="" class="medium-zoom-image" loading="lazy"></p>
<p>touch-action: manipulation æ˜¯å‘Šè¯‰æ¸¸è§ˆå™¨ï¼Œè¿™ä¸ª button åªéœ€è¦æœ€åŸºæœ¬çš„ tapï¼Œä¸éœ€è¦å…¶å®ƒæ‰‹åŠ¿ã€‚</p>
<p>Embla Carousel çš„å…¶ä¸­ä¸€ä¸ªå–ç‚¹å°±æ˜¯å¿«ï¼Œæ‰€ä»¥å®ƒçš„ example å°½å¯èƒ½ä¼˜åŒ–åˆ°æè‡´ã€‚</p>
<p>ä½†æˆ‘ä»¬ä¸€èˆ¬ä¸Šä¸éœ€è¦è·Ÿç€è¿™ä¹ˆåšï¼Œæ€§èƒ½ä¼˜åŒ–è¯·ç­‰åˆ°ç”¨æˆ·æœ‰æ„Ÿè§‰åˆ°æ…¢äº†æ‰åšã€‚</p>
<p>&nbsp;</p>
<h2>å½“ Emble Carousel é‡ä¸Š YouTube Iframe</h2>
<p>å’Œ Swiper ä¸€æ¨¡ä¸€æ ·çš„é—®é¢˜ï¼Œè§£å†³æ–¹æ³•ä¹Ÿä¸€æ¨¡ä¸€æ ·ï¼Œåœ¨ Swiper&nbsp;<a href="https://www.cnblogs.com/keatkeat/p/16124065.html#:~:text=%E5%BD%93%20Swiper%20%E9%81%87%E4%B8%8A%20YouTube%20Iframe" target="_blank">é‚£ç¯‡</a>å·²ç»è®²è§£è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸å¤è¿°äº†ã€‚</p>
<p>&nbsp;</p>
<h2>æ€»ç»“</h2>
<p>æœ¬ç¯‡ç®€å•çš„ä»‹ç»äº† Slider Library çš„æ˜æ—¥ä¹‹æ˜Ÿ â€“ Embal Carouselã€‚</p>
<p>å¸Œæœ›å®ƒèµ¶å¿«å–ä»£ Swiperï¼Œä¸ç„¶æˆ‘å†™è¿™ç¯‡å¹²å˜›å‘¢...ğŸ˜Š</p>
<p>&nbsp;</p>
</div>
<div class="clear"></div>

		</div>
		<div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="0.06912059117129629" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2025-04-10 00:42">2025-04-10 00:42</span>&nbsp;
<a href="https://www.cnblogs.com/keatkeat">å…´æ°</a>&nbsp;
é˜…è¯»(<span id="post_view_count">7</span>)&nbsp;
è¯„è®º(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18817678" rel="nofollow">ç¼–è¾‘</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18817678);return false;">æ”¶è—</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: '', targetType: 'blogPost', targetId: '18817678', targetLink: 'https://www.cnblogs.com/keatkeat/p/18817678', title: 'JavaScript Library â€“ Embla Carousel' })">ä¸¾æŠ¥</a>
</div>
	